{
  "type": "issue",
  "issue": {
    "id": 1733974652,
    "node_id": "I_kwDOABII585nWlp8",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27795",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27795/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27795/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27795/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/27795",
    "number": 27795,
    "state": "open",
    "state_reason": null,
    "title": "Remove Ambiguity of Script ASM Hex and Decimal Integer Representations",
    "body": "### Please describe the feature you'd like to see added.\n\nDistinguish between decimal and hex integers in the script ASM to avoid ambiguity. Hex integers/data can be prefixed with `0x` to avoid ambiguity.\n\n### Is your feature related to a problem, if so please describe it.\n\nWhen scripts are decoded into ASM, two different integers can be displayed identically, with one as hex and the other as decimal. `decodescript 0511121314150457c74942` produces ASM of `1112131415 1112131415` , despite the integers being different. There is no distinction between hex and decimal. \r\n\n\n### Describe the solution you'd like\n\nPrefixing `0x` makes the most sense to me.\n\n### Describe any alternatives you've considered\n\nAll data could be provided as hex, or \"d\" could be added to decimals. Removing ambiguity is the primary concern here.\n\n### Please leave any additional context\n\n_No response_",
    "user": {
      "login": "MatthewLM",
      "id": 1679965,
      "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MatthewLM",
      "html_url": "https://github.com/MatthewLM",
      "followers_url": "https://api.github.com/users/MatthewLM/followers",
      "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
      "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
      "repos_url": "https://api.github.com/users/MatthewLM/repos",
      "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [
      {
        "id": 64583,
        "node_id": "MDU6TGFiZWw2NDU4Mw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
        "name": "Feature",
        "color": "7cf575",
        "default": false
      },
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 12,
    "created_at": "2023-05-31T11:14:55Z",
    "updated_at": "2025-05-28T01:05:59Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 9388943485,
      "node_id": "LE_lADOABII585nWlp8zwAAAAIvn-h9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9388943485",
      "actor": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-31T11:14:55Z",
      "label": {
        "name": "Feature",
        "color": "7cf575"
      }
    },
    {
      "event": "labeled",
      "id": 9389649040,
      "node_id": "LE_lADOABII585nWlp8zwAAAAIvqqyQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9389649040",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-31T12:16:04Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "commented",
      "id": 1570173602,
      "node_id": "IC_kwDOABII585dlvKi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1570173602",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-31T12:49:36Z",
      "updated_at": "2023-05-31T12:49:36Z",
      "author_association": "MEMBER",
      "body": "Related to #7996.",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27795#issuecomment-1570173602",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27795"
    },
    {
      "event": "commented",
      "id": 1572121111,
      "node_id": "IC_kwDOABII585dtKoX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1572121111",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T14:04:40Z",
      "updated_at": "2023-06-01T14:24:20Z",
      "author_association": "MEMBER",
      "body": "> When scripts are decoded into ASM, two different integers can be displayed identically, with one as hex and the other as decimal.\r\n\r\n~~It's not two different integers,~~ it's that integers (which all <=4 bytes pushes are assumed to be) are displayed in decimal and all other pushes are displayed as hexadecimal.\r\n\r\nI wonder why we even try to detect and print numbers differently (and even more so in a different base!), just print all pushes in hex and there is no ambiguity anymore?",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27795#issuecomment-1572121111",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27795"
    },
    {
      "event": "commented",
      "id": 1572151288,
      "node_id": "IC_kwDOABII585dtR_4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1572151288",
      "actor": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T14:21:17Z",
      "updated_at": "2023-06-01T14:22:11Z",
      "author_association": "NONE",
      "body": "They are two different numbers. One is `0x1112131415` and the other is `0x57c74942` (encoded as little-endian). In ASM, they are displayed the same. Using `0x` before hex is consistent with hex literals elsewhere and would allow for decimals to be displayed including `-1` for `OP_1NEGATE`.\r\n\r\nDisplaying all numbers as hex is an option. One problem is that they are given as little-endian which could be confusing for some wishing to interpret them. Off the top of my memory, the scripting interpreter treats 32-bit numbers arithmetically so I think it makes sense to display those separately. The only difference should be that hex and decimal should be distinguished.",
      "user": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27795#issuecomment-1572151288",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27795"
    },
    {
      "event": "commented",
      "id": 1572163402,
      "node_id": "IC_kwDOABII585dtU9K",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1572163402",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-01T14:28:18Z",
      "updated_at": "2023-06-01T14:28:18Z",
      "author_association": "MEMBER",
      "body": "Sure, i misspoke. I just meant:\r\n```python\r\n>>> int.from_bytes(bytes.fromhex(\"57c74942\"), \"little\")\r\n1112131415\r\n```",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27795#issuecomment-1572163402",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27795"
    },
    {
      "event": "commented",
      "id": 1573396315,
      "node_id": "IC_kwDOABII585dyB9b",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1573396315",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-02T08:59:41Z",
      "updated_at": "2023-06-02T10:44:10Z",
      "author_association": "MEMBER",
      "body": "It's a little unclear to me how the ASM output is used on the consumer side, and therefore how breaking any changes to it might be. However I still think we have a few options to resolve this:\r\n\r\n1) Fully hex-encoded output in the ASM repr:\r\n\r\n```shell\r\n$ /home/will/src/bitcoin/src/bitcoin-cli -regtest decodescript 0511121314150457c74942\r\n{\r\n  \"asm\": \"1112131415 57c74942\",\r\n```\r\n\r\n2) Prefixing hex values with `0x` (we would end up with a lot of prefixes in this case):\r\n\r\n```shell\r\n$ /home/will/src/bitcoin/src/bitcoin-cli -regtest decodescript 0511121314150457c74942\r\n{\r\n  \"asm\": \"0x1112131415 1112131415\",\r\n```\r\n\r\n3) Prefixing decimal values with `0d` (only prefixing small pushes):\r\n\r\n```shell\r\n$ /home/will/src/bitcoin/src/bitcoin-cli -regtest decodescript 0511121314150457c74942\r\n{\r\n  \"asm\": \"1112131415 0d1112131415\",\r\n```\r\n\r\nAs I think Antoine inticated, I'd have a preference for \"full hex\". However I think there may be a small quality of life advantage to prefixing decimal values for persons manually crafting or reading scripts using ASM notation, as e.g. timelock values are most easily thought about in decimal.\r\n\r\nEdit: Curious if anyone knows the original rationale for displaying small values as decimal, it was carved out [by satoshi](https://github.com/bitcoin/bitcoin/blob/4405b78d6059e536c36974088a8ed4d9f0f29898/script.h#L298-L305).",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27795#issuecomment-1573396315",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27795"
    },
    {
      "event": "referenced",
      "id": 9431405876,
      "node_id": "REFE_lADOABII585nWlp8zwAAAAIyJ9U0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9431405876",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "ce5f9455f215e5e0d87fda6912d18ebdaa46170c",
      "commit_url": "https://api.github.com/repos/willcl-ark/bitcoin/commits/ce5f9455f215e5e0d87fda6912d18ebdaa46170c",
      "created_at": "2023-06-05T10:50:23Z"
    },
    {
      "event": "commented",
      "id": 1576709225,
      "node_id": "IC_kwDOABII585d-qxp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1576709225",
      "actor": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T12:37:38Z",
      "updated_at": "2023-06-05T12:38:10Z",
      "author_association": "NONE",
      "body": "> Edit: Curious if anyone knows the original rationale for displaying small values as decimal, it was carved out [by satoshi](https://github.com/bitcoin/bitcoin/blob/4405b78d6059e536c36974088a8ed4d9f0f29898/script.h#L298-L305).\r\n\r\nIt is because any numerical/arithmetic operations only allow 32-bit values (please see the `CScriptNum` class), so the ASM displays 32-bit values as decimal and longer values as hex. This makes sense as humans generally better comprehend decimal values when thinking arithmetically, but the values need to be distinguishable.",
      "user": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27795#issuecomment-1576709225",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27795"
    },
    {
      "event": "commented",
      "id": 1576885847,
      "node_id": "IC_kwDOABII585d_V5X",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1576885847",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T14:11:48Z",
      "updated_at": "2023-06-05T14:11:48Z",
      "author_association": "MEMBER",
      "body": "Well, they would still be 32 bit values, just hex-encoded? But I take the point. I personally think prefixing  hex with `0x` would be kind of horrible, as this would cascade into including pubkeys for example.\r\n\r\nIs prefixing decimals with `0d` the best approach then?\r\n\r\nI am still unclear on how much impact this would have downstream, and therefore whether any of these discussed changes would be accepted in any form. It seems like this could break much of the little scripting tooling we have available for bitcoin...",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27795#issuecomment-1576885847",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27795"
    },
    {
      "event": "commented",
      "id": 1577007627,
      "node_id": "IC_kwDOABII585d_zoL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1577007627",
      "actor": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-05T15:20:15Z",
      "updated_at": "2023-06-05T15:20:15Z",
      "author_association": "NONE",
      "body": "Is it a problem prefixing public keys with `0x`? I'm not overly fussed on the solution as long as the ambiguity is removed.\r\n\r\n> It seems like this could break much of the little scripting tooling we have available for bitcoin\r\n\r\nIf these tools read these ambiguous numbers/data from ASM, then they are already broken, so this needs fixing one way or another.",
      "user": {
        "login": "MatthewLM",
        "id": 1679965,
        "node_id": "MDQ6VXNlcjE2Nzk5NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1679965?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MatthewLM",
        "html_url": "https://github.com/MatthewLM",
        "followers_url": "https://api.github.com/users/MatthewLM/followers",
        "following_url": "https://api.github.com/users/MatthewLM/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/MatthewLM/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/MatthewLM/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/MatthewLM/subscriptions",
        "organizations_url": "https://api.github.com/users/MatthewLM/orgs",
        "repos_url": "https://api.github.com/users/MatthewLM/repos",
        "events_url": "https://api.github.com/users/MatthewLM/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/MatthewLM/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27795#issuecomment-1577007627",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27795"
    },
    {
      "event": "commented",
      "id": 1692870456,
      "node_id": "IC_kwDOABII585k5yc4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1692870456",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-25T07:03:05Z",
      "updated_at": "2023-08-25T07:03:05Z",
      "author_association": "CONTRIBUTOR",
      "body": "Maybe https://github.com/ajtowns/bitcoin/commit/36cbf115bda9fb2a28c1f0ec119d6108218389c9 ? It adds a \"0x\" if the hex is ambiguous (ie none of the digits are a-f). Presumably almost all pubkeys will not be ambiguous (1-in-12-trillion chance) so the 0x won't get added there and confuse people.\r\n\r\n```\r\n$ ./bitcoin-cli -regtest decodescript 0511121314150457c74942 | jq .asm\r\n\"0x1112131415 1112131415\"\r\n$ ./bitcoin-cli -regtest decodescript 0511121c14150457c74942 | jq .asm\r\n\"11121c1415 1112131415\"\r\n```\r\n\r\nAnother approach could be to add the prefix for hex strings of 5 bytes (10 hex digits) -- anything that would decode to 8 or fewer hex digits would be decoded as decimal anyway, and anything with >11 decimal digits would be more than 4 bytes originally so would not have been decoded as decimal.",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27795#issuecomment-1692870456",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27795"
    },
    {
      "event": "referenced",
      "id": 10900680821,
      "node_id": "REFE_lADOABII585nWlp8zwAAAAKJuzB1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10900680821",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "8cc430b8b86a207e80e9033bfd25b9bf1925ef6c",
      "commit_url": "https://api.github.com/repos/willcl-ark/bitcoin/commits/8cc430b8b86a207e80e9033bfd25b9bf1925ef6c",
      "created_at": "2023-11-08T13:14:02Z"
    },
    {
      "event": "referenced",
      "id": 10900691393,
      "node_id": "REFE_lADOABII585nWlp8zwAAAAKJu1nB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10900691393",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "d6c0c4bef68adab6e058d3d17631c0f1d15e898b",
      "commit_url": "https://api.github.com/repos/willcl-ark/bitcoin/commits/d6c0c4bef68adab6e058d3d17631c0f1d15e898b",
      "created_at": "2023-11-08T13:14:58Z"
    },
    {
      "event": "commented",
      "id": 1802742270,
      "node_id": "IC_kwDOABII585rc6n-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1802742270",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-08T21:56:37Z",
      "updated_at": "2023-11-08T21:56:37Z",
      "author_association": "MEMBER",
      "body": "Even aside from the main issue, it's still ambiguous for the various opcode possibilities... :/",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27795#issuecomment-1802742270",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27795"
    },
    {
      "event": "referenced",
      "id": 10907302335,
      "node_id": "REFE_lADOABII585nWlp8zwAAAAKKIDm_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10907302335",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "08ab70da3cd680523fa1f900332ec8380fe52251",
      "commit_url": "https://api.github.com/repos/bitcoinknots/bitcoin/commits/08ab70da3cd680523fa1f900332ec8380fe52251",
      "created_at": "2023-11-09T01:00:05Z"
    },
    {
      "event": "commented",
      "id": 2100691492,
      "node_id": "IC_kwDOABII5859NgIk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2100691492",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-08T14:16:23Z",
      "updated_at": "2024-05-08T14:36:57Z",
      "author_association": "MEMBER",
      "body": "The discussion here led to #28824 being opened, where more discussion happened, and the idea evolved further. Having re-read things there, I have a concrete proposal that perhaps goes a bit further, so I'm posting it here to keep PR discussion about the implementation.\r\n\r\nThe goal is addressing ambiguity and readability, but not necessarily compatibility (because being compatibility with something broken is silly).\r\n\r\n### Decoding rules\r\n\r\nEven if all we expose on the RPC/user side is encoding, I believe it's useful to formally specify the decoding rules, as they help understand how the encoding can be unambiguous. If this is implemented, I think we want the decoder written too, so that e.g. round-trip fuzz tests can be added for the encoding.\r\n\r\n* If the asm string in its entirety is an **even length hex string**, it is decoded raw (i.e. script.size() == asm.size() / 2 exactly).\r\n* Otherwise, the script is interpreted as consisting of 1 or more whitespace-separated units, which are each decoded as listed below and concatenated:\r\n  * An **opcode name**, excluding OP_PUSHDATAn, with or without `OP_` prefix, is decoded to the single opcode byte.\r\n  * A **decimal number**, optionally prefixed with `+` or `-`, is decoded as the script consisting of the minimum push of the minimal encoding of that number (i.e. OP_1NEGATE, OP_0 through OP_16, or direct push), assuming that encoding is no more than 5 bytes. For `0` through `16` this overlaps with the previous rule, but since they mean the same thing this is ok.\r\n  * A **string surrounded by `<` and `>`** means a direct push or OP_PUSHDATAx push (whichever is smaller) of the recursively-decoded string between angle brackets. So that string can be just hex data, or it can be another sequence of units.\r\n  * A **string surrounded by `PUSHDATAx<` and `>`** means a push using the specified OP_PUSHDATAx push of the recursively-decoded string between angle brackets.\r\n  * An **even length hex string prefixed with \"#\"** means raw hex decoding that string.\r\n\r\nNotably, this enables recursive encoding (e.g. a 2-of-3 multisig P2SH scriptSig could become `0 <sig1> <sig3> <2 <pub1> <pub2> <pub3> CHECKMULTISIG>`) .\r\n\r\nThe ambiguity of asm scripts that consists entirely of an even number of decimal characters is resolved in favor of treating them as raw hex rather than as a decimal integer, because:\r\n* Scripts that entirely consist of a single push are uninteresting and presumably rare (they're anyone-can-spend).\r\n* This means that the rules for decoding what's inside <> are exactly the same as decoding scripts.\r\n\r\nCompared to the earlier discussion, it uses `#` instead of `UNPARSABLE:`, `GARBAGE:`, `RAW()` or any of those. Happy to bikeshed this; it shouldn't occur frequently.\r\n\r\nIt drops `0x` things entirely, because I think the ones we have in the asm format currently are nonsensical (sometimes they are raw bytes, sometimes they are pushes, but there they use raw byte order while `0x` to me would generally mean human-ordered (big endian) numbers (as they do in C and Python). If people feel compatibility with the `0x` stuff is desirable, it could be added back, but I'd rather avoid it. Alternatively, `0x` for numeric things would make more sense to me (e.g. `0x12345` meaning the script whose hex bytes are \"03 45 23 01\"), but that's an even bigger break with what we had before.\r\n\r\n### Encoding rules\r\n\r\nThe format allows multiple possible encodings for the same thing (e.g. script byte 00 aka OP_0 can be written as `<>`, `0`, `OP_0`, or `#00`), so the encoding is not unique. This is a suggested approach:\r\n\r\n* For pushes, try in order:\r\n  * If just a decimal integer encodes the right thing, use that. This is always the case for (among others) OP_1NEGATE, and OP_0 through OP_16. A `+` or `OP_` in front is only needed if the entire script consists of just a single push whose decimal encoding would have even length otherwise (because confusion with entirely hex-encoded string rule).\r\n  * If the push is minimal otherwise, use `<` + hex encoding of the pushed data + `>`. If the entire script is push-only, and the last push looks like a script itself, use `<` + disassembly of the pushed script + `>` instead.\r\n  * Use `PUSHDATAx<` + hex encoding of pushed data + `>` otherwise.\r\n* Other opcodes are just turned into their name.\r\n* Unparsable data becomes `#` + raw hex encoding.\r\n\r\nIf everything, or a large fraction of the script, is unparsable just hex encode instead.\r\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27795#issuecomment-2100691492",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27795"
    },
    {
      "event": "subscribed",
      "id": 17684867598,
      "node_id": "SE_lADOABII585nWlp8zwAAAAQeGaoO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17684867598",
      "actor": {
        "login": "davidgumberg",
        "id": 2257631,
        "node_id": "MDQ6VXNlcjIyNTc2MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2257631?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidgumberg",
        "html_url": "https://github.com/davidgumberg",
        "followers_url": "https://api.github.com/users/davidgumberg/followers",
        "following_url": "https://api.github.com/users/davidgumberg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/davidgumberg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/davidgumberg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/davidgumberg/subscriptions",
        "organizations_url": "https://api.github.com/users/davidgumberg/orgs",
        "repos_url": "https://api.github.com/users/davidgumberg/repos",
        "events_url": "https://api.github.com/users/davidgumberg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/davidgumberg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-16T08:24:28Z"
    },
    {
      "event": "commented",
      "id": 2914564531,
      "node_id": "IC_kwDOABII586tuLmz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2914564531",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-28T01:05:58Z",
      "updated_at": "2025-05-28T01:05:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "I've had a go at implementing the above approach; code is at https://github.com/ajtowns/bitcoin/commits/202505-asmdecode/\n\nFor testing purposes I've changed the decodescript rpc to accept assembly as input, since that's now a superset of hex encoding. I've also done the round-trip fuzzing in the script -> assembly -> script direction; it seems to work so far.\n\nExamples:\n\n```sh\n$ bitcoin-cli -regtest decodescript '51204af12dcd91328acf048740f90666e4f4a88d809f0882ad6f2b4440ddae78cb43' | jq -r .asm\n1 <4af12dcd91328acf048740f90666e4f4a88d809f0882ad6f2b4440ddae78cb43>\n\n# from random p2sh pend (txid ac3efa70cd8dfe548d727657e4b56704685fad6a43d934351c88940502ba3bf8)\n$ bitcoin-cli -regtest decodescript '004830450221009e9bac3a1b91269ff15ff062d0c53779497d563fbb4d360c91504fc3b4199cb1022044caa0a4109c0d4539b7d8331c2f8b4ccba2072e59159b805e827942d55da0110147304402205d16c2f9b0ae72ca5a844b68fa0b0e9f9d188763486808dd526c23966aa43ebe022077e0bbeea907989461236654769b2df8e5aecf19b899a424cc4d09a3902ef9ed014c69522103a34cd2fd1273750453fde17922ea04064292092b8530402e047cc82e60ad9ad4210275738d4b698995c5d4252353d0855d6223d1772a506fe30b3f2b10e43d8307702103fae400923e16776836a075ef27fcb2c63f79be14fd3d48d13f7f14915d87f96053ae' | jq -r .asm\n0 <30450221009e9bac3a1b91269ff15ff062d0c53779497d563fbb4d360c91504fc3b4199cb1022044caa0a4109c0d4539b7d8331c2f8b4ccba2072e59159b805e827942d55da01101> <304402205d16c2f9b0ae72ca5a844b68fa0b0e9f9d188763486808dd526c23966aa43ebe022077e0bbeea907989461236654769b2df8e5aecf19b899a424cc4d09a3902ef9ed01> <522103a34cd2fd1273750453fde17922ea04064292092b8530402e047cc82e60ad9ad4210275738d4b698995c5d4252353d0855d6223d1772a506fe30b3f2b10e43d8307702103fae400923e16776836a075ef27fcb2c63f79be14fd3d48d13f7f14915d87f96053ae>\n\n# what's the redeemscript?\n$ bitcoin-cli -regtest decodescript '522103a34cd2fd1273750453fde17922ea04064292092b8530402e047cc82e60ad9ad4210275738d4b698995c5d4252353d0855d6223d1772a506fe30b3f2b10e43d8307702103fae400923e16776836a075ef27fcb2c63f79be14fd3d48d13f7f14915d87f96053ae' | jq -r .asm\n2 <03a34cd2fd1273750453fde17922ea04064292092b8530402e047cc82e60ad9ad4> <0275738d4b698995c5d4252353d0855d6223d1772a506fe30b3f2b10e43d830770> <03fae400923e16776836a075ef27fcb2c63f79be14fd3d48d13f7f14915d87f960> 3 OP_CHECKMULTISIG\n\n# full source decode\n$ bitcoin-cli -regtest decodescript '0 <30450221009e9bac3a1b91269ff15ff062d0c53779497d563fbb4d360c91504fc3b4199cb1022044caa0a4109c0d4539b7d8331c2f8b4ccba2072e59159b805e827942d55da01101> <304402205d16c2f9b0ae72ca5a844b68fa0b0e9f9d188763486808dd526c23966aa43ebe022077e0bbeea907989461236654769b2df8e5aecf19b899a424cc4d09a3902ef9ed01> <2 <03a34cd2fd1273750453fde17922ea04064292092b8530402e047cc82e60ad9ad4> <0275738d4b698995c5d4252353d0855d6223d1772a506fe30b3f2b10e43d830770> <03fae400923e16776836a075ef27fcb2c63f79be14fd3d48d13f7f14915d87f960> 3 OP_CHECKMULTISIG>' | jq -r .asm\n0 <30450221009e9bac3a1b91269ff15ff062d0c53779497d563fbb4d360c91504fc3b4199cb1022044caa0a4109c0d4539b7d8331c2f8b4ccba2072e59159b805e827942d55da01101> <304402205d16c2f9b0ae72ca5a844b68fa0b0e9f9d188763486808dd526c23966aa43ebe022077e0bbeea907989461236654769b2df8e5aecf19b899a424cc4d09a3902ef9ed01> <522103a34cd2fd1273750453fde17922ea04064292092b8530402e047cc82e60ad9ad4210275738d4b698995c5d4252353d0855d6223d1772a506fe30b3f2b10e43d8307702103fae400923e16776836a075ef27fcb2c63f79be14fd3d48d13f7f14915d87f96053ae>\n```",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/27795#issuecomment-2914564531",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27795"
    }
  ]
}