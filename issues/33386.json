{
  "type": "issue",
  "issue": {
    "id": 3414291236,
    "node_id": "I_kwDOABII587LgfMk",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33386",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33386/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33386/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33386/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/33386",
    "number": 33386,
    "state": "open",
    "state_reason": null,
    "title": "Default ASmap file path is not used unless -asmap is set",
    "body": "The `-asmap` option supposedly has a default value `ip_asn.map` (as defined by `DEFAULT_ASMAP_FILENAME`). However, when I tried to put a file with this name into my datadir, nothing happened. It turns out that this default is not actually used unless the `-asmap` option is set, which seems weird since setting the option normally overrides the default. There is a way to set it without overriding the default on the command line (`bitcoind -asmap`), but in bitcoin.conf there doesn't seem to be a way to do that (e.g. `asmap=1` sets the file path to `1`).\n\nSome ways this could be resolved:\n\n- Simply better document this behavior. The help text doesn't say that the default value is not actually used when the option is not set, and the option itself is introduced as `-asmap=<file>` which in no way indicates that it can be used without a value.\n- If the option is not set (but not explicitly disabled with `-noasmap`) try to load the ASmap file using the default path but don't abort if the file doesn't exist.\n- Remove the default value to prevent any confusion.",
    "user": {
      "login": "vostrnad",
      "id": 43024885,
      "node_id": "MDQ6VXNlcjQzMDI0ODg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/43024885?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vostrnad",
      "html_url": "https://github.com/vostrnad",
      "followers_url": "https://api.github.com/users/vostrnad/followers",
      "following_url": "https://api.github.com/users/vostrnad/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/vostrnad/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/vostrnad/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/vostrnad/subscriptions",
      "organizations_url": "https://api.github.com/users/vostrnad/orgs",
      "repos_url": "https://api.github.com/users/vostrnad/repos",
      "events_url": "https://api.github.com/users/vostrnad/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/vostrnad/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 0,
    "created_at": "2025-09-13T23:37:29Z",
    "updated_at": "2025-09-14T00:35:30Z"
  },
  "events": []
}