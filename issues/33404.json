{
  "type": "issue",
  "issue": {
    "id": 3421972868,
    "node_id": "I_kwDOABII587L9ymE",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33404",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33404/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33404/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33404/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/33404",
    "number": 33404,
    "state": "open",
    "state_reason": null,
    "title": "Add zsh completion scripts for Bitcoin Core command-line tools",
    "body": "### Please describe the feature you'd like to see added.\n\nBitcoin Core currently provides bash completion scripts for `bitcoin-cli`, `bitcoin-tx`, and `bitcoind` in `contrib/completions/bash/`, and similarly, fish completion scripts are available in `contrib/completions/fish/`, but there are no equivalent completion scripts for zsh users. Many developers and users have adopted zsh as their default shell (especially Mac OSX users and with tools like Oh My Zsh), and they cannot benefit from tab completion when using Bitcoin Core command-line tools.\n\nThe potential benefits of adding zsh completions are:\n  - Consistent user experience across different shells\n  - Reduced typing errors and improved productivity\n  - Better discoverability of Bitcoin Core command options\n  - No impact on existing bash completion functionality\n\n### Is your feature related to a problem, if so please describe it.\n\nThe existing bash completion scripts are not compatible with zsh due to differences in:\n  - Completion function syntax and structure\n  - Array handling and word splitting\n  - Built-in completion functions (`compgen` vs `_describe`, `_files`, etc.)\n\n### Describe the solution you'd like\n\n  Add zsh completion scripts that provide the same functionality as the existing bash completions, but using zsh's native `compdef` system. These would include:\n\n  - **`_bitcoin-cli`**: Complete RPC commands, options, and context-sensitive arguments (e.g., boolean values for specific commands, file paths for wallet operations)\n  - **`_bitcoin-tx`**: Complete transaction creation options and commands with proper argument handling\n  - **`_bitcoind`**: Complete daemon configuration options with file/directory path completion\n\nI have already converted the existing bash completion scripts to zsh format and can provide a pull request with the implementation. The scripts maintain feature parity with the bash versions while using zsh-native completion functions for better integration and performance.\n\nThe scripts would be located in `contrib/completions/zsh/` following the same organizational structure as the bash completions.\n\n### Describe any alternatives you've considered\n\n  1. **Using bash completion in zsh**: While zsh can source bash completions with `bashcompinit`, this provides suboptimal performance and doesn't integrate well with zsh's completion system. Not all Bash completion scripts will work perfectly in Zsh; advanced Bash-specific functions may fail.\n  2. **Manual completion**: Users currently have to type commands and options manually without any completion assistance\n  3. **Third-party solutions**: No comprehensive third-party zsh completions exist for Bitcoin Core tools\n\n### Please leave any additional context\n\n  - zsh is the default shell on macOS since Catalina (10.15) and is increasingly popular among developers\n  - The implementation would convert existing bash completion logic to zsh equivalents while maintaining all current functionality\n  - This would improve developer experience and reduce command-line errors for zsh users\n  - Similar completion script for zsh have been made to other major open-source projects\n",
    "user": {
      "login": "mstampfer",
      "id": 3017106,
      "node_id": "MDQ6VXNlcjMwMTcxMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3017106?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mstampfer",
      "html_url": "https://github.com/mstampfer",
      "followers_url": "https://api.github.com/users/mstampfer/followers",
      "following_url": "https://api.github.com/users/mstampfer/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/mstampfer/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/mstampfer/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/mstampfer/subscriptions",
      "organizations_url": "https://api.github.com/users/mstampfer/orgs",
      "repos_url": "https://api.github.com/users/mstampfer/repos",
      "events_url": "https://api.github.com/users/mstampfer/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/mstampfer/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [
      {
        "id": 64583,
        "node_id": "MDU6TGFiZWw2NDU4Mw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
        "name": "Feature",
        "color": "7cf575",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 0,
    "created_at": "2025-09-16T12:00:57Z",
    "updated_at": "2025-09-16T12:00:57Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 19724959536,
      "node_id": "LE_lADOABII587L9ymEzwAAAASXsv8w",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19724959536",
      "actor": {
        "login": "mstampfer",
        "id": 3017106,
        "node_id": "MDQ6VXNlcjMwMTcxMDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3017106?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mstampfer",
        "html_url": "https://github.com/mstampfer",
        "followers_url": "https://api.github.com/users/mstampfer/followers",
        "following_url": "https://api.github.com/users/mstampfer/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mstampfer/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mstampfer/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mstampfer/subscriptions",
        "organizations_url": "https://api.github.com/users/mstampfer/orgs",
        "repos_url": "https://api.github.com/users/mstampfer/repos",
        "events_url": "https://api.github.com/users/mstampfer/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mstampfer/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-16T12:00:58Z",
      "label": {
        "name": "Feature",
        "color": "7cf575"
      }
    },
    {
      "event": "subscribed",
      "id": 19724994099,
      "node_id": "SE_lADOABII587L9ymEzwAAAASXs4Yz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19724994099",
      "actor": {
        "login": "mstampfer",
        "id": 3017106,
        "node_id": "MDQ6VXNlcjMwMTcxMDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3017106?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mstampfer",
        "html_url": "https://github.com/mstampfer",
        "followers_url": "https://api.github.com/users/mstampfer/followers",
        "following_url": "https://api.github.com/users/mstampfer/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mstampfer/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mstampfer/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mstampfer/subscriptions",
        "organizations_url": "https://api.github.com/users/mstampfer/orgs",
        "repos_url": "https://api.github.com/users/mstampfer/repos",
        "events_url": "https://api.github.com/users/mstampfer/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mstampfer/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-16T12:02:35Z"
    }
  ]
}