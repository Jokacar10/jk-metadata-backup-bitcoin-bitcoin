{
  "type": "issue",
  "issue": {
    "id": 2805258494,
    "node_id": "I_kwDOABII586nNNj-",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31712",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31712/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31712/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31712/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/31712",
    "number": 31712,
    "state": "open",
    "state_reason": null,
    "title": "bitcoind crash",
    "body": "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Current behaviour\n\nMy bitcoin node is crashing quite frequently. And after the crash you can't recover anymore. It seems that the files become inaccessible and you cannot start again. Because I can't even read the debug.log file. Everything only works again after restarting the system.\n\nThe problem started after I updated to version 27.0.0. Before I had version 25.0.0\n\n\n### Expected behaviour\n\nDon't crash\n\n### Steps to reproduce\n\nI didn't identify any steps to reproduce. It happens at random times every 3 or 4 days.\n\n### Relevant log output\n\n```\nJan 21 09:38:57 freedom-server systemd[1]: Started bitcoind.service - Bitcoin daemon.\nJan 22 18:27:11 freedom-server systemd[1]: bitcoind.service: Main process exited, code=dumped, status=6/ABRT\nJan 22 18:27:11 freedom-server systemd[1]: bitcoind.service: Failed with result 'core-dump'.\nJan 22 18:27:11 freedom-server systemd[1]: bitcoind.service: Consumed 2h 53min 32.054s CPU time, 648.0M memory peak, 0B memory swap peak.\nJan 22 18:27:11 freedom-server systemd[1]: bitcoind.service: Scheduled restart job, restart counter is at 1.\nJan 22 18:27:11 freedom-server systemd[1]: Starting bitcoind.service - Bitcoin daemon...\nJan 22 18:27:11 freedom-server bitcoind[58682]: Error: Settings file could not be read:\nJan 22 18:27:11 freedom-server bitcoind[58682]: - /hdd/bitcoin/settings.json. Please check permissions.\nJan 22 18:27:11 freedom-server systemd[1]: bitcoind.service: Control process exited, code=exited, status=1/FAILURE\nJan 22 18:27:11 freedom-server systemd[1]: bitcoind.service: Failed with result 'exit-code'.\nJan 22 18:27:11 freedom-server systemd[1]: Failed to start bitcoind.service - Bitcoin daemon.\n```\n\n### How did you obtain Bitcoin Core\n\nPre-built binaries\n\n### What version of Bitcoin Core are you using?\n\n27.0.0\n\n### Operating system and version\n\nUbuntu 24.04 LTS\n\n### Machine specifications\n\nIntel(R) Core(TM) i5-4200M CPU @ 2.50GHz\n8GB RAM",
    "user": {
      "login": "frbitten",
      "id": 21368082,
      "node_id": "MDQ6VXNlcjIxMzY4MDgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/21368082?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frbitten",
      "html_url": "https://github.com/frbitten",
      "followers_url": "https://api.github.com/users/frbitten/followers",
      "following_url": "https://api.github.com/users/frbitten/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/frbitten/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/frbitten/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/frbitten/subscriptions",
      "organizations_url": "https://api.github.com/users/frbitten/orgs",
      "repos_url": "https://api.github.com/users/frbitten/repos",
      "events_url": "https://api.github.com/users/frbitten/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/frbitten/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 4,
    "created_at": "2025-01-22T20:12:58Z",
    "updated_at": "2025-01-23T11:43:57Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 2608205066,
      "node_id": "IC_kwDOABII586bdg0K",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2608205066",
      "actor": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-22T20:31:24Z",
      "updated_at": "2025-01-22T20:31:24Z",
      "author_association": "MEMBER",
      "body": "> ```\n> Jan 22 18:27:11 freedom-server bitcoind[58682]: - /hdd/bitcoin/settings.json. Please check permissions.\n> ```\n\nLooks like a misconfiguration of your system, not an issue with Bitcoin Core itself.",
      "user": {
        "login": "darosior",
        "id": 22457751,
        "node_id": "MDQ6VXNlcjIyNDU3NzUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/darosior",
        "html_url": "https://github.com/darosior",
        "followers_url": "https://api.github.com/users/darosior/followers",
        "following_url": "https://api.github.com/users/darosior/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/darosior/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/darosior/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
        "organizations_url": "https://api.github.com/users/darosior/orgs",
        "repos_url": "https://api.github.com/users/darosior/repos",
        "events_url": "https://api.github.com/users/darosior/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/darosior/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31712#issuecomment-2608205066",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31712"
    },
    {
      "event": "commented",
      "id": 2608224808,
      "node_id": "IC_kwDOABII586bdloo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2608224808",
      "actor": {
        "login": "frbitten",
        "id": 21368082,
        "node_id": "MDQ6VXNlcjIxMzY4MDgy",
        "avatar_url": "https://avatars.githubusercontent.com/u/21368082?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/frbitten",
        "html_url": "https://github.com/frbitten",
        "followers_url": "https://api.github.com/users/frbitten/followers",
        "following_url": "https://api.github.com/users/frbitten/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/frbitten/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/frbitten/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/frbitten/subscriptions",
        "organizations_url": "https://api.github.com/users/frbitten/orgs",
        "repos_url": "https://api.github.com/users/frbitten/repos",
        "events_url": "https://api.github.com/users/frbitten/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/frbitten/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-22T20:43:39Z",
      "updated_at": "2025-01-22T20:43:39Z",
      "author_association": "NONE",
      "body": "> > ```\n> > Jan 22 18:27:11 freedom-server bitcoind[58682]: - /hdd/bitcoin/settings.json. Please check permissions.\n> > ```\n> \n> Looks like a misconfiguration of your system, not an issue with Bitcoin Core itself.\n\nIf you notice this message appears after the core dump when trying to restart bitcoind. So it is a post-error effect.",
      "user": {
        "login": "frbitten",
        "id": 21368082,
        "node_id": "MDQ6VXNlcjIxMzY4MDgy",
        "avatar_url": "https://avatars.githubusercontent.com/u/21368082?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/frbitten",
        "html_url": "https://github.com/frbitten",
        "followers_url": "https://api.github.com/users/frbitten/followers",
        "following_url": "https://api.github.com/users/frbitten/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/frbitten/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/frbitten/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/frbitten/subscriptions",
        "organizations_url": "https://api.github.com/users/frbitten/orgs",
        "repos_url": "https://api.github.com/users/frbitten/repos",
        "events_url": "https://api.github.com/users/frbitten/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/frbitten/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31712#issuecomment-2608224808",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31712"
    },
    {
      "event": "commented",
      "id": 2609566131,
      "node_id": "IC_kwDOABII586bitGz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2609566131",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-23T11:28:15Z",
      "updated_at": "2025-01-23T11:28:15Z",
      "author_association": "MEMBER",
      "body": "It seems unlikely that Bitcoin Core would change the file permissions of all files in the datadir. It seems a bit more likely that changing the file permissions is the reason for the crash (for example, I could imagine that writing blocks won't work).\n\nWhat is the error message when you try to open the debug log? What is the error message when you try with root?\n\nWhat filesystem are you using? external/internal hdd? Is the hardware known to fail? Is anything else on the hdd?",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31712#issuecomment-2609566131",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31712"
    },
    {
      "event": "commented",
      "id": 2609598347,
      "node_id": "IC_kwDOABII586bi0-L",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2609598347",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-23T11:43:56Z",
      "updated_at": "2025-01-23T11:43:56Z",
      "author_association": "MEMBER",
      "body": "Bitcoin Core makes heavy use of CPU, RAM and storage IO. Hardware defects might only become visible when running Bitcoin Core. You might want to check your hardware for defects.\n\n* Use software such as memtest86 to check your RAM.\n* Use software such as linpack, or Prime95 to check the CPU behaviour under load.\n* Use software such as smartctl, fsck, badblocks, or CrystalDiskInfo to test your storage device use.\n\nSource: https://bitcoin.stackexchange.com/a/12206",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31712#issuecomment-2609598347",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31712"
    }
  ]
}