{
  "type": "issue",
  "issue": {
    "id": 3035389227,
    "node_id": "I_kwDOABII58607F0r",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32401",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32401/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32401/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32401/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/32401",
    "number": 32401,
    "state": "open",
    "state_reason": null,
    "title": "rfc: separate relay from mining policy",
    "body": "Greg Maxwell brought up an idea on the mailinglist that I think is worth preserving here, although I don't think it's currently needed:\n\n> That said, Bitcoin core has generally not \nhad knobs to adjust relay policy as distinct from mining policy in large \npart because of the design assumption that the two need to be the same.  \nBut in this case if there were a knob here I think would make more sense \nfor it to control **mining policy rather than relay policy**, since it would \nactually have some effect in the mining context (in excluding the txn from \nyour own blocks) while as a relay only thing it is impotent.\n\n(emphasis mine)\n\nRelay policy should generally \"admit all transactions which are reliably being mined\", in order to not to break compact block relay. But having a more restrictive _mining_ policy doesn't hurt this relay.\n\nThe email uses the example scenario of a setting that we as project believe is useless - and when used as relay policy becomes harmful.\n\nI agree with him that's still not a good idea. Additionally this use case alone is not worth the implementation complexity (extra test coverage, thinking through attack scenario's, explaining the nuances in documentation, etc).\n\nBut here's another scenario, where I do think we should consider it:\n\n> But if it were the case that transactions misusing a \nparticular forward compatibility feature were reliably getting mined then \nthat feature would just no longer be useful for forward compatibility \nregardless of what relay policy says about it and it would be better to \nrelay them than have the downsides of not doing so.\n\nBy having the (default) miner still not include things that break forward compatibility, there remains hope of returning to a status quo where the forward compatibility hook is restored.\n\nThough not much if they're incentivised to just change the default once and forget about it. So maybe this isn't a good example.\n\nA third scenario, in retrospect, we could have used it with `-mempoolfullrbf`. We could have had an extra step (3) there:\n\n1. Add the setting, off by default\n2. Notice that it was getting mined by >10% of hash rate\n3. Relay it regardless of the setting, but still not mine it\n4. Drop the setting (maybe have it on by default first, to match the majority mining usage)\n\nAgain I'm not sure how big of a difference that would have made.\n\n[0] https://gnusha.org/pi/bitcoindev/9c50244f-0ca0-40a5-8b76-01ba0d67ec1bn@googlegroups.com/",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": false,
    "comments": 1,
    "created_at": "2025-05-02T07:37:53Z",
    "updated_at": "2025-05-02T10:49:38Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 2846924406,
      "node_id": "IC_kwDOABII586psJ52",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2846924406",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-02T10:49:36Z",
      "updated_at": "2025-05-02T10:49:36Z",
      "author_association": "MEMBER",
      "body": "@ajtowns brought up one potential objection in the above thread, or at least something that increases implementation complexity:\n\n> accepting txs into your mempool that you'll still relay but won't mine might block you from accepting other (conflicting) txs that you would mine, eg.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/32401#issuecomment-2846924406",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32401"
    },
    {
      "event": "mentioned",
      "id": 17498384747,
      "node_id": "MEE_lADOABII58607F0rzwAAAAQS_Clr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17498384747",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-02T10:49:38Z"
    },
    {
      "event": "subscribed",
      "id": 17498384771,
      "node_id": "SE_lADOABII58607F0rzwAAAAQS_CmD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17498384771",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-02T10:49:38Z"
    }
  ]
}