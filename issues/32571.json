{
  "type": "issue",
  "issue": {
    "id": 3077630272,
    "node_id": "I_kwDOABII5863cOlA",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32571",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32571/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32571/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32571/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/32571",
    "number": 32571,
    "state": "closed",
    "state_reason": "completed",
    "title": "build: error when building for test coverage",
    "body": "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Current behaviour\n\nWhen trying to compile it for test coverage, I'm getting the following error:\n```\ngenhtml: ERROR: cannot read /Users/brunogarcia/projects/bitcoin-core-dev/build_cov/src/CMakeFiles/bitcoin-cli.dir/span.h\nProcessing file CMakeFiles/bitcoin-cli.dir/span.h\nCMake Error at build_cov/Coverage.cmake:46 (execute_process):\n  execute_process failed command indexes:\n\n    1: \"Child return code: 2\"\n```\n\n### Expected behaviour\n\nSuccessful build for test coverage\n\n### Steps to reproduce\n\n```sh\ncmake -B build_cov -DCMAKE_BUILD_TYPE=Coverage \ncmake --build build_cov\ncmake -P build_cov/Coverage.cmake\n```\n\nSame from `developer-notes.md`\n\n### Relevant log output\n\n```sh\n...\nFinished .info-file creation\nDeleting all .da files in src and subdirectories\nDone.\nCombining tracefiles.\nReading tracefile test_bitcoin_filtered.info\nWriting data to test_bitcoin_filtered.info\nSummary coverage rate:\n  lines......: 63.7% (98724 of 155052 lines)\n  functions..: 61.0% (107273 of 175800 functions)\n  branches...: no data found\nCombining tracefiles.\nReading tracefile baseline_filtered.info\nReading tracefile test_bitcoin_filtered.info\nWriting data to test_bitcoin_coverage.info\nSummary coverage rate:\n  lines......: 61.3% (98724 of 160966 lines)\n  functions..: 59.5% (107273 of 180241 functions)\n  branches...: no data found\nReading data file test_bitcoin_coverage.info\nFound 2062 entries.\nFound common filename prefix \"/Users/brunogarcia/projects/bitcoin-core-dev/build_cov/src\"\nWriting .css and .png files.\nGenerating output.\ngenhtml: ERROR: cannot read /Users/brunogarcia/projects/bitcoin-core-dev/build_cov/src/CMakeFiles/bitcoin-cli.dir/span.h\nProcessing file CMakeFiles/bitcoin-cli.dir/span.h\nCMake Error at build_cov/Coverage.cmake:46 (execute_process):\n  execute_process failed command indexes:\n\n    1: \"Child return code: 2\"\n```\n\n### How did you obtain Bitcoin Core\n\nCompiled from source\n\n### What version of Bitcoin Core are you using?\n\nmaster@0f9baba0fb6e55612f0b4b8d36f6deebe35b8a5f\n\n### Operating system and version\n\nMacOS Sonoma 14.3\n\n### Machine specifications\n\n```\nHomebrew clang version 18.1.8\nTarget: arm64-apple-darwin23.3.0\nThread model: posix\nInstalledDir: /opt/homebrew/opt/llvm@18/bin\n```",
    "user": {
      "login": "brunoerg",
      "id": 19480819,
      "node_id": "MDQ6VXNlcjE5NDgwODE5",
      "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brunoerg",
      "html_url": "https://github.com/brunoerg",
      "followers_url": "https://api.github.com/users/brunoerg/followers",
      "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
      "organizations_url": "https://api.github.com/users/brunoerg/orgs",
      "repos_url": "https://api.github.com/users/brunoerg/repos",
      "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/brunoerg/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": false,
    "comments": 2,
    "closed_at": "2025-05-20T16:59:36Z",
    "closed_by": {
      "login": "brunoerg",
      "id": 19480819,
      "node_id": "MDQ6VXNlcjE5NDgwODE5",
      "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brunoerg",
      "html_url": "https://github.com/brunoerg",
      "followers_url": "https://api.github.com/users/brunoerg/followers",
      "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
      "organizations_url": "https://api.github.com/users/brunoerg/orgs",
      "repos_url": "https://api.github.com/users/brunoerg/repos",
      "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/brunoerg/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "created_at": "2025-05-20T16:39:17Z",
    "updated_at": "2025-05-20T16:59:36Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 2895198821,
      "node_id": "IC_kwDOABII586skTpl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2895198821",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-20T16:55:17Z",
      "updated_at": "2025-05-20T16:55:17Z",
      "author_association": "MEMBER",
      "body": "What if you were to use the instructions from https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#using-llvmclang-toolchain?",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/32571#issuecomment-2895198821",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32571"
    },
    {
      "event": "commented",
      "id": 2895208969,
      "node_id": "IC_kwDOABII586skWIJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2895208969",
      "actor": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-20T16:59:36Z",
      "updated_at": "2025-05-20T16:59:36Z",
      "author_association": "CONTRIBUTOR",
      "body": "It worked, sorry, missed that. Thank you.",
      "user": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/32571#issuecomment-2895208969",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32571"
    },
    {
      "event": "closed",
      "id": 17738474486,
      "node_id": "CE_lADOABII5863cOlAzwAAAAQhS6P2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17738474486",
      "actor": {
        "login": "brunoerg",
        "id": 19480819,
        "node_id": "MDQ6VXNlcjE5NDgwODE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/19480819?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/brunoerg",
        "html_url": "https://github.com/brunoerg",
        "followers_url": "https://api.github.com/users/brunoerg/followers",
        "following_url": "https://api.github.com/users/brunoerg/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/brunoerg/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/brunoerg/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/brunoerg/subscriptions",
        "organizations_url": "https://api.github.com/users/brunoerg/orgs",
        "repos_url": "https://api.github.com/users/brunoerg/repos",
        "events_url": "https://api.github.com/users/brunoerg/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/brunoerg/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-20T16:59:36Z"
    }
  ]
}