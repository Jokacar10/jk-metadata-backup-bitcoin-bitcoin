{
  "type": "issue",
  "issue": {
    "id": 2978404475,
    "node_id": "I_kwDOABII586xhth7",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32235",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32235/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32235/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32235/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/32235",
    "number": 32235,
    "state": "open",
    "state_reason": null,
    "title": "Tor: TX circuit isolation",
    "body": "Create an option that would forcefully terminate any connection that just sent a locally originating transaction.\n\n-proxyrandomize ensures that each connection corresponds to a tor circuit, therefore terminating connection = terminating circuit\n\nthe same circuit will not send more than 1 transaction. achieving desirable privacy properties.\n\nthis is a preferable solution to the proposed overengineered mess of https://github.com/bitcoin/bitcoin/pull/29415\n",
    "user": {
      "login": "learnwayback",
      "id": 185106791,
      "node_id": "U_kgDOCwiBZw",
      "avatar_url": "https://avatars.githubusercontent.com/u/185106791?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/learnwayback",
      "html_url": "https://github.com/learnwayback",
      "followers_url": "https://api.github.com/users/learnwayback/followers",
      "following_url": "https://api.github.com/users/learnwayback/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/learnwayback/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/learnwayback/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/learnwayback/subscriptions",
      "organizations_url": "https://api.github.com/users/learnwayback/orgs",
      "repos_url": "https://api.github.com/users/learnwayback/repos",
      "events_url": "https://api.github.com/users/learnwayback/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/learnwayback/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [
      {
        "id": 64583,
        "node_id": "MDU6TGFiZWw2NDU4Mw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
        "name": "Feature",
        "color": "7cf575",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 2,
    "created_at": "2025-04-08T02:08:42Z",
    "updated_at": "2025-04-08T05:57:29Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 17162821686,
      "node_id": "LE_lADOABII586xhth7zwAAAAP---A2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17162821686",
      "actor": {
        "login": "learnwayback",
        "id": 185106791,
        "node_id": "U_kgDOCwiBZw",
        "avatar_url": "https://avatars.githubusercontent.com/u/185106791?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/learnwayback",
        "html_url": "https://github.com/learnwayback",
        "followers_url": "https://api.github.com/users/learnwayback/followers",
        "following_url": "https://api.github.com/users/learnwayback/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/learnwayback/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/learnwayback/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/learnwayback/subscriptions",
        "organizations_url": "https://api.github.com/users/learnwayback/orgs",
        "repos_url": "https://api.github.com/users/learnwayback/repos",
        "events_url": "https://api.github.com/users/learnwayback/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/learnwayback/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-08T02:08:42Z",
      "label": {
        "name": "Feature",
        "color": "7cf575"
      }
    },
    {
      "event": "subscribed",
      "id": 17163366335,
      "node_id": "SE_lADOABII586xhth7zwAAAAP_BC-_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17163366335",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-08T03:34:54Z"
    },
    {
      "event": "commented",
      "id": 2785159104,
      "node_id": "IC_kwDOABII586mAifA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2785159104",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-08T03:57:53Z",
      "updated_at": "2025-04-08T04:01:13Z",
      "author_association": "CONTRIBUTOR",
      "body": "That doesn't seem private at all to me: Disconnecting right after sending your own tx  means telling your peer that this is likely a local tx, which is only acceptable if there is no other information they can connect it with:\n\nHere, they can probe for various kinds of information about your node in advance, and when you finally disconnect them after sending an own tx they can use that.\n\nAlso, the status quo is to send outgoing txns to all peers, in the tor-only case you'd drop all your peers at the same time without any adjustments such as in #29415 - this is very undesirable.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/32235#issuecomment-2785159104",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32235"
    },
    {
      "event": "commented",
      "id": 2785287412,
      "node_id": "IC_kwDOABII586mBBz0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2785287412",
      "actor": {
        "login": "learnwayback",
        "id": 185106791,
        "node_id": "U_kgDOCwiBZw",
        "avatar_url": "https://avatars.githubusercontent.com/u/185106791?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/learnwayback",
        "html_url": "https://github.com/learnwayback",
        "followers_url": "https://api.github.com/users/learnwayback/followers",
        "following_url": "https://api.github.com/users/learnwayback/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/learnwayback/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/learnwayback/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/learnwayback/subscriptions",
        "organizations_url": "https://api.github.com/users/learnwayback/orgs",
        "repos_url": "https://api.github.com/users/learnwayback/repos",
        "events_url": "https://api.github.com/users/learnwayback/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/learnwayback/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-08T05:44:32Z",
      "updated_at": "2025-04-08T05:57:28Z",
      "author_association": "NONE",
      "body": "> That doesn't seem private at all to me: Disconnecting right after sending your own tx means telling your peer that this is likely a local tx, which is only acceptable if there is no other information they can connect it with:\n> Here, they can probe for various kinds of information about your node in advance, and when you finally disconnect them after sending an own tx they can use that.\n\nIf your node is public (probed) then it seems to be too late to hide. TX circuit isolation only makes sense if you are running a probably small & pruned node behind tor for a private wallet and it's unreachable (-listen=0).\nI suppose public nodes may moonlight as private wallets but that strikes me as a bad idea (and maybe not addressable, as any deviation in behavior will leak information).\n\n> Also, the status quo is to send outgoing txns to all peers, in the tor-only case you'd drop all your peers at the same time without any adjustments such as in [#29415](https://github.com/bitcoin/bitcoin/pull/29415) - this is very undesirable.\n\nThis may indeed be a problem, sending behavior may need to be adjusted, send to one peer a time observing the status of the mempool in response (this may already be the default, wouldn't it resend if it doesn't go through?). In most cases a single send will be sufficient.\n",
      "user": {
        "login": "learnwayback",
        "id": 185106791,
        "node_id": "U_kgDOCwiBZw",
        "avatar_url": "https://avatars.githubusercontent.com/u/185106791?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/learnwayback",
        "html_url": "https://github.com/learnwayback",
        "followers_url": "https://api.github.com/users/learnwayback/followers",
        "following_url": "https://api.github.com/users/learnwayback/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/learnwayback/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/learnwayback/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/learnwayback/subscriptions",
        "organizations_url": "https://api.github.com/users/learnwayback/orgs",
        "repos_url": "https://api.github.com/users/learnwayback/repos",
        "events_url": "https://api.github.com/users/learnwayback/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/learnwayback/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/32235#issuecomment-2785287412",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32235"
    }
  ]
}