{
  "type": "issue",
  "issue": {
    "id": 2828411446,
    "node_id": "I_kwDOABII586oliI2",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31791",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31791/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31791/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31791/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/31791",
    "number": 31791,
    "state": "open",
    "state_reason": null,
    "title": "Bug Report RescanWallet backup.cpp",
    "body": "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Current behaviour\n\nstatic void RescanWallet(CWallet& wallet, const WalletRescanReserver& reserver, int64_t time_begin = TIMESTAMP_MIN, bool update = true)\n{\n    int64_t scanned_time = wallet.RescanFromTime(time_begin, reserver, update);\n    if (wallet.IsAbortingRescan()) {\n        throw JSONRPCError(RPC_MISC_ERROR, \"Rescan aborted by user.\");\n    } else if (scanned_time > time_begin) {\n        throw JSONRPCError(RPC_WALLET_ERROR, \"Rescan was unable to fully rescan the blockchain. Some transactions may be missing.\");\n    }\n}\n\n### Expected behaviour\n\nstatic void RescanWallet(CWallet& wallet, const WalletRescanReserver& reserver, int64_t time_begin = TIMESTAMP_MIN, bool update = true)\n{\n    if (!reserver.isReserved()) {\n        throw JSONRPCError(RPC_WALLET_ERROR, \"Rescan reservation failed. Wallet is currently rescanning or reservation was not acquired.\");\n    }\n    int64_t scanned_time = wallet.RescanFromTime(time_begin, reserver, update);\n    if (wallet.IsAbortingRescan()) {\n        throw JSONRPCError(RPC_MISC_ERROR, \"Rescan aborted by user.\");\n    } else if (scanned_time > time_begin) {\n        throw JSONRPCError(RPC_WALLET_ERROR, \"Rescan was unable to fully rescan the blockchain. Some transactions may be missing.\");\n    }\n}\n\n### Steps to reproduce\n\nNone\n\n### Relevant log output\n\nNone\n\n### How did you obtain Bitcoin Core\n\nCompiled from source\n\n### What version of Bitcoin Core are you using?\n\nCurrent\n\n### Operating system and version\n\nUbuntu 22.04\n\n### Machine specifications\n\nnone",
    "user": {
      "login": "BartzZin",
      "id": 105251606,
      "node_id": "U_kgDOBkYDFg",
      "avatar_url": "https://avatars.githubusercontent.com/u/105251606?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BartzZin",
      "html_url": "https://github.com/BartzZin",
      "followers_url": "https://api.github.com/users/BartzZin/followers",
      "following_url": "https://api.github.com/users/BartzZin/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/BartzZin/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/BartzZin/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/BartzZin/subscriptions",
      "organizations_url": "https://api.github.com/users/BartzZin/orgs",
      "repos_url": "https://api.github.com/users/BartzZin/repos",
      "events_url": "https://api.github.com/users/BartzZin/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/BartzZin/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 1,
    "created_at": "2025-02-03T20:03:21Z",
    "updated_at": "2025-02-03T20:51:05Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 2632046659,
      "node_id": "IC_kwDOABII586c4dhD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2632046659",
      "actor": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-03T20:51:04Z",
      "updated_at": "2025-02-03T20:51:04Z",
      "author_association": "MEMBER",
      "body": "@BartzZin Can you please rewrite the \"current behavior\" and \"expected behavior\" fields in your issue in English so we can understand what you are experiencing? Otherwise this issue may be closed as off-topic.",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31791#issuecomment-2632046659",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31791"
    },
    {
      "event": "mentioned",
      "id": 16168316954,
      "node_id": "MEE_lADOABII586oliI2zwAAAAPDtPAa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16168316954",
      "actor": {
        "login": "BartzZin",
        "id": 105251606,
        "node_id": "U_kgDOBkYDFg",
        "avatar_url": "https://avatars.githubusercontent.com/u/105251606?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BartzZin",
        "html_url": "https://github.com/BartzZin",
        "followers_url": "https://api.github.com/users/BartzZin/followers",
        "following_url": "https://api.github.com/users/BartzZin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/BartzZin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/BartzZin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/BartzZin/subscriptions",
        "organizations_url": "https://api.github.com/users/BartzZin/orgs",
        "repos_url": "https://api.github.com/users/BartzZin/repos",
        "events_url": "https://api.github.com/users/BartzZin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/BartzZin/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-03T20:51:05Z"
    },
    {
      "event": "subscribed",
      "id": 16168316975,
      "node_id": "SE_lADOABII586oliI2zwAAAAPDtPAv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16168316975",
      "actor": {
        "login": "BartzZin",
        "id": 105251606,
        "node_id": "U_kgDOBkYDFg",
        "avatar_url": "https://avatars.githubusercontent.com/u/105251606?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BartzZin",
        "html_url": "https://github.com/BartzZin",
        "followers_url": "https://api.github.com/users/BartzZin/followers",
        "following_url": "https://api.github.com/users/BartzZin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/BartzZin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/BartzZin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/BartzZin/subscriptions",
        "organizations_url": "https://api.github.com/users/BartzZin/orgs",
        "repos_url": "https://api.github.com/users/BartzZin/repos",
        "events_url": "https://api.github.com/users/BartzZin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/BartzZin/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-03T20:51:05Z"
    }
  ]
}