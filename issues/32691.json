{
  "type": "issue",
  "issue": {
    "id": 3123993880,
    "node_id": "I_kwDOABII5866NF0Y",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32691",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32691/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32691/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32691/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/32691",
    "number": 32691,
    "state": "open",
    "state_reason": null,
    "title": "depends: OpenBSD needs gcc (instruction) for libevent",
    "body": "### Current behaviour\n\nThe current depends instructions for OpenBSD do not mention `gcc`, which is required to build libevent.\n\nA simple `pkg_add gcc` doesn't cut it either, because that only installs `egcc`: https://unix.stackexchange.com/questions/554752/no-gcc-executable-after-pkg-add-gcc-on-openbsd\n\n### Expected behaviour\n\nExplain what the user needs to do to build depends (or change depends).\n\nA simple symlink seems to do the trick, but I'm not if it's appropriate:\n\n```\nln -s /usr/local/bin/egcc /usr/local/bin/gcc\n```\n\n### Steps to reproduce\n\nFresh OpenBSD installation. Clone repo on master.\n\n```\ngmake -C depends NO_QT=1 NO_QR=1 NO_ZMQ=1 NO_USDT=1\n\ngmake: Entering directory '/home/sjors/src/bitcoin/depends'\nConfiguring libevent...\nCMake Deprecation Warning at CMakeLists.txt:22 (cmake_minimum_required):\n  Compatibility with CMake < 3.10 will be removed from a future version of\n  CMake.\n\n  Update the VERSION argument <min> value.  Or, use the <min>...<max> syntax\n  to tell CMake that the project requires at least <min> but has been updated\n  to work with policies introduced by <max> or earlier.\n\n\nCMake Error at /usr/local/share/cmake/Modules/CMakeDetermineCCompiler.cmake:49 (message):\n  Could not find compiler set in environment variable CC:\n\n  gcc.\nCall Stack (most recent call first):\n  CMakeLists.txt:47 (project)\n\n\nCMake Error: CMAKE_C_COMPILER not set, after EnableLanguage\n-- Configuring incomplete, errors occurred!\ngmake: *** [funcs.mk:343: /home/sjors/src/bitcoin/depends/aarch64-unknown-openbsd7.7/.libevent_stamp_configured] Error 1\ngmake: Leaving directory '/home/sjors/src/bitcoin/depends'\n```\n\n### Relevant log output\n\n_No response_\n\n### How did you obtain Bitcoin Core\n\nCompiled from source\n\n### What version of Bitcoin Core are you using?\n\nmaster\n\n### Operating system and version\n\nOpenBSD 7.7\n\n### Machine specifications\n\nVM inside UTM, host machine is M4 macOS 15.5",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": false,
    "comments": 1,
    "created_at": "2025-06-06T08:09:38Z",
    "updated_at": "2025-06-06T08:46:45Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 2948467284,
      "node_id": "IC_kwDOABII586vvgpU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2948467284",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-06T08:19:16Z",
      "updated_at": "2025-06-06T08:19:16Z",
      "author_association": "MEMBER",
      "body": "I'm not sure. The following seems [working](https://github.com/hebasto/bitcoin-core-nightly/blob/2973f9d010f6581a7663d5cea4246ee7f6dc4070/.github/workflows/openbsd.yml#L104):\n```yml\n          prepare: pkg_add bash curl gmake gtar-- cmake git ccache python py3-zmq\n```",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/32691#issuecomment-2948467284",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32691"
    }
  ]
}