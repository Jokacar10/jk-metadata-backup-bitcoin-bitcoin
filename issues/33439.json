{
  "type": "issue",
  "issue": {
    "id": 3435848312,
    "node_id": "I_kwDOABII587MyuJ4",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33439",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33439/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33439/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33439/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/33439",
    "number": 33439,
    "state": "open",
    "state_reason": null,
    "title": "How to backport libmultiprocess changes?",
    "body": "From https://www.erisian.com.au/bitcoin-core-dev/log-2025-09-18.html#l-365\n\n```\n<fanquake> sjors: how are you planning to handle version in the multiprocess subtree going forward?\n<fanquake> *versioning\n<Sjors[m]1> fanquake: do you mean versioning of the interface or of the multiprocess dependency?\n<fanquake> I'm guessing release branches to match Core? Otherwise I'm wondering what the plan is if you need to land bugfixes from multiprocess that wont apply to release branches, due to api changes or similar\n<Sjors[m]1> For the latter we should probably tag whatever is in v30\n<fanquake> We also don't generally backport subtree updates, so this would also be new for multiprocess\n<sipa> if a subtree has a bugfix that matters, it does seem reasonable to backport it\n<fanquake> Sure, but that might have to be selective, rather than a full pull\n<sipa> yeah, makes sense\n<fanquake> so by default isn't a clean backport\n<fanquake> so just wondering what the plan is there, and if anything is going to be done to track things upstream in the multiproess repo\n<Sjors[m]1> Maybe ryanofsky has a specific plan. I would imagine indeed having a seperate branch to track minimal changes if anything needs to be backported to v30.1+\n<fanquake> Ok, can leave it up to you and him to figure out going forward\n```\n\nI think there are two questions here:\n\n1. Which libmultiprocess changes should be backported to bitcoin release branches?\n2. What steps should be used to backport the changes if any are backports?\n\nIMO the short term answer to (1) should be either *all* of the changes or *none* of them. At least for the next few weeks I don't think there will be any libmultiprocess changes that aren't either safe or desirable to backport, like bugfixes, documentation improvements, CI improvements, and error handling improvements. I think the only changes to avoid backporting might be PRs that add new features like #32387 (adding windows support) or https://github.com/bitcoin-core/libmultiprocess/pull/209 (turning on newer cmake features). If/when PRs like these are merged, it will make sense to create a libmultiprocess `v1` stable branch corresponding to the bitcoin v30 branch, and more stable branches going forward, as fanquake suggested in IRC.\n\nI'm less sure about answer to (2), especially if subtree updates have never been backported before. I guess two options are either backporting subtree update PR's like #33412 using the normal backport process, or submitting separate subtree update PRs directly to the bitcoin release branches? I'm not sure which of these might more desirable or work better with tooling.\n\n",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [
      {
        "id": 64584,
        "node_id": "MDU6TGFiZWw2NDU4NA==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Brainstorming",
        "name": "Brainstorming",
        "color": "ebd775",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": false,
    "comments": 0,
    "created_at": "2025-09-19T20:48:39Z",
    "updated_at": "2025-09-25T15:41:20Z"
  },
  "events": [
    {
      "event": "subscribed",
      "id": 19816420278,
      "node_id": "SE_lADOABII587MyuJ4zwAAAASdJpO2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19816420278",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-20T13:54:00Z"
    },
    {
      "event": "labeled",
      "id": 19923415702,
      "node_id": "LE_lADOABII587MyuJ4zwAAAASjhzKW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/19923415702",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-09-25T15:41:20Z",
      "label": {
        "name": "Brainstorming",
        "color": "ebd775"
      }
    }
  ]
}