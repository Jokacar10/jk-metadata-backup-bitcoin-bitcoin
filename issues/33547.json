{
  "type": "issue",
  "issue": {
    "id": 3486416458,
    "node_id": "I_kwDOABII587Pzn5K",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33547",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33547/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33547/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33547/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/33547",
    "number": 33547,
    "state": "open",
    "state_reason": null,
    "title": "HeadersSync tracking issue",
    "body": "End Goal: Make the headers sync phase quicker and less prone to fail, while improving implementation and test code.\n\nThe Bitcoin Optech Podcast episode for Newsletter 322 (https://bitcoinops.org/en/podcast/2024/10/01/) among other things prompted the (re)discovery of the possible improvement of caching headers so they only needed to be downloaded once. To avoid adding unnecessary resource demands on nodes, the number of `HeaderSyncState` instances created over time should ideally be made more predictable first (see old comments at https://github.com/bitcoin/bitcoin/pull/25720#discussion_r936707629 & https://github.com/bitcoin/bitcoin/pull/25720#issuecomment-1214656320).\n\n## Issues\n\nNot required, but getting these in first helps make later changes clearer:\n* #32740\n* #32579\n\nCritical path (not yet ready for general review):\n* Heavily WIP: More predictable `HeaderSyncState` creation - https://github.com/hodlinator/bitcoin/tree/2025/08/headerssync_predictability\n* WIP: https://github.com/l0rinc/bitcoin/pull/3\n\nAdjacent:\n* #33553 (ameliorates intermittent issue #26391)\n",
    "user": {
      "login": "hodlinator",
      "id": 172445034,
      "node_id": "U_kgDOCkdNag",
      "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hodlinator",
      "html_url": "https://github.com/hodlinator",
      "followers_url": "https://api.github.com/users/hodlinator/followers",
      "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
      "organizations_url": "https://api.github.com/users/hodlinator/orgs",
      "repos_url": "https://api.github.com/users/hodlinator/repos",
      "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/hodlinator/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": false,
    "comments": 1,
    "created_at": "2025-10-06T09:37:02Z",
    "updated_at": "2025-10-08T14:14:26Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 3374358704,
      "node_id": "IC_kwDOABII587JIKCw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3374358704",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-10-06T21:50:23Z",
      "updated_at": "2025-10-06T21:50:23Z",
      "author_association": "CONTRIBUTOR",
      "body": "I opened #33553 to address the problem from https://github.com/bitcoin/bitcoin/issues/26391 .",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/33547#issuecomment-3374358704",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33547"
    }
  ]
}