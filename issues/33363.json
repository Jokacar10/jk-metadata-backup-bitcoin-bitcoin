{
  "type": "issue",
  "issue": {
    "id": 3405677599,
    "node_id": "I_kwDOABII587K_oQf",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33363",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33363/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33363/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33363/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/33363",
    "number": 33363,
    "state": "open",
    "state_reason": null,
    "title": "Early detect non-loopback traffic from unit tests",
    "body": "Tests should not attempt to create network connections over the internet because that has unpredictable timing and outcome. It could also reveal the location (IP address) where somebody is running Bitcoin Core tests, if the target address is very specific, e.g. not `github.com:443`, but `1.2.3.4:8333` for example. See [#31339](https://github.com/bitcoin/bitcoin/issues/31339).\n\nhttps://github.com/bitcoin/bitcoin/pull/31349 is an attempt to detect such cases in CI. In the [discussions](https://github.com/bitcoin/bitcoin/pull/31349#pullrequestreview-3185369594) on that PR a complementary idea came up - to use a mocked socket from unit tests to detect such usage. That could be done in addition if there is support for it and if not too complicated.\n\nI guess, if this is to be done, either `CreateSock()` should be changed from `BasicTestingSetup` to throw right away or return a mocked `Sock` object that has a real underlying socket and throws on attempts to create non-loopback connections.",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": false,
    "comments": 0,
    "created_at": "2025-09-11T09:33:22Z",
    "updated_at": "2025-09-11T09:33:22Z"
  },
  "events": []
}