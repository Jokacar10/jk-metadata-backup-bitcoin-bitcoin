{
  "type": "issue",
  "issue": {
    "id": 2867408036,
    "node_id": "I_kwDOABII586q6Syk",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31921",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31921/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31921/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31921/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/31921",
    "number": 31921,
    "state": "open",
    "state_reason": null,
    "title": "intermittent ipc_tests (Timeout)",
    "body": "https://cirrus-ci.com/task/4822889158934528?logs=ci#L4124\n\n```\ntest/ipc_tests.cpp(11): Entering test suite \"ipc_tests\"\ntest/ipc_tests.cpp(12): Entering test case \"ipc_tests\"\n2025-02-20T19:40:40.807963Z [unknown] [test/util/random.cpp:48] [SeedRandomStateForTest] Setting random seed for current tests to RANDOM_CTX_SEED=d9d17e81b3c451b4796c66be71a75826f4089e0ed585b15f9fe9784685ea3f80\n2025-02-20T19:40:40.809986Z [test] [init/common.cpp:151] [LogPackageVersion] Bitcoin Core version v28.99.0-46a9c73083e0-dirty (debug build)\n2025-02-20T19:40:40.810894Z [test] [kernel/context.cpp:20] [operator()] Using the 'standard,sse41(4way),avx2(8way)' SHA256 implementation\n2025-02-20T19:40:40.810937Z [test] [random.cpp:114] [ReportHardwareRand] Using RdSeed as an additional entropy source\n2025-02-20T19:40:40.810975Z [test] [random.cpp:117] [ReportHardwareRand] Using RdRand as an additional entropy source\n2025-02-20T19:40:40.826220Z [test] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8395} IPC client first request from current thread, constructing waiter\n2025-02-20T19:40:40.827720Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8395} IPC client send FooInterface.add$Params (a = 1, b = 2)\n2025-02-20T19:40:40.828045Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8396} IPC server recv request  #1 FooInterface.add$Params (a = 1, b = 2)\n2025-02-20T19:40:40.828157Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8396} IPC server send response #1 FooInterface.add$Results (result = 3)\n2025-02-20T19:40:40.828302Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8395} IPC client recv FooInterface.add$Results (result = 3)\n2025-02-20T19:40:40.832153Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8395} IPC client send FooInterface.passOutPoint$Params (arg = \"d\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\310\\\\000\\\\000\\\\000\")\n2025-02-20T19:40:40.832304Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8396} IPC server recv request  #2 FooInterface.passOutPoint$Params (arg = \"d\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\310\\\\000\\\\000\\\\000\")\n2025-02-20T19:40:40.832425Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8396} IPC server send response #2 FooInterface.passOutPoint$Results (result = \"d\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\310\\\\000\\\\000\\\\000\")\n2025-02-20T19:40:40.832517Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8395} IPC client recv FooInterface.passOutPoint$Results (result = \"d\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\310\\\\000\\\\000\\\\000\")\n2025-02-20T19:40:40.832728Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8395} IPC client send FooInterface.passUniValue$Params (arg = \"{\\\\\"i\\\\\":1,\\\\\"s\\\\\":\\\\\"two\\\\\"}\")\n2025-02-20T19:40:40.832922Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8396} IPC server recv request  #3 FooInterface.passUniValue$Params (arg = \"{\\\\\"i\\\\\":1,\\\\\"s\\\\\":\\\\\"two\\\\\"}\")\n2025-02-20T19:40:40.833020Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8396} IPC server send response #3 FooInterface.passUniValue$Results (result = \"{\\\\\"i\\\\\":1,\\\\\"s\\\\\":\\\\\"two\\\\\"}\")\n2025-02-20T19:40:40.833140Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8395} IPC client recv FooInterface.passUniValue$Results (result = \"{\\\\\"i\\\\\":1,\\\\\"s\\\\\":\\\\\"two\\\\\"}\")\n2025-02-20T19:40:40.833338Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8395} IPC client send FooInterface.passTransaction$Params (arg = \"\\\\002\\\\000\\\\000\\\\000\\\\001d\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\310\\\\000\\\\000\\\\000\\\\000\\\\377\\\\377\\\\377\\\\377\\\\001\\\\000\\\\341\\\\365\\\\005\\\\000\\\\000\\\\000\\\\000\\\\000\\\\003\\\\000\\\\000\\\\000\")\n2025-02-20T19:40:40.833528Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8396} IPC server recv request  #4 FooInterface.passTransaction$Params (arg = \"\\\\002\\\\000\\\\000\\\\000\\\\001d\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\310\\\\000\\\\000\\\\000\\\\000\\\\377\\\\377\\\\377\\\\377\\\\001\\\\000\\\\341\\\\365\\\\005\\\\000\\\\000\\\\000\\\\000\\\\000\\\\003\\\\000\\\\000\\\\000\")\n2025-02-20T19:40:40.833680Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8396} IPC server send response #4 FooInterface.passTransaction$Results (result = \"\\\\002\\\\000\\\\000\\\\000\\\\001d\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\310\\\\000\\\\000\\\\000\\\\000\\\\377\\\\377\\\\377\\\\377\\\\001\\\\000\\\\341\\\\365\\\\005\\\\000\\\\000\\\\000\\\\000\\\\000\\\\003\\\\000\\\\000\\\\000\")\n2025-02-20T19:40:40.833790Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8395} IPC client recv FooInterface.passTransaction$Results (result = \"\\\\002\\\\000\\\\000\\\\000\\\\001d\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\000\\\\310\\\\000\\\\000\\\\000\\\\000\\\\377\\\\377\\\\377\\\\377\\\\001\\\\000\\\\341\\\\365\\\\005\\\\000\\\\000\\\\000\\\\000\\\\000\\\\003\\\\000\\\\000\\\\000\")\n2025-02-20T19:40:40.833984Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8395} IPC client send FooInterface.passVectorChar$Params (arg = \"Hello\")\n2025-02-20T19:40:40.834140Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8396} IPC server recv request  #5 FooInterface.passVectorChar$Params (arg = \"Hello\")\n2025-02-20T19:40:40.834235Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8396} IPC server send response #5 FooInterface.passVectorChar$Results (result = \"Hello\")\n2025-02-20T19:40:40.834336Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8395} IPC client recv FooInterface.passVectorChar$Results (result = \"Hello\")\n2025-02-20T19:40:40.834535Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8395} IPC client send FooInterface.passBlockState$Params (arg = (mode = 1, result = 8, rejectReason = \"reject reason\", debugMessage = \"debug message\"))\n2025-02-20T19:40:40.834732Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8396} IPC server recv request  #6 FooInterface.passBlockState$Params (arg = (mode = 1, result = 8, rejectReason = \"reject reason\", debugMessage = \"debug message\"))\n2025-02-20T19:40:40.834826Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8396} IPC server send response #6 FooInterface.passBlockState$Results (result = (mode = 1, result = 8, rejectReason = \"reject reason\", debugMessage = \"debug message\"))\n2025-02-20T19:40:40.834941Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8395} IPC client recv FooInterface.passBlockState$Results (result = (mode = 1, result = 8, rejectReason = \"reject reason\", debugMessage = \"debug message\"))\n2025-02-20T19:40:40.835129Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8395} IPC client send FooInterface.passBlockState$Params (arg = (mode = 0, result = 0, rejectReason = \"\", debugMessage = \"\"))\n2025-02-20T19:40:40.835274Z [unknown] [test/ipc_test.cpp:60] [operator()] LOG0: {IpcPipeTest-8395/b-test-8396} IPC server recv request  #7 FooInterface.passBlockState$Params (arg = (mode = 0, result = 0, rejectReason = \"\", debugMessage = \"\"))\n99% tests passed, 1 tests failed out of 140\nTotal Test time (real) = 2508.25 sec\nThe following tests FAILED:\n\t140 - ipc_tests (Timeout)\nErrors while running CTest\nExit status: 8\n",
    "user": {
      "login": "maflcko",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maflcko",
      "html_url": "https://github.com/maflcko",
      "followers_url": "https://api.github.com/users/maflcko/followers",
      "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
      "organizations_url": "https://api.github.com/users/maflcko/orgs",
      "repos_url": "https://api.github.com/users/maflcko/repos",
      "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/maflcko/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [
      {
        "id": 5334691551,
        "node_id": "LA_kwDOABII588AAAABPfju3w",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
        "name": "CI failed",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": false,
    "comments": 1,
    "created_at": "2025-02-20T22:27:23Z",
    "updated_at": "2025-02-20T23:09:25Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 16390110272,
      "node_id": "LE_lADOABII586q6SykzwAAAAPQ7TxA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16390110272",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-20T22:27:23Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2672910522,
      "node_id": "IC_kwDOABII586fUWC6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2672910522",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-20T23:09:24Z",
      "updated_at": "2025-02-20T23:09:24Z",
      "author_association": "CONTRIBUTOR",
      "body": "Seems possible this is the same bug as https://github.com/chaincodelabs/libmultiprocess/issues/154 but causing a deadlock instead of a \"mutex lock failed\" error due to platform differences. The fix for the bug is https://github.com/chaincodelabs/libmultiprocess/pull/159 and is included in 1746618e081d582673b458091c46bb3f71ba3a56 from #31741. But maybe I should make that commit a separate PR?",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/31921#issuecomment-2672910522",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31921"
    }
  ]
}