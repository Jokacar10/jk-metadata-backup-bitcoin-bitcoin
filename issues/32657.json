{
  "type": "issue",
  "issue": {
    "id": 3107972035,
    "node_id": "I_kwDOABII5865P-PD",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32657",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32657/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32657/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32657/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/32657",
    "number": 32657,
    "state": "closed",
    "state_reason": "completed",
    "title": "Add config option to set external P2P port to facilitate incoming connections",
    "body": "### Please describe the feature you'd like to see added.\n\nAdd config option to set external P2P port to facilitate incoming connections, complementary to the `externalip` option. \n\n### Is your feature related to a problem, if so please describe it.\n\nWithout being able to specify the external port, it is impossible to receive incoming connections when the node is behind a port-forwarding system unless the same port number is used both externally and internally, which may not always be an option or may not be desired.\n\n### Describe the solution you'd like\n\nAdd an `externalp2pport` option or similar, specifying the public p2p port number to be reported to peers along with the `externalip`.\n\n### Describe any alternatives you've considered\n\nOne might tag on a :port number to the `externalip` option... but this is ambiguous as there are other ports besides p2p that might need to be specified separately. One might also want additional options for Tor, I2P, etc.\n\n### Please leave any additional context\n\nThe need for this arises when the node is accessed through a VPN or any other port-forwarding setup, if the local p2p port cannot be used on the external IP for any reason.",
    "user": {
      "login": "rleed",
      "id": 101502594,
      "node_id": "U_kgDOBgzOgg",
      "avatar_url": "https://avatars.githubusercontent.com/u/101502594?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rleed",
      "html_url": "https://github.com/rleed",
      "followers_url": "https://api.github.com/users/rleed/followers",
      "following_url": "https://api.github.com/users/rleed/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/rleed/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/rleed/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/rleed/subscriptions",
      "organizations_url": "https://api.github.com/users/rleed/orgs",
      "repos_url": "https://api.github.com/users/rleed/repos",
      "events_url": "https://api.github.com/users/rleed/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/rleed/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [
      {
        "id": 64583,
        "node_id": "MDU6TGFiZWw2NDU4Mw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Feature",
        "name": "Feature",
        "color": "7cf575",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 5,
    "closed_at": "2025-06-02T10:01:49Z",
    "closed_by": {
      "login": "maflcko",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maflcko",
      "html_url": "https://github.com/maflcko",
      "followers_url": "https://api.github.com/users/maflcko/followers",
      "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
      "organizations_url": "https://api.github.com/users/maflcko/orgs",
      "repos_url": "https://api.github.com/users/maflcko/repos",
      "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/maflcko/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "created_at": "2025-06-01T22:45:49Z",
    "updated_at": "2025-06-02T10:03:56Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 17919057243,
      "node_id": "LE_lADOABII5865P-PDzwAAAAQsDx1b",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17919057243",
      "actor": {
        "login": "rleed",
        "id": 101502594,
        "node_id": "U_kgDOBgzOgg",
        "avatar_url": "https://avatars.githubusercontent.com/u/101502594?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rleed",
        "html_url": "https://github.com/rleed",
        "followers_url": "https://api.github.com/users/rleed/followers",
        "following_url": "https://api.github.com/users/rleed/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rleed/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rleed/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rleed/subscriptions",
        "organizations_url": "https://api.github.com/users/rleed/orgs",
        "repos_url": "https://api.github.com/users/rleed/repos",
        "events_url": "https://api.github.com/users/rleed/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rleed/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-01T22:45:50Z",
      "label": {
        "name": "Feature",
        "color": "7cf575"
      }
    },
    {
      "event": "commented",
      "id": 2928051271,
      "node_id": "IC_kwDOABII586uhoRH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2928051271",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-01T22:52:03Z",
      "updated_at": "2025-06-01T22:52:03Z",
      "author_association": "MEMBER",
      "body": "Does `-port` not work for this?",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/32657#issuecomment-2928051271",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32657"
    },
    {
      "event": "commented",
      "id": 2928101091,
      "node_id": "IC_kwDOABII586uh0bj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2928101091",
      "actor": {
        "login": "rleed",
        "id": 101502594,
        "node_id": "U_kgDOBgzOgg",
        "avatar_url": "https://avatars.githubusercontent.com/u/101502594?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rleed",
        "html_url": "https://github.com/rleed",
        "followers_url": "https://api.github.com/users/rleed/followers",
        "following_url": "https://api.github.com/users/rleed/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rleed/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rleed/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rleed/subscriptions",
        "organizations_url": "https://api.github.com/users/rleed/orgs",
        "repos_url": "https://api.github.com/users/rleed/repos",
        "events_url": "https://api.github.com/users/rleed/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rleed/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-01T23:23:45Z",
      "updated_at": "2025-06-01T23:23:45Z",
      "author_association": "NONE",
      "body": "> Does `-port` not work for this?\n\nAs I understand it, the value specified by `-port` is currently advertised along with that of `-externalip` to allow incoming connections to a non-default port, but in a port-forwarding situation, this only works when the external forwarded port is identical to the local listening port. However, there are situations where this is not practical. Being able to specify the external port independently would provide a general solution.",
      "user": {
        "login": "rleed",
        "id": 101502594,
        "node_id": "U_kgDOBgzOgg",
        "avatar_url": "https://avatars.githubusercontent.com/u/101502594?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rleed",
        "html_url": "https://github.com/rleed",
        "followers_url": "https://api.github.com/users/rleed/followers",
        "following_url": "https://api.github.com/users/rleed/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rleed/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rleed/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rleed/subscriptions",
        "organizations_url": "https://api.github.com/users/rleed/orgs",
        "repos_url": "https://api.github.com/users/rleed/repos",
        "events_url": "https://api.github.com/users/rleed/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rleed/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/32657#issuecomment-2928101091",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32657"
    },
    {
      "event": "commented",
      "id": 2928207022,
      "node_id": "IC_kwDOABII586uiOSu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2928207022",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-02T00:33:38Z",
      "updated_at": "2025-06-02T00:33:38Z",
      "author_association": "MEMBER",
      "body": "I see. I believe this already works, you can add a port number to the `externalip=` argument.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/32657#issuecomment-2928207022",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32657"
    },
    {
      "event": "commented",
      "id": 2929709339,
      "node_id": "IC_kwDOABII586un9Eb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2929709339",
      "actor": {
        "login": "rleed",
        "id": 101502594,
        "node_id": "U_kgDOBgzOgg",
        "avatar_url": "https://avatars.githubusercontent.com/u/101502594?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rleed",
        "html_url": "https://github.com/rleed",
        "followers_url": "https://api.github.com/users/rleed/followers",
        "following_url": "https://api.github.com/users/rleed/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rleed/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rleed/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rleed/subscriptions",
        "organizations_url": "https://api.github.com/users/rleed/orgs",
        "repos_url": "https://api.github.com/users/rleed/repos",
        "events_url": "https://api.github.com/users/rleed/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rleed/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-02T09:39:23Z",
      "updated_at": "2025-06-02T09:39:23Z",
      "author_association": "NONE",
      "body": "> I see. I believe this already works, you can add a port number to the `externalip=` argument.\n\nWonderful! I had tried this before, but I had overlooked a detail in my configuration....my bad. Now it's working! Thank you!",
      "user": {
        "login": "rleed",
        "id": 101502594,
        "node_id": "U_kgDOBgzOgg",
        "avatar_url": "https://avatars.githubusercontent.com/u/101502594?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rleed",
        "html_url": "https://github.com/rleed",
        "followers_url": "https://api.github.com/users/rleed/followers",
        "following_url": "https://api.github.com/users/rleed/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rleed/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rleed/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rleed/subscriptions",
        "organizations_url": "https://api.github.com/users/rleed/orgs",
        "repos_url": "https://api.github.com/users/rleed/repos",
        "events_url": "https://api.github.com/users/rleed/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rleed/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/32657#issuecomment-2929709339",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32657"
    },
    {
      "event": "closed",
      "id": 17929099957,
      "node_id": "CE_lADOABII5865P-PDzwAAAAQsqFq1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17929099957",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-02T10:01:49Z"
    },
    {
      "event": "commented",
      "id": 2929801124,
      "node_id": "IC_kwDOABII586uoTek",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2929801124",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-02T10:03:54Z",
      "updated_at": "2025-06-02T10:03:54Z",
      "author_association": "MEMBER",
      "body": "I guess the docs could be updated for the setting in `init.cpp`, to clarify this.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/32657#issuecomment-2929801124",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32657"
    }
  ]
}