{
  "type": "issue",
  "issue": {
    "id": 2958828490,
    "node_id": "I_kwDOABII586wXCPK",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32167",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32167/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32167/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32167/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/32167",
    "number": 32167,
    "state": "open",
    "state_reason": null,
    "title": "oss-fuzz build fails",
    "body": "https://oss-fuzz-build-logs.storage.googleapis.com/index.html#bitcoin-core\n\nPassing: https://oss-fuzz-build-logs.storage.googleapis.com/log-412269f7-edf7-41df-bf45-c7c19e4a6518.txt\n\n(commit f1d129d96340503ec5f6b347c2fdf6a6901b1f7e)\n\nFailing: https://oss-fuzz-build-logs.storage.googleapis.com/log-55825031-7dd1-470e-a768-1dd6d1cc1d8a.txt\n\n(commit 0a1e36effaa5aa27bc5f2c4955c1fa2eb2f0c8fa)\n\noutput:\n\n```\nStep #30 - \"compile-libfuzzer-address-i386\": copying packages: boost libevent sqlite\nStep #30 - \"compile-libfuzzer-address-i386\": to: /src/bitcoin-core/depends/i686-pc-linux-gnu\nStep #30 - \"compile-libfuzzer-address-i386\": To build Bitcoin Core with these packages, pass '--toolchain /src/bitcoin-core/depends/i686-pc-linux-gnu/toolchain.cmake' to the first CMake invocation.\nStep #30 - \"compile-libfuzzer-address-i386\": + sed -i 's|PROVIDE_FUZZ_MAIN_FUNCTION|NEVER_PROVIDE_MAIN_FOR_OSS_FUZZ|g' ./src/test/fuzz/util/CMakeLists.txt\nStep #30 - \"compile-libfuzzer-address-i386\": + EXTRA_BUILD_OPTIONS=\nStep #30 - \"compile-libfuzzer-address-i386\": + '[' address = memory ']'\nStep #30 - \"compile-libfuzzer-address-i386\": + cmake -B build_fuzz --toolchain depends/i686-pc-linux-gnu/toolchain.cmake -DCMAKE_C_FLAGS_RELWITHDEBINFO= -DCMAKE_CXX_FLAGS_RELWITHDEBINFO= -DBUILD_FOR_FUZZING=ON -DFUZZ_LIBS=-fsanitize=fuzzer\nStep #30 - \"compile-libfuzzer-address-i386\": -- The CXX compiler identification is Clang 18.1.8\nStep #30 - \"compile-libfuzzer-address-i386\": -- Detecting CXX compiler ABI info\nStep #30 - \"compile-libfuzzer-address-i386\": -- Detecting CXX compiler ABI info - failed\nStep #30 - \"compile-libfuzzer-address-i386\": -- Check for working CXX compiler: /usr/local/bin/clang++\nStep #30 - \"compile-libfuzzer-address-i386\": -- Check for working CXX compiler: /usr/local/bin/clang++ - broken\nStep #30 - \"compile-libfuzzer-address-i386\": \u001b[31mCMake Error at /usr/local/share/cmake-3.29/Modules/CMakeTestCXXCompiler.cmake:60 (message):\nStep #30 - \"compile-libfuzzer-address-i386\":   The C++ compiler\nStep #30 - \"compile-libfuzzer-address-i386\": \nStep #30 - \"compile-libfuzzer-address-i386\":     \"/usr/local/bin/clang++\"\nStep #30 - \"compile-libfuzzer-address-i386\": \nStep #30 - \"compile-libfuzzer-address-i386\":   is not able to compile a simple test program.\nStep #30 - \"compile-libfuzzer-address-i386\": \nStep #30 - \"compile-libfuzzer-address-i386\":   It fails with the following output:\nStep #30 - \"compile-libfuzzer-address-i386\": \nStep #30 - \"compile-libfuzzer-address-i386\":     Change Dir: '/src/bitcoin-core/build_fuzz/CMakeFiles/CMakeScratch/TryCompile-SLjVM7'\nStep #30 - \"compile-libfuzzer-address-i386\":     \nStep #30 - \"compile-libfuzzer-address-i386\":     Run Build Command(s): /usr/local/bin/cmake -E env VERBOSE=1 /usr/bin/make -f Makefile cmTC_3ecf8/fast\nStep #30 - \"compile-libfuzzer-address-i386\":     /usr/bin/make  -f CMakeFiles/cmTC_3ecf8.dir/build.make CMakeFiles/cmTC_3ecf8.dir/build\nStep #30 - \"compile-libfuzzer-address-i386\":     make[1]: Entering directory '/src/bitcoin-core/build_fuzz/CMakeFiles/CMakeScratch/TryCompile-SLjVM7'\nStep #30 - \"compile-libfuzzer-address-i386\":     Building CXX object CMakeFiles/cmTC_3ecf8.dir/testCXXCompiler.cxx.o\nStep #30 - \"compile-libfuzzer-address-i386\":     /usr/local/bin/clang++ --target=i686-pc-linux-gnu   -m32 -O1   -fno-omit-frame-pointer   -gline-tables-only   -Wno-error=enum-constexpr-conversion   -Wno-error=incompatible-function-pointer-types   -Wno-error=int-conversion   -Wno-error=deprecated-declarations   -Wno-error=implicit-function-declaration   -Wno-error=implicit-int   -Wno-error=vla-cxx-extension   -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION -fsanitize=address -fsanitize-address-use-after-scope -fsanitize=fuzzer-no-link -stdlib=libc++ -m32 -O1 -fno-omit-frame-pointer -gline-tables-only -Wno-error=enum-constexpr-conversion -Wno-error=incompatible-function-pointer-types -Wno-error=int-conversion -Wno-error=deprecated-declarations -Wno-error=implicit-function-declaration -Wno-error=implicit-int -Wno-error=vla-cxx-extension -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION -fsanitize=address -fsanitize-address-use-after-scope -fsanitize=fuzzer-no-link -stdlib=libc++  -MD -MT CMakeFiles/cmTC_3ecf8.dir/testCXXCompiler.cxx.o -MF CMakeFiles/cmTC_3ecf8.dir/testCXXCompiler.cxx.o.d -o CMakeFiles/cmTC_3ecf8.dir/testCXXCompiler.cxx.o -c /src/bitcoin-core/build_fuzz/CMakeFiles/CMakeScratch/TryCompile-SLjVM7/testCXXCompiler.cxx\nStep #30 - \"compile-libfuzzer-address-i386\":     Linking CXX executable cmTC_3ecf8\nStep #30 - \"compile-libfuzzer-address-i386\":     /usr/local/bin/cmake -E cmake_link_script CMakeFiles/cmTC_3ecf8.dir/link.txt --verbose=1\nStep #30 - \"compile-libfuzzer-address-i386\":     /usr/local/bin/clang++ --target=i686-pc-linux-gnu -m32 -O1   -fno-omit-frame-pointer   -gline-tables-only   -Wno-error=enum-constexpr-conversion   -Wno-error=incompatible-function-pointer-types   -Wno-error=int-conversion   -Wno-error=deprecated-declarations   -Wno-error=implicit-function-declaration   -Wno-error=implicit-int   -Wno-error=vla-cxx-extension   -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION -fsanitize=address -fsanitize-address-use-after-scope -fsanitize=fuzzer-no-link -stdlib=libc++ -m32 -O1 -fno-omit-frame-pointer -gline-tables-only -Wno-error=enum-constexpr-conversion -Wno-error=incompatible-function-pointer-types -Wno-error=int-conversion -Wno-error=deprecated-declarations -Wno-error=implicit-function-declaration -Wno-error=implicit-int -Wno-error=vla-cxx-extension -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION -fsanitize=address -fsanitize-address-use-after-scope -fsanitize=fuzzer-no-link -stdlib=libc++  CMakeFiles/cmTC_3ecf8.dir/testCXXCompiler.cxx.o -o cmTC_3ecf8\nStep #30 - \"compile-libfuzzer-address-i386\":     /usr/bin/ld: cannot find /usr/local/lib/clang/18/lib/linux/libclang_rt.asan_cxx-i386.a: No such file or directory\nStep #30 - \"compile-libfuzzer-address-i386\":     clang++: error: linker command failed with exit code 1 (use -v to see invocation)\nStep #30 - \"compile-libfuzzer-address-i386\":     make[1]: *** [CMakeFiles/cmTC_3ecf8.dir/build.make:100: cmTC_3ecf8] Error 1\nStep #30 - \"compile-libfuzzer-address-i386\":     make[1]: Leaving directory '/src/bitcoin-core/build_fuzz/CMakeFiles/CMakeScratch/TryCompile-SLjVM7'\nStep #30 - \"compile-libfuzzer-address-i386\":     make: *** [Makefile:127: cmTC_3ecf8/fast] Error 2\nStep #30 - \"compile-libfuzzer-address-i386\":     \nStep #30 - \"compile-libfuzzer-address-i386\":     \nStep #30 - \"compile-libfuzzer-address-i386\": \nStep #30 - \"compile-libfuzzer-address-i386\":   \nStep #30 - \"compile-libfuzzer-address-i386\": \nStep #30 - \"compile-libfuzzer-address-i386\":   CMake will not be able to correctly generate this project.\nStep #30 - \"compile-libfuzzer-address-i386\": Call Stack (most recent call first):\nStep #30 - \"compile-libfuzzer-address-i386\":   CMakeLists.txt:73 (enable_language)\nStep #30 - \"compile-libfuzzer-address-i386\": \nStep #30 - \"compile-libfuzzer-address-i386\": \u001b[0m\nStep #30 - \"compile-libfuzzer-address-i386\": -- Configuring incomplete, errors occurred!\nStep #30 - \"compile-libfuzzer-address-i386\": ********************************************************************************\nStep #30 - \"compile-libfuzzer-address-i386\": Failed to build.\nStep #30 - \"compile-libfuzzer-address-i386\": To reproduce, run:\nStep #30 - \"compile-libfuzzer-address-i386\": python infra/helper.py build_image bitcoin-core\nStep #30 - \"compile-libfuzzer-address-i386\": python infra/helper.py build_fuzzers --sanitizer address --engine libfuzzer --architecture i386 bitcoin-core\nStep #30 - \"compile-libfuzzer-address-i386\": ********************************************************************************\nFinished Step #30 - \"compile-libfuzzer-address-i386\"\nERROR\nERROR: build step 30 \"gcr.io/cloud-builders/docker\" failed: step exited with non-zero status: 1\n```\n\nSo it looks like a build issue.\n\nThe possible candidates to check would be https://github.com/bitcoin/bitcoin/commit/140f0d89bf6885ad3746a304d9b575ad30ec1501 or https://github.com/bitcoin/bitcoin/commit/e563cb5c60629b2a64c6672a0868d879adf258d7",
    "user": {
      "login": "maflcko",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maflcko",
      "html_url": "https://github.com/maflcko",
      "followers_url": "https://api.github.com/users/maflcko/followers",
      "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
      "organizations_url": "https://api.github.com/users/maflcko/orgs",
      "repos_url": "https://api.github.com/users/maflcko/repos",
      "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/maflcko/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [
      {
        "id": 62963516,
        "node_id": "MDU6TGFiZWw2Mjk2MzUxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests",
        "name": "Tests",
        "color": "d4c5f9",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": false,
    "comments": 0,
    "created_at": "2025-03-30T11:50:56Z",
    "updated_at": "2025-03-30T12:47:23Z"
  },
  "events": [
    {
      "event": "milestoned",
      "id": 17047743770,
      "node_id": "MIE_lADOABII586wXCPKzwAAAAP4H-0a",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17047743770",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-30T11:51:19Z",
      "milestone": {
        "title": "30.0"
      }
    },
    {
      "event": "labeled",
      "id": 17047743947,
      "node_id": "LE_lADOABII586wXCPKzwAAAAP4H-3L",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17047743947",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-30T11:51:24Z",
      "label": {
        "name": "Tests",
        "color": "d4c5f9"
      }
    },
    {
      "event": "demilestoned",
      "id": 17047869343,
      "node_id": "DEME_lADOABII586wXCPKzwAAAAP4Idef",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17047869343",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-30T12:47:15Z",
      "milestone": {
        "title": "30.0"
      }
    },
    {
      "event": "milestoned",
      "id": 17047869532,
      "node_id": "MIE_lADOABII586wXCPKzwAAAAP4Idhc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17047869532",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-30T12:47:20Z",
      "milestone": {
        "title": "29.0"
      }
    },
    {
      "event": "demilestoned",
      "id": 17047869677,
      "node_id": "DEME_lADOABII586wXCPKzwAAAAP4Idjt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17047869677",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-30T12:47:23Z",
      "milestone": {
        "title": "29.0"
      }
    }
  ]
}