{
  "type": "issue",
  "issue": {
    "id": 3133193023,
    "node_id": "I_kwDOABII5866wLs_",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32715",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32715/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32715/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32715/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/32715",
    "number": 32715,
    "state": "closed",
    "state_reason": "completed",
    "title": "depends: Cross-compiling using `-m64`/`-m32` fails on FreeBSD / OpenBSD",
    "body": "On FreeBSD 14.3:\n```\n$ gmake -C depends HOST=i686-unknown-freebsd libevent\ngmake: Entering directory '/home/hebasto/dev/bitcoin/depends'\nConfiguring libevent...\nCMake Deprecation Warning at CMakeLists.txt:22 (cmake_minimum_required):\n  Compatibility with CMake < 3.10 will be removed from a future version of\n  CMake.\n\n  Update the VERSION argument <min> value.  Or, use the <min>...<max> syntax\n  to tell CMake that the project requires at least <min> but has been updated\n  to work with policies introduced by <max> or earlier.\n\n\n-- The C compiler identification is Clang 19.1.7\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - failed\n-- Check for working C compiler: /usr/bin/clang\n-- Check for working C compiler: /usr/bin/clang - broken\nCMake Error at /usr/local/share/cmake/Modules/CMakeTestCCompiler.cmake:67 (message):\n  The C compiler\n\n    \"/usr/bin/clang\"\n\n  is not able to compile a simple test program.\n\n  It fails with the following output:\n\n    Change Dir: '/home/hebasto/dev/bitcoin/depends/work/build/i686-unknown-freebsd/libevent/2.1.12-stable-baac65d95ab/build/CMakeFiles/CMakeScratch/TryCompile-LurZhX'\n    \n    Run Build Command(s): /usr/local/bin/cmake -E env VERBOSE=1 /usr/local/bin/gmake -f Makefile cmTC_a9d3d/fast\n    gmake[1]: Entering directory '/home/hebasto/dev/bitcoin/depends/work/build/i686-unknown-freebsd/libevent/2.1.12-stable-baac65d95ab/build/CMakeFiles/CMakeScratch/TryCompile-LurZhX'\n    /usr/local/bin/gmake  -f CMakeFiles/cmTC_a9d3d.dir/build.make CMakeFiles/cmTC_a9d3d.dir/build\n    gmake[2]: Entering directory '/home/hebasto/dev/bitcoin/depends/work/build/i686-unknown-freebsd/libevent/2.1.12-stable-baac65d95ab/build/CMakeFiles/CMakeScratch/TryCompile-LurZhX'\n    Building C object CMakeFiles/cmTC_a9d3d.dir/testCCompiler.c.o\n    /usr/bin/clang  -m32 --target=i686-unknown-freebsd   -I/home/hebasto/dev/bitcoin/depends/i686-unknown-freebsd/include -D_GNU_SOURCE -D_FORTIFY_SOURCE=3 -pipe -std=c11 -O2 -fdebug-prefix-map=/home/hebasto/dev/bitcoin/depends/work/build/i686-unknown-freebsd/libevent/2.1.12-stable-baac65d95ab=/usr -fmacro-prefix-map=/home/hebasto/dev/bitcoin/depends/work/build/i686-unknown-freebsd/libevent/2.1.12-stable-baac65d95ab=/usr  -fPIE -MD -MT CMakeFiles/cmTC_a9d3d.dir/testCCompiler.c.o -MF CMakeFiles/cmTC_a9d3d.dir/testCCompiler.c.o.d -o CMakeFiles/cmTC_a9d3d.dir/testCCompiler.c.o -c /home/hebasto/dev/bitcoin/depends/work/build/i686-unknown-freebsd/libevent/2.1.12-stable-baac65d95ab/build/CMakeFiles/CMakeScratch/TryCompile-LurZhX/testCCompiler.c\n    Linking C executable cmTC_a9d3d\n    /usr/local/bin/cmake -E cmake_link_script CMakeFiles/cmTC_a9d3d.dir/link.txt --verbose=1\n    ld: error: /usr/lib/crt1.o is incompatible with elf_i386_fbsd\n    ld: error: /usr/lib/crti.o is incompatible with elf_i386_fbsd\n    ld: error: /usr/lib/crtbegin.o is incompatible with elf_i386_fbsd\n    ld: error: /usr/lib/libgcc.a(x86.o) is incompatible with elf_i386_fbsd\n    ld: error: /usr/lib/libgcc.a(fp_mode.o) is incompatible with elf_i386_fbsd\n    ld: error: /usr/lib/libgcc.a(absvdi2.o) is incompatible with elf_i386_fbsd\n    ld: error: /usr/lib/libgcc.a(absvsi2.o) is incompatible with elf_i386_fbsd\n    ld: error: /usr/lib/libgcc.a(absvti2.o) is incompatible with elf_i386_fbsd\n    ld: error: /usr/lib/libgcc.a(addvdi3.o) is incompatible with elf_i386_fbsd\n    ld: error: /usr/lib/libgcc.a(addvsi3.o) is incompatible with elf_i386_fbsd\n    ld: error: /usr/lib/libgcc.a(addvti3.o) is incompatible with elf_i386_fbsd\n    ld: error: /usr/lib/libgcc.a(apple_versioning.o) is incompatible with elf_i386_fbsd\n    ld: error: /usr/lib/libgcc.a(ashldi3.o) is incompatible with elf_i386_fbsd\n    ld: error: /usr/lib/libgcc.a(ashlti3.o) is incompatible with elf_i386_fbsd\n    ld: error: /usr/lib/libgcc.a(ashrdi3.o) is incompatible with elf_i386_fbsd\n    ld: error: /usr/lib/libgcc.a(ashrti3.o) is incompatible with elf_i386_fbsd\n    ld: error: /usr/lib/libgcc.a(bswapdi2.o) is incompatible with elf_i386_fbsd\n    ld: error: /usr/lib/libgcc.a(bswapsi2.o) is incompatible with elf_i386_fbsd\n    ld: error: /usr/lib/libgcc.a(clear_cache.o) is incompatible with elf_i386_fbsd\n    ld: error: /usr/lib/libgcc.a(clzdi2.o) is incompatible with elf_i386_fbsd\n    ld: error: too many errors emitted, stopping now (use --error-limit=0 to see all errors)\n    clang: error: linker command failed with exit code 1 (use -v to see invocation)\n    /usr/bin/clang  -m32 --target=i686-unknown-freebsd -I/home/hebasto/dev/bitcoin/depends/i686-unknown-freebsd/include -D_GNU_SOURCE -D_FORTIFY_SOURCE=3 -pipe -std=c11 -O2 -fdebug-prefix-map=/home/hebasto/dev/bitcoin/depends/work/build/i686-unknown-freebsd/libevent/2.1.12-stable-baac65d95ab=/usr -fmacro-prefix-map=/home/hebasto/dev/bitcoin/depends/work/build/i686-unknown-freebsd/libevent/2.1.12-stable-baac65d95ab=/usr  -L/home/hebasto/dev/bitcoin/depends/i686-unknown-freebsd/lib  CMakeFiles/cmTC_a9d3d.dir/testCCompiler.c.o -o cmTC_a9d3d\n    gmake[2]: *** [CMakeFiles/cmTC_a9d3d.dir/build.make:103: cmTC_a9d3d] Error 1\n    gmake[2]: Leaving directory '/home/hebasto/dev/bitcoin/depends/work/build/i686-unknown-freebsd/libevent/2.1.12-stable-baac65d95ab/build/CMakeFiles/CMakeScratch/TryCompile-LurZhX'\n    gmake[1]: *** [Makefile:134: cmTC_a9d3d/fast] Error 2\n    gmake[1]: Leaving directory '/home/hebasto/dev/bitcoin/depends/work/build/i686-unknown-freebsd/libevent/2.1.12-stable-baac65d95ab/build/CMakeFiles/CMakeScratch/TryCompile-LurZhX'\n    \n    \n\n  \n\n  CMake will not be able to correctly generate this project.\nCall Stack (most recent call first):\n  CMakeLists.txt:47 (project)\n\n\n-- Configuring incomplete, errors occurred!\ngmake: *** [funcs.mk:343: /home/hebasto/dev/bitcoin/depends/i686-unknown-freebsd/.libevent_stamp_configured] Error 1\ngmake: Leaving directory '/home/hebasto/dev/bitcoin/depends'\n```\n\nAdditionally, for example, https://github.com/bitcoin/bitcoin/pull/23948 contains no evidence that this scenario has ever been tested.\n\nAs the `i686-unknown-freebsd` target was never documented in [`depends/README.md`](https://github.com/bitcoin/bitcoin/blob/master/depends/README.md), we might consider removing the broken code from [`depends/hosts/freebsd.mk`](https://github.com/bitcoin/bitcoin/blob/master/depends/hosts/freebsd.mk).\n\nThe same reasoning applies to OpenBSD as well. However, I have not tested this on NetBSD.",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [
      {
        "id": 61889416,
        "node_id": "MDU6TGFiZWw2MTg4OTQxNg==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system",
        "name": "Build system",
        "color": "5319e7",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": false,
    "comments": 2,
    "closed_at": "2025-06-10T12:09:02Z",
    "closed_by": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "created_at": "2025-06-10T11:18:40Z",
    "updated_at": "2025-06-10T12:09:02Z"
  },
  "events": [
    {
      "event": "labeled",
      "id": 18073252312,
      "node_id": "LE_lADOABII5866wLs_zwAAAAQ1P_HY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18073252312",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-10T11:19:01Z",
      "label": {
        "name": "Build system",
        "color": "5319e7"
      }
    },
    {
      "event": "commented",
      "id": 2958942113,
      "node_id": "IC_kwDOABII586wXd-h",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2958942113",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-10T12:04:05Z",
      "updated_at": "2025-06-10T12:05:02Z",
      "author_association": "MEMBER",
      "body": "> However, I have not tested this on NetBSD.\n\nWell, this seems to be working on NetBSD 10.0:\n```\n$ gmake -C depends HOST=i686-unknown-netbsd NO_QT=1\n```",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/32715#issuecomment-2958942113",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32715"
    },
    {
      "event": "commented",
      "id": 2958958675,
      "node_id": "IC_kwDOABII586wXiBT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2958958675",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-10T12:09:02Z",
      "updated_at": "2025-06-10T12:09:02Z",
      "author_association": "MEMBER",
      "body": "It seems my FreeBSD installation was broken.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/issues/32715#issuecomment-2958958675",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32715"
    },
    {
      "event": "closed",
      "id": 18074097583,
      "node_id": "CE_lADOABII5866wLs_zwAAAAQ1TNev",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18074097583",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-10T12:09:02Z"
    }
  ]
}