{
  "type": "issue",
  "issue": {
    "id": 3486857012,
    "node_id": "I_kwDOABII587P1Tc0",
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33548",
    "repository_url": "https://api.github.com/repos/bitcoin/bitcoin",
    "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33548/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33548/comments",
    "events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33548/events",
    "html_url": "https://github.com/bitcoin/bitcoin/issues/33548",
    "number": 33548,
    "state": "open",
    "state_reason": null,
    "title": "`test_bitcoin-qt`: segfault under LTO (CMAKE_INTERPROCEDURAL_OPTIMIZATION=ON)",
    "body": "```bash\npodman run -it ubuntu:24.04\napt install git build-essential cmake pkgconf python3 libevent-dev libboost-dev qt6-base-dev qt6-tools-dev qt6-l10n-tools qt6-tools-dev-tools libgl-dev libqrencode-dev\ngit clone https://github.com/bitcoin/bitcoin/\ncd bitcoin\n```\n```bash\ncmake -B build -DENABLE_IPC=OFF -DBUILD_GUI=ON -DENABLE_WALLET=OFF\ncmake --build build\nctest --test-dir build # works fine\n```\n\n```bash\ncmake -B build -DENABLE_IPC=OFF -DBUILD_GUI=ON -DENABLE_WALLET=OFF -DCMAKE_INTERPROCEDURAL_OPTIMIZATION=ON\ncmake --build build\nctest --test-dir build\n...\nThe following tests FAILED:\n\t  6 - test_bitcoin-qt (SEGFAULT)\n```\n```bash\nbuild/bin/test_bitcoin-qt\nSegmentation fault (core dumped)\n```\n```bash\ngdb build/bin/test_bitcoin-qt\n...\nProgram received signal SIGSEGV, Segmentation fault.\n0x000079e008f7bafa in ?? () from /lib/x86_64-linux-gnu/libQt6Core.so.6\n(gdb) bt\n#0  0x000079e008f7bafa in ?? () from /lib/x86_64-linux-gnu/libQt6Core.so.6\n#1  0x000079e0095b3844 in QGuiApplication::screenAdded(QScreen*) () from /lib/x86_64-linux-gnu/libQt6Gui.so.6\n#2  0x000079e0096024a6 in QWindowSystemInterface::handleScreenAdded(QPlatformScreen*, bool) () from /lib/x86_64-linux-gnu/libQt6Gui.so.6\n#3  0x000079e005856a13 in ?? () from /usr/lib/x86_64-linux-gnu/qt6/plugins/platforms/libqminimal.so\n#4  0x000079e0095ac142 in QGuiApplicationPrivate::createPlatformIntegration() () from /lib/x86_64-linux-gnu/libQt6Gui.so.6\n#5  0x000079e0095ad860 in QGuiApplicationPrivate::createEventDispatcher() () from /lib/x86_64-linux-gnu/libQt6Gui.so.6\n#6  0x000079e008f348b6 in QCoreApplicationPrivate::init() () from /lib/x86_64-linux-gnu/libQt6Core.so.6\n#7  0x000079e0095ad8ff in QGuiApplicationPrivate::init() () from /lib/x86_64-linux-gnu/libQt6Gui.so.6\n#8  0x000079e009ccc985 in QApplicationPrivate::init() () from /lib/x86_64-linux-gnu/libQt6Widgets.so.6\n#9  0x00005b7f77cb9cff in BitcoinApplication::BitcoinApplication (this=<optimized out>, this=<optimized out>) at .././qt/bitcoin.cpp:201\n#10 0x00005b7f77c6ee8b in main (argc=<optimized out>, argv=<optimized out>) at ./qt/test/test_main.cpp:78\n```",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "labels": [],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": false,
    "comments": 0,
    "created_at": "2025-10-06T11:36:32Z",
    "updated_at": "2025-10-06T11:36:32Z"
  },
  "events": []
}