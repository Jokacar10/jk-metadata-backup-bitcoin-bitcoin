{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32541",
    "id": 2525857444,
    "node_id": "PR_kwDOABII586WjYak",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/32541",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/32541.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/32541.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32541",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32541/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32541/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32541/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/80a9c724dc991b6603e4c59931333f91aaf56a30",
    "number": 32541,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "index: store per-block transaction locations for efficient lookups",
    "user": {
      "login": "romanz",
      "id": 9900,
      "node_id": "MDQ6VXNlcjk5MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/romanz",
      "html_url": "https://github.com/romanz",
      "followers_url": "https://api.github.com/users/romanz/followers",
      "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
      "organizations_url": "https://api.github.com/users/romanz/orgs",
      "repos_url": "https://api.github.com/users/romanz/repos",
      "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/romanz/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "Currently, electrs and other indexers map between an address/scripthash to the list of the relevant transactions.\r\n\r\nHowever, in order to fetch those transactions from bitcoind, electrs relies on reading the whole block and post-filtering for a specific transaction[^1]. Other indexers use a `txindex` to fetch a transaction using its txid [^2][^3][^4].\r\n\r\nThe above approach has significant storage and CPU overhead, since the `txid` is a pseudo-random 32-byte value.\r\n\r\nThis PR is adding support for using the transaction's position within its block to be able to fetch it directly using [REST API](https://github.com/bitcoin/bitcoin/blob/master/doc/REST-interface.md), using the following HTTP request (to fetch the `N`-th transaction from `BLOCKHASH`):\r\n\r\n```\r\nGET /rest/txfromblock/BLOCKHASH-N.bin\r\n```\r\n\r\nIf binary response format is used, the transaction data will be read directly from the storage and sent back to the client, without any deserialization overhead.\r\n\r\nThe resulting index is much smaller (allowing it to be cached):\r\n```\r\n$ du -sh indexes/locations/ indexes/txindex/\r\n2.5G\tindexes/locations/\r\n57G\tindexes/txindex/\r\n```\r\n\r\nThe new index is using the following DB schema:\r\n\r\n```c++\r\nstruct DBKey {\r\n    uint256 hash;   // blockhash\r\n    uint32_t part;  // allow splitting one block's transactions into multiple DB rows\r\n};\r\n\r\nstruct DBValue {\r\n    FlatFilePos block_pos;          // file id + offset of the block\r\n    std::vector<uint32_t> offsets;  // a list of transaction offsets within the block\r\n};\r\n```\r\n\r\n[^1]: https://github.com/romanz/electrs/blob/master/doc/schema.md\r\n[^2]: https://github.com/Blockstream/electrs/blob/new-index/doc/schema.md#txstore\r\n[^3]: https://github.com/spesmilo/electrumx/blob/master/docs/HOWTO.rst#prerequisites\r\n[^4]: https://github.com/cculianu/Fulcrum/blob/master/README.md#requirements\r\n\r\n",
    "labels": [
      {
        "id": 97470796,
        "node_id": "MDU6TGFiZWw5NzQ3MDc5Ng==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes",
        "name": "UTXO Db and Indexes",
        "color": "fbca04",
        "default": false
      }
    ],
    "created_at": "2025-05-17T07:27:58Z",
    "updated_at": "2025-06-28T12:46:18Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "4616f06c876fc0e804f1ea6949fb60ee03472eab",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "romanz:locations-index",
      "ref": "locations-index",
      "sha": "80a9c724dc991b6603e4c59931333f91aaf56a30",
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 125523455,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMjU1MjM0NTU=",
        "name": "bitcoin",
        "full_name": "romanz/bitcoin",
        "owner": {
          "login": "romanz",
          "id": 9900,
          "node_id": "MDQ6VXNlcjk5MDA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/romanz",
          "html_url": "https://github.com/romanz",
          "followers_url": "https://api.github.com/users/romanz/followers",
          "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
          "organizations_url": "https://api.github.com/users/romanz/orgs",
          "repos_url": "https://api.github.com/users/romanz/repos",
          "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/romanz/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/romanz/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/romanz/bitcoin",
        "archive_url": "https://api.github.com/repos/romanz/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/romanz/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/romanz/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/romanz/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/romanz/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/romanz/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/romanz/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/romanz/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/romanz/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/romanz/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/romanz/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/romanz/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/romanz/bitcoin/events",
        "forks_url": "https://api.github.com/repos/romanz/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/romanz/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/romanz/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/romanz/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/romanz/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/romanz/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/romanz/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/romanz/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/romanz/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/romanz/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/romanz/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/romanz/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/romanz/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/romanz/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/romanz/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/romanz/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:romanz/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/romanz/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/romanz/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/romanz/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/romanz/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/romanz/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/romanz/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/romanz/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/romanz/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/romanz/bitcoin/hooks",
        "svn_url": "https://github.com/romanz/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 260024,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-06-28T11:59:59Z",
        "created_at": "2018-03-16T13:59:02Z",
        "updated_at": "2023-11-29T23:29:01Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "b3bb4031ab32a1306c610f8683b25b8459b21dbc",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37435,
        "stargazers_count": 84341,
        "watchers_count": 84341,
        "size": 284536,
        "default_branch": "master",
        "open_issues_count": 745,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-06-27T21:44:57Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-06-28T10:59:08Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32541"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 461,
    "deletions": 5,
    "changed_files": 11,
    "commits": 2,
    "review_comments": 8,
    "comments": 16
  },
  "events": [
    {
      "event": "commented",
      "id": 2888175898,
      "node_id": "IC_kwDOABII586sJhEa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2888175898",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-17T07:28:00Z",
      "updated_at": "2025-06-28T12:46:18Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32541.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/32541#issuecomment-2888253440) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#32825](https://github.com/bitcoin/bitcoin/pull/32825) (rest: rename `strURIPart` -> `uri_part` by romanz)\n* [#32699](https://github.com/bitcoin/bitcoin/pull/32699) (docs: adds correct updated documentation links by Zeegaths)\n* [#26966](https://github.com/bitcoin/bitcoin/pull/26966) (index: initial sync speedup, parallelize process by furszy)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#issuecomment-2888175898",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32541"
    },
    {
      "event": "labeled",
      "id": 17697938432,
      "node_id": "LE_lADOABII5863BCXxzwAAAAQe4RwA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17697938432",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-17T07:28:23Z",
      "label": {
        "name": "UTXO Db and Indexes",
        "color": "fbca04"
      }
    },
    {
      "event": "labeled",
      "id": 17697974131,
      "node_id": "LE_lADOABII5863BCXxzwAAAAQe4adz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17697974131",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-17T07:37:14Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2888180707,
      "node_id": "IC_kwDOABII586sJiPj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2888180707",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-17T07:37:15Z",
      "updated_at": "2025-05-17T07:37:15Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n🚧 At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/runs/42402043332</sub>\n<sub>LLM reason (✨ experimental): The CI failure is due to missing include guards in `src/index/locationsindex.h`.\n</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#issuecomment-2888180707",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32541"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17698036143,
      "node_id": "HRFPE_lADOABII5863BCXxzwAAAAQe4pmv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17698036143",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "1f629743e6c6ba4fab77ef1a8578bb82f0a70566",
      "commit_url": "https://api.github.com/repos/romanz/bitcoin/commits/1f629743e6c6ba4fab77ef1a8578bb82f0a70566",
      "created_at": "2025-05-17T07:45:53Z"
    },
    {
      "event": "commented",
      "id": 2888253440,
      "node_id": "IC_kwDOABII586sJ0AA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2888253440",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-17T09:37:52Z",
      "updated_at": "2025-05-17T09:37:52Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK\r\n\r\nCan you add the schema of the index and the expected arguments for the REST API  to the pull request description? I was a bit confused at first if this now exposes the file position, but if I read it correctly now, this just allows querying a transaction by its index in the block. ",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#issuecomment-2888253440",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32541"
    },
    {
      "event": "commented",
      "id": 2888263760,
      "node_id": "IC_kwDOABII586sJ2hQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2888263760",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-17T10:00:56Z",
      "updated_at": "2025-05-17T10:00:56Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Concept ACK\r\n\r\nThanks!\r\n\r\n> Can you add the schema of the index and the expected arguments for the REST API to the pull request description? \r\n\r\nSure - updated in https://github.com/bitcoin/bitcoin/pull/32541#issue-3070502385.\r\n",
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#issuecomment-2888263760",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32541"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17698888490,
      "node_id": "HRFPE_lADOABII5863BCXxzwAAAAQe75sq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17698888490",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "c074ad2676631a9d27c05ccb7ee832a957ff11e2",
      "commit_url": "https://api.github.com/repos/romanz/bitcoin/commits/c074ad2676631a9d27c05ccb7ee832a957ff11e2",
      "created_at": "2025-05-17T11:55:07Z"
    },
    {
      "event": "commented",
      "id": 2888339681,
      "node_id": "IC_kwDOABII586sKJDh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2888339681",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-17T11:58:10Z",
      "updated_at": "2025-05-17T12:00:14Z",
      "author_association": "CONTRIBUTOR",
      "body": "Fixed a few issues (following [SonarQube run](https://sonarcloud.io/project/issues?issueStatuses=OPEN%2CCONFIRMED&sinceLeakPeriod=true&branch=32541-1f629743e6c6ba4fab77ef1a8578bb82f0a70566&id=aureleoules_bitcoin)).",
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#issuecomment-2888339681",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32541"
    },
    {
      "event": "subscribed",
      "id": 17698975614,
      "node_id": "SE_lADOABII5863BCXxzwAAAAQe8O9-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17698975614",
      "actor": {
        "login": "dn4vzdx8xS15wUV0",
        "id": 211630628,
        "node_id": "U_kgDODJ06JA",
        "avatar_url": "https://avatars.githubusercontent.com/u/211630628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dn4vzdx8xS15wUV0",
        "html_url": "https://github.com/dn4vzdx8xS15wUV0",
        "followers_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/followers",
        "following_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/subscriptions",
        "organizations_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/orgs",
        "repos_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/repos",
        "events_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dn4vzdx8xS15wUV0/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-17T12:23:30Z"
    },
    {
      "event": "unlabeled",
      "id": 17699113847,
      "node_id": "UNLE_lADOABII5863BCXxzwAAAAQe8wt3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17699113847",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-17T13:13:14Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2895395162,
      "node_id": "IC_kwDOABII586slDla",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2895395162",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-20T18:15:32Z",
      "updated_at": "2025-05-20T18:15:32Z",
      "author_association": "MEMBER",
      "body": "How does this compare to `getrawtransaction <txid> 0 <blockhash>` without a txindex?",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#issuecomment-2895395162",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32541"
    },
    {
      "event": "commented",
      "id": 2897330791,
      "node_id": "IC_kwDOABII586sscJn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2897330791",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-21T09:51:22Z",
      "updated_at": "2025-05-21T09:53:28Z",
      "author_association": "CONTRIBUTOR",
      "body": "I have used `ApacheBench 2.3` for benchmarking REST API, and [the following Rust client](https://gist.github.com/romanz/2630210f497b69d605cdb831fd057b98) for `getrawtransaction` RPC:\r\n\r\n# fetching using the new index\r\n```\r\n$ ab -k -c 1 -n 100000 http://localhost:8332/rest/txfromblock/0000000000000000000083a0cff38278aae196d6d923a7e8ee7e5a0e371226fe-42.bin\r\n\r\nDocument Path:          /rest/txfromblock/0000000000000000000083a0cff38278aae196d6d923a7e8ee7e5a0e371226fe-42.bin\r\nDocument Length:        301 bytes\r\n\r\nConcurrency Level:      1\r\nTime taken for tests:   13.760 seconds\r\nComplete requests:      100000\r\nFailed requests:        0\r\nKeep-Alive requests:    100000\r\nTotal transferred:      40500000 bytes\r\nHTML transferred:       30100000 bytes\r\nRequests per second:    7267.65 [#/sec] (mean)\r\nTime per request:       0.138 [ms] (mean)\r\nTime per request:       0.138 [ms] (mean, across all concurrent requests)\r\nTransfer rate:          2874.41 [Kbytes/sec] received\r\n```\r\n\r\n# fetching using `txindex`\r\n```\r\n$ ab -k -c 1 -n 100000 http://localhost:8332/rest/tx/4137d0dbad434d68a4f52b7bebcba91ddac3f7f5c92b84130432bd6b5e2ea57a.bin\r\n\r\nDocument Path:          /rest/tx/4137d0dbad434d68a4f52b7bebcba91ddac3f7f5c92b84130432bd6b5e2ea57a.bin\r\nDocument Length:        301 bytes\r\n\r\nConcurrency Level:      1\r\nTime taken for tests:   14.075 seconds\r\nComplete requests:      100000\r\nFailed requests:        0\r\nKeep-Alive requests:    100000\r\nTotal transferred:      40500000 bytes\r\nHTML transferred:       30100000 bytes\r\nRequests per second:    7104.78 [#/sec] (mean)\r\nTime per request:       0.141 [ms] (mean)\r\nTime per request:       0.141 [ms] (mean, across all concurrent requests)\r\nTransfer rate:          2810.00 [Kbytes/sec] received\r\n```\r\n\r\n# fetching without `txindex`\r\n```\r\ntime cargo run --release -- 4137d0dbad434d68a4f52b7bebcba91ddac3f7f5c92b84130432bd6b5e2ea57a 0000000000000000000083a0cff38278aae196d6d923a7e8ee7e5a0e371226fe\r\n    Finished `release` profile [optimized] target(s) in 0.02s\r\n     Running `target/release/bench-getrawtx 4137d0dbad434d68a4f52b7bebcba91ddac3f7f5c92b84130432bd6b5e2ea57a 0000000000000000000083a0cff38278aae196d6d923a7e8ee7e5a0e371226fe`\r\niterations = 1000\r\naverage RPC duration = 8.563491ms\r\n\r\nreal\t0m8.628s\r\nuser\t0m0.070s\r\nsys\t0m0.052s\r\n```\r\n",
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#issuecomment-2897330791",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32541"
    },
    {
      "event": "labeled",
      "id": 18138214571,
      "node_id": "LE_lADOABII5863BCXxzwAAAAQ5HzCr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18138214571",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-13T17:34:49Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2971073957,
      "node_id": "IC_kwDOABII586xFv2l",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2971073957",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-13T17:34:51Z",
      "updated_at": "2025-06-13T17:34:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n🚧 At least one of the CI tasks failed.\n<sub>Task `previous releases, depends DEBUG`: https://github.com/bitcoin/bitcoin/runs/42406243587</sub>\n<sub>LLM reason (✨ experimental): The CI failure is caused by a missing header file test/util/index.h during compilation.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#issuecomment-2971073957",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32541"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18139260091,
      "node_id": "HRFPE_lADOABII5863BCXxzwAAAAQ5LyS7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18139260091",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "d962c9a9170c72483ed970918ce3836cf538ec43",
      "commit_url": "https://api.github.com/repos/romanz/bitcoin/commits/d962c9a9170c72483ed970918ce3836cf538ec43",
      "created_at": "2025-06-13T18:35:54Z"
    },
    {
      "event": "commented",
      "id": 2971357956,
      "node_id": "IC_kwDOABII586xG1ME",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2971357956",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-13T19:02:07Z",
      "updated_at": "2025-06-13T19:02:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased to fix https://github.com/bitcoin/bitcoin/pull/32541#issuecomment-2971073957.",
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#issuecomment-2971357956",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32541"
    },
    {
      "event": "unlabeled",
      "id": 18142641322,
      "node_id": "UNLE_lADOABII5863BCXxzwAAAAQ5Yryq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18142641322",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-13T22:50:53Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "convert_to_draft",
      "id": 18147525498,
      "node_id": "CTDE_lADOABII5863BCXxzwAAAAQ5rUN6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18147525498",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-14T08:58:50Z"
    },
    {
      "event": "ready_for_review",
      "id": 18149019268,
      "node_id": "RFRE_lADOABII5863BCXxzwAAAAQ5xA6E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18149019268",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-14T12:29:12Z"
    },
    {
      "event": "commented",
      "id": 2973968188,
      "node_id": "IC_kwDOABII586xQyc8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2973968188",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-15T14:34:19Z",
      "updated_at": "2025-06-15T14:34:19Z",
      "author_association": "CONTRIBUTOR",
      "body": "> How does this compare to getrawtransaction <txid> 0 <blockhash> without a txindex?\r\n\r\nAs far as I understand the index makes this operation faster by not requiring to read the entire block and then iterating through the transactions to find the match, which I am guessing is what the last benchmark is showing. romanz, would this new endpoint be used while creating the entire index initially, or to serve certain requests? It is not quite clear to me when an indexing client wouldn't want to read through the entire block and instead only get its transactions selectively.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#issuecomment-2973968188",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32541"
    },
    {
      "event": "commented",
      "id": 2974308726,
      "node_id": "IC_kwDOABII586xSFl2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2974308726",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-15T17:20:24Z",
      "updated_at": "2025-06-15T17:25:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "> As far as I understand the index makes this operation faster by not requiring to read the entire block and then iterating through the transactions to find the match\r\n\r\nCorrect - the proposed index improves the performance of fetching a single transaction (similar to `txindex`), requiring significantly less storage.\r\n\r\n> would this new endpoint be used while creating the entire index initially, or to serve certain requests?\r\n\r\nI would like the new index to be used to serve history-related queries.\r\nFor example, https://electrum-protocol.readthedocs.io/en/latest/protocol-methods.html#blockchain-scripthash-get-history. \r\n\r\nYou are right that during the history indexing process, the client doesn't need the proposed index, since it needs to read both the entire block ([and undo](https://github.com/bitcoin/bitcoin/pull/32540)) data in order to create a map between a transaction's location and its `ScriptPubKey`s.\r\n\r\nBTW, I am working on a proof-of-concept indexer (https://github.com/romanz/bindex-rs) which is using #32540 & #32541 - please let me know if there are any questions/comments/concerns :)\r\n",
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#issuecomment-2974308726",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32541"
    },
    {
      "event": "reviewed",
      "id": 2945853711,
      "node_id": "PRR_kwDOABII586vlikP",
      "url": null,
      "actor": null,
      "commit_id": "d962c9a9170c72483ed970918ce3836cf538ec43",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "lgtm. I wonder if there should be a fallback?",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#pullrequestreview-2945853711",
      "submitted_at": "2025-06-20T12:05:11Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32541"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18256657123,
      "node_id": "HRFPE_lADOABII5863BCXxzwAAAARALnrj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18256657123",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "8d446fc2f4548d7bc998994cb0e86875fb8be335",
      "commit_url": "https://api.github.com/repos/romanz/bitcoin/commits/8d446fc2f4548d7bc998994cb0e86875fb8be335",
      "created_at": "2025-06-21T09:57:47Z"
    },
    {
      "event": "commented",
      "id": 2993496536,
      "node_id": "IC_kwDOABII586ybSHY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2993496536",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-21T09:58:51Z",
      "updated_at": "2025-06-21T09:58:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased over `master` to use `std::vector<std::byte>` (following https://github.com/bitcoin/bitcoin/pull/32743).",
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#issuecomment-2993496536",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32541"
    },
    {
      "event": "convert_to_draft",
      "id": 18257387391,
      "node_id": "CTDE_lADOABII5863BCXxzwAAAARAOZ9_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18257387391",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-21T14:29:27Z"
    },
    {
      "event": "labeled",
      "id": 18257424262,
      "node_id": "LE_lADOABII5863BCXxzwAAAARAOi-G",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18257424262",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-21T14:43:29Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2993616109,
      "node_id": "IC_kwDOABII586ybvTt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2993616109",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-21T14:43:31Z",
      "updated_at": "2025-06-21T14:43:31Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n🚧 At least one of the CI tasks failed.\n<sub>Task `MSan, depends`: https://github.com/bitcoin/bitcoin/runs/44528503073</sub>\n<sub>LLM reason (✨ experimental): The CI failure is caused by the abort in the locationsindex_tests subprocess.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#issuecomment-2993616109",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32541"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18257793553,
      "node_id": "HRFPE_lADOABII5863BCXxzwAAAARAP9IR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18257793553",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "00c3651582b29465f681ff3c225b7c9e72c92d33",
      "commit_url": "https://api.github.com/repos/romanz/bitcoin/commits/00c3651582b29465f681ff3c225b7c9e72c92d33",
      "created_at": "2025-06-21T16:52:11Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18258085564,
      "node_id": "HRFPE_lADOABII5863BCXxzwAAAARAREa8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18258085564",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "df45388b97ea4d808256302531d4443526edf794",
      "commit_url": "https://api.github.com/repos/romanz/bitcoin/commits/df45388b97ea4d808256302531d4443526edf794",
      "created_at": "2025-06-21T18:10:11Z"
    },
    {
      "event": "ready_for_review",
      "id": 18258140604,
      "node_id": "RFRE_lADOABII5863BCXxzwAAAARARR28",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18258140604",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-21T18:20:09Z"
    },
    {
      "event": "unlabeled",
      "id": 18258294533,
      "node_id": "UNLE_lADOABII5863BCXxzwAAAARAR3cF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18258294533",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-21T19:03:31Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "review_requested",
      "id": 18258336199,
      "node_id": "RRE_lADOABII5863BCXxzwAAAARASBnH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18258336199",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-21T19:15:58Z",
      "requested_reviewer": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "commented",
      "id": 2994005562,
      "node_id": "IC_kwDOABII586ydOY6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2994005562",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-22T07:32:56Z",
      "updated_at": "2025-06-22T07:32:56Z",
      "author_association": "CONTRIBUTOR",
      "body": "BTW, if I understand correctly, this index may also improve the performance of [`SendBlockTransactions` during handling of `GETBLOCKTXN` requests](https://github.com/romanz/bitcoin/blob/df45388b97ea4d808256302531d4443526edf794/src/net_processing.cpp#L4181).\r\n",
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#issuecomment-2994005562",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32541"
    },
    {
      "event": "reviewed",
      "id": 2950110966,
      "node_id": "PRR_kwDOABII586v1x72",
      "url": null,
      "actor": null,
      "commit_id": "df45388b97ea4d808256302531d4443526edf794",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "lgtm",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#pullrequestreview-2950110966",
      "submitted_at": "2025-06-23T13:20:38Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32541"
    },
    {
      "event": "commented",
      "id": 2996487357,
      "node_id": "IC_kwDOABII586ymsS9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2996487357",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-23T13:22:20Z",
      "updated_at": "2025-06-23T13:22:20Z",
      "author_association": "MEMBER",
      "body": "> BTW, if I understand correctly, this index may also improve the performance of [`SendBlockTransactions` during handling of `GETBLOCKTXN` requests](https://github.com/romanz/bitcoin/blob/df45388b97ea4d808256302531d4443526edf794/src/net_processing.cpp#L4181).\r\n\r\nThis is only the fallback where the recent block fell out of memory. If this happens, the performance either shouldn't matter, or it may be better to keep more recent blocks in memory than just a single one.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#issuecomment-2996487357",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32541"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18280362223,
      "node_id": "HRFPE_lADOABII5863BCXxzwAAAARBmDDv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18280362223",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "99b48777eeb54a11f1f68adae3d273c1a634c3e7",
      "commit_url": "https://api.github.com/repos/romanz/bitcoin/commits/99b48777eeb54a11f1f68adae3d273c1a634c3e7",
      "created_at": "2025-06-23T20:00:21Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ5MzA4ODFhMTc5ZWNhMTU2Zjg0NThjNDkwMGRiNzdhYzU3Yzk0OTE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4930881a179eca156f8458c4900db77ac57c9491",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4930881a179eca156f8458c4900db77ac57c9491",
      "tree": {
        "sha": "552e1a5277e1aed4891d3d524adc3eb758cf8aea",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/552e1a5277e1aed4891d3d524adc3eb758cf8aea"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b3bb4031ab32a1306c610f8683b25b8459b21dbc",
          "sha": "b3bb4031ab32a1306c610f8683b25b8459b21dbc",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b3bb4031ab32a1306c610f8683b25b8459b21dbc"
        }
      ],
      "message": "index: store per-block transaction locations for efficient lookups\n\nCurrently, electrs and other indexers are used to maintain a map between\nan address/scripthash to the list of the relevant transactions.\n\nHowever, in order to fetch those transactions from bitcoind, electrs\nrelies on reading the whole block and post-filtering for a specific\ntransaction [1]. Other indexers use a `txindex` to fetch a transaction\nusing its txid [2,3,4].\n\nThe above approach has significant storage and CPU overhead, since\nthe `txid` is a pseudo-random 32-byte value.\n\nThis PR is adding support for using the transaction's offset within\nits block to be able to read it directly using REST API.\n\nIf binary response format is used, the transaction data will be read\ndirectly from the storage and sent back to the client, without any\ndeserialization overhead.\n\nThe resulting index is much smaller (allowing it to be cached):\n\n  $ du -sh indexes/locations/ indexes/txindex/\n  2.5G\tindexes/locations/\n  57G\tindexes/txindex/\n\n[1] https://github.com/romanz/electrs/blob/master/doc/schema.md\n[2] https://github.com/Blockstream/electrs/blob/new-index/doc/schema.md#txstore\n[3] https://github.com/spesmilo/electrumx/blob/master/docs/HOWTO.rst#prerequisites\n[4] https://github.com/cculianu/Fulcrum/blob/master/README.md#requirements",
      "committer": {
        "name": "Roman Zeyde",
        "email": "me@romanzey.de",
        "date": "2025-06-28T06:37:29Z"
      },
      "author": {
        "name": "Roman Zeyde",
        "email": "me@romanzey.de",
        "date": "2024-07-06T21:00:49Z"
      },
      "sha": "4930881a179eca156f8458c4900db77ac57c9491"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDgwYTljNzI0ZGM5OTFiNjYwM2U0YzU5OTMxMzMzZjkxYWFmNTZhMzA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/80a9c724dc991b6603e4c59931333f91aaf56a30",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/80a9c724dc991b6603e4c59931333f91aaf56a30",
      "tree": {
        "sha": "c02eedcb2fa6229145b9d20fb5c634e59d8f71f4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c02eedcb2fa6229145b9d20fb5c634e59d8f71f4"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4930881a179eca156f8458c4900db77ac57c9491",
          "sha": "4930881a179eca156f8458c4900db77ac57c9491",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4930881a179eca156f8458c4900db77ac57c9491"
        }
      ],
      "message": "rest: allow fetching transaction from a block without locationindex",
      "committer": {
        "name": "Roman Zeyde",
        "email": "me@romanzey.de",
        "date": "2025-06-28T06:37:29Z"
      },
      "author": {
        "name": "Roman Zeyde",
        "email": "me@romanzey.de",
        "date": "2025-06-21T09:55:09Z"
      },
      "sha": "80a9c724dc991b6603e4c59931333f91aaf56a30"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18367563775,
      "node_id": "HRFPE_lADOABII5863BCXxzwAAAARGysf_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18367563775",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "80a9c724dc991b6603e4c59931333f91aaf56a30",
      "commit_url": "https://api.github.com/repos/romanz/bitcoin/commits/80a9c724dc991b6603e4c59931333f91aaf56a30",
      "created_at": "2025-06-28T06:41:13Z"
    },
    {
      "event": "commented",
      "id": 3015029219,
      "node_id": "IC_kwDOABII586ztbHj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3015029219",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-28T06:43:31Z",
      "updated_at": "2025-06-28T06:43:31Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased over `master` and fixed `rest_tx_from_block()` argument name case (in addition to https://github.com/bitcoin/bitcoin/pull/32825).",
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#issuecomment-3015029219",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32541"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2158804941",
      "pull_request_review_id": 2945853711,
      "id": 2158804941,
      "node_id": "PRRC_kwDOABII586ArL_N",
      "diff_hunk": "@@ -364,6 +365,92 @@ static bool rest_block_notxdetails(const std::any& context, HTTPRequest* req, co\n     return rest_block(context, req, strURIPart, TxVerbosity::SHOW_TXID);\n }\n \n+\n+static bool rest_tx_from_block(const std::any& context, HTTPRequest* req, const std::string& strURIPart)\n+{\n+    if (!CheckWarmup(req)) return false;\n+\n+    std::string param;\n+    const RESTResponseFormat rf = ParseDataFormat(param, strURIPart);\n+\n+    // request is sent over URI scheme /rest/txfromblock/blockhash-index\n+    std::vector<std::string_view> uriParts{util::Split<std::string_view>(param, '-')};\n+    if (uriParts.size() != 2) {\n+        return RESTERR(req, HTTP_BAD_REQUEST, strprintf(\"Invalid URI format: %s\", param));\n+    }\n+\n+    std::optional<uint256> block_hash{uint256::FromHex(uriParts[0])};\n+    if (!block_hash) {\n+        return RESTERR(req, HTTP_BAD_REQUEST, strprintf(\"Invalid hash: %s\", uriParts[0]));\n+    }\n+\n+    const std::optional<size_t> parsed_index{ToIntegral<size_t>(uriParts[1])};\n+    if (!parsed_index.has_value()) {\n+        return RESTERR(req, HTTP_BAD_REQUEST, strprintf(\"Transaction index is invalid: %s\", uriParts[1]));\n+    }\n+    const size_t index = *parsed_index;\n+    {\n+        ChainstateManager* maybe_chainman = GetChainman(context, req);\n+        if (!maybe_chainman) return false;\n+        ChainstateManager& chainman = *maybe_chainman;\n+\n+        LOCK(cs_main);\n+        const CBlockIndex* pindex{chainman.m_blockman.LookupBlockIndex(*block_hash)};\n+        if (pindex == nullptr) {\n+            return RESTERR(req, HTTP_NOT_FOUND, strprintf(\"Block %s not found\", uriParts[0]));\n+        }\n+        if (pindex->nHeight > 0 && !pindex->IsValid(BLOCK_VALID_SCRIPTS)) {\n+            return RESTERR(req, HTTP_NOT_FOUND, strprintf(\"Block %s not validated\", uriParts[0]));\n+        }\n+        if (index >= pindex->nTx) {\n+            return RESTERR(req, HTTP_BAD_REQUEST, strprintf(\"Block %s has only %d transactions\", uriParts[0], pindex->nTx));\n+        }\n+    }\n+\n+    const LocationsIndex* locations_index = g_locations_index.get();\n+    if (!locations_index) {\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"Locations index is not enabled\");",
      "path": "src/rest.cpp",
      "position": null,
      "original_position": 56,
      "commit_id": "80a9c724dc991b6603e4c59931333f91aaf56a30",
      "original_commit_id": "d962c9a9170c72483ed970918ce3836cf538ec43",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "not sure about returning an error here. Should be easy to implement a fallback?\r\n\r\nThis should also make it easier to benchmark the benefit of the index.\r\n\r\n(I guess it is clear that RPC with json overhead eats some CPU, but out of curiosity   I wonder what the difference is between reading the db value (tx location) + reading the tx versus reading the full block and implementing a raw-tx-seeker to jump to the raw bytes of the tx in the block. This should be possible by just reading the length prefixes and then skipping them. I guess the worst case scenario is when its the last transaction, where the prior transaction(s) are mostly filled with minimally sized length prefixes)",
      "created_at": "2025-06-20T12:04:55Z",
      "updated_at": "2025-06-20T12:05:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#discussion_r2158804941",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2158804941"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32541"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 412,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2159265802",
      "pull_request_review_id": 2946634361,
      "id": 2159265802,
      "node_id": "PRRC_kwDOABII586As8gK",
      "diff_hunk": "@@ -364,6 +365,92 @@ static bool rest_block_notxdetails(const std::any& context, HTTPRequest* req, co\n     return rest_block(context, req, strURIPart, TxVerbosity::SHOW_TXID);\n }\n \n+\n+static bool rest_tx_from_block(const std::any& context, HTTPRequest* req, const std::string& strURIPart)\n+{\n+    if (!CheckWarmup(req)) return false;\n+\n+    std::string param;\n+    const RESTResponseFormat rf = ParseDataFormat(param, strURIPart);\n+\n+    // request is sent over URI scheme /rest/txfromblock/blockhash-index\n+    std::vector<std::string_view> uriParts{util::Split<std::string_view>(param, '-')};\n+    if (uriParts.size() != 2) {\n+        return RESTERR(req, HTTP_BAD_REQUEST, strprintf(\"Invalid URI format: %s\", param));\n+    }\n+\n+    std::optional<uint256> block_hash{uint256::FromHex(uriParts[0])};\n+    if (!block_hash) {\n+        return RESTERR(req, HTTP_BAD_REQUEST, strprintf(\"Invalid hash: %s\", uriParts[0]));\n+    }\n+\n+    const std::optional<size_t> parsed_index{ToIntegral<size_t>(uriParts[1])};\n+    if (!parsed_index.has_value()) {\n+        return RESTERR(req, HTTP_BAD_REQUEST, strprintf(\"Transaction index is invalid: %s\", uriParts[1]));\n+    }\n+    const size_t index = *parsed_index;\n+    {\n+        ChainstateManager* maybe_chainman = GetChainman(context, req);\n+        if (!maybe_chainman) return false;\n+        ChainstateManager& chainman = *maybe_chainman;\n+\n+        LOCK(cs_main);\n+        const CBlockIndex* pindex{chainman.m_blockman.LookupBlockIndex(*block_hash)};\n+        if (pindex == nullptr) {\n+            return RESTERR(req, HTTP_NOT_FOUND, strprintf(\"Block %s not found\", uriParts[0]));\n+        }\n+        if (pindex->nHeight > 0 && !pindex->IsValid(BLOCK_VALID_SCRIPTS)) {\n+            return RESTERR(req, HTTP_NOT_FOUND, strprintf(\"Block %s not validated\", uriParts[0]));\n+        }\n+        if (index >= pindex->nTx) {\n+            return RESTERR(req, HTTP_BAD_REQUEST, strprintf(\"Block %s has only %d transactions\", uriParts[0], pindex->nTx));\n+        }\n+    }\n+\n+    const LocationsIndex* locations_index = g_locations_index.get();\n+    if (!locations_index) {\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"Locations index is not enabled\");",
      "path": "src/rest.cpp",
      "position": null,
      "original_position": 56,
      "commit_id": "80a9c724dc991b6603e4c59931333f91aaf56a30",
      "original_commit_id": "d962c9a9170c72483ed970918ce3836cf538ec43",
      "in_reply_to_id": 2158804941,
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks!\r\n\r\n> This should also make it easier to benchmark the benefit of the index.\r\n\r\nSounds good - will implement a fallback.",
      "created_at": "2025-06-20T15:35:09Z",
      "updated_at": "2025-06-20T16:25:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#discussion_r2159265802",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2159265802"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32541"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 412,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2160039017",
      "pull_request_review_id": 2947768242,
      "id": 2160039017,
      "node_id": "PRRC_kwDOABII586Av5Rp",
      "diff_hunk": "@@ -364,6 +365,92 @@ static bool rest_block_notxdetails(const std::any& context, HTTPRequest* req, co\n     return rest_block(context, req, strURIPart, TxVerbosity::SHOW_TXID);\n }\n \n+\n+static bool rest_tx_from_block(const std::any& context, HTTPRequest* req, const std::string& strURIPart)\n+{\n+    if (!CheckWarmup(req)) return false;\n+\n+    std::string param;\n+    const RESTResponseFormat rf = ParseDataFormat(param, strURIPart);\n+\n+    // request is sent over URI scheme /rest/txfromblock/blockhash-index\n+    std::vector<std::string_view> uriParts{util::Split<std::string_view>(param, '-')};\n+    if (uriParts.size() != 2) {\n+        return RESTERR(req, HTTP_BAD_REQUEST, strprintf(\"Invalid URI format: %s\", param));\n+    }\n+\n+    std::optional<uint256> block_hash{uint256::FromHex(uriParts[0])};\n+    if (!block_hash) {\n+        return RESTERR(req, HTTP_BAD_REQUEST, strprintf(\"Invalid hash: %s\", uriParts[0]));\n+    }\n+\n+    const std::optional<size_t> parsed_index{ToIntegral<size_t>(uriParts[1])};\n+    if (!parsed_index.has_value()) {\n+        return RESTERR(req, HTTP_BAD_REQUEST, strprintf(\"Transaction index is invalid: %s\", uriParts[1]));\n+    }\n+    const size_t index = *parsed_index;\n+    {\n+        ChainstateManager* maybe_chainman = GetChainman(context, req);\n+        if (!maybe_chainman) return false;\n+        ChainstateManager& chainman = *maybe_chainman;\n+\n+        LOCK(cs_main);\n+        const CBlockIndex* pindex{chainman.m_blockman.LookupBlockIndex(*block_hash)};\n+        if (pindex == nullptr) {\n+            return RESTERR(req, HTTP_NOT_FOUND, strprintf(\"Block %s not found\", uriParts[0]));\n+        }\n+        if (pindex->nHeight > 0 && !pindex->IsValid(BLOCK_VALID_SCRIPTS)) {\n+            return RESTERR(req, HTTP_NOT_FOUND, strprintf(\"Block %s not validated\", uriParts[0]));\n+        }\n+        if (index >= pindex->nTx) {\n+            return RESTERR(req, HTTP_BAD_REQUEST, strprintf(\"Block %s has only %d transactions\", uriParts[0], pindex->nTx));\n+        }\n+    }\n+\n+    const LocationsIndex* locations_index = g_locations_index.get();\n+    if (!locations_index) {\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"Locations index is not enabled\");",
      "path": "src/rest.cpp",
      "position": null,
      "original_position": 56,
      "commit_id": "80a9c724dc991b6603e4c59931333f91aaf56a30",
      "original_commit_id": "d962c9a9170c72483ed970918ce3836cf538ec43",
      "in_reply_to_id": 2158804941,
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Implemented in df45388b97.\r\n",
      "created_at": "2025-06-21T13:29:03Z",
      "updated_at": "2025-06-21T18:18:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#discussion_r2160039017",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2160039017"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32541"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 412,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2160238302",
      "pull_request_review_id": 2948073543,
      "id": 2160238302,
      "node_id": "PRRC_kwDOABII586Awp7e",
      "diff_hunk": "@@ -364,6 +365,92 @@ static bool rest_block_notxdetails(const std::any& context, HTTPRequest* req, co\n     return rest_block(context, req, strURIPart, TxVerbosity::SHOW_TXID);\n }\n \n+\n+static bool rest_tx_from_block(const std::any& context, HTTPRequest* req, const std::string& strURIPart)\n+{\n+    if (!CheckWarmup(req)) return false;\n+\n+    std::string param;\n+    const RESTResponseFormat rf = ParseDataFormat(param, strURIPart);\n+\n+    // request is sent over URI scheme /rest/txfromblock/blockhash-index\n+    std::vector<std::string_view> uriParts{util::Split<std::string_view>(param, '-')};\n+    if (uriParts.size() != 2) {\n+        return RESTERR(req, HTTP_BAD_REQUEST, strprintf(\"Invalid URI format: %s\", param));\n+    }\n+\n+    std::optional<uint256> block_hash{uint256::FromHex(uriParts[0])};\n+    if (!block_hash) {\n+        return RESTERR(req, HTTP_BAD_REQUEST, strprintf(\"Invalid hash: %s\", uriParts[0]));\n+    }\n+\n+    const std::optional<size_t> parsed_index{ToIntegral<size_t>(uriParts[1])};\n+    if (!parsed_index.has_value()) {\n+        return RESTERR(req, HTTP_BAD_REQUEST, strprintf(\"Transaction index is invalid: %s\", uriParts[1]));\n+    }\n+    const size_t index = *parsed_index;\n+    {\n+        ChainstateManager* maybe_chainman = GetChainman(context, req);\n+        if (!maybe_chainman) return false;\n+        ChainstateManager& chainman = *maybe_chainman;\n+\n+        LOCK(cs_main);\n+        const CBlockIndex* pindex{chainman.m_blockman.LookupBlockIndex(*block_hash)};\n+        if (pindex == nullptr) {\n+            return RESTERR(req, HTTP_NOT_FOUND, strprintf(\"Block %s not found\", uriParts[0]));\n+        }\n+        if (pindex->nHeight > 0 && !pindex->IsValid(BLOCK_VALID_SCRIPTS)) {\n+            return RESTERR(req, HTTP_NOT_FOUND, strprintf(\"Block %s not validated\", uriParts[0]));\n+        }\n+        if (index >= pindex->nTx) {\n+            return RESTERR(req, HTTP_BAD_REQUEST, strprintf(\"Block %s has only %d transactions\", uriParts[0], pindex->nTx));\n+        }\n+    }\n+\n+    const LocationsIndex* locations_index = g_locations_index.get();\n+    if (!locations_index) {\n+        return RESTERR(req, HTTP_BAD_REQUEST, \"Locations index is not enabled\");",
      "path": "src/rest.cpp",
      "position": null,
      "original_position": 56,
      "commit_id": "80a9c724dc991b6603e4c59931333f91aaf56a30",
      "original_commit_id": "d962c9a9170c72483ed970918ce3836cf538ec43",
      "in_reply_to_id": 2158804941,
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Tested using [the following Testnet4 block](https://mempool.space/testnet4/block/00000000000000047b26e3ef164e30f0475c12408d0ece060f90f722aa90787b):\r\n\r\n# `-locationsindex=1`\r\n\r\n```\r\n$ BLOCKHASH=00000000000000047b26e3ef164e30f0475c12408d0ece060f90f722aa90787b\r\n$ ab -k -c 1 -n 100000 http://localhost:48332/rest/txfromblock/$BLOCKHASH-0.bin\r\n\r\nDocument Path:          /rest/txfromblock/00000000000000047b26e3ef164e30f0475c12408d0ece060f90f722aa90787b-0.bin\r\nDocument Length:        273 bytes\r\n\r\nConcurrency Level:      1\r\nTime taken for tests:   2.983 seconds\r\nComplete requests:      100000\r\nFailed requests:        0\r\nKeep-Alive requests:    100000\r\nTotal transferred:      37700000 bytes\r\nHTML transferred:       27300000 bytes\r\nRequests per second:    33527.87 [#/sec] (mean)\r\nTime per request:       0.030 [ms] (mean)\r\nTime per request:       0.030 [ms] (mean, across all concurrent requests)\r\nTransfer rate:          12343.76 [Kbytes/sec] received\r\n\r\n$ ab -k -c 1 -n 100000 http://localhost:48332/rest/txfromblock/$BLOCKHASH-1000.bin\r\n\r\nDocument Path:          /rest/txfromblock/00000000000000047b26e3ef164e30f0475c12408d0ece060f90f722aa90787b-1000.bin\r\nDocument Length:        308 bytes\r\n\r\nConcurrency Level:      1\r\nTime taken for tests:   3.122 seconds\r\nComplete requests:      100000\r\nFailed requests:        0\r\nKeep-Alive requests:    100000\r\nTotal transferred:      41200000 bytes\r\nHTML transferred:       30800000 bytes\r\nRequests per second:    32032.96 [#/sec] (mean)\r\nTime per request:       0.031 [ms] (mean)\r\nTime per request:       0.031 [ms] (mean, across all concurrent requests)\r\nTransfer rate:          12888.26 [Kbytes/sec] received\r\n\r\n$ ab -k -c 1 -n 100000 http://localhost:48332/rest/txfromblock/$BLOCKHASH-2000.bin\r\n\r\nDocument Path:          /rest/txfromblock/00000000000000047b26e3ef164e30f0475c12408d0ece060f90f722aa90787b-2000.bin\r\nDocument Length:        308 bytes\r\n\r\nConcurrency Level:      1\r\nTime taken for tests:   3.030 seconds\r\nComplete requests:      100000\r\nFailed requests:        0\r\nKeep-Alive requests:    100000\r\nTotal transferred:      41200000 bytes\r\nHTML transferred:       30800000 bytes\r\nRequests per second:    33003.94 [#/sec] (mean)\r\nTime per request:       0.030 [ms] (mean)\r\nTime per request:       0.030 [ms] (mean, across all concurrent requests)\r\nTransfer rate:          13278.93 [Kbytes/sec] received\r\n\r\n$ ab -k -c 1 -n 100000 http://localhost:48332/rest/txfromblock/$BLOCKHASH-3000.bin\r\n\r\nDocument Path:          /rest/txfromblock/00000000000000047b26e3ef164e30f0475c12408d0ece060f90f722aa90787b-3000.bin\r\nDocument Length:        309 bytes\r\n\r\nConcurrency Level:      1\r\nTime taken for tests:   3.362 seconds\r\nComplete requests:      100000\r\nFailed requests:        0\r\nKeep-Alive requests:    100000\r\nTotal transferred:      41300000 bytes\r\nHTML transferred:       30900000 bytes\r\nRequests per second:    29745.72 [#/sec] (mean)\r\nTime per request:       0.034 [ms] (mean)\r\nTime per request:       0.034 [ms] (mean, across all concurrent requests)\r\nTransfer rate:          11997.05 [Kbytes/sec] received\r\n\r\n$ ab -k -c 1 -n 100000 http://localhost:48332/rest/txfromblock/$BLOCKHASH-4000.bin\r\n\r\nDocument Path:          /rest/txfromblock/00000000000000047b26e3ef164e30f0475c12408d0ece060f90f722aa90787b-4000.bin\r\nDocument Length:        309 bytes\r\n\r\nConcurrency Level:      1\r\nTime taken for tests:   2.854 seconds\r\nComplete requests:      100000\r\nFailed requests:        0\r\nKeep-Alive requests:    100000\r\nTotal transferred:      41300000 bytes\r\nHTML transferred:       30900000 bytes\r\nRequests per second:    35040.53 [#/sec] (mean)\r\nTime per request:       0.029 [ms] (mean)\r\nTime per request:       0.029 [ms] (mean, across all concurrent requests)\r\nTransfer rate:          14132.56 [Kbytes/sec] received\r\n```\r\n\r\n# `-locationsindex=0`\r\n\r\n```\r\n$ ab -k -c 1 -n 100000 http://localhost:48332/rest/txfromblock/$BLOCKHASH-0.bin\r\n\r\nConcurrency Level:      1\r\nTime taken for tests:   3.245 seconds\r\nComplete requests:      100000\r\nFailed requests:        0\r\nKeep-Alive requests:    100000\r\nTotal transferred:      37700000 bytes\r\nHTML transferred:       27300000 bytes\r\nRequests per second:    30819.31 [#/sec] (mean)\r\nTime per request:       0.032 [ms] (mean)\r\nTime per request:       0.032 [ms] (mean, across all concurrent requests)\r\nTransfer rate:          11346.56 [Kbytes/sec] received\r\n\r\n$ ab -k -c 1 -n 10000 http://localhost:48332/rest/txfromblock/$BLOCKHASH-1000.bin\r\n\r\nConcurrency Level:      1\r\nTime taken for tests:   4.588 seconds\r\nComplete requests:      10000\r\nFailed requests:        0\r\nKeep-Alive requests:    10000\r\nTotal transferred:      4120000 bytes\r\nHTML transferred:       3080000 bytes\r\nRequests per second:    2179.68 [#/sec] (mean)\r\nTime per request:       0.459 [ms] (mean)\r\nTime per request:       0.459 [ms] (mean, across all concurrent requests)\r\nTransfer rate:          876.98 [Kbytes/sec] received\r\n\r\n$ ab -k -c 1 -n 10000 http://localhost:48332/rest/txfromblock/$BLOCKHASH-2000.bin\r\n\r\nConcurrency Level:      1\r\nTime taken for tests:   9.388 seconds\r\nComplete requests:      10000\r\nFailed requests:        0\r\nKeep-Alive requests:    10000\r\nTotal transferred:      4120000 bytes\r\nHTML transferred:       3080000 bytes\r\nRequests per second:    1065.20 [#/sec] (mean)\r\nTime per request:       0.939 [ms] (mean)\r\nTime per request:       0.939 [ms] (mean, across all concurrent requests)\r\nTransfer rate:          428.58 [Kbytes/sec] received\r\n\r\n$ ab -k -c 1 -n 10000 http://localhost:48332/rest/txfromblock/$BLOCKHASH-3000.bin\r\n\r\nConcurrency Level:      1\r\nTime taken for tests:   12.819 seconds\r\nComplete requests:      10000\r\nFailed requests:        0\r\nKeep-Alive requests:    10000\r\nTotal transferred:      4130000 bytes\r\nHTML transferred:       3090000 bytes\r\nRequests per second:    780.10 [#/sec] (mean)\r\nTime per request:       1.282 [ms] (mean)\r\nTime per request:       1.282 [ms] (mean, across all concurrent requests)\r\nTransfer rate:          314.63 [Kbytes/sec] received\r\n\r\n$ ab -k -c 1 -n 10000 http://localhost:48332/rest/txfromblock/$BLOCKHASH-4000.bin\r\n\r\nConcurrency Level:      1\r\nTime taken for tests:   17.962 seconds\r\nComplete requests:      10000\r\nFailed requests:        0\r\nKeep-Alive requests:    10000\r\nTotal transferred:      4130000 bytes\r\nHTML transferred:       3090000 bytes\r\nRequests per second:    556.73 [#/sec] (mean)\r\nTime per request:       1.796 [ms] (mean)\r\nTime per request:       1.796 [ms] (mean, across all concurrent requests)\r\nTransfer rate:          224.54 [Kbytes/sec] received\r\n```\r\n",
      "created_at": "2025-06-22T06:39:16Z",
      "updated_at": "2025-06-22T06:39:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#discussion_r2160238302",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2160238302"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32541"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 412,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2161623385",
      "pull_request_review_id": 2950110966,
      "id": 2161623385,
      "node_id": "PRRC_kwDOABII586A18FZ",
      "diff_hunk": "@@ -1080,6 +1080,119 @@ bool BlockManager::ReadRawBlock(std::vector<std::byte>& block, const FlatFilePos\n     return true;\n }\n \n+static const uint32_t HEADER_SIZE = ::GetSerializeSize(CBlockHeader{});\n+\n+template <typename T>\n+struct SkipVector {\n+    size_t count;\n+    T elem; // use for skipping element-related data\n+\n+    void clear()\n+    {\n+        count = 0;\n+    }\n+\n+    size_t size() const\n+    {\n+        return count;\n+    }\n+\n+    T& operator[](size_t)\n+    {\n+        return elem;\n+    }\n+\n+    template <typename Stream>\n+    void Unserialize(Stream& s)\n+    {\n+        count = ReadCompactSize(s);\n+        for (size_t i = 0; i < count; ++i) {\n+            s >> elem;\n+        }\n+    }\n+};\n+\n+struct SkipBytes {\n+    template <typename Stream>\n+    void Unserialize(Stream& s)\n+    {\n+        size_t size = ReadCompactSize(s);\n+        s.ignore(size);\n+    }\n+};\n+\n+struct SkipScriptWitness {\n+    SkipVector<SkipBytes> stack;\n+};\n+\n+struct SkipTxIn {\n+    SkipScriptWitness scriptWitness; // accessed by UnserializeTransaction\n+\n+    template <typename Stream>\n+    void Unserialize(Stream& s)\n+    {\n+        COutPoint prevout;\n+        SkipBytes scriptSig;\n+        uint32_t nSequence;\n+\n+        s >> prevout >> scriptSig >> nSequence;\n+    }\n+};\n+\n+struct SkipTxOut {\n+    template <typename Stream>\n+    void Unserialize(Stream& s)\n+    {\n+        CAmount nValue;\n+        SkipBytes scriptPubKey;\n+\n+        s >> nValue >> scriptPubKey;\n+    }\n+};\n+\n+struct SkipTransaction {\n+    SkipVector<SkipTxIn> vin;\n+    SkipVector<SkipTxOut> vout;\n+    uint32_t version;\n+    uint32_t nLockTime;\n+\n+    template <typename Stream>\n+    void Unserialize(Stream& s)\n+    {\n+        UnserializeTransaction(*this, s, TX_WITH_WITNESS);\n+    }\n+\n+    bool HasWitness() const { return true; }\n+};\n+\n+bool BlockManager::ReadRawTxFromBlock(std::vector<std::byte>& tx_bytes, const FlatFilePos& block_pos, size_t tx_index) const\n+{\n+    AutoFile filein{OpenBlockFile(block_pos, /*fReadOnly=*/true)};\n+    if (filein.IsNull()) {\n+        LogError(\"OpenBlockFile failed for %s while reading raw transaction from block\", block_pos.ToString());\n+        return false;\n+    }\n+\n+    filein.ignore(HEADER_SIZE);\n+    size_t tx_count = ReadCompactSize(filein);\n+    if (tx_index >= tx_count) {\n+        return false;\n+    }\n+\n+    SkipTransaction skip_tx;",
      "path": "src/node/blockstorage.cpp",
      "position": null,
      "original_position": 103,
      "commit_id": "80a9c724dc991b6603e4c59931333f91aaf56a30",
      "original_commit_id": "df45388b97ea4d808256302531d4443526edf794",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "thanks for implementing this idea. Though, at least locally on my system it looks like it didn't improve the end-to-end performance for me, at least not in a significant benchmark.\r\n\r\nSo it seems fine to use the \"normal\" deserialization and even go through a redundant ser-deser loop?\r\n\r\n\r\n```diff\r\ndiff --git a/src/node/blockstorage.cpp b/src/node/blockstorage.cpp\r\nindex a049122894..64cb914cb1 100644\r\n--- a/src/node/blockstorage.cpp\r\n+++ b/src/node/blockstorage.cpp\r\n@@ -1179,17 +1179,14 @@ bool BlockManager::ReadRawTxFromBlock(std::vector<std::byte>& tx_bytes, const Fl\r\n         return false;\r\n     }\r\n \r\n-    SkipTransaction skip_tx;\r\n+    CMutableTransaction skip_tx;\r\n     for (size_t i = 0; i < tx_index; ++i) {\r\n-        filein >> skip_tx;\r\n+        filein >> TX_WITH_WITNESS(skip_tx);\r\n     }\r\n-    int64_t tx_start = filein.tell();\r\n-    filein >> skip_tx;\r\n-    int64_t tx_end = filein.tell();\r\n+        filein >> TX_WITH_WITNESS(skip_tx);\r\n \r\n-    tx_bytes.resize(tx_end - tx_start);\r\n-    filein.seek(tx_start, SEEK_SET);\r\n-    filein.read(tx_bytes);\r\n+    tx_bytes.resize(0);\r\n+    VectorWriter {*(std::vector<unsigned char> *)&tx_bytes,tx_bytes.size()}<<TX_WITH_WITNESS(skip_tx);\r\n     return true;\r\n }\r\n \r\n",
      "created_at": "2025-06-23T13:20:28Z",
      "updated_at": "2025-06-23T13:20:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#discussion_r2161623385",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2161623385"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32541"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1182,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2161877867",
      "pull_request_review_id": 2950518449,
      "id": 2161877867,
      "node_id": "PRRC_kwDOABII586A26Nr",
      "diff_hunk": "@@ -1080,6 +1080,119 @@ bool BlockManager::ReadRawBlock(std::vector<std::byte>& block, const FlatFilePos\n     return true;\n }\n \n+static const uint32_t HEADER_SIZE = ::GetSerializeSize(CBlockHeader{});\n+\n+template <typename T>\n+struct SkipVector {\n+    size_t count;\n+    T elem; // use for skipping element-related data\n+\n+    void clear()\n+    {\n+        count = 0;\n+    }\n+\n+    size_t size() const\n+    {\n+        return count;\n+    }\n+\n+    T& operator[](size_t)\n+    {\n+        return elem;\n+    }\n+\n+    template <typename Stream>\n+    void Unserialize(Stream& s)\n+    {\n+        count = ReadCompactSize(s);\n+        for (size_t i = 0; i < count; ++i) {\n+            s >> elem;\n+        }\n+    }\n+};\n+\n+struct SkipBytes {\n+    template <typename Stream>\n+    void Unserialize(Stream& s)\n+    {\n+        size_t size = ReadCompactSize(s);\n+        s.ignore(size);\n+    }\n+};\n+\n+struct SkipScriptWitness {\n+    SkipVector<SkipBytes> stack;\n+};\n+\n+struct SkipTxIn {\n+    SkipScriptWitness scriptWitness; // accessed by UnserializeTransaction\n+\n+    template <typename Stream>\n+    void Unserialize(Stream& s)\n+    {\n+        COutPoint prevout;\n+        SkipBytes scriptSig;\n+        uint32_t nSequence;\n+\n+        s >> prevout >> scriptSig >> nSequence;\n+    }\n+};\n+\n+struct SkipTxOut {\n+    template <typename Stream>\n+    void Unserialize(Stream& s)\n+    {\n+        CAmount nValue;\n+        SkipBytes scriptPubKey;\n+\n+        s >> nValue >> scriptPubKey;\n+    }\n+};\n+\n+struct SkipTransaction {\n+    SkipVector<SkipTxIn> vin;\n+    SkipVector<SkipTxOut> vout;\n+    uint32_t version;\n+    uint32_t nLockTime;\n+\n+    template <typename Stream>\n+    void Unserialize(Stream& s)\n+    {\n+        UnserializeTransaction(*this, s, TX_WITH_WITNESS);\n+    }\n+\n+    bool HasWitness() const { return true; }\n+};\n+\n+bool BlockManager::ReadRawTxFromBlock(std::vector<std::byte>& tx_bytes, const FlatFilePos& block_pos, size_t tx_index) const\n+{\n+    AutoFile filein{OpenBlockFile(block_pos, /*fReadOnly=*/true)};\n+    if (filein.IsNull()) {\n+        LogError(\"OpenBlockFile failed for %s while reading raw transaction from block\", block_pos.ToString());\n+        return false;\n+    }\n+\n+    filein.ignore(HEADER_SIZE);\n+    size_t tx_count = ReadCompactSize(filein);\n+    if (tx_index >= tx_count) {\n+        return false;\n+    }\n+\n+    SkipTransaction skip_tx;",
      "path": "src/node/blockstorage.cpp",
      "position": null,
      "original_position": 103,
      "commit_id": "80a9c724dc991b6603e4c59931333f91aaf56a30",
      "original_commit_id": "df45388b97ea4d808256302531d4443526edf794",
      "in_reply_to_id": 2161623385,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Wrapping the autofile into `BufferedReader` helped more on my system with reading later transactions in the block via this fallback branch.",
      "created_at": "2025-06-23T15:16:13Z",
      "updated_at": "2025-06-23T15:16:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#discussion_r2161877867",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2161877867"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32541"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1182,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2162435719",
      "pull_request_review_id": 2951384573,
      "id": 2162435719,
      "node_id": "PRRC_kwDOABII586A5CaH",
      "diff_hunk": "@@ -1080,6 +1080,119 @@ bool BlockManager::ReadRawBlock(std::vector<std::byte>& block, const FlatFilePos\n     return true;\n }\n \n+static const uint32_t HEADER_SIZE = ::GetSerializeSize(CBlockHeader{});\n+\n+template <typename T>\n+struct SkipVector {\n+    size_t count;\n+    T elem; // use for skipping element-related data\n+\n+    void clear()\n+    {\n+        count = 0;\n+    }\n+\n+    size_t size() const\n+    {\n+        return count;\n+    }\n+\n+    T& operator[](size_t)\n+    {\n+        return elem;\n+    }\n+\n+    template <typename Stream>\n+    void Unserialize(Stream& s)\n+    {\n+        count = ReadCompactSize(s);\n+        for (size_t i = 0; i < count; ++i) {\n+            s >> elem;\n+        }\n+    }\n+};\n+\n+struct SkipBytes {\n+    template <typename Stream>\n+    void Unserialize(Stream& s)\n+    {\n+        size_t size = ReadCompactSize(s);\n+        s.ignore(size);\n+    }\n+};\n+\n+struct SkipScriptWitness {\n+    SkipVector<SkipBytes> stack;\n+};\n+\n+struct SkipTxIn {\n+    SkipScriptWitness scriptWitness; // accessed by UnserializeTransaction\n+\n+    template <typename Stream>\n+    void Unserialize(Stream& s)\n+    {\n+        COutPoint prevout;\n+        SkipBytes scriptSig;\n+        uint32_t nSequence;\n+\n+        s >> prevout >> scriptSig >> nSequence;\n+    }\n+};\n+\n+struct SkipTxOut {\n+    template <typename Stream>\n+    void Unserialize(Stream& s)\n+    {\n+        CAmount nValue;\n+        SkipBytes scriptPubKey;\n+\n+        s >> nValue >> scriptPubKey;\n+    }\n+};\n+\n+struct SkipTransaction {\n+    SkipVector<SkipTxIn> vin;\n+    SkipVector<SkipTxOut> vout;\n+    uint32_t version;\n+    uint32_t nLockTime;\n+\n+    template <typename Stream>\n+    void Unserialize(Stream& s)\n+    {\n+        UnserializeTransaction(*this, s, TX_WITH_WITNESS);\n+    }\n+\n+    bool HasWitness() const { return true; }\n+};\n+\n+bool BlockManager::ReadRawTxFromBlock(std::vector<std::byte>& tx_bytes, const FlatFilePos& block_pos, size_t tx_index) const\n+{\n+    AutoFile filein{OpenBlockFile(block_pos, /*fReadOnly=*/true)};\n+    if (filein.IsNull()) {\n+        LogError(\"OpenBlockFile failed for %s while reading raw transaction from block\", block_pos.ToString());\n+        return false;\n+    }\n+\n+    filein.ignore(HEADER_SIZE);\n+    size_t tx_count = ReadCompactSize(filein);\n+    if (tx_index >= tx_count) {\n+        return false;\n+    }\n+\n+    SkipTransaction skip_tx;",
      "path": "src/node/blockstorage.cpp",
      "position": null,
      "original_position": 103,
      "commit_id": "80a9c724dc991b6603e4c59931333f91aaf56a30",
      "original_commit_id": "df45388b97ea4d808256302531d4443526edf794",
      "in_reply_to_id": 2161623385,
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks! \r\nPlease take a look at https://github.com/bitcoin/bitcoin/pull/32541/commits/99b48777eeb54a11f1f68adae3d273c1a634c3e7.",
      "created_at": "2025-06-23T20:02:53Z",
      "updated_at": "2025-06-23T20:02:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#discussion_r2162435719",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2162435719"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32541"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1182,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2169518557",
      "pull_request_review_id": 2962834674,
      "id": 2169518557,
      "node_id": "PRRC_kwDOABII586BUDnd",
      "diff_hunk": "@@ -1080,6 +1080,119 @@ bool BlockManager::ReadRawBlock(std::vector<std::byte>& block, const FlatFilePos\n     return true;\n }\n \n+static const uint32_t HEADER_SIZE = ::GetSerializeSize(CBlockHeader{});\n+\n+template <typename T>\n+struct SkipVector {\n+    size_t count;\n+    T elem; // use for skipping element-related data\n+\n+    void clear()\n+    {\n+        count = 0;\n+    }\n+\n+    size_t size() const\n+    {\n+        return count;\n+    }\n+\n+    T& operator[](size_t)\n+    {\n+        return elem;\n+    }\n+\n+    template <typename Stream>\n+    void Unserialize(Stream& s)\n+    {\n+        count = ReadCompactSize(s);\n+        for (size_t i = 0; i < count; ++i) {\n+            s >> elem;\n+        }\n+    }\n+};\n+\n+struct SkipBytes {\n+    template <typename Stream>\n+    void Unserialize(Stream& s)\n+    {\n+        size_t size = ReadCompactSize(s);\n+        s.ignore(size);\n+    }\n+};\n+\n+struct SkipScriptWitness {\n+    SkipVector<SkipBytes> stack;\n+};\n+\n+struct SkipTxIn {\n+    SkipScriptWitness scriptWitness; // accessed by UnserializeTransaction\n+\n+    template <typename Stream>\n+    void Unserialize(Stream& s)\n+    {\n+        COutPoint prevout;\n+        SkipBytes scriptSig;\n+        uint32_t nSequence;\n+\n+        s >> prevout >> scriptSig >> nSequence;\n+    }\n+};\n+\n+struct SkipTxOut {\n+    template <typename Stream>\n+    void Unserialize(Stream& s)\n+    {\n+        CAmount nValue;\n+        SkipBytes scriptPubKey;\n+\n+        s >> nValue >> scriptPubKey;\n+    }\n+};\n+\n+struct SkipTransaction {\n+    SkipVector<SkipTxIn> vin;\n+    SkipVector<SkipTxOut> vout;\n+    uint32_t version;\n+    uint32_t nLockTime;\n+\n+    template <typename Stream>\n+    void Unserialize(Stream& s)\n+    {\n+        UnserializeTransaction(*this, s, TX_WITH_WITNESS);\n+    }\n+\n+    bool HasWitness() const { return true; }\n+};\n+\n+bool BlockManager::ReadRawTxFromBlock(std::vector<std::byte>& tx_bytes, const FlatFilePos& block_pos, size_t tx_index) const\n+{\n+    AutoFile filein{OpenBlockFile(block_pos, /*fReadOnly=*/true)};\n+    if (filein.IsNull()) {\n+        LogError(\"OpenBlockFile failed for %s while reading raw transaction from block\", block_pos.ToString());\n+        return false;\n+    }\n+\n+    filein.ignore(HEADER_SIZE);\n+    size_t tx_count = ReadCompactSize(filein);\n+    if (tx_index >= tx_count) {\n+        return false;\n+    }\n+\n+    SkipTransaction skip_tx;",
      "path": "src/node/blockstorage.cpp",
      "position": null,
      "original_position": 103,
      "commit_id": "80a9c724dc991b6603e4c59931333f91aaf56a30",
      "original_commit_id": "df45388b97ea4d808256302531d4443526edf794",
      "in_reply_to_id": 2161623385,
      "user": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "# Benchmark results\r\n\r\nTested 99b48777ee using `ab -k -c 1 -n 10000` over [block 900005 (having >5000 txs)](https://mempool.space/block/000000000000000000017bfd05b5fa367a424c4a565a4baf7950d9e8605df8ec).\r\n\r\n```\r\nBLOCKHASH=000000000000000000017bfd05b5fa367a424c4a565a4baf7950d9e8605df8ec\r\n```\r\n\r\n## `-locationsindex=1`\r\n\r\n```\r\nDocument Path:          /rest/txfromblock/$BLOCKHASH-0.bin\r\nDocument Length:        384 bytes\r\nRequests per second:    7387.93 [#/sec] (mean)\r\nTime per request:       0.135 [ms] (mean)\r\n\r\nDocument Path:          /rest/txfromblock/$BLOCKHASH-1000.bin\r\nDocument Length:        234 bytes\r\nRequests per second:    7875.35 [#/sec] (mean)\r\nTime per request:       0.127 [ms] (mean)\r\n\r\nDocument Path:          /rest/txfromblock/$BLOCKHASH-2000.bin\r\nDocument Length:        234 bytes\r\nRequests per second:    7470.15 [#/sec] (mean)\r\nTime per request:       0.134 [ms] (mean)\r\n\r\nDocument Path:          /rest/txfromblock/$BLOCKHASH-3000.bin\r\nDocument Length:        220 bytes\r\nRequests per second:    7102.34 [#/sec] (mean)\r\nTime per request:       0.141 [ms] (mean)\r\n\r\nDocument Path:          /rest/txfromblock/$BLOCKHASH-4000.bin\r\nDocument Length:        221 bytes\r\nRequests per second:    7569.49 [#/sec] (mean)\r\nTime per request:       0.132 [ms] (mean)\r\n\r\nDocument Path:          /rest/txfromblock/$BLOCKHASH-5000.bin\r\nDocument Length:        234 bytes\r\nRequests per second:    7333.99 [#/sec] (mean)\r\nTime per request:       0.136 [ms] (mean)\r\n```\r\n\r\n## `-locationsindex=0`\r\n\r\n```\r\nDocument Path:          /rest/txfromblock/$BLOCKHASH-0.bin\r\nDocument Length:        384 bytes\r\nRequests per second:    4030.87 [#/sec] (mean)\r\nTime per request:       0.248 [ms] (mean)\r\n\r\nDocument Path:          /rest/txfromblock/$BLOCKHASH-1000.bin\r\nDocument Length:        234 bytes\r\nRequests per second:    764.46 [#/sec] (mean)\r\nTime per request:       1.308 [ms] (mean)\r\n\r\nDocument Path:          /rest/txfromblock/$BLOCKHASH-2000.bin\r\nDocument Length:        234 bytes\r\nRequests per second:    526.17 [#/sec] (mean)\r\nTime per request:       1.901 [ms] (mean)\r\n\r\nDocument Path:          /rest/txfromblock/$BLOCKHASH-3000.bin\r\nDocument Length:        220 bytes\r\nRequests per second:    391.21 [#/sec] (mean)\r\nTime per request:       2.556 [ms] (mean)\r\n\r\nDocument Path:          /rest/txfromblock/$BLOCKHASH-4000.bin\r\nDocument Length:        221 bytes\r\nRequests per second:    261.30 [#/sec] (mean)\r\nTime per request:       3.827 [ms] (mean)\r\n\r\nDocument Path:          /rest/txfromblock/$BLOCKHASH-5000.bin\r\nDocument Length:        234 bytes\r\nRequests per second:    208.15 [#/sec] (mean)\r\nTime per request:       4.804 [ms] (mean)\r\n```",
      "created_at": "2025-06-26T17:11:26Z",
      "updated_at": "2025-06-26T17:19:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32541#discussion_r2169518557",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2169518557"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32541"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1182,
      "side": "RIGHT"
    }
  ]
}