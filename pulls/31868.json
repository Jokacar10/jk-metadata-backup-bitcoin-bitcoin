{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31868",
    "id": 2336649960,
    "node_id": "PR_kwDOABII586LRnLo",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/31868",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/31868.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/31868.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31868",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31868/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31868/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31868/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/19d20cee89099243b172718dc15eac354a4c6d59",
    "number": 31868,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "optimization: speed up block serialization",
    "user": {
      "login": "l0rinc",
      "id": 1841944,
      "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l0rinc",
      "html_url": "https://github.com/l0rinc",
      "followers_url": "https://api.github.com/users/l0rinc/followers",
      "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
      "organizations_url": "https://api.github.com/users/l0rinc/orgs",
      "repos_url": "https://api.github.com/users/l0rinc/repos",
      "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/l0rinc/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "Drafting until https://github.com/bitcoin/bitcoin/pull/31519 is merged, as recommended in https://github.com/bitcoin/bitcoin/pull/31868#discussion_r1956480589\r\n\r\n-----\r\n\r\n\r\nThis PR contain a few different optimization I found by IBD profiling, and via the newly added block seralization benchmarks.\r\n\r\nThe commits merge similar (de)serialization methods, and separates them internally with  `if constexpr` - similarly to how it has been [done here before](https://github.com/bitcoin/bitcoin/pull/28203). This enabled further `SizeComputer` optimizations as well.\r\n\r\nOther than these, since single byte writes are used very often (used for every `(u)int8_t` or `std::byte` or `bool` and for every `VarInt`'s first byte which is also needed for every `(pre)Vector`), it makes sense to avoid the generalized serialization infrastructure that isn't needed:\r\n* `AutoFile` write doesn't need to allocate 4k buffer for a single byte now;\r\n* `VectorWriter` and `DataStream` avoids memcpy/insert calls.\r\n\r\n`DeserializeBlock` is dominated by the hash calculations so the optimizations barely affect it.\r\n\r\n<details>\r\n<summary>C compiler ............................ AppleClang 16.0.0.16000026</summary>\r\n\r\n> Before:\r\n\r\n|            ns/block |             block/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|          936,285.45 |            1,068.05 |    0.1% |     11.01 | `DeserializeBlock`\r\n|          194,330.04 |            5,145.88 |    0.2% |     10.97 | `SerializeBlock`\r\n|           12,215.05 |           81,866.19 |    0.0% |     11.00 | `SizeComputerBlock`\r\n\r\n> After:\r\n\r\n|            ns/block |             block/s |    err% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------:|:----------\r\n|          888,859.82 |            1,125.04 |    0.4% |     10.87 | `DeserializeBlock`\r\n|          168,502.88 |            5,934.62 |    0.1% |     10.99 | `SerializeBlock`\r\n|           10,200.88 |           98,030.75 |    0.1% |     11.00 | `SizeComputerBlock`\r\n\r\n</details>\r\n\r\n> `DeserializeBlock` - 5.3% faster\r\n> `SerializeBlock` - 15.3% faster\r\n> `SizeComputerBlock` - 19.7% faster\r\n\r\n-----\r\n\r\n\r\n<details>\r\n<summary>C++ compiler .......................... GNU 13.3.0</summary>\r\n\r\n> Before:\r\n\r\n|            ns/block |             block/s |    err% |       ins/block |       cyc/block |    IPC |      bra/block |   miss% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\r\n|        4,447,243.87 |              224.86 |    0.0% |   53,689,737.58 |   15,966,336.86 |  3.363 |   2,409,315.46 |    0.5% |     11.01 | `DeserializeBlock`\r\n|          869,833.14 |            1,149.65 |    0.0% |    8,015,883.90 |    3,123,013.80 |  2.567 |   1,517,035.87 |    0.5% |     10.81 | `SerializeBlock`\r\n|           26,535.51 |           37,685.36 |    0.0% |      225,261.03 |       95,278.40 |  2.364 |      53,037.03 |    0.6% |     11.00 | `SizeComputerBlock`\r\n\r\n> After:\r\n\r\n|            ns/block |             block/s |    err% |       ins/block |       cyc/block |    IPC |      bra/block |   miss% |     total | benchmark\r\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\r\n|        4,460,428.52 |              224.19 |    0.0% |   53,692,507.13 |   16,015,347.97 |  3.353 |   2,410,105.48 |    0.5% |     11.01 | `DeserializeBlock`\r\n|          567,042.65 |            1,763.54 |    0.0% |    7,386,775.59 |    2,035,613.84 |  3.629 |   1,385,368.57 |    0.5% |     11.01 | `SerializeBlock`\r\n|           25,728.56 |           38,867.32 |    0.0% |      172,750.03 |       92,366.64 |  1.870 |      42,131.03 |    1.7% |     11.00 | `SizeComputerBlock`\r\n\r\n</details>\r\n\r\n> `DeserializeBlock` - same speed\r\n> `SerializeBlock` - 53.3% faster\r\n> `SizeComputerBlock` - 3.1% faster\r\n\r\n----\r\n\r\nWhile this wasn't the main motivation for the change, IBD on Ubuntu/GCC on SSD with i9 indicates a 2% speedup as well:\r\n\r\n<details>\r\n<summary>Details</summary>\r\n\r\n```bash\r\nCOMMITS=\"05314bde0b06b820225f10c6529b5afae128ff81 1cd94ec2511874ec68b92db34ad7ec7d9534fed1\"; \\\r\nSTOP_HEIGHT=880000; DBCACHE=10000; \\\r\nC_COMPILER=gcc; CXX_COMPILER=g++; \\\r\nhyperfine \\\r\n--export-json \"/mnt/my_storage/ibd-${COMMITS// /-}-${STOP_HEIGHT}-${DBCACHE}-${C_COMPILER}.json\" \\\r\n--runs 3 \\\r\n--parameter-list COMMIT ${COMMITS// /,} \\\r\n--prepare \"killall bitcoind || true; rm -rf /mnt/my_storage/BitcoinData/*; git checkout {COMMIT}; git clean -fxd; git reset --hard; cmake -B build -DCMAKE_BUILD_TYPE=Release -DENABLE_WALLET=OFF -DCMAKE_C_COMPILER=$C_COMPILER -DCMAKE_CXX_COMPILER=$CXX_COMPILER && cmake --build build -j$(nproc) --target bitcoind && ./build/src/bitcoind -datadir=/mnt/my_storage/BitcoinData -stopatheight=1 -printtoconsole=0 || true\" \\\r\n--cleanup \"cp /mnt/my_storage/BitcoinData/debug.log /mnt/my_storage/logs/debug-{COMMIT}-$(date +%s).log || true\" \\\r\n\"COMPILER=$C_COMPILER COMMIT={COMMIT} ./build/src/bitcoind -datadir=/mnt/my_storage/BitcoinData -stopatheight=$STOP_HEIGHT -dbcache=$DBCACHE -prune=550 -printtoconsole=0\"\r\nBenchmark 1: COMPILER=gcc COMMIT=05314bde0b06b820225f10c6529b5afae128ff81 ./build/src/bitcoind -datadir=/mnt/my_storage/BitcoinData -stopatheight=880000 -dbcache=10000 -prune=550 -printtoconsole=0\r\n  Time (mean ± σ):     33647.918 s ± 508.655 s    [User: 71503.409 s, System: 4404.899 s]\r\n  Range (min … max):   33283.439 s … 34229.026 s    3 runs\r\n \r\nBenchmark 2: COMPILER=gcc COMMIT=1cd94ec2511874ec68b92db34ad7ec7d9534fed1 ./build/src/bitcoind -datadir=/mnt/my_storage/BitcoinData -stopatheight=880000 -dbcache=10000 -prune=550 -printtoconsole=0\r\n  Time (mean ± σ):     33062.491 s ± 183.335 s    [User: 71246.532 s, System: 4318.490 s]\r\n  Range (min … max):   32888.211 s … 33253.706 s    3 runs\r\n \r\nSummary\r\n  COMPILER=gcc COMMIT=1cd94ec2511874ec68b92db34ad7ec7d9534fed1 ./build/src/bitcoind -datadir=/mnt/my_storage/BitcoinData -stopatheight=880000 -dbcache=10000 -prune=550 -printtoconsole=0 ran\r\n    1.02 ± 0.02 times faster than COMPILER=gcc COMMIT=05314bde0b06b820225f10c6529b5afae128ff81 ./build/src/bitcoind -datadir=/mnt/my_storage/BitcoinData -stopatheight=880000 -dbcache=10000 -prune=550 -printtoconsole=0\r\n```\r\n\r\n</details>",
    "labels": [
      {
        "id": 5334691551,
        "node_id": "LA_kwDOABII588AAAABPfju3w",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
        "name": "CI failed",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2025-02-14T16:48:23Z",
    "updated_at": "2025-03-10T00:09:12Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "41213c769531ba493ea15476f0a6447cb9518bb2",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "l0rinc:lorinc/block-serialization-optimizations",
      "ref": "lorinc/block-serialization-optimizations",
      "sha": "19d20cee89099243b172718dc15eac354a4c6d59",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 674169038,
        "node_id": "R_kgDOKC8Azg",
        "name": "bitcoin",
        "full_name": "l0rinc/bitcoin",
        "owner": {
          "login": "l0rinc",
          "id": 1841944,
          "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/l0rinc",
          "html_url": "https://github.com/l0rinc",
          "followers_url": "https://api.github.com/users/l0rinc/followers",
          "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
          "organizations_url": "https://api.github.com/users/l0rinc/orgs",
          "repos_url": "https://api.github.com/users/l0rinc/repos",
          "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/l0rinc/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/l0rinc/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/l0rinc/bitcoin",
        "archive_url": "https://api.github.com/repos/l0rinc/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/l0rinc/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/l0rinc/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/l0rinc/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/l0rinc/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/l0rinc/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/l0rinc/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/l0rinc/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/l0rinc/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/l0rinc/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/l0rinc/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/l0rinc/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/l0rinc/bitcoin/events",
        "forks_url": "https://api.github.com/repos/l0rinc/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/l0rinc/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/l0rinc/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/l0rinc/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/l0rinc/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/l0rinc/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/l0rinc/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/l0rinc/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/l0rinc/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/l0rinc/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/l0rinc/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/l0rinc/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/l0rinc/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/l0rinc/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/l0rinc/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/l0rinc/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:l0rinc/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/l0rinc/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/l0rinc/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/l0rinc/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/l0rinc/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/l0rinc/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/l0rinc/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/l0rinc/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/l0rinc/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/l0rinc/bitcoin/hooks",
        "svn_url": "https://github.com/l0rinc/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 254887,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-03-10T00:09:02Z",
        "created_at": "2023-08-03T09:49:12Z",
        "updated_at": "2024-07-18T12:40:18Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "45719390a1434ad7377a5ed05dcd73028130cf2d",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36897,
        "stargazers_count": 82414,
        "watchers_count": 82414,
        "size": 276270,
        "default_branch": "master",
        "open_issues_count": 676,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-03-09T16:44:52Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-03-09T23:54:15Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31868"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": true,
    "additions": 913,
    "deletions": 980,
    "changed_files": 126,
    "commits": 15,
    "review_comments": 3,
    "comments": 3
  },
  "events": [
    {
      "event": "commented",
      "id": 2659814155,
      "node_id": "IC_kwDOABII586eiYsL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2659814155",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-14T16:48:28Z",
      "updated_at": "2025-02-15T03:42:38Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/31868.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#31682](https://github.com/bitcoin/bitcoin/pull/31682) (optimization: speed up `CheckBlock` input checks (duplicate detection & nulls) by l0rinc)\n* [#31551](https://github.com/bitcoin/bitcoin/pull/31551) (optimization: bulk reads(32%)/writes(298%) in [undo]block [de]serialization, ~6% faster IBD by l0rinc)\n* [#31519](https://github.com/bitcoin/bitcoin/pull/31519) (refactor: Use std::span over Span by maflcko)\n* [#31144](https://github.com/bitcoin/bitcoin/pull/31144) (optimization: batch XOR operations 12% faster IBD by l0rinc)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31868#issuecomment-2659814155",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31868"
    },
    {
      "event": "reviewed",
      "id": 2618386726,
      "node_id": "PRR_kwDOABII586cEWkm",
      "url": null,
      "actor": null,
      "commit_id": "2d8a85cea7a370e6eabc012f5a4290e3563cb155",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31868#pullrequestreview-2618386726",
      "submitted_at": "2025-02-14T17:13:07Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31868"
    },
    {
      "event": "labeled",
      "id": 16323373356,
      "node_id": "LE_lADOABII586qIG0RzwAAAAPM8uks",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16323373356",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-16T05:49:10Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 16324400565,
      "node_id": "UNLE_lADOABII586qIG0RzwAAAAPNApW1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16324400565",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-16T14:40:57Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhNDA4NWU0ZGY3OGM1OGYwZGNiYmI2NmYzZjhiMjhjYjZkNTlmZDU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa4085e4df78c58f0dcbbb66f3f8b28cb6d59fd5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa4085e4df78c58f0dcbbb66f3f8b28cb6d59fd5",
      "tree": {
        "sha": "e9382f45154d491c926fd68c7aa49225ff437a20",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e9382f45154d491c926fd68c7aa49225ff437a20"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree e9382f45154d491c926fd68c7aa49225ff437a20\nparent 6876e5076ecf0a48ac0fbbdfface431be5fff690\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1734461536 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1740650891 +0100\n\nrefactor: Return std::span from MakeByteSpan\n\nIn theory this commit should only touch the span.h header, because\nstd::span can implicilty convert into Span in most places, if needed.\n\nHowever, at least when using the clang compiler, there are some\nfalse-positive lifetimebound warnings and some implicit conversions can\nnot be resolved.\n\nThus, this refactoring commit also changed the affected places to\nreplace Span with std::span.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQEYXbBaFMApcSOklkvE/mGCUbAdHJ8JoEtBTltNkcuI0nis2XMBALL8bcr4Tjc+Yta\nRVkF/CKSddl6lkVTvg4QY=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6876e5076ecf0a48ac0fbbdfface431be5fff690",
          "sha": "6876e5076ecf0a48ac0fbbdfface431be5fff690",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6876e5076ecf0a48ac0fbbdfface431be5fff690"
        }
      ],
      "message": "refactor: Return std::span from MakeByteSpan\n\nIn theory this commit should only touch the span.h header, because\nstd::span can implicilty convert into Span in most places, if needed.\n\nHowever, at least when using the clang compiler, there are some\nfalse-positive lifetimebound warnings and some implicit conversions can\nnot be resolved.\n\nThus, this refactoring commit also changed the affected places to\nreplace Span with std::span.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-02-27T10:08:11Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-12-17T18:52:16Z"
      },
      "sha": "fa4085e4df78c58f0dcbbb66f3f8b28cb6d59fd5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhMmY3MWFiNzViZWI3YjMwN2IzNDM2ODdhNWRkNGM5YjdmMDAzZDc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa2f71ab75beb7b307b343687a5dd4c9b7f003d7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa2f71ab75beb7b307b343687a5dd4c9b7f003d7",
      "tree": {
        "sha": "b3d016980db8bcb155b2c01b5fe5043e0c48adea",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b3d016980db8bcb155b2c01b5fe5043e0c48adea"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree b3d016980db8bcb155b2c01b5fe5043e0c48adea\nparent fa4085e4df78c58f0dcbbb66f3f8b28cb6d59fd5\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1734467627 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1740650899 +0100\n\nrefactor: Return std::span from MakeUCharSpan\n\nThis is possible and safe, because std::span can implicitly convert into\nSpan, if needed.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQI7qInK+Mk1ylyyH8H1NSoVBHYuyh5Y/ZUcZI3o4Jb/8xlh4YhBL8VP/tKHeaWszTF\nyb2CDh8T3otjm6YamxfA4=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa4085e4df78c58f0dcbbb66f3f8b28cb6d59fd5",
          "sha": "fa4085e4df78c58f0dcbbb66f3f8b28cb6d59fd5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa4085e4df78c58f0dcbbb66f3f8b28cb6d59fd5"
        }
      ],
      "message": "refactor: Return std::span from MakeUCharSpan\n\nThis is possible and safe, because std::span can implicitly convert into\nSpan, if needed.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-02-27T10:08:19Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-12-17T20:33:47Z"
      },
      "sha": "fa2f71ab75beb7b307b343687a5dd4c9b7f003d7"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhODM4Y2YyNjQwNThkYTk5OGYxYmU3Y2QyNzBkN2RiMzhlOGE4NDc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa838cf264058da998f1be7cd270d7db38e8a847",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa838cf264058da998f1be7cd270d7db38e8a847",
      "tree": {
        "sha": "1637d569e3c0899e6468a84ea75e247b3b923cb6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1637d569e3c0899e6468a84ea75e247b3b923cb6"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree 1637d569e3c0899e6468a84ea75e247b3b923cb6\nparent fa2f71ab75beb7b307b343687a5dd4c9b7f003d7\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1734609654 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1740650900 +0100\n\ntest: Fix broken span_tests\n\n* The comment is wrong claiming that void* was returned when void was\n  returned in reality.\n* The namespace is missing a name, leading to compile errors that are\n  suppressed with non-standard pragmas, and leading to compile errors in\n  future commits. Instead of using more non-standard suppressions, just\n  add the missing name.\n* The SpanableYes/No types are missing begin/end iterators, which will\n  be needed when using std::span.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQICNtpWkzUpQbt1q4UQMk5zrlLAosZbp+fbGKHHgIJuIxnl71vSfcr9BSTfL+HJ3be\nPaeS/KkBMLMqWsVEwMOAQ=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa2f71ab75beb7b307b343687a5dd4c9b7f003d7",
          "sha": "fa2f71ab75beb7b307b343687a5dd4c9b7f003d7",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa2f71ab75beb7b307b343687a5dd4c9b7f003d7"
        }
      ],
      "message": "test: Fix broken span_tests\n\n* The comment is wrong claiming that void* was returned when void was\n  returned in reality.\n* The namespace is missing a name, leading to compile errors that are\n  suppressed with non-standard pragmas, and leading to compile errors in\n  future commits. Instead of using more non-standard suppressions, just\n  add the missing name.\n* The SpanableYes/No types are missing begin/end iterators, which will\n  be needed when using std::span.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-02-27T10:08:20Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-12-19T12:00:54Z"
      },
      "sha": "fa838cf264058da998f1be7cd270d7db38e8a847"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhZmU3Y2YyMWI0YTJlMmM4YmEyMjU0N2EzMGZhNTgzMDE2YjA1Mjc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fafe7cf21b4a2e2c8ba22547a30fa583016b0527",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fafe7cf21b4a2e2c8ba22547a30fa583016b0527",
      "tree": {
        "sha": "58cba09d25275153cdff14c1396ffc7b3e8598e8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/58cba09d25275153cdff14c1396ffc7b3e8598e8"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree 58cba09d25275153cdff14c1396ffc7b3e8598e8\nparent fa838cf264058da998f1be7cd270d7db38e8a847\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1734537480 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1740651055 +0100\n\nrefactor: Make Span an alias of std::span\n\nThis uses a macro, which can be a bit more brittle than an alias\ntemplate. However, class template argument deduction for alias templates\nis only implemented in clang-19.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQBEQAM2WdLqKCMwf51GHew8amx+m357SnDNP1EbMzmkk+P1bJq38VLj5tBk95aFrC7\nQ71s3WMg9vxlCBAvzZXgE=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa838cf264058da998f1be7cd270d7db38e8a847",
          "sha": "fa838cf264058da998f1be7cd270d7db38e8a847",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa838cf264058da998f1be7cd270d7db38e8a847"
        }
      ],
      "message": "refactor: Make Span an alias of std::span\n\nThis uses a macro, which can be a bit more brittle than an alias\ntemplate. However, class template argument deduction for alias templates\nis only implemented in clang-19.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-02-27T10:10:55Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-12-18T15:58:00Z"
      },
      "sha": "fafe7cf21b4a2e2c8ba22547a30fa583016b0527"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhNzg2ZTZiN2NlYzViMWExYzJmYmM3MjQ1Yzk2NzkxODhjMTM4ZDk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa786e6b7cec5b1a1c2fbc7245c9679188c138d9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa786e6b7cec5b1a1c2fbc7245c9679188c138d9",
      "tree": {
        "sha": "023d05256322744026e16321b5e453d8e6d5cb22",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/023d05256322744026e16321b5e453d8e6d5cb22"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree 023d05256322744026e16321b5e453d8e6d5cb22\nparent fafe7cf21b4a2e2c8ba22547a30fa583016b0527\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1734448818 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1740651179 +0100\n\nscripted-diff: Use std::span over Span\n\n-BEGIN VERIFY SCRIPT-\n\n ren() { sed -i \"s!\\<$1\\>!$2!g\" $( git grep -l \"$1\" -- \"./src\" \":(exclude)src/span.h\" \":(exclude)src/leveldb/db/log_test.cc\" ) ; }\n\n ren Span            std::span\n ren AsBytes         std::as_bytes\n ren AsWritableBytes std::as_writable_bytes\n\n sed -i 's!SpanPopBack(Span!SpanPopBack(std::span!g' ./src/span.h\n\n-END VERIFY SCRIPT-\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQNnOoP2RcpQDdOf+8+xvbLt3OYQ+seo0XnOBc188KHcr5+GHCQG1n1/6ffPU9vWOAd\nyVfT6NY5nGN+54lYbosgQ=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fafe7cf21b4a2e2c8ba22547a30fa583016b0527",
          "sha": "fafe7cf21b4a2e2c8ba22547a30fa583016b0527",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fafe7cf21b4a2e2c8ba22547a30fa583016b0527"
        }
      ],
      "message": "scripted-diff: Use std::span over Span\n\n-BEGIN VERIFY SCRIPT-\n\n ren() { sed -i \"s!\\<$1\\>!$2!g\" $( git grep -l \"$1\" -- \"./src\" \":(exclude)src/span.h\" \":(exclude)src/leveldb/db/log_test.cc\" ) ; }\n\n ren Span            std::span\n ren AsBytes         std::as_bytes\n ren AsWritableBytes std::as_writable_bytes\n\n sed -i 's!SpanPopBack(Span!SpanPopBack(std::span!g' ./src/span.h\n\n-END VERIFY SCRIPT-",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-02-27T10:12:59Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-12-17T15:20:18Z"
      },
      "sha": "fa786e6b7cec5b1a1c2fbc7245c9679188c138d9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhMjAxYTg5OTQwYzc4OWRhMDQ0NTFmZWY5YmM2ZmYwNmE2OTQ2YWQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa201a89940c789da04451fef9bc6ff06a6946ad",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa201a89940c789da04451fef9bc6ff06a6946ad",
      "tree": {
        "sha": "ea8788106aec7075403921a0a1306458454c92c0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ea8788106aec7075403921a0a1306458454c92c0"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree ea8788106aec7075403921a0a1306458454c92c0\nparent fa786e6b7cec5b1a1c2fbc7245c9679188c138d9\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1734538228 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1740651185 +0100\n\nrefactor: Remove unused Span alias\n\nAlso, fixup some wording.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQOc6siBGWEkQkarfQ5+k9qNF8S+un68oQdABMUmuTikoEktUuMsJd99GtPLcIGxjxn\nWvL7+YyiJu/ikp6u2VRA4=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa786e6b7cec5b1a1c2fbc7245c9679188c138d9",
          "sha": "fa786e6b7cec5b1a1c2fbc7245c9679188c138d9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa786e6b7cec5b1a1c2fbc7245c9679188c138d9"
        }
      ],
      "message": "refactor: Remove unused Span alias\n\nAlso, fixup some wording.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-02-27T10:13:05Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-12-18T16:10:28Z"
      },
      "sha": "fa201a89940c789da04451fef9bc6ff06a6946ad"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhNWNjNDFjOTNjOTE4MWIzZDlkYTlkZDY5ZjJkMjQzM2Y4MDYxMTU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa5cc41c93c9181b3d9da9dd69f2d2433f806115",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa5cc41c93c9181b3d9da9dd69f2d2433f806115",
      "tree": {
        "sha": "36fef67739c000c058f637299c4f990ef101e1ee",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/36fef67739c000c058f637299c4f990ef101e1ee"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree 36fef67739c000c058f637299c4f990ef101e1ee\nparent fa201a89940c789da04451fef9bc6ff06a6946ad\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1734642923 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1740651351 +0100\n\nscripted-diff: Bump copyright headers after std::span changes\n\nHistorically, the headers have been bumped some time after a file has\nbeen touched. Do it now to avoid having to touch them again in the\nfuture for that reason.\n\n-BEGIN VERIFY SCRIPT-\n sed -i --regexp-extended 's;( 20[0-2][0-9])(-20[0-2][0-9])? The Bitcoin Core developers;\\1-present The Bitcoin Core developers;g' $( git show --pretty=\"\" --name-only HEAD~1 )\n-END VERIFY SCRIPT-\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQPR1cIRk/qTmUbpE2UqDzlV3y4k9yJ4qq63ULVXWLlSlha6ZtZ+nectrpnXG8GGomO\n/jX17wOkdZEsanJauG2As=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa201a89940c789da04451fef9bc6ff06a6946ad",
          "sha": "fa201a89940c789da04451fef9bc6ff06a6946ad",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa201a89940c789da04451fef9bc6ff06a6946ad"
        }
      ],
      "message": "scripted-diff: Bump copyright headers after std::span changes\n\nHistorically, the headers have been bumped some time after a file has\nbeen touched. Do it now to avoid having to touch them again in the\nfuture for that reason.\n\n-BEGIN VERIFY SCRIPT-\n sed -i --regexp-extended 's;( 20[0-2][0-9])(-20[0-2][0-9])? The Bitcoin Core developers;\\1-present The Bitcoin Core developers;g' $( git show --pretty=\"\" --name-only HEAD~1 )\n-END VERIFY SCRIPT-",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-02-27T10:15:51Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2024-12-19T21:15:23Z"
      },
      "sha": "fa5cc41c93c9181b3d9da9dd69f2d2433f806115"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhYTM2NDU5ZWYzNjljOTQ2MWZiZGRlOWQ3YjMxMDkxMDA3NjI5NDE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/faa36459ef369c9461fbdde9d7b3109100762941",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/faa36459ef369c9461fbdde9d7b3109100762941",
      "tree": {
        "sha": "470738e301f6751395f9c663c146156ca6b63760",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/470738e301f6751395f9c663c146156ca6b63760"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree 470738e301f6751395f9c663c146156ca6b63760\nparent fa5cc41c93c9181b3d9da9dd69f2d2433f806115\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1737497954 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1740651354 +0100\n\nrefactor: Avoid false-positive gcc warning\n\nGCC 14.2.1 will complain about a dangling reference after replacing Span\nwiht std::span. This is a false-positive, because std::find does not\nreturn a reference.\n\nRemove the `&` to silence the warning. Also use ranges::find while\ntouching the line.\n\nsrc/i2p.cpp:312:21: error: possibly dangling reference to a temporary [-Werror=dangling-reference]\n  312 |         const auto& pos = std::find(kv.begin(), kv.end(), '=');\n      |                     ^~~\nsrc/i2p.cpp:312:36: note: the temporary was destroyed at the end of the full expression ‘std::find<__gnu_cxx::__normal_iterator<const char*, span<const char> >, char>((& kv)->std::span<const char>::begin(), (& kv)->std::span<const char>::end(), '=')’\n  312 |         const auto& pos = std::find(kv.begin(), kv.end(), '=');\n      |                           ~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~\ncc1plus: all warnings being treated as errors\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQEmbeIAvLGU1w+1M+emKJpPcc78JIPbrz7dvLvzzIi8mnLfH41wJMXA6HoWowLEeCt\nIQ1bTCeqCUZW3cuaV+qwQ=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa5cc41c93c9181b3d9da9dd69f2d2433f806115",
          "sha": "fa5cc41c93c9181b3d9da9dd69f2d2433f806115",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa5cc41c93c9181b3d9da9dd69f2d2433f806115"
        }
      ],
      "message": "refactor: Avoid false-positive gcc warning\n\nGCC 14.2.1 will complain about a dangling reference after replacing Span\nwiht std::span. This is a false-positive, because std::find does not\nreturn a reference.\n\nRemove the `&` to silence the warning. Also use ranges::find while\ntouching the line.\n\nsrc/i2p.cpp:312:21: error: possibly dangling reference to a temporary [-Werror=dangling-reference]\n  312 |         const auto& pos = std::find(kv.begin(), kv.end(), '=');\n      |                     ^~~\nsrc/i2p.cpp:312:36: note: the temporary was destroyed at the end of the full expression ‘std::find<__gnu_cxx::__normal_iterator<const char*, span<const char> >, char>((& kv)->std::span<const char>::begin(), (& kv)->std::span<const char>::end(), '=')’\n  312 |         const auto& pos = std::find(kv.begin(), kv.end(), '=');\n      |                           ~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~\ncc1plus: all warnings being treated as errors",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-02-27T10:15:54Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-01-21T22:19:14Z"
      },
      "sha": "faa36459ef369c9461fbdde9d7b3109100762941"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhYjUxYjI2ZDY4YjM3ZjU5MTQzMTRhZDI5ZWViOTMwNTM4ZWE3YWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fab51b26d68b37f5914314ad29eeb930538ea7ae",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fab51b26d68b37f5914314ad29eeb930538ea7ae",
      "tree": {
        "sha": "9ec533f5402bb3a686c18b412cd6307ff48dccbd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9ec533f5402bb3a686c18b412cd6307ff48dccbd"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree 9ec533f5402bb3a686c18b412cd6307ff48dccbd\nparent faa36459ef369c9461fbdde9d7b3109100762941\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1738704948 +0100\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1740651413 +0100\n\nbench: Update span-serialize comment\n\nCommit faecca9a85c1c1917d024f55cca34d19cc94f3b9 changed the type of\nblock413567 from vector to span, but forgot to update the comment. Do it\nnow.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQCGwEmthm05RsM0cWRWRMaXY9RsdjUAC8/Eu7NZfhRfZqeEfUNNigh0OOTFLTALrab\nkmy/7XScebzjvCKGa8VQ0=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/faa36459ef369c9461fbdde9d7b3109100762941",
          "sha": "faa36459ef369c9461fbdde9d7b3109100762941",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/faa36459ef369c9461fbdde9d7b3109100762941"
        }
      ],
      "message": "bench: Update span-serialize comment\n\nCommit faecca9a85c1c1917d024f55cca34d19cc94f3b9 changed the type of\nblock413567 from vector to span, but forgot to update the comment. Do it\nnow.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-02-27T10:16:53Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-02-04T21:35:48Z"
      },
      "sha": "fab51b26d68b37f5914314ad29eeb930538ea7ae"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16646424016,
      "node_id": "HRFPE_lADOABII586qIG0RzwAAAAPgNEXQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16646424016",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "c5bbf571ec2b4bdab3719667d4a95cb21bbcc0c2",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/c5bbf571ec2b4bdab3719667d4a95cb21bbcc0c2",
      "created_at": "2025-03-09T23:58:39Z"
    },
    {
      "event": "commented",
      "id": 2709143828,
      "node_id": "IC_kwDOABII586hekEU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2709143828",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-09T23:59:46Z",
      "updated_at": "2025-03-09T23:59:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "Drafting until https://github.com/bitcoin/bitcoin/pull/31519 is merged, as recommended in https://github.com/bitcoin/bitcoin/pull/31868#discussion_r1956480589",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31868#issuecomment-2709143828",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31868"
    },
    {
      "event": "convert_to_draft",
      "id": 16646427043,
      "node_id": "CTDE_lADOABII586qIG0RzwAAAAPgNFGj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16646427043",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-09T23:59:52Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDljOGQxYjU0MTU5ZWIzNTNlZTk2ZmMyOThmYzQ2ZjZiNDEyMzczMzQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9c8d1b54159eb353ee96fc298fc46f6b41237334",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9c8d1b54159eb353ee96fc298fc46f6b41237334",
      "tree": {
        "sha": "1d7f8de4428579be2b11466013d04451ba7e0c2f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1d7f8de4428579be2b11466013d04451ba7e0c2f"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fab51b26d68b37f5914314ad29eeb930538ea7ae",
          "sha": "fab51b26d68b37f5914314ad29eeb930538ea7ae",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fab51b26d68b37f5914314ad29eeb930538ea7ae"
        }
      ],
      "message": "Fixups",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-03-10T00:05:57Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-03-09T17:33:37Z"
      },
      "sha": "9c8d1b54159eb353ee96fc298fc46f6b41237334"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQ0N2VkOGEwNTE5NmZjMjY1NTVhNWFkNDlhYWFhYzVkNjkzODZkZjY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d47ed8a05196fc26555a5ad49aaaac5d69386df6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d47ed8a05196fc26555a5ad49aaaac5d69386df6",
      "tree": {
        "sha": "900803ed1d739d42929f029c0fa87329137f4111",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/900803ed1d739d42929f029c0fa87329137f4111"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9c8d1b54159eb353ee96fc298fc46f6b41237334",
          "sha": "9c8d1b54159eb353ee96fc298fc46f6b41237334",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9c8d1b54159eb353ee96fc298fc46f6b41237334"
        }
      ],
      "message": "bench: measure block (size)serialization speed\n\nThe SizeComputer is a special serializer which returns what the exact final size will be of the serialized content.\n\n> cmake -B build -DBUILD_BENCH=ON -DCMAKE_BUILD_TYPE=Release && cmake --build build -j$(nproc) && build/src/bench/bench_bitcoin -filter='SizeComputerBlock|SerializeBlock|DeserializeBlock' --min-time=10000\n\n> C compiler ............................ AppleClang 16.0.0.16000026\n\n|            ns/block |             block/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|          936,285.45 |            1,068.05 |    0.1% |     11.01 | `DeserializeBlock`\n|          194,330.04 |            5,145.88 |    0.2% |     10.97 | `SerializeBlock`\n|           12,215.05 |           81,866.19 |    0.0% |     11.00 | `SizeComputerBlock`\n\n> C++ compiler .......................... GNU 13.3.0\n\n|            ns/block |             block/s |    err% |       ins/block |       cyc/block |    IPC |      bra/block |   miss% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\n|        4,447,243.87 |              224.86 |    0.0% |   53,689,737.58 |   15,966,336.86 |  3.363 |   2,409,315.46 |    0.5% |     11.01 | `DeserializeBlock`\n|          869,833.14 |            1,149.65 |    0.0% |    8,015,883.90 |    3,123,013.80 |  2.567 |   1,517,035.87 |    0.5% |     10.81 | `SerializeBlock`\n|           26,535.51 |           37,685.36 |    0.0% |      225,261.03 |       95,278.40 |  2.364 |      53,037.03 |    0.6% |     11.00 | `SizeComputerBlock`",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-03-10T00:06:00Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2024-11-19T15:11:56Z"
      },
      "sha": "d47ed8a05196fc26555a5ad49aaaac5d69386df6"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQ4MGRkM2Q1Nzc3YmI3MmU2ZGIwYTE1NWQ2NDNhYTk5MmM4ZjYzNzA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d80dd3d5777bb72e6db0a155d643aa992c8f6370",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d80dd3d5777bb72e6db0a155d643aa992c8f6370",
      "tree": {
        "sha": "97d4f55e55ed3f5e5574d69276076a9eb9af5981",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/97d4f55e55ed3f5e5574d69276076a9eb9af5981"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d47ed8a05196fc26555a5ad49aaaac5d69386df6",
          "sha": "d47ed8a05196fc26555a5ad49aaaac5d69386df6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d47ed8a05196fc26555a5ad49aaaac5d69386df6"
        }
      ],
      "message": "refactor: reduce template bloat in primitive serialization\n\nMerged multiple template methods into single constexpr-delimited implementation to reduce template bloat (i.e. related functionality is grouped into a single method, but can be optimized because of C++20 constexpr conditions).\nThis unifies related methods that were only bound before by similar signatures - and enables `SizeComputer` optimizations later",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-03-10T00:06:00Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-01-17T13:29:33Z"
      },
      "sha": "d80dd3d5777bb72e6db0a155d643aa992c8f6370"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDUwZmJhOWQ1OWYyOTJiMDM0ZmFiZWViMWMwNDY5MmIyMzY4N2M3ODA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/50fba9d59f292b034fabeeb1c04692b23687c780",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/50fba9d59f292b034fabeeb1c04692b23687c780",
      "tree": {
        "sha": "c25f03d2d9b924c42176c01047fd1eaff3804245",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c25f03d2d9b924c42176c01047fd1eaff3804245"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d80dd3d5777bb72e6db0a155d643aa992c8f6370",
          "sha": "d80dd3d5777bb72e6db0a155d643aa992c8f6370",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d80dd3d5777bb72e6db0a155d643aa992c8f6370"
        }
      ],
      "message": "cleanup: remove unused `ser_writedata16be` and `ser_readdata16be`",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-03-10T00:06:19Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-02-13T21:49:51Z"
      },
      "sha": "50fba9d59f292b034fabeeb1c04692b23687c780"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDkwYzY4MzFkZmI5MTJmYWRmMTlkYmI3NzNmZDNmMTY2Y2Y2ZjgzOTg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/90c6831dfb912fadf19dbb773fd3f166cf6f8398",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/90c6831dfb912fadf19dbb773fd3f166cf6f8398",
      "tree": {
        "sha": "9880333cc21aacbee1f7a176a8146800255dde0c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9880333cc21aacbee1f7a176a8146800255dde0c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/50fba9d59f292b034fabeeb1c04692b23687c780",
          "sha": "50fba9d59f292b034fabeeb1c04692b23687c780",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/50fba9d59f292b034fabeeb1c04692b23687c780"
        }
      ],
      "message": "optimization: merge SizeComputer specializations + add new ones\n\nEndianness doesn't affect the final size, we can skip it for `SizeComputer`.\nWe can `if constexpr` previous calls into existing method, short-circuiting existing logic when we only need their serialized sizes.\n\n> cmake -B build -DBUILD_BENCH=ON -DCMAKE_BUILD_TYPE=Release && cmake --build build -j$(nproc) && build/src/bench/bench_bitcoin -filter='SizeComputerBlock|SerializeBlock|DeserializeBlock' --min-time=10000\n\n> C compiler ............................ AppleClang 16.0.0.16000026\n\n|            ns/block |             block/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|          977,638.68 |            1,022.87 |    0.2% |     11.00 | `DeserializeBlock`\n|          196,939.81 |            5,077.69 |    0.4% |     10.94 | `SerializeBlock`\n|           10,436.49 |           95,817.63 |    0.2% |     11.01 | `SizeComputerBlock`\n\n> C++ compiler .......................... GNU 13.3.0\n\nTODO",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-03-10T00:06:19Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-02-14T12:54:57Z"
      },
      "sha": "90c6831dfb912fadf19dbb773fd3f166cf6f8398"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDE5ZDIwY2VlODkwOTkyNDNiMTcyNzE4ZGMxNWVhYzM1NGE0YzZkNTk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/19d20cee89099243b172718dc15eac354a4c6d59",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/19d20cee89099243b172718dc15eac354a4c6d59",
      "tree": {
        "sha": "f2b0d1a9319e7c6da84b7cf8eb84c401b90239ad",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f2b0d1a9319e7c6da84b7cf8eb84c401b90239ad"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/90c6831dfb912fadf19dbb773fd3f166cf6f8398",
          "sha": "90c6831dfb912fadf19dbb773fd3f166cf6f8398",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/90c6831dfb912fadf19dbb773fd3f166cf6f8398"
        }
      ],
      "message": "optimization: Add single byte writes\n\nSingle byte writes are used very often (used for every (u)int8_t or std::byte or bool and for every VarInt's first byte which is also needed for every (pre)Vector).\nIt makes sense to avoid the generalized serialization infrastructure that isn't needed:\n* AutoFile write doesn't need to allocate 4k buffer for a single byte now;\n* `VectorWriter` and `DataStream` avoids memcpy/insert calls.\n\n> cmake -B build -DBUILD_BENCH=ON -DCMAKE_BUILD_TYPE=Release && cmake --build build -j$(nproc) && build/src/bench/bench_bitcoin -filter='SizeComputerBlock|SerializeBlock|DeserializeBlock' --min-time=10000\n\n> C compiler ............................ AppleClang 16.0.0.16000026\n\n|            ns/block |             block/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|          934,593.50 |            1,069.98 |    0.1% |     10.98 | `DeserializeBlock`\n|          185,121.30 |            5,401.86 |    0.2% |     10.96 | `SerializeBlock`\n|           10,280.72 |           97,269.41 |    0.0% |     10.99 | `SizeComputerBlock`\n\n> C++ compiler .......................... GNU 13.3.0\n\nTODO",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-03-10T00:08:53Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-03-09T20:33:36Z"
      },
      "sha": "19d20cee89099243b172718dc15eac354a4c6d59"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16646459746,
      "node_id": "HRFPE_lADOABII586qIG0RzwAAAAPgNNFi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16646459746",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "19d20cee89099243b172718dc15eac354a4c6d59",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/19d20cee89099243b172718dc15eac354a4c6d59",
      "created_at": "2025-03-10T00:09:03Z"
    },
    {
      "event": "labeled",
      "id": 16646460213,
      "node_id": "LE_lADOABII586qIG0RzwAAAAPgNNM1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16646460213",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-10T00:09:10Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2709149916,
      "node_id": "IC_kwDOABII586heljc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2709149916",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-10T00:09:11Z",
      "updated_at": "2025-03-10T00:09:11Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n🚧 At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/38458137649</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31868#issuecomment-2709149916",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31868"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1956480589",
      "pull_request_review_id": 2618386726,
      "id": 1956480589,
      "node_id": "PRRC_kwDOABII5850nYZN",
      "diff_hunk": "@@ -83,6 +83,16 @@ class VectorWriter\n         }\n         nPos += src.size();\n     }\n+    void write(std::byte val)",
      "path": "src/streams.h",
      "position": null,
      "original_position": 4,
      "commit_id": "19d20cee89099243b172718dc15eac354a4c6d59",
      "original_commit_id": "2d8a85cea7a370e6eabc012f5a4290e3563cb155",
      "in_reply_to_id": null,
      "user": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "These are nice optims, but [as I mentoned here](https://github.com/bitcoin/bitcoin/pull/31519#discussion_r1929225185):\r\n\r\n> In the future we could potentially add specializations for types with compile-time-known sizes via concepts.\r\n> \r\n> Presumably some of the streams could benefit from static extents, but that's waaay overkill for here.\r\n\r\nI think it makes sense to wait for the `std::span` replacement (#31519) to do this, that way we can specialize for any static extent instead which should compile down to nothing: https://compiler-explorer.com/z/97aY3bnK8",
      "created_at": "2025-02-14T17:13:06Z",
      "updated_at": "2025-02-14T17:13:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31868#discussion_r1956480589",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1956480589"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31868"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 86,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1956688357",
      "pull_request_review_id": 2618748873,
      "id": 1956688357,
      "node_id": "PRRC_kwDOABII5850oLHl",
      "diff_hunk": "@@ -83,6 +83,16 @@ class VectorWriter\n         }\n         nPos += src.size();\n     }\n+    void write(std::byte val)",
      "path": "src/streams.h",
      "position": null,
      "original_position": 4,
      "commit_id": "19d20cee89099243b172718dc15eac354a4c6d59",
      "original_commit_id": "2d8a85cea7a370e6eabc012f5a4290e3563cb155",
      "in_reply_to_id": 1956480589,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Absolutely, I already have other optimization ideas in mind after that's merged.\r\n\r\nThe reviewers can decide the preferred merge order, I don't mind rebasing or doing it in multiple PRs - there's a lot of work left with serialization anyway.",
      "created_at": "2025-02-14T20:33:23Z",
      "updated_at": "2025-02-14T20:33:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31868#discussion_r1956688357",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1956688357"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31868"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 86,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1986458092",
      "pull_request_review_id": 2669568994,
      "id": 1986458092,
      "node_id": "PRRC_kwDOABII5852ZvHs",
      "diff_hunk": "@@ -83,6 +83,16 @@ class VectorWriter\n         }\n         nPos += src.size();\n     }\n+    void write(std::byte val)",
      "path": "src/streams.h",
      "position": null,
      "original_position": 4,
      "commit_id": "19d20cee89099243b172718dc15eac354a4c6d59",
      "original_commit_id": "2d8a85cea7a370e6eabc012f5a4290e3563cb155",
      "in_reply_to_id": 1956480589,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Rebased on top of https://github.com/bitcoin/bitcoin/pull/31519 and experimented with static extents - the speed is not the same as with bare `std::byte` parameters, but close enough and the code is more general.\r\nDrafting until the span PR is merged - suggestions for further investigations are welcome.",
      "created_at": "2025-03-10T00:01:15Z",
      "updated_at": "2025-03-10T00:01:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31868#discussion_r1986458092",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1986458092"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31868"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 86,
      "side": "RIGHT"
    }
  ]
}