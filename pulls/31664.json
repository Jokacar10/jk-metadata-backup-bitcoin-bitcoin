{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664",
    "id": 2280235009,
    "node_id": "PR_kwDOABII586H6aAB",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/31664",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/31664.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/31664.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31664",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31664/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/f79873fb512c20a97c5a6286118ef5b85df05027",
    "number": 31664,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "Fees:  add Fee rate Forecaster Manager",
    "user": {
      "login": "ismaelsadeeq",
      "id": 48946461,
      "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ismaelsadeeq",
      "html_url": "https://github.com/ismaelsadeeq",
      "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
      "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
      "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
      "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
      "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "- This PR implements the core component of #30392, introducing a new fee rate forecasting module. \r\nThe primary addition is a `ForecasterManager` that coordinates multiple forecasting strategies to be able to provide better transaction fee rate predictions.\r\n\r\n\r\n### Key Changes  \r\n\r\n1. **Refactoring of `CBlockPolicyEstimator`**  \r\n   - Renames `fees` to `block_policy_estimator` for clarity.  \r\n   - Renames`fees_args` to `block_policy_estimator_args` for clarity\r\n   - Renames `policy_fee_tests` to `feerounder_tests` also for clarity.  \r\n\r\n\r\n2. **Addition of Fee Rate Forecasting Utility Structures**  \r\n   - `Forecaster` abstract class, serving as the base class for all fee rate forecasters.\r\n   - `ForecastResult` (the response from a `Forecaster`) with all metadata.  \r\n   - `ForecastType` enum, identify and distinguish forecasters.    \r\n\r\n3. **Introduce `FeeRateForecasterManager` class**  \r\n   - Adds the `FeeRateForecasterManager` class, responsible for managing all fee rate forecasters, including `CBlockPolicyEstimator`, which is now a forecaster.  \r\n   - Updates the node context to hold a unique pointer to `FeeRateForecasterManager` instead of `CBlockPolicyEstimator`.  \r\n   - Changes `CBlockPolicyEstimator` instance from `unique_ptr` to a `shared_pointer`, allowing it to be registered in the validation interface without requiring explicit unregistration during shutdown (current master behaviour). Registering for `CBlockPolicyEstimator` flushes also get a `shared_pointer`.  \r\n   - Exposes a raw pointer of `CBlockPolicyEstimator` through `FeeRateForecasterManager` for compatibility with `estimateSmartFee`, friends, and node interfaces.  \r\n   -   Modifies `CBlockPolicyEstimator` to inherit from the `Forecaster` class and implement the pure abstract classes\r\n\r\n4. **Introduce `MempoolForecaster` class**  \r\n   - Adds the `MempoolForecaster`, which forecast the fee rate required for a transaction to confirm as soon as possible. It generates a block template and returns the 75th and 50th percentile fee rates  as low-priority and high-priority fee rate forecasts.  \r\n   - Implements caching for the last fee rate forecast, using a 30-second rate limit to avoid frequent block generation via the block assembler.\r\n\r\n\r\nThe `FeeRateForecasterManager` now includes a method `ForecastFeeRateFromForecasters`. This method polls forecasts from all registered forecasters and returns the lowest value. This behavior aligns with discussions and research outlined in [this post](https://delvingbitcoin.org/t/mempool-based-fee-estimation-on-bitcoin-core/703).  But the primary aim of the `FeeRateForecasterManager` is to be able to perform sanity checks and potentially apply heuristics to determine the most appropriate fee rate forecast from polled forecasters, for now it just return the lowest.\r\n\r\nThis PR also add unit tests for the classes.\r\n",
    "labels": [
      {
        "id": 82428251,
        "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
        "name": "TX fees and policy",
        "color": "5319e7",
        "default": false
      },
      {
        "id": 1648013533,
        "node_id": "MDU6TGFiZWwxNjQ4MDEzNTMz",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Review%20club",
        "name": "Review club",
        "description": "",
        "color": "0052cc",
        "default": false
      }
    ],
    "created_at": "2025-01-15T21:42:52Z",
    "updated_at": "2025-05-21T21:11:30Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "d897e734fb994c5b12a10fe03344e97f5cfb32ad",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "ismaelsadeeq:01-2025-feerate-forecastman",
      "ref": "01-2025-feerate-forecastman",
      "sha": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 577730599,
        "node_id": "R_kgDOIm94Jw",
        "name": "bitcoin",
        "full_name": "ismaelsadeeq/bitcoin",
        "owner": {
          "login": "ismaelsadeeq",
          "id": 48946461,
          "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
          "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ismaelsadeeq",
          "html_url": "https://github.com/ismaelsadeeq",
          "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
          "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
          "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
          "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
          "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/ismaelsadeeq/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/ismaelsadeeq/bitcoin",
        "archive_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/events",
        "forks_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/ismaelsadeeq/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:ismaelsadeeq/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/ismaelsadeeq/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/hooks",
        "svn_url": "https://github.com/ismaelsadeeq/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 276965,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-05-21T18:59:28Z",
        "created_at": "2022-12-13T11:54:34Z",
        "updated_at": "2023-03-10T09:46:26Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "87ec923d3a7af7b30613174b41c6fb11671df466",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37246,
        "stargazers_count": 83719,
        "watchers_count": 83719,
        "size": 282357,
        "default_branch": "master",
        "open_issues_count": 727,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-05-21T13:24:43Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-05-21T18:49:16Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 766,
    "deletions": 84,
    "changed_files": 37,
    "commits": 14,
    "review_comments": 21,
    "comments": 5
  },
  "events": [
    {
      "event": "commented",
      "id": 2593999478,
      "node_id": "IC_kwDOABII586anUp2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2593999478",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-15T21:42:56Z",
      "updated_at": "2025-05-21T19:00:24Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/31664.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#32523](https://github.com/bitcoin/bitcoin/pull/32523) (wallet: Remove watchonly behavior and isminetypes by achow101)\n* [#32395](https://github.com/bitcoin/bitcoin/pull/32395) (fees: rpc: `estimatesmartfee` now returns a fee rate estimate during low network activity by ismaelsadeeq)\n* [#31382](https://github.com/bitcoin/bitcoin/pull/31382) (kernel: Flush in ChainstateManager destructor by TheCharlatan)\n* [#30079](https://github.com/bitcoin/bitcoin/pull/30079) (Fee Estimation: Ignore all transactions that are CPFP'd by ismaelsadeeq)\n* [#28690](https://github.com/bitcoin/bitcoin/pull/28690) (build: Introduce internal kernel library by TheCharlatan)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#issuecomment-2593999478",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31664"
    },
    {
      "event": "labeled",
      "id": 16034779326,
      "node_id": "LE_lADOABII586mWxXrzwAAAAO7v1C-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16034779326",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-22T20:57:58Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16035664389,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAAO7zNIF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16035664389",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69",
      "created_at": "2025-01-22T22:28:33Z"
    },
    {
      "event": "unlabeled",
      "id": 16036017354,
      "node_id": "UNLE_lADOABII586mWxXrzwAAAAO70jTK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16036017354",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-22T23:17:21Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 16283665927,
      "node_id": "LE_lADOABII586mWxXrzwAAAAPKlQYH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16283665927",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-12T16:15:21Z",
      "label": {
        "name": "TX fees and policy",
        "color": "5319e7"
      }
    },
    {
      "event": "reviewed",
      "id": 2750226421,
      "node_id": "PRR_kwDOABII586j7R_1",
      "url": null,
      "actor": null,
      "commit_id": "c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "frankomosh",
        "id": 33951953,
        "node_id": "MDQ6VXNlcjMzOTUxOTUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/33951953?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/frankomosh",
        "html_url": "https://github.com/frankomosh",
        "followers_url": "https://api.github.com/users/frankomosh/followers",
        "following_url": "https://api.github.com/users/frankomosh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/frankomosh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/frankomosh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/frankomosh/subscriptions",
        "organizations_url": "https://api.github.com/users/frankomosh/orgs",
        "repos_url": "https://api.github.com/users/frankomosh/repos",
        "events_url": "https://api.github.com/users/frankomosh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/frankomosh/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#pullrequestreview-2750226421",
      "submitted_at": "2025-04-08T14:32:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
    },
    {
      "event": "commented",
      "id": 2786767247,
      "node_id": "IC_kwDOABII586mGrGP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2786767247",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-08T15:06:55Z",
      "updated_at": "2025-04-08T15:06:55Z",
      "author_association": "MEMBER",
      "body": "There is going to be a review club tomorrow on this PR\r\nhttps://bitcoincore.reviews/31664 notes and questions are up",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#issuecomment-2786767247",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31664"
    },
    {
      "event": "labeled",
      "id": 17193152254,
      "node_id": "LE_lADOABII586mWxXrzwAAAAQAyq7-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17193152254",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-09T17:05:02Z",
      "label": {
        "name": "Review club",
        "color": "0052cc"
      }
    },
    {
      "event": "reviewed",
      "id": 2754169488,
      "node_id": "PRR_kwDOABII586kKUqQ",
      "url": null,
      "actor": null,
      "commit_id": "c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#pullrequestreview-2754169488",
      "submitted_at": "2025-04-09T18:12:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
    },
    {
      "event": "commented",
      "id": 2792149557,
      "node_id": "IC_kwDOABII586mbNI1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2792149557",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-10T09:35:02Z",
      "updated_at": "2025-04-10T09:35:02Z",
      "author_association": "MEMBER",
      "body": "I will update the PR to address recent comments, I also want to remove some redundancy and restructure the commits.",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#issuecomment-2792149557",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31664"
    },
    {
      "event": "reviewed",
      "id": 2757094288,
      "node_id": "PRR_kwDOABII586kVeuQ",
      "url": null,
      "actor": null,
      "commit_id": "5bd2220422af02b20cb94dcd4c0e2c38e0284952",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "polespinasa",
        "id": 57642229,
        "node_id": "MDQ6VXNlcjU3NjQyMjI5",
        "avatar_url": "https://avatars.githubusercontent.com/u/57642229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/polespinasa",
        "html_url": "https://github.com/polespinasa",
        "followers_url": "https://api.github.com/users/polespinasa/followers",
        "following_url": "https://api.github.com/users/polespinasa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/polespinasa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/polespinasa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/polespinasa/subscriptions",
        "organizations_url": "https://api.github.com/users/polespinasa/orgs",
        "repos_url": "https://api.github.com/users/polespinasa/repos",
        "events_url": "https://api.github.com/users/polespinasa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/polespinasa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#pullrequestreview-2757094288",
      "submitted_at": "2025-04-10T14:35:27Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17238766259,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAAQDgrKz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17238766259",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "9455f2f0927014f2cc2495d432be635b58cc8fe2",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/9455f2f0927014f2cc2495d432be635b58cc8fe2",
      "created_at": "2025-04-13T14:19:48Z"
    },
    {
      "event": "commented",
      "id": 2799975088,
      "node_id": "IC_kwDOABII586m5Dqw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2799975088",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-13T14:28:51Z",
      "updated_at": "2025-04-13T14:28:51Z",
      "author_association": "MEMBER",
      "body": "Forced pushed c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69..9455f2f0927014f2cc2495d432be635b58cc8fe2\r\n\r\nI've made the following changes:\r\n1. Rebased on `master`.\r\n2. Reorganized the commits (refactor comes first).\r\n3. Squashed the structure-related commits into one.\r\n4. Addressed comments by @glozow.\r\n5. Removed some redundancy and things that seemed like YAGNI.\r\n6. Comparison of forecast results is now based on fee rate, and we now return `\"economical\"` by default—following comments by @polespinasa and @monlovesmango in the recent review club meeting.\r\n",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#issuecomment-2799975088",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31664"
    },
    {
      "event": "mentioned",
      "id": 17238785941,
      "node_id": "MEE_lADOABII586mWxXrzwAAAAQDgv-V",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17238785941",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-13T14:28:52Z"
    },
    {
      "event": "subscribed",
      "id": 17238785945,
      "node_id": "SE_lADOABII586mWxXrzwAAAAQDgv-Z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17238785945",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-13T14:28:53Z"
    },
    {
      "event": "mentioned",
      "id": 17238785948,
      "node_id": "MEE_lADOABII586mWxXrzwAAAAQDgv-c",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17238785948",
      "actor": {
        "login": "polespinasa",
        "id": 57642229,
        "node_id": "MDQ6VXNlcjU3NjQyMjI5",
        "avatar_url": "https://avatars.githubusercontent.com/u/57642229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/polespinasa",
        "html_url": "https://github.com/polespinasa",
        "followers_url": "https://api.github.com/users/polespinasa/followers",
        "following_url": "https://api.github.com/users/polespinasa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/polespinasa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/polespinasa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/polespinasa/subscriptions",
        "organizations_url": "https://api.github.com/users/polespinasa/orgs",
        "repos_url": "https://api.github.com/users/polespinasa/repos",
        "events_url": "https://api.github.com/users/polespinasa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/polespinasa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-13T14:28:53Z"
    },
    {
      "event": "subscribed",
      "id": 17238785950,
      "node_id": "SE_lADOABII586mWxXrzwAAAAQDgv-e",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17238785950",
      "actor": {
        "login": "polespinasa",
        "id": 57642229,
        "node_id": "MDQ6VXNlcjU3NjQyMjI5",
        "avatar_url": "https://avatars.githubusercontent.com/u/57642229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/polespinasa",
        "html_url": "https://github.com/polespinasa",
        "followers_url": "https://api.github.com/users/polespinasa/followers",
        "following_url": "https://api.github.com/users/polespinasa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/polespinasa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/polespinasa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/polespinasa/subscriptions",
        "organizations_url": "https://api.github.com/users/polespinasa/orgs",
        "repos_url": "https://api.github.com/users/polespinasa/repos",
        "events_url": "https://api.github.com/users/polespinasa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/polespinasa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-13T14:28:53Z"
    },
    {
      "event": "mentioned",
      "id": 17238785951,
      "node_id": "MEE_lADOABII586mWxXrzwAAAAQDgv-f",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17238785951",
      "actor": {
        "login": "monlovesmango",
        "id": 96307647,
        "node_id": "U_kgDOBb2Jvw",
        "avatar_url": "https://avatars.githubusercontent.com/u/96307647?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/monlovesmango",
        "html_url": "https://github.com/monlovesmango",
        "followers_url": "https://api.github.com/users/monlovesmango/followers",
        "following_url": "https://api.github.com/users/monlovesmango/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/monlovesmango/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/monlovesmango/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/monlovesmango/subscriptions",
        "organizations_url": "https://api.github.com/users/monlovesmango/orgs",
        "repos_url": "https://api.github.com/users/monlovesmango/repos",
        "events_url": "https://api.github.com/users/monlovesmango/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/monlovesmango/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-13T14:28:53Z"
    },
    {
      "event": "subscribed",
      "id": 17238785953,
      "node_id": "SE_lADOABII586mWxXrzwAAAAQDgv-h",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17238785953",
      "actor": {
        "login": "monlovesmango",
        "id": 96307647,
        "node_id": "U_kgDOBb2Jvw",
        "avatar_url": "https://avatars.githubusercontent.com/u/96307647?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/monlovesmango",
        "html_url": "https://github.com/monlovesmango",
        "followers_url": "https://api.github.com/users/monlovesmango/followers",
        "following_url": "https://api.github.com/users/monlovesmango/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/monlovesmango/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/monlovesmango/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/monlovesmango/subscriptions",
        "organizations_url": "https://api.github.com/users/monlovesmango/orgs",
        "repos_url": "https://api.github.com/users/monlovesmango/repos",
        "events_url": "https://api.github.com/users/monlovesmango/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/monlovesmango/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-13T14:28:53Z"
    },
    {
      "event": "labeled",
      "id": 17257146883,
      "node_id": "LE_lADOABII586mWxXrzwAAAAQEmyoD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17257146883",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-14T22:50:59Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17266129161,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAAQFJDkJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17266129161",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "a665ff19acf2a1356b7c2376379a9d265fdc8add",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/a665ff19acf2a1356b7c2376379a9d265fdc8add",
      "created_at": "2025-04-15T09:59:42Z"
    },
    {
      "event": "unlabeled",
      "id": 17267517148,
      "node_id": "UNLE_lADOABII586mWxXrzwAAAAQFOWbc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17267517148",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-15T11:31:17Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17408577297,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAAQNoc8R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17408577297",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "9ae158581ba968931a2c5ab5bd829217d5994470",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/9ae158581ba968931a2c5ab5bd829217d5994470",
      "created_at": "2025-04-25T15:42:26Z"
    },
    {
      "event": "reviewed",
      "id": 2795860272,
      "node_id": "PRR_kwDOABII586mpXEw",
      "url": null,
      "actor": null,
      "commit_id": "9ae158581ba968931a2c5ab5bd829217d5994470",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "polespinasa",
        "id": 57642229,
        "node_id": "MDQ6VXNlcjU3NjQyMjI5",
        "avatar_url": "https://avatars.githubusercontent.com/u/57642229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/polespinasa",
        "html_url": "https://github.com/polespinasa",
        "followers_url": "https://api.github.com/users/polespinasa/followers",
        "following_url": "https://api.github.com/users/polespinasa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/polespinasa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/polespinasa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/polespinasa/subscriptions",
        "organizations_url": "https://api.github.com/users/polespinasa/orgs",
        "repos_url": "https://api.github.com/users/polespinasa/repos",
        "events_url": "https://api.github.com/users/polespinasa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/polespinasa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#pullrequestreview-2795860272",
      "submitted_at": "2025-04-26T09:23:52Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17423720626,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAAQOiOCy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17423720626",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "75e6bb5ada83fe44a259d4789e2ebabb31c19557",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/75e6bb5ada83fe44a259d4789e2ebabb31c19557",
      "created_at": "2025-04-27T13:06:12Z"
    },
    {
      "event": "comment_deleted",
      "id": 17425297279,
      "node_id": "CDE_lADOABII586mWxXrzwAAAAQOoO9_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17425297279",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-27T23:47:53Z"
    },
    {
      "event": "labeled",
      "id": 17642794137,
      "node_id": "LE_lADOABII586mWxXrzwAAAAQbl6yZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17642794137",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-13T21:15:16Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17653488426,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAAQcOtsq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17653488426",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "d5a5d21520d2f7bb7d4f1b0ee2068a5f2398a82d",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/d5a5d21520d2f7bb7d4f1b0ee2068a5f2398a82d",
      "created_at": "2025-05-14T13:11:56Z"
    },
    {
      "event": "unlabeled",
      "id": 17654936419,
      "node_id": "UNLE_lADOABII586mWxXrzwAAAAQcUPNj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17654936419",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-14T14:24:59Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 17730674315,
      "node_id": "LE_lADOABII586mWxXrzwAAAAQg1J6L",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17730674315",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-20T09:43:18Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQzZGNiMzFhMmVhZDA4MGU3NzQwZDRmZjg3OTQ4YjcwMjJiODJhN2U",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/43dcb31a2ead080e7740d4ff87948b7022b82a7e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/43dcb31a2ead080e7740d4ff87948b7022b82a7e",
      "tree": {
        "sha": "72d0fc31720da3bc8f34e9b7e86ecc0f7023dac0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/72d0fc31720da3bc8f34e9b7e86ecc0f7023dac0"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9a887baadebce7c2e76df831fad54c5fa81d309e",
          "sha": "9a887baadebce7c2e76df831fad54c5fa81d309e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/9a887baadebce7c2e76df831fad54c5fa81d309e"
        }
      ],
      "message": "fees: refactor: rename policy_fee_tests.cpp to feerounder_tests.cpp\n\n- Also remame the test suite name to match the new name.",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-05-20T21:05:10Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-01-13T14:58:23Z"
      },
      "sha": "43dcb31a2ead080e7740d4ff87948b7022b82a7e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU2MjRmODc4NTBiNjdlMmZmMjBhODZhMmMzYjQ4ZWY4MjVmZTUzMTU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5624f87850b67e2ff20a86a2c3b48ef825fe5315",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5624f87850b67e2ff20a86a2c3b48ef825fe5315",
      "tree": {
        "sha": "b0973c0a980617b35c2cdf9cb97522ab7dd57ddd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b0973c0a980617b35c2cdf9cb97522ab7dd57ddd"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/43dcb31a2ead080e7740d4ff87948b7022b82a7e",
          "sha": "43dcb31a2ead080e7740d4ff87948b7022b82a7e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/43dcb31a2ead080e7740d4ff87948b7022b82a7e"
        }
      ],
      "message": "fees: refactor: rename fees to block_policy_estimator\n\n- Also move it to policy/fees and update the includes",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-05-20T21:07:19Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-01-09T22:31:05Z"
      },
      "sha": "5624f87850b67e2ff20a86a2c3b48ef825fe5315"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJkM2E5NDYzZDA3MTlhY2NmN2QwMzNlYzQ1Njg5NzZkMWJjZmUxMjg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bd3a9463d0719accf7d033ec4568976d1bcfe128",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bd3a9463d0719accf7d033ec4568976d1bcfe128",
      "tree": {
        "sha": "7b79952e0cae4aa03203d85df4d9fabc76318280",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7b79952e0cae4aa03203d85df4d9fabc76318280"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5624f87850b67e2ff20a86a2c3b48ef825fe5315",
          "sha": "5624f87850b67e2ff20a86a2c3b48ef825fe5315",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5624f87850b67e2ff20a86a2c3b48ef825fe5315"
        }
      ],
      "message": "fees: rename fees_args to block_policy_estimator_args\n\n- Also move them to policy/fees/ and update includes\n- Note: the block_policy_estimator_args.h include in block_policy_estimator_args.cpp was done manually.",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-05-20T21:07:24Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-01-15T18:10:55Z"
      },
      "sha": "bd3a9463d0719accf7d033ec4568976d1bcfe128"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDczZGNlYjE5MTcwZjZjZTk4NTVjYjRiYWIyNDk5ZGZmYzMxYzQyYzI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/73dceb19170f6ce9855cb4bab2499dffc31c42c2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/73dceb19170f6ce9855cb4bab2499dffc31c42c2",
      "tree": {
        "sha": "8d7b21d86fe87b990ee4ec28662cb1ae3645d100",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8d7b21d86fe87b990ee4ec28662cb1ae3645d100"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bd3a9463d0719accf7d033ec4568976d1bcfe128",
          "sha": "bd3a9463d0719accf7d033ec4568976d1bcfe128",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bd3a9463d0719accf7d033ec4568976d1bcfe128"
        }
      ],
      "message": "fees: return current block height in `estimateSmartFee`",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-05-20T21:07:24Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2024-08-12T14:40:20Z"
      },
      "sha": "73dceb19170f6ce9855cb4bab2499dffc31c42c2"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17741856939,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAAQhf0Cr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17741856939",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "cc4794b699cc2eea2f3d484cead665bd6605923f",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/cc4794b699cc2eea2f3d484cead665bd6605923f",
      "created_at": "2025-05-20T21:12:01Z"
    },
    {
      "event": "unlabeled",
      "id": 17742834903,
      "node_id": "UNLE_lADOABII586mWxXrzwAAAAQhjizX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17742834903",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-20T23:06:17Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 17743837115,
      "node_id": "LE_lADOABII586mWxXrzwAAAAQhnXe7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17743837115",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-21T01:16:27Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2896186211,
      "node_id": "IC_kwDOABII586soEtj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2896186211",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-21T01:16:28Z",
      "updated_at": "2025-05-21T01:16:28Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n🚧 At least one of the CI tasks failed.\n<sub>Task `previous releases, depends DEBUG`: https://github.com/bitcoin/bitcoin/runs/42588192236</sub>\n<sub>LLM reason (✨ experimental): The CI failure is due to a build error: an uninitialized variable in `forecaster_man.cpp` causes a compilation failure.\n</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#issuecomment-2896186211",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/31664"
    },
    {
      "event": "reviewed",
      "id": 2856553062,
      "node_id": "PRR_kwDOABII586qQ4pm",
      "url": null,
      "actor": null,
      "commit_id": "cc4794b699cc2eea2f3d484cead665bd6605923f",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "(from the llm linter)",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#pullrequestreview-2856553062",
      "submitted_at": "2025-05-21T07:07:37Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17753364037,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAAQiLtZF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17753364037",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "7aca1af0cf1678adf6f6b5bf34ef5577ba0ba542",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/7aca1af0cf1678adf6f6b5bf34ef5577ba0ba542",
      "created_at": "2025-05-21T12:56:17Z"
    },
    {
      "event": "reviewed",
      "id": 2858027514,
      "node_id": "PRR_kwDOABII586qWgn6",
      "url": null,
      "actor": null,
      "commit_id": "7aca1af0cf1678adf6f6b5bf34ef5577ba0ba542",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "(one more lint, also the ci test-each-commit failed)",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#pullrequestreview-2858027514",
      "submitted_at": "2025-05-21T14:45:34Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGYxMjk0MTAzMmQwOGE0OGRjZDU3ZjUxMWYwOWE4ZjVmOWYwZDhkYzM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f12941032d08a48dcd57f511f09a8f5f9f0d8dc3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f12941032d08a48dcd57f511f09a8f5f9f0d8dc3",
      "tree": {
        "sha": "c07bffc373f15a13abf7dc119c8c7e4a613e7234",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c07bffc373f15a13abf7dc119c8c7e4a613e7234"
      },
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "payload": "tree c07bffc373f15a13abf7dc119c8c7e4a613e7234\nparent 73dceb19170f6ce9855cb4bab2499dffc31c42c2\nauthor ismaelsadeeq <ask4ismailsadiq@gmail.com> 1744275254 +0100\ncommitter ismaelsadeeq <ask4ismailsadiq@gmail.com> 1747847893 +0100\n\nfees: add forecaster structures\n\ni  - Forecaster abstract class is the base class of fee rate forecasters.\n     Derived classes must provide concrete implementation\n     of the virtual methods.\n\nii - ForecastResult struct represent the response returned by\n     a fee rate forecaster.\n\niii - ForecastType will be used to identify forecasters.\n      Each time a new forecaster is added, a corresponding\n      enum value should be added to ForecastType.\n\nCo-authored-by: willcl-ark <will@256k1.dev>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYKAB0WIQTp92/X8LZmU6fYk5kOOQjzZJiYiAUCaC4K2AAKCRAOOQjzZJiY\niJwzAQCbOqGMViA6GD6lhj0D/69B1MoLKp2vbKvHYUdvZicdCwEAkquKtLNj0EZ3\nWzp7AQXpiO2XkKutTff4SNChDxz/mAA=\n=AWgX\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/73dceb19170f6ce9855cb4bab2499dffc31c42c2",
          "sha": "73dceb19170f6ce9855cb4bab2499dffc31c42c2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/73dceb19170f6ce9855cb4bab2499dffc31c42c2"
        }
      ],
      "message": "fees: add forecaster structures\n\ni  - Forecaster abstract class is the base class of fee rate forecasters.\n     Derived classes must provide concrete implementation\n     of the virtual methods.\n\nii - ForecastResult struct represent the response returned by\n     a fee rate forecaster.\n\niii - ForecastType will be used to identify forecasters.\n      Each time a new forecaster is added, a corresponding\n      enum value should be added to ForecastType.\n\nCo-authored-by: willcl-ark <will@256k1.dev>",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-05-21T17:18:13Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-04-10T08:54:14Z"
      },
      "sha": "f12941032d08a48dcd57f511f09a8f5f9f0d8dc3"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDgyODQ0NTRmZGRjYjAxY2Y2MDI1ZWFlYmIyNWNjNmRkZThlMTc1MDE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8284454fddcb01cf6025eaebb25cc6dde8e17501",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8284454fddcb01cf6025eaebb25cc6dde8e17501",
      "tree": {
        "sha": "5ae74a2f4ca7e0ff6d4afeb82f5ddf8a030a2d0b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5ae74a2f4ca7e0ff6d4afeb82f5ddf8a030a2d0b"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f12941032d08a48dcd57f511f09a8f5f9f0d8dc3",
          "sha": "f12941032d08a48dcd57f511f09a8f5f9f0d8dc3",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f12941032d08a48dcd57f511f09a8f5f9f0d8dc3"
        }
      ],
      "message": "fees: add ForecasterMan class\n\n- Its a module for managing and utilising multiple\n  fee rate forecasters to provide fee rate forecast.\n\n- The ForecasterManager class allows for the registration of\n  multiple fee rate forecasters.\n\nCo-authored-by: willcl-ark <will@256k1.dev>",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-05-21T17:18:58Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-04-10T08:35:23Z"
      },
      "sha": "8284454fddcb01cf6025eaebb25cc6dde8e17501"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGU1MGI1N2EzM2I3YTg5ODYxNmEwYWJhZjYzODQ4ZTIwMGRmYTk5Y2E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e50b57a33b7a898616a0abaf63848e200dfa99ca",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e50b57a33b7a898616a0abaf63848e200dfa99ca",
      "tree": {
        "sha": "2e23fb1e5a67bf99259479214cfe63c491c88c3a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2e23fb1e5a67bf99259479214cfe63c491c88c3a"
      },
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "payload": "tree 2e23fb1e5a67bf99259479214cfe63c491c88c3a\nparent 8284454fddcb01cf6025eaebb25cc6dde8e17501\nauthor ismaelsadeeq <ask4ismailsadiq@gmail.com> 1736809146 -0500\ncommitter ismaelsadeeq <ask4ismailsadiq@gmail.com> 1747848524 +0100\n\nfees: make block_policy_estimator a forecaster\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYKAB0WIQTp92/X8LZmU6fYk5kOOQjzZJiYiAUCaC4NUAAKCRAOOQjzZJiY\niEr4AQDtOVJGCb2m6aKLcutNXNSFrGtKpGs18kWJIftLetYqGQD/Y9ExdjPmUKZG\nYRO6SZRgpp//DJMMV94qBxTUmDV8OA8=\n=sh5B\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8284454fddcb01cf6025eaebb25cc6dde8e17501",
          "sha": "8284454fddcb01cf6025eaebb25cc6dde8e17501",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8284454fddcb01cf6025eaebb25cc6dde8e17501"
        }
      ],
      "message": "fees: make block_policy_estimator a forecaster",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-05-21T17:28:44Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-01-13T22:59:06Z"
      },
      "sha": "e50b57a33b7a898616a0abaf63848e200dfa99ca"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDJkYjllZTZhMzQ5YjFmNWIzYTAwOTJiMTU5MzA0ZDBhOTJkNWQ0MjI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2db9ee6a349b1f5b3a0092b159304d0a92d5d422",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/2db9ee6a349b1f5b3a0092b159304d0a92d5d422",
      "tree": {
        "sha": "598f308c3e0691e0303924b4d47ecd69fc9ab7cc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/598f308c3e0691e0303924b4d47ecd69fc9ab7cc"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e50b57a33b7a898616a0abaf63848e200dfa99ca",
          "sha": "e50b57a33b7a898616a0abaf63848e200dfa99ca",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e50b57a33b7a898616a0abaf63848e200dfa99ca"
        }
      ],
      "message": "fees: add block policy estimator to forecaster manager\n\n- This changes `CBlockPolicyEstimator` to a shared pointer\n  this gives us three advantages.\n   - Registering to validation interface using shared pointer\n   - Scheduling block policy estimator flushes using shared pointer\n   - Registering block policy estimator to forecaster_man",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-05-21T17:29:24Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-01-15T18:44:28Z"
      },
      "sha": "2db9ee6a349b1f5b3a0092b159304d0a92d5d422"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQ2YjE2MmUxZDRlMzQ3MDJjMDVmOGZmZjMyYTljZTA3ZmU3ZTE0ZmM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d6b162e1d4e34702c05f8fff32a9ce07fe7e14fc",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d6b162e1d4e34702c05f8fff32a9ce07fe7e14fc",
      "tree": {
        "sha": "4b1ec36eadf4a82572e20469c2d60f01a389cbab",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4b1ec36eadf4a82572e20469c2d60f01a389cbab"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2db9ee6a349b1f5b3a0092b159304d0a92d5d422",
          "sha": "2db9ee6a349b1f5b3a0092b159304d0a92d5d422",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2db9ee6a349b1f5b3a0092b159304d0a92d5d422"
        }
      ],
      "message": "fees: add `forecastTypeToString` method\n\n- This method converts a ForecastType enum to its\n  string representation.",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-05-21T17:29:24Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-01-02T18:46:32Z"
      },
      "sha": "d6b162e1d4e34702c05f8fff32a9ce07fe7e14fc"
    },
    {
      "event": "unlabeled",
      "id": 17758221877,
      "node_id": "UNLE_lADOABII586mWxXrzwAAAAQiePY1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17758221877",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-21T17:30:08Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDM0ZjA2NzRlMDEwOGMzNDE3NjE3ODM1ODBjYjM5NDVjMDU2OWFiMjM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/34f0674e0108c341761783580cb3945c0569ab23",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/34f0674e0108c341761783580cb3945c0569ab23",
      "tree": {
        "sha": "8b4763bc24e068089fdb5641387af04b1718bd6c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8b4763bc24e068089fdb5641387af04b1718bd6c"
      },
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "payload": "tree 8b4763bc24e068089fdb5641387af04b1718bd6c\nparent d6b162e1d4e34702c05f8fff32a9ce07fe7e14fc\nauthor ismaelsadeeq <ask4ismailsadiq@gmail.com> 1736958369 -0500\ncommitter ismaelsadeeq <ask4ismailsadiq@gmail.com> 1747849302 +0100\n\nfees: add `CalculatePercentiles` function\n\n- The CalculatePercentiles function, given\n  a vector of feerates in the order they were added\n  to the block, will return the 25th, 50th, 75th,\n  and 95th percentile feerates.\n\n- Also add a unit test for this function.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYKAB0WIQTp92/X8LZmU6fYk5kOOQjzZJiYiAUCaC4QVwAKCRAOOQjzZJiY\niOwrAPwPABbFnHAphXiDoRpRWn9xxDM/pDgJ10+/NrNAzBcX4AD/XXN2c6RpxNT4\ntKbGD0pKUo1Q8LXQUaXcNr19dCEMggk=\n=UEiB\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d6b162e1d4e34702c05f8fff32a9ce07fe7e14fc",
          "sha": "d6b162e1d4e34702c05f8fff32a9ce07fe7e14fc",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d6b162e1d4e34702c05f8fff32a9ce07fe7e14fc"
        }
      ],
      "message": "fees: add `CalculatePercentiles` function\n\n- The CalculatePercentiles function, given\n  a vector of feerates in the order they were added\n  to the block, will return the 25th, 50th, 75th,\n  and 95th percentile feerates.\n\n- Also add a unit test for this function.",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-05-21T17:41:42Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-01-15T16:26:09Z"
      },
      "sha": "34f0674e0108c341761783580cb3945c0569ab23"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDYyMjFmM2RkNmI2NjRiYjYwMjY4ZjdiMmQ0ZDU0ZjgzZTlhMDliYTE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6221f3dd6b664bb60268f7b2d4d54f83e9a09ba1",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6221f3dd6b664bb60268f7b2d4d54f83e9a09ba1",
      "tree": {
        "sha": "1b6b6f08c36b5e1de3c006f0ba8c018b93c7616c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1b6b6f08c36b5e1de3c006f0ba8c018b93c7616c"
      },
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "payload": "tree 1b6b6f08c36b5e1de3c006f0ba8c018b93c7616c\nparent 34f0674e0108c341761783580cb3945c0569ab23\nauthor ismaelsadeeq <ask4ismailsadiq@gmail.com> 1731522873 -0500\ncommitter ismaelsadeeq <ask4ismailsadiq@gmail.com> 1747849809 +0100\n\nfees: add `MemPoolForecaster` class\n\n- The mempool forecaster uses the unconfirmed transactions in the mempool\n  to generate a fee rate that a package should have for it to confirm as soon as possible.\n\nCo-authored-by: willcl-ark <will@256k1.dev>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYKAB0WIQTp92/X8LZmU6fYk5kOOQjzZJiYiAUCaC4SUwAKCRAOOQjzZJiY\niHyhAQDkKqaOZRQw9OPcrl5qn8SI+UlLZlBbgWgfRbhLfzwl3AEA592HDVxXr1Me\n5apbhTHjmqvM7N2XpRlh8vKbBvnG/gI=\n=mMSW\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/34f0674e0108c341761783580cb3945c0569ab23",
          "sha": "34f0674e0108c341761783580cb3945c0569ab23",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/34f0674e0108c341761783580cb3945c0569ab23"
        }
      ],
      "message": "fees: add `MemPoolForecaster` class\n\n- The mempool forecaster uses the unconfirmed transactions in the mempool\n  to generate a fee rate that a package should have for it to confirm as soon as possible.\n\nCo-authored-by: willcl-ark <will@256k1.dev>",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-05-21T17:50:09Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2024-11-13T18:34:33Z"
      },
      "sha": "6221f3dd6b664bb60268f7b2d4d54f83e9a09ba1"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDIzMzAzMTFlYjY5YWM5NjM3Yzk1YTJlNTg5OGZmOTQ3NmExZjUyZTY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2330311eb69ac9637c95a2e5898ff9476a1f52e6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/2330311eb69ac9637c95a2e5898ff9476a1f52e6",
      "tree": {
        "sha": "b0d14fbca6d7deeb2b01ca0055c9f13b96efdf3c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b0d14fbca6d7deeb2b01ca0055c9f13b96efdf3c"
      },
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "payload": "tree b0d14fbca6d7deeb2b01ca0055c9f13b96efdf3c\nparent 6221f3dd6b664bb60268f7b2d4d54f83e9a09ba1\nauthor ismaelsadeeq <ask4ismailsadiq@gmail.com> 1731523005 -0500\ncommitter ismaelsadeeq <ask4ismailsadiq@gmail.com> 1747850439 +0100\n\ntest: add mempool forecaster unit test\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYKAB0WIQTp92/X8LZmU6fYk5kOOQjzZJiYiAUCaC4UxwAKCRAOOQjzZJiY\niHTdAP9vXsBlOJBKfPD36LVAjkMsQZcF0zjaajdl6uLrWC9KsAEAiXcF4M5+g7TO\nrEfuQ8XrzMvBolFLlv5HAfAOYNTXJQM=\n=EkEs\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6221f3dd6b664bb60268f7b2d4d54f83e9a09ba1",
          "sha": "6221f3dd6b664bb60268f7b2d4d54f83e9a09ba1",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6221f3dd6b664bb60268f7b2d4d54f83e9a09ba1"
        }
      ],
      "message": "test: add mempool forecaster unit test",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-05-21T18:00:39Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2024-11-13T18:36:45Z"
      },
      "sha": "2330311eb69ac9637c95a2e5898ff9476a1f52e6"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDkxNzc1MGZjMTY0ZjY1MTM0OTM5Njk5YzlkMzc5YTk2ODM2ZGM3OGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/917750fc164f65134939699c9d379a96836dc78f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/917750fc164f65134939699c9d379a96836dc78f",
      "tree": {
        "sha": "4997a62c433e1b89bfe191e46c3f35286e184933",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4997a62c433e1b89bfe191e46c3f35286e184933"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2330311eb69ac9637c95a2e5898ff9476a1f52e6",
          "sha": "2330311eb69ac9637c95a2e5898ff9476a1f52e6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2330311eb69ac9637c95a2e5898ff9476a1f52e6"
        }
      ],
      "message": "fees: cache `MemPoolPolicyEstimator` forecasts\n\n- Provide new forecast only when the time delta from previous\n  forecast is older than 30 seconds.\n\n- This caching helps avoid the high cost of frequently generating block templates.\n\nCo-authored-by: willcl-ark <will@256k1.dev>",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-05-21T18:01:00Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-04-25T15:18:26Z"
      },
      "sha": "917750fc164f65134939699c9d379a96836dc78f"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17759041800,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAAQihXkI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17759041800",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "7eb2eff225af4cc51d7ce30b2e28db5594adf4b7",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/7eb2eff225af4cc51d7ce30b2e28db5594adf4b7",
      "created_at": "2025-05-21T18:31:36Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGY3OTg3M2ZiNTEyYzIwYTk3YzVhNjI4NjExOGVmNWI4NWRmMDUwMjc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f79873fb512c20a97c5a6286118ef5b85df05027",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f79873fb512c20a97c5a6286118ef5b85df05027",
      "tree": {
        "sha": "71826c2d35bf0e74dcde9a968549921b1d148446",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/71826c2d35bf0e74dcde9a968549921b1d148446"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/917750fc164f65134939699c9d379a96836dc78f",
          "sha": "917750fc164f65134939699c9d379a96836dc78f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/917750fc164f65134939699c9d379a96836dc78f"
        }
      ],
      "message": "fees: add `ForecastFeeRateFromForecasters` method\n\n- Polls all registered forecasters and selects the lowest fee rate.",
      "committer": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-05-21T18:58:19Z"
      },
      "author": {
        "name": "ismaelsadeeq",
        "email": "ask4ismailsadiq@gmail.com",
        "date": "2025-01-15T17:57:02Z"
      },
      "sha": "f79873fb512c20a97c5a6286118ef5b85df05027"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17759394099,
      "node_id": "HRFPE_lADOABII586mWxXrzwAAAAQiitkz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17759394099",
      "actor": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "commit_url": "https://api.github.com/repos/ismaelsadeeq/bitcoin/commits/f79873fb512c20a97c5a6286118ef5b85df05027",
      "created_at": "2025-05-21T18:59:29Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2033340253",
      "pull_request_review_id": 2750226421,
      "id": 2033340253,
      "node_id": "PRRC_kwDOABII5855Mk9d",
      "diff_hunk": "@@ -0,0 +1,67 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license. See the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <policy/fees/block_policy_estimator.h>\n+#include <policy/fees/forecaster.h>\n+#include <policy/fees/forecaster_man.h>\n+#include <policy/fees/forecaster_util.h>\n+\n+#include <algorithm>\n+#include <utility>\n+\n+void FeeRateForecasterManager::RegisterForecaster(std::shared_ptr<Forecaster> forecaster)\n+{\n+    forecasters.emplace(forecaster->GetForecastType(), forecaster);\n+}\n+\n+CBlockPolicyEstimator* FeeRateForecasterManager::GetBlockPolicyEstimator()\n+{\n+    Assume(forecasters.contains(ForecastType::BLOCK_POLICY));\n+    Forecaster* block_policy_estimator = forecasters.find(ForecastType::BLOCK_POLICY)->second.get();\n+    return dynamic_cast<CBlockPolicyEstimator*>(block_policy_estimator);\n+}\n+\n+std::pair<std::optional<ForecastResult>, std::vector<std::string>> FeeRateForecasterManager::GetFeeRateForecast(ConfirmationTarget& target)\n+{\n+    std::vector<std::string> err_messages;\n+    ForecastResult selected_forecast;\n+\n+    for (const auto& forecaster : forecasters) {\n+        auto curr_forecast = forecaster.second->EstimateFee(target);\n+\n+        if (curr_forecast.GetError().has_value()) {\n+            err_messages.emplace_back(\n+                strprintf(\"%s: %s\", forecastTypeToString(forecaster.first), curr_forecast.GetError().value_or(\"\")));\n+        }\n+\n+        // Handle case where the block policy estimator does not have enough data for fee estimates.\n+        if (curr_forecast.Empty() && forecaster.first == ForecastType::BLOCK_POLICY) {\n+            return {std::nullopt, err_messages};\n+        }\n+\n+        if (!curr_forecast.Empty()) {\n+            if (selected_forecast.Empty()) {\n+                // If there's no selected forecast, choose curr_forecast as selected_forecast.\n+                selected_forecast = curr_forecast;\n+            } else {\n+                // Otherwise, choose the smaller as selected_forecast.\n+                selected_forecast = std::min(selected_forecast, curr_forecast);",
      "path": "src/policy/fees/forecaster_man.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "original_commit_id": "c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69",
      "in_reply_to_id": null,
      "user": {
        "login": "frankomosh",
        "id": 33951953,
        "node_id": "MDQ6VXNlcjMzOTUxOTUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/33951953?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/frankomosh",
        "html_url": "https://github.com/frankomosh",
        "followers_url": "https://api.github.com/users/frankomosh/followers",
        "following_url": "https://api.github.com/users/frankomosh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/frankomosh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/frankomosh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/frankomosh/subscriptions",
        "organizations_url": "https://api.github.com/users/frankomosh/orgs",
        "repos_url": "https://api.github.com/users/frankomosh/repos",
        "events_url": "https://api.github.com/users/frankomosh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/frankomosh/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "from my understanding here, the manager is to always choose a forecast having the lowest high_priority fee rate from\r\n\r\n```bash\r\nbool operator<(const ForecastResult& other) const { return m_response.high_priority << other.m_response.high_priority; }\r\n\r\n```\r\n\r\nassuming we have mempool congestion spikes or other time-sensitive operations, wouldn’t we have a problem with underpayment if we always taking the minimum fee estimate here?",
      "created_at": "2025-04-08T14:32:14Z",
      "updated_at": "2025-04-08T14:32:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2033340253",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2033340253"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2033410318",
      "pull_request_review_id": 2750348550,
      "id": 2033410318,
      "node_id": "PRRC_kwDOABII5855M2EO",
      "diff_hunk": "@@ -0,0 +1,67 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license. See the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <policy/fees/block_policy_estimator.h>\n+#include <policy/fees/forecaster.h>\n+#include <policy/fees/forecaster_man.h>\n+#include <policy/fees/forecaster_util.h>\n+\n+#include <algorithm>\n+#include <utility>\n+\n+void FeeRateForecasterManager::RegisterForecaster(std::shared_ptr<Forecaster> forecaster)\n+{\n+    forecasters.emplace(forecaster->GetForecastType(), forecaster);\n+}\n+\n+CBlockPolicyEstimator* FeeRateForecasterManager::GetBlockPolicyEstimator()\n+{\n+    Assume(forecasters.contains(ForecastType::BLOCK_POLICY));\n+    Forecaster* block_policy_estimator = forecasters.find(ForecastType::BLOCK_POLICY)->second.get();\n+    return dynamic_cast<CBlockPolicyEstimator*>(block_policy_estimator);\n+}\n+\n+std::pair<std::optional<ForecastResult>, std::vector<std::string>> FeeRateForecasterManager::GetFeeRateForecast(ConfirmationTarget& target)\n+{\n+    std::vector<std::string> err_messages;\n+    ForecastResult selected_forecast;\n+\n+    for (const auto& forecaster : forecasters) {\n+        auto curr_forecast = forecaster.second->EstimateFee(target);\n+\n+        if (curr_forecast.GetError().has_value()) {\n+            err_messages.emplace_back(\n+                strprintf(\"%s: %s\", forecastTypeToString(forecaster.first), curr_forecast.GetError().value_or(\"\")));\n+        }\n+\n+        // Handle case where the block policy estimator does not have enough data for fee estimates.\n+        if (curr_forecast.Empty() && forecaster.first == ForecastType::BLOCK_POLICY) {\n+            return {std::nullopt, err_messages};\n+        }\n+\n+        if (!curr_forecast.Empty()) {\n+            if (selected_forecast.Empty()) {\n+                // If there's no selected forecast, choose curr_forecast as selected_forecast.\n+                selected_forecast = curr_forecast;\n+            } else {\n+                // Otherwise, choose the smaller as selected_forecast.\n+                selected_forecast = std::min(selected_forecast, curr_forecast);",
      "path": "src/policy/fees/forecaster_man.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "original_commit_id": "c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69",
      "in_reply_to_id": 2033340253,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Good question, @frankomosh.\r\n\r\nYou're right to think the lowest fee rate might be an underestimate during instant spikes.\r\n\r\nThis approach was specifically chosen to address the concern raised by @harding here: https://delvingbitcoin.org/t/mempool-based-fee-estimation-on-bitcoin-core/703/6.\r\n\r\nAlthough the concern is currently theoretical, @harding raised a valid point, and it seems reasonable to use mempool forecasts to adjust or correct block policy forecasts.\r\n\r\nEmpirical data also shows that this approach maintains around 60% accuracy, which performs better than the current status quo for economical fee rate forecasts: https://delvingbitcoin.org/t/mempool-based-fee-estimation-on-bitcoin-core/703/8?u=ismaelsadeeq.\r\n\r\nMy goal is to fix these issues with the following steps:\r\n\r\n1. Select the lower value between the mempool forecast and the block policy forecast.\r\n2. Return the certainty level of the mempool fee rate forecast based on statistics from previous block data in the next PR after this — see the POC here: https://github.com/bitcoin/bitcoin/pull/30157.\r\n3. Use fee rate forecast from forecaster manager in the wallet \r\n\r\nPotential Next Steps\r\n\r\n1. Ensure the mempool is not being manipulated, and use the mempool forecast even during congestion for ASAP fee rate estimates. / Or expose the mempool state so users can fee bump when congestion persists and they absolutely need to do so.\r\n2. Switch to a more economical fee rate forecaster for the long term, because the current one pays more than necessary, as by quite a large margin see research https://bitcoin.stackexchange.com/questions/124227/utility-of-longterm-fee-estimation/.\r\n",
      "created_at": "2025-04-08T15:06:05Z",
      "updated_at": "2025-04-08T15:06:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2033410318",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2033410318"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2034696995",
      "pull_request_review_id": 2752429651,
      "id": 2034696995,
      "node_id": "PRRC_kwDOABII5855RwMj",
      "diff_hunk": "@@ -0,0 +1,67 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license. See the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <policy/fees/block_policy_estimator.h>\n+#include <policy/fees/forecaster.h>\n+#include <policy/fees/forecaster_man.h>\n+#include <policy/fees/forecaster_util.h>\n+\n+#include <algorithm>\n+#include <utility>\n+\n+void FeeRateForecasterManager::RegisterForecaster(std::shared_ptr<Forecaster> forecaster)\n+{\n+    forecasters.emplace(forecaster->GetForecastType(), forecaster);\n+}\n+\n+CBlockPolicyEstimator* FeeRateForecasterManager::GetBlockPolicyEstimator()\n+{\n+    Assume(forecasters.contains(ForecastType::BLOCK_POLICY));\n+    Forecaster* block_policy_estimator = forecasters.find(ForecastType::BLOCK_POLICY)->second.get();\n+    return dynamic_cast<CBlockPolicyEstimator*>(block_policy_estimator);\n+}\n+\n+std::pair<std::optional<ForecastResult>, std::vector<std::string>> FeeRateForecasterManager::GetFeeRateForecast(ConfirmationTarget& target)\n+{\n+    std::vector<std::string> err_messages;\n+    ForecastResult selected_forecast;\n+\n+    for (const auto& forecaster : forecasters) {\n+        auto curr_forecast = forecaster.second->EstimateFee(target);\n+\n+        if (curr_forecast.GetError().has_value()) {\n+            err_messages.emplace_back(\n+                strprintf(\"%s: %s\", forecastTypeToString(forecaster.first), curr_forecast.GetError().value_or(\"\")));\n+        }\n+\n+        // Handle case where the block policy estimator does not have enough data for fee estimates.\n+        if (curr_forecast.Empty() && forecaster.first == ForecastType::BLOCK_POLICY) {\n+            return {std::nullopt, err_messages};\n+        }\n+\n+        if (!curr_forecast.Empty()) {\n+            if (selected_forecast.Empty()) {\n+                // If there's no selected forecast, choose curr_forecast as selected_forecast.\n+                selected_forecast = curr_forecast;\n+            } else {\n+                // Otherwise, choose the smaller as selected_forecast.\n+                selected_forecast = std::min(selected_forecast, curr_forecast);",
      "path": "src/policy/fees/forecaster_man.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "original_commit_id": "c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69",
      "in_reply_to_id": 2033340253,
      "user": {
        "login": "frankomosh",
        "id": 33951953,
        "node_id": "MDQ6VXNlcjMzOTUxOTUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/33951953?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/frankomosh",
        "html_url": "https://github.com/frankomosh",
        "followers_url": "https://api.github.com/users/frankomosh/followers",
        "following_url": "https://api.github.com/users/frankomosh/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/frankomosh/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/frankomosh/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/frankomosh/subscriptions",
        "organizations_url": "https://api.github.com/users/frankomosh/orgs",
        "repos_url": "https://api.github.com/users/frankomosh/repos",
        "events_url": "https://api.github.com/users/frankomosh/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/frankomosh/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks, @ismaelsadeeq, for sharing more context on this topic. I now see and understand why you took this approach. I think that the plan for improvement is also solid.\r\n\r\nIn `1. Select the lower value between the mempool forecast and the block policy forecast.` I appreciate the approach of selecting the lower value forecasters to avoid fee overpayment. \r\n\r\nAdditionally,  I would like to ask if we could improve accuracy by implementing a weighted selection strategy based on confirmation targets (this is just theoretical thinking since I haven’t done any tests on it).\r\n\r\nFrom the little context I have tried to gather, I see that different forecasters seem to do well in different scenarios i.e `CBlockPolicyEstimator` likely offers a more reliable estimates during periods of stability and for longer confirmation targets, while the `MempoolForecaster` might offer better predictions during rapid changes and for immediate confirmation targets of like (1-2 blocks).\r\n\r\nWould it, therefore, be worth considering a more targeted approach where we prefer MempoolForecaster for short-term targets and gradually shift to CBlockPolicyEstimator for longer-term targets of 3+ blocks? \r\n\r\nI think this could maintain the fee savings of your current approach while improving accuracy in time-sensitive scenarios where underpayment could have repercussions for users. \r\nEven if not for this PR, it might be something to consider for a future enhancement.\r\n\r\n(Note that I’m making assumptions here and have not looked into the overhead of actually doing this.)",
      "created_at": "2025-04-09T07:41:46Z",
      "updated_at": "2025-04-09T07:41:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2034696995",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2034696995"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2035021352",
      "pull_request_review_id": 2752914132,
      "id": 2035021352,
      "node_id": "PRRC_kwDOABII5855S_Yo",
      "diff_hunk": "@@ -0,0 +1,67 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license. See the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <policy/fees/block_policy_estimator.h>\n+#include <policy/fees/forecaster.h>\n+#include <policy/fees/forecaster_man.h>\n+#include <policy/fees/forecaster_util.h>\n+\n+#include <algorithm>\n+#include <utility>\n+\n+void FeeRateForecasterManager::RegisterForecaster(std::shared_ptr<Forecaster> forecaster)\n+{\n+    forecasters.emplace(forecaster->GetForecastType(), forecaster);\n+}\n+\n+CBlockPolicyEstimator* FeeRateForecasterManager::GetBlockPolicyEstimator()\n+{\n+    Assume(forecasters.contains(ForecastType::BLOCK_POLICY));\n+    Forecaster* block_policy_estimator = forecasters.find(ForecastType::BLOCK_POLICY)->second.get();\n+    return dynamic_cast<CBlockPolicyEstimator*>(block_policy_estimator);\n+}\n+\n+std::pair<std::optional<ForecastResult>, std::vector<std::string>> FeeRateForecasterManager::GetFeeRateForecast(ConfirmationTarget& target)\n+{\n+    std::vector<std::string> err_messages;\n+    ForecastResult selected_forecast;\n+\n+    for (const auto& forecaster : forecasters) {\n+        auto curr_forecast = forecaster.second->EstimateFee(target);\n+\n+        if (curr_forecast.GetError().has_value()) {\n+            err_messages.emplace_back(\n+                strprintf(\"%s: %s\", forecastTypeToString(forecaster.first), curr_forecast.GetError().value_or(\"\")));\n+        }\n+\n+        // Handle case where the block policy estimator does not have enough data for fee estimates.\n+        if (curr_forecast.Empty() && forecaster.first == ForecastType::BLOCK_POLICY) {\n+            return {std::nullopt, err_messages};\n+        }\n+\n+        if (!curr_forecast.Empty()) {\n+            if (selected_forecast.Empty()) {\n+                // If there's no selected forecast, choose curr_forecast as selected_forecast.\n+                selected_forecast = curr_forecast;\n+            } else {\n+                // Otherwise, choose the smaller as selected_forecast.\n+                selected_forecast = std::min(selected_forecast, curr_forecast);",
      "path": "src/policy/fees/forecaster_man.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "original_commit_id": "c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69",
      "in_reply_to_id": 2033340253,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Mempool forecaster only provide fee rate forecast for 1-2 blocks.\r\nsee `MEMPOOL_FORECAST_MAX_TARGET` constant in  https://github.com/bitcoin/bitcoin/pull/31664/commits/c7cdeafd7045c794b289e2438cc60baeee7e6f69\r\n\r\n",
      "created_at": "2025-04-09T10:04:26Z",
      "updated_at": "2025-04-09T10:52:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2035021352",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2035021352"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2035786192",
      "pull_request_review_id": 2754169488,
      "id": 2035786192,
      "node_id": "PRRC_kwDOABII5855V6HQ",
      "diff_hunk": "@@ -0,0 +1,161 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+#define BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+\n+#include <util/feefrac.h>\n+\n+#include <optional>\n+#include <string>\n+\n+/**\n+ * @enum ForecastType\n+ * Identifier for fee rate forecasters.\n+ */\n+enum class ForecastType {\n+    BLOCK_POLICY,\n+    MEMPOOL_FORECAST,\n+};\n+\n+/**\n+ * @class ForecastResult\n+ * Represents the response returned by a fee rate forecaster.\n+ */\n+class ForecastResult\n+{\n+public:\n+    /**\n+     * @struct ForecastResponse\n+     * Contains fee rate forecast metadata.\n+     */\n+    struct ForecastResponse {\n+        /**\n+         * An estimated fee rate as a result of a forecast for economical transactions.\n+         * This value is sufficient to confirm a package within the specified target.\n+         */\n+        FeeFrac low_priority;\n+\n+        /**\n+         * An estimated fee rate as a result of forecast for high-priority transactions.\n+         * This value is for users willing to pay more to increase the likelihood of\n+         * confirmation within the specified target.\n+         */\n+        FeeFrac high_priority;\n+\n+        /**\n+         * The chain tip at which the forecast was made.\n+         */\n+        unsigned int current_block_height{0};\n+        /* This identifies which forecaster is providing this feerate forecast */\n+        ForecastType forecaster;\n+    };\n+\n+    /**\n+     * Default ForecastResult constructor.\n+     */\n+    ForecastResult() {}\n+\n+    /**\n+     * Constructs a ForecastResult object.\n+     * @param response The forecast response data.\n+     * @param error An optional error message (default: nullopt).\n+     */\n+    ForecastResult(ForecastResponse response, std::optional<std::string> error = std::nullopt)\n+        : m_response(std::move(response)), m_error(std::move(error))\n+    {\n+    }\n+\n+    /**\n+     * Checks if the forecast response is empty.\n+     * @return true if both low and high priority forecast estimates are empty, false otherwise.\n+     */\n+    bool Empty() const\n+    {\n+        return m_response.low_priority.IsEmpty() && m_response.high_priority.IsEmpty();\n+    }\n+\n+    /**\n+     * Overloaded less than operator which compares two ForecastResult objects based on\n+     * their high priority estimates.\n+     * @param other The other ForecastResult object to compare with.\n+     * @return true if the current object's high priority estimate is less than the other, false otherwise.\n+     */\n+    bool operator<(const ForecastResult& other) const\n+    {\n+        return m_response.high_priority << other.m_response.high_priority;\n+    }\n+\n+    /**\n+     * Retrieves the forecast response.\n+     * @return A reference to the forecast response metadata.\n+     */\n+    const ForecastResponse& GetResponse() const\n+    {\n+        return m_response;\n+    }\n+\n+    /**\n+     * Retrieves the error message, if any.\n+     * @return An optional string containing the error message.\n+     */\n+    const std::optional<std::string>& GetError() const\n+    {\n+        return m_error;\n+    }\n+\n+private:\n+    ForecastResponse m_response;        ///< The forecast response data.\n+    std::optional<std::string> m_error; ///< Optional error message.\n+};\n+\n+/**\n+ * @enum ConfirmationTargetType\n+ * Defines the types of confirmation targets for fee rate forecasters.\n+ */\n+enum class ConfirmationTargetType {\n+    BLOCKS, /**< Forecasters providing estimates for a specific number of blocks use this type. */\n+};\n+\n+/**\n+ * @struct ConfirmationTarget\n+ * Represents the input for a parameter of fee rate forecaster.\n+ */\n+struct ConfirmationTarget {\n+    unsigned int value;\n+    ConfirmationTargetType type;\n+};",
      "path": "src/policy/fees/forecaster_util.h",
      "position": null,
      "original_position": 128,
      "commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "original_commit_id": "c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Are there any specific ideas for another `ConfirmationTargetType`? The only type defined here is a number of blocks (which could just be an integer) so I'm wondering why the complexity?",
      "created_at": "2025-04-09T17:04:05Z",
      "updated_at": "2025-04-09T18:12:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2035786192",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2035786192"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": 117,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 48,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2035883246",
      "pull_request_review_id": 2754169488,
      "id": 2035883246,
      "node_id": "PRRC_kwDOABII5855WRzu",
      "diff_hunk": "@@ -723,6 +724,29 @@ CFeeRate CBlockPolicyEstimator::estimateFee(int confTarget) const\n     return estimateRawFee(confTarget, DOUBLE_SUCCESS_PCT, FeeEstimateHorizon::MED_HALFLIFE);\n }\n \n+ForecastResult CBlockPolicyEstimator::EstimateFee(ConfirmationTarget& target)\n+{\n+    ForecastResult::ForecastResponse response;\n+    response.forecaster = ForecastType::BLOCK_POLICY;\n+    if (target.type != ConfirmationTargetType::BLOCKS) {\n+        return ForecastResult(response, \"Incorrect Confirmation target, expecting blocks\");\n+    }\n+    FeeCalculation feeCalcConservative;\n+    CFeeRate feerate_conservative{estimateSmartFee(target.value, &feeCalcConservative, /**conservative**/ true)};\n+    FeeCalculation feeCalcEconomical;\n+    CFeeRate feerate_economical{estimateSmartFee(target.value, &feeCalcEconomical, /**conservative**/ false)};\n+    response.current_block_height = feeCalcEconomical.bestheight;\n+    if (feerate_conservative == CFeeRate(0) || feerate_economical == CFeeRate(0)) {\n+        return ForecastResult(response, \"Insufficient data or no feerate found\");\n+    }\n+    // Note: size can be any positive non-zero integer; the evaluated fee/size will result in the same fee rate,\n+    // and we only care that the fee rate remains consistent.\n+    int32_t size = 1000;\n+    response.low_priority = FeeFrac(feerate_economical.GetFee(size), size);\n+    response.high_priority = FeeFrac(feerate_conservative.GetFee(size), size);",
      "path": "src/policy/fees/block_policy_estimator.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "original_commit_id": "9355da6de4a71104dc3319e279047cdc5c90b0aa",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "this might just be a personal opinion, but \"low priority\" and \"high priority\" usually mean different block targets to me. people who are accustomed to the mempool.space wording might say the same. but really, here and in the `MempoolForecaster`, it's a measure of how conservative/confident we are in our estimate no?\r\n\r\n![image](https://github.com/user-attachments/assets/11477535-87d2-4ad7-b9ab-4f3d6b95c86a)\r\n",
      "created_at": "2025-04-09T18:11:13Z",
      "updated_at": "2025-04-09T18:12:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2035883246",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2035883246"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": 745,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 746,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2035947015",
      "pull_request_review_id": 2754452475,
      "id": 2035947015,
      "node_id": "PRRC_kwDOABII5855WhYH",
      "diff_hunk": "@@ -723,6 +724,29 @@ CFeeRate CBlockPolicyEstimator::estimateFee(int confTarget) const\n     return estimateRawFee(confTarget, DOUBLE_SUCCESS_PCT, FeeEstimateHorizon::MED_HALFLIFE);\n }\n \n+ForecastResult CBlockPolicyEstimator::EstimateFee(ConfirmationTarget& target)\n+{\n+    ForecastResult::ForecastResponse response;\n+    response.forecaster = ForecastType::BLOCK_POLICY;\n+    if (target.type != ConfirmationTargetType::BLOCKS) {\n+        return ForecastResult(response, \"Incorrect Confirmation target, expecting blocks\");\n+    }\n+    FeeCalculation feeCalcConservative;\n+    CFeeRate feerate_conservative{estimateSmartFee(target.value, &feeCalcConservative, /**conservative**/ true)};\n+    FeeCalculation feeCalcEconomical;\n+    CFeeRate feerate_economical{estimateSmartFee(target.value, &feeCalcEconomical, /**conservative**/ false)};\n+    response.current_block_height = feeCalcEconomical.bestheight;\n+    if (feerate_conservative == CFeeRate(0) || feerate_economical == CFeeRate(0)) {\n+        return ForecastResult(response, \"Insufficient data or no feerate found\");\n+    }\n+    // Note: size can be any positive non-zero integer; the evaluated fee/size will result in the same fee rate,\n+    // and we only care that the fee rate remains consistent.\n+    int32_t size = 1000;\n+    response.low_priority = FeeFrac(feerate_economical.GetFee(size), size);\n+    response.high_priority = FeeFrac(feerate_conservative.GetFee(size), size);",
      "path": "src/policy/fees/block_policy_estimator.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "original_commit_id": "9355da6de4a71104dc3319e279047cdc5c90b0aa",
      "in_reply_to_id": 2035883246,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Good point Yes, it will be better to maintain the conservative and economical name?\r\nHappy to update.",
      "created_at": "2025-04-09T18:54:37Z",
      "updated_at": "2025-04-09T18:54:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2035947015",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2035947015"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": 745,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 746,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2035983336",
      "pull_request_review_id": 2754507521,
      "id": 2035983336,
      "node_id": "PRRC_kwDOABII5855WqPo",
      "diff_hunk": "@@ -0,0 +1,161 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+#define BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+\n+#include <util/feefrac.h>\n+\n+#include <optional>\n+#include <string>\n+\n+/**\n+ * @enum ForecastType\n+ * Identifier for fee rate forecasters.\n+ */\n+enum class ForecastType {\n+    BLOCK_POLICY,\n+    MEMPOOL_FORECAST,\n+};\n+\n+/**\n+ * @class ForecastResult\n+ * Represents the response returned by a fee rate forecaster.\n+ */\n+class ForecastResult\n+{\n+public:\n+    /**\n+     * @struct ForecastResponse\n+     * Contains fee rate forecast metadata.\n+     */\n+    struct ForecastResponse {\n+        /**\n+         * An estimated fee rate as a result of a forecast for economical transactions.\n+         * This value is sufficient to confirm a package within the specified target.\n+         */\n+        FeeFrac low_priority;\n+\n+        /**\n+         * An estimated fee rate as a result of forecast for high-priority transactions.\n+         * This value is for users willing to pay more to increase the likelihood of\n+         * confirmation within the specified target.\n+         */\n+        FeeFrac high_priority;\n+\n+        /**\n+         * The chain tip at which the forecast was made.\n+         */\n+        unsigned int current_block_height{0};\n+        /* This identifies which forecaster is providing this feerate forecast */\n+        ForecastType forecaster;\n+    };\n+\n+    /**\n+     * Default ForecastResult constructor.\n+     */\n+    ForecastResult() {}\n+\n+    /**\n+     * Constructs a ForecastResult object.\n+     * @param response The forecast response data.\n+     * @param error An optional error message (default: nullopt).\n+     */\n+    ForecastResult(ForecastResponse response, std::optional<std::string> error = std::nullopt)\n+        : m_response(std::move(response)), m_error(std::move(error))\n+    {\n+    }\n+\n+    /**\n+     * Checks if the forecast response is empty.\n+     * @return true if both low and high priority forecast estimates are empty, false otherwise.\n+     */\n+    bool Empty() const\n+    {\n+        return m_response.low_priority.IsEmpty() && m_response.high_priority.IsEmpty();\n+    }\n+\n+    /**\n+     * Overloaded less than operator which compares two ForecastResult objects based on\n+     * their high priority estimates.\n+     * @param other The other ForecastResult object to compare with.\n+     * @return true if the current object's high priority estimate is less than the other, false otherwise.\n+     */\n+    bool operator<(const ForecastResult& other) const\n+    {\n+        return m_response.high_priority << other.m_response.high_priority;\n+    }\n+\n+    /**\n+     * Retrieves the forecast response.\n+     * @return A reference to the forecast response metadata.\n+     */\n+    const ForecastResponse& GetResponse() const\n+    {\n+        return m_response;\n+    }\n+\n+    /**\n+     * Retrieves the error message, if any.\n+     * @return An optional string containing the error message.\n+     */\n+    const std::optional<std::string>& GetError() const\n+    {\n+        return m_error;\n+    }\n+\n+private:\n+    ForecastResponse m_response;        ///< The forecast response data.\n+    std::optional<std::string> m_error; ///< Optional error message.\n+};\n+\n+/**\n+ * @enum ConfirmationTargetType\n+ * Defines the types of confirmation targets for fee rate forecasters.\n+ */\n+enum class ConfirmationTargetType {\n+    BLOCKS, /**< Forecasters providing estimates for a specific number of blocks use this type. */\n+};\n+\n+/**\n+ * @struct ConfirmationTarget\n+ * Represents the input for a parameter of fee rate forecaster.\n+ */\n+struct ConfirmationTarget {\n+    unsigned int value;\n+    ConfirmationTargetType type;\n+};",
      "path": "src/policy/fees/forecaster_util.h",
      "position": null,
      "original_position": 128,
      "commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "original_commit_id": "c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69",
      "in_reply_to_id": 2035786192,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Yes, as is now, it might seem like overkill (though it will be useful in the future). This is just forward-looking I believe that, realistically, businesses and users care more about time in minutes or hours, etc.\r\n\r\nSo, I envision a fee rate forecaster that accepts input based on time in hours rather than blocks. For example: 'Give me a fee rate that will allow my transaction to confirm within the next 4 hours.'\r\n\r\nthis is a wishful thinking for now; no concrete idea or even reviewable design about it\r\nI don’t have a strong opinion on this we can easily refactor and enable it when needed.\r\n\r\nHappy to remove it if we prefer to keep only structures that are used immediately.",
      "created_at": "2025-04-09T19:07:13Z",
      "updated_at": "2025-04-09T19:07:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2035983336",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2035983336"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": 117,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 48,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2036045272",
      "pull_request_review_id": 2754621531,
      "id": 2036045272,
      "node_id": "PRRC_kwDOABII5855W5XY",
      "diff_hunk": "@@ -0,0 +1,161 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+#define BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+\n+#include <util/feefrac.h>\n+\n+#include <optional>\n+#include <string>\n+\n+/**\n+ * @enum ForecastType\n+ * Identifier for fee rate forecasters.\n+ */\n+enum class ForecastType {\n+    BLOCK_POLICY,\n+    MEMPOOL_FORECAST,\n+};\n+\n+/**\n+ * @class ForecastResult\n+ * Represents the response returned by a fee rate forecaster.\n+ */\n+class ForecastResult\n+{\n+public:\n+    /**\n+     * @struct ForecastResponse\n+     * Contains fee rate forecast metadata.\n+     */\n+    struct ForecastResponse {\n+        /**\n+         * An estimated fee rate as a result of a forecast for economical transactions.\n+         * This value is sufficient to confirm a package within the specified target.\n+         */\n+        FeeFrac low_priority;\n+\n+        /**\n+         * An estimated fee rate as a result of forecast for high-priority transactions.\n+         * This value is for users willing to pay more to increase the likelihood of\n+         * confirmation within the specified target.\n+         */\n+        FeeFrac high_priority;\n+\n+        /**\n+         * The chain tip at which the forecast was made.\n+         */\n+        unsigned int current_block_height{0};\n+        /* This identifies which forecaster is providing this feerate forecast */\n+        ForecastType forecaster;\n+    };\n+\n+    /**\n+     * Default ForecastResult constructor.\n+     */\n+    ForecastResult() {}\n+\n+    /**\n+     * Constructs a ForecastResult object.\n+     * @param response The forecast response data.\n+     * @param error An optional error message (default: nullopt).\n+     */\n+    ForecastResult(ForecastResponse response, std::optional<std::string> error = std::nullopt)\n+        : m_response(std::move(response)), m_error(std::move(error))\n+    {\n+    }\n+\n+    /**\n+     * Checks if the forecast response is empty.\n+     * @return true if both low and high priority forecast estimates are empty, false otherwise.\n+     */\n+    bool Empty() const\n+    {\n+        return m_response.low_priority.IsEmpty() && m_response.high_priority.IsEmpty();\n+    }\n+\n+    /**\n+     * Overloaded less than operator which compares two ForecastResult objects based on\n+     * their high priority estimates.\n+     * @param other The other ForecastResult object to compare with.\n+     * @return true if the current object's high priority estimate is less than the other, false otherwise.\n+     */\n+    bool operator<(const ForecastResult& other) const\n+    {\n+        return m_response.high_priority << other.m_response.high_priority;\n+    }\n+\n+    /**\n+     * Retrieves the forecast response.\n+     * @return A reference to the forecast response metadata.\n+     */\n+    const ForecastResponse& GetResponse() const\n+    {\n+        return m_response;\n+    }\n+\n+    /**\n+     * Retrieves the error message, if any.\n+     * @return An optional string containing the error message.\n+     */\n+    const std::optional<std::string>& GetError() const\n+    {\n+        return m_error;\n+    }\n+\n+private:\n+    ForecastResponse m_response;        ///< The forecast response data.\n+    std::optional<std::string> m_error; ///< Optional error message.\n+};\n+\n+/**\n+ * @enum ConfirmationTargetType\n+ * Defines the types of confirmation targets for fee rate forecasters.\n+ */\n+enum class ConfirmationTargetType {\n+    BLOCKS, /**< Forecasters providing estimates for a specific number of blocks use this type. */\n+};\n+\n+/**\n+ * @struct ConfirmationTarget\n+ * Represents the input for a parameter of fee rate forecaster.\n+ */\n+struct ConfirmationTarget {\n+    unsigned int value;\n+    ConfirmationTargetType type;\n+};",
      "path": "src/policy/fees/forecaster_util.h",
      "position": null,
      "original_position": 128,
      "commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "original_commit_id": "c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69",
      "in_reply_to_id": 2035786192,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "If there aren't any concrete ideas, it seems better to add the extra complexity if/when there is a reason to. fwiw I don't see why translating between hours and blocks would require another target type?",
      "created_at": "2025-04-09T19:48:33Z",
      "updated_at": "2025-04-09T19:48:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2036045272",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2036045272"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": 117,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 48,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2037576101",
      "pull_request_review_id": 2757094288,
      "id": 2037576101,
      "node_id": "PRRC_kwDOABII5855cvGl",
      "diff_hunk": "@@ -31,6 +31,13 @@ ForecastResult MemPoolForecaster::EstimateFee(ConfirmationTarget& target)\n                                             target.value, MEMPOOL_FORECAST_MAX_TARGET, MEMPOOL_FORECAST_MAX_TARGET));\n     }\n \n+    const auto cached_estimate = cache.get();",
      "path": "src/policy/fees/mempool_forecaster.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "original_commit_id": "5bd2220422af02b20cb94dcd4c0e2c38e0284952",
      "in_reply_to_id": null,
      "user": {
        "login": "polespinasa",
        "id": 57642229,
        "node_id": "MDQ6VXNlcjU3NjQyMjI5",
        "avatar_url": "https://avatars.githubusercontent.com/u/57642229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/polespinasa",
        "html_url": "https://github.com/polespinasa",
        "followers_url": "https://api.github.com/users/polespinasa/followers",
        "following_url": "https://api.github.com/users/polespinasa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/polespinasa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/polespinasa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/polespinasa/subscriptions",
        "organizations_url": "https://api.github.com/users/polespinasa/orgs",
        "repos_url": "https://api.github.com/users/polespinasa/repos",
        "events_url": "https://api.github.com/users/polespinasa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/polespinasa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Already commented during the [review club](https://bitcoincore.reviews/31664) but leaving a comment to make it easy to track.\r\n\r\nThe cache should not be returned when there is a chain reorganization. This can be done by simply checking if there was a reorganization during the last `CACHE_LIFE` window or by clearing the cache after a reorganization.\r\n\r\nPersonally, clearing the cache seems to me to be the best option, since the method can also be used for testing, as we may want to call the forecaster several times and do not want the cache to influence it.",
      "created_at": "2025-04-10T14:35:27Z",
      "updated_at": "2025-04-10T14:35:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2037576101",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2037576101"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2041135708",
      "pull_request_review_id": 2762770842,
      "id": 2041135708,
      "node_id": "PRRC_kwDOABII5855qUJc",
      "diff_hunk": "@@ -0,0 +1,161 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+#define BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+\n+#include <util/feefrac.h>\n+\n+#include <optional>\n+#include <string>\n+\n+/**\n+ * @enum ForecastType\n+ * Identifier for fee rate forecasters.\n+ */\n+enum class ForecastType {\n+    BLOCK_POLICY,\n+    MEMPOOL_FORECAST,\n+};\n+\n+/**\n+ * @class ForecastResult\n+ * Represents the response returned by a fee rate forecaster.\n+ */\n+class ForecastResult\n+{\n+public:\n+    /**\n+     * @struct ForecastResponse\n+     * Contains fee rate forecast metadata.\n+     */\n+    struct ForecastResponse {\n+        /**\n+         * An estimated fee rate as a result of a forecast for economical transactions.\n+         * This value is sufficient to confirm a package within the specified target.\n+         */\n+        FeeFrac low_priority;\n+\n+        /**\n+         * An estimated fee rate as a result of forecast for high-priority transactions.\n+         * This value is for users willing to pay more to increase the likelihood of\n+         * confirmation within the specified target.\n+         */\n+        FeeFrac high_priority;\n+\n+        /**\n+         * The chain tip at which the forecast was made.\n+         */\n+        unsigned int current_block_height{0};\n+        /* This identifies which forecaster is providing this feerate forecast */\n+        ForecastType forecaster;\n+    };\n+\n+    /**\n+     * Default ForecastResult constructor.\n+     */\n+    ForecastResult() {}\n+\n+    /**\n+     * Constructs a ForecastResult object.\n+     * @param response The forecast response data.\n+     * @param error An optional error message (default: nullopt).\n+     */\n+    ForecastResult(ForecastResponse response, std::optional<std::string> error = std::nullopt)\n+        : m_response(std::move(response)), m_error(std::move(error))\n+    {\n+    }\n+\n+    /**\n+     * Checks if the forecast response is empty.\n+     * @return true if both low and high priority forecast estimates are empty, false otherwise.\n+     */\n+    bool Empty() const\n+    {\n+        return m_response.low_priority.IsEmpty() && m_response.high_priority.IsEmpty();\n+    }\n+\n+    /**\n+     * Overloaded less than operator which compares two ForecastResult objects based on\n+     * their high priority estimates.\n+     * @param other The other ForecastResult object to compare with.\n+     * @return true if the current object's high priority estimate is less than the other, false otherwise.\n+     */\n+    bool operator<(const ForecastResult& other) const\n+    {\n+        return m_response.high_priority << other.m_response.high_priority;\n+    }\n+\n+    /**\n+     * Retrieves the forecast response.\n+     * @return A reference to the forecast response metadata.\n+     */\n+    const ForecastResponse& GetResponse() const\n+    {\n+        return m_response;\n+    }\n+\n+    /**\n+     * Retrieves the error message, if any.\n+     * @return An optional string containing the error message.\n+     */\n+    const std::optional<std::string>& GetError() const\n+    {\n+        return m_error;\n+    }\n+\n+private:\n+    ForecastResponse m_response;        ///< The forecast response data.\n+    std::optional<std::string> m_error; ///< Optional error message.\n+};\n+\n+/**\n+ * @enum ConfirmationTargetType\n+ * Defines the types of confirmation targets for fee rate forecasters.\n+ */\n+enum class ConfirmationTargetType {\n+    BLOCKS, /**< Forecasters providing estimates for a specific number of blocks use this type. */\n+};\n+\n+/**\n+ * @struct ConfirmationTarget\n+ * Represents the input for a parameter of fee rate forecaster.\n+ */\n+struct ConfirmationTarget {\n+    unsigned int value;\n+    ConfirmationTargetType type;\n+};",
      "path": "src/policy/fees/forecaster_util.h",
      "position": null,
      "original_position": 128,
      "commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "original_commit_id": "c6b94403bf9d5bf4fe9d5e5360b3d2c30a430d69",
      "in_reply_to_id": 2035786192,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Fixed in recent push.",
      "created_at": "2025-04-13T14:21:45Z",
      "updated_at": "2025-04-13T14:21:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2041135708",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2041135708"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": 117,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 48,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2041135772",
      "pull_request_review_id": 2762770887,
      "id": 2041135772,
      "node_id": "PRRC_kwDOABII5855qUKc",
      "diff_hunk": "@@ -723,6 +724,29 @@ CFeeRate CBlockPolicyEstimator::estimateFee(int confTarget) const\n     return estimateRawFee(confTarget, DOUBLE_SUCCESS_PCT, FeeEstimateHorizon::MED_HALFLIFE);\n }\n \n+ForecastResult CBlockPolicyEstimator::EstimateFee(ConfirmationTarget& target)\n+{\n+    ForecastResult::ForecastResponse response;\n+    response.forecaster = ForecastType::BLOCK_POLICY;\n+    if (target.type != ConfirmationTargetType::BLOCKS) {\n+        return ForecastResult(response, \"Incorrect Confirmation target, expecting blocks\");\n+    }\n+    FeeCalculation feeCalcConservative;\n+    CFeeRate feerate_conservative{estimateSmartFee(target.value, &feeCalcConservative, /**conservative**/ true)};\n+    FeeCalculation feeCalcEconomical;\n+    CFeeRate feerate_economical{estimateSmartFee(target.value, &feeCalcEconomical, /**conservative**/ false)};\n+    response.current_block_height = feeCalcEconomical.bestheight;\n+    if (feerate_conservative == CFeeRate(0) || feerate_economical == CFeeRate(0)) {\n+        return ForecastResult(response, \"Insufficient data or no feerate found\");\n+    }\n+    // Note: size can be any positive non-zero integer; the evaluated fee/size will result in the same fee rate,\n+    // and we only care that the fee rate remains consistent.\n+    int32_t size = 1000;\n+    response.low_priority = FeeFrac(feerate_economical.GetFee(size), size);\n+    response.high_priority = FeeFrac(feerate_conservative.GetFee(size), size);",
      "path": "src/policy/fees/block_policy_estimator.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "original_commit_id": "9355da6de4a71104dc3319e279047cdc5c90b0aa",
      "in_reply_to_id": 2035883246,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This is fixed now.",
      "created_at": "2025-04-13T14:22:00Z",
      "updated_at": "2025-04-13T14:22:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2041135772",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2041135772"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": 745,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 746,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2060485327",
      "pull_request_review_id": 2794560207,
      "id": 2060485327,
      "node_id": "PRRC_kwDOABII58560ILP",
      "diff_hunk": "@@ -31,6 +31,13 @@ ForecastResult MemPoolForecaster::EstimateFee(ConfirmationTarget& target)\n                                             target.value, MEMPOOL_FORECAST_MAX_TARGET, MEMPOOL_FORECAST_MAX_TARGET));\n     }\n \n+    const auto cached_estimate = cache.get();",
      "path": "src/policy/fees/mempool_forecaster.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "original_commit_id": "5bd2220422af02b20cb94dcd4c0e2c38e0284952",
      "in_reply_to_id": 2037576101,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Even better, I modified `CachedMempoolForecast` to store the last known tip.\r\nNow, the mempool forecaster will only return the cached fee rate if the last known tip matches the current tip.\r\n\r\nThis also prevents a case where a cache exists but a new block has just been mined and the mempool has been cleared—in such cases, a new block template should be generated instead of using the cache.\r\n\r\nThanks for your review @polespinasa ",
      "created_at": "2025-04-25T15:45:47Z",
      "updated_at": "2025-04-25T15:45:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2060485327",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2060485327"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2061240293",
      "pull_request_review_id": 2795860272,
      "id": 2061240293,
      "node_id": "PRRC_kwDOABII58563Afl",
      "diff_hunk": "@@ -28,6 +28,13 @@ ForecastResult MemPoolForecaster::ForecastFeeRate(int target, bool conservative)\n         return result;\n     }\n \n+    const auto cached_estimate = cache.get_cached_forecast();\n+    const auto last_tip = cache.get_last_known_tip();\n+    if (cached_estimate && activeTip->nHeight == last_tip) {",
      "path": "src/policy/fees/mempool_forecaster.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "original_commit_id": "ed220500c81e91d9c82a287836294ec05187a73c",
      "in_reply_to_id": null,
      "user": {
        "login": "polespinasa",
        "id": 57642229,
        "node_id": "MDQ6VXNlcjU3NjQyMjI5",
        "avatar_url": "https://avatars.githubusercontent.com/u/57642229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/polespinasa",
        "html_url": "https://github.com/polespinasa",
        "followers_url": "https://api.github.com/users/polespinasa/followers",
        "following_url": "https://api.github.com/users/polespinasa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/polespinasa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/polespinasa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/polespinasa/subscriptions",
        "organizations_url": "https://api.github.com/users/polespinasa/orgs",
        "repos_url": "https://api.github.com/users/polespinasa/repos",
        "events_url": "https://api.github.com/users/polespinasa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/polespinasa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I like the new approach!\r\n\r\nWhat do you think about saving the hash and not the heigh? In case of a reorg we could be at the same height and think that nothing happened.\r\n\r\n```\r\nif (chache_estimate && activeTip->phashBlock == last_tip)\r\n...\r\n",
      "created_at": "2025-04-26T09:23:43Z",
      "updated_at": "2025-04-26T09:23:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2061240293",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2061240293"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2062624207",
      "pull_request_review_id": 2797635809,
      "id": 2062624207,
      "node_id": "PRRC_kwDOABII58568SXP",
      "diff_hunk": "@@ -28,6 +28,13 @@ ForecastResult MemPoolForecaster::ForecastFeeRate(int target, bool conservative)\n         return result;\n     }\n \n+    const auto cached_estimate = cache.get_cached_forecast();\n+    const auto last_tip = cache.get_last_known_tip();\n+    if (cached_estimate && activeTip->nHeight == last_tip) {",
      "path": "src/policy/fees/mempool_forecaster.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "original_commit_id": "ed220500c81e91d9c82a287836294ec05187a73c",
      "in_reply_to_id": 2061240293,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done.",
      "created_at": "2025-04-27T13:06:38Z",
      "updated_at": "2025-04-27T13:06:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2062624207",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2062624207"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2099526827",
      "pull_request_review_id": 2856553062,
      "id": 2099526827,
      "node_id": "PRRC_kwDOABII5859JDyr",
      "diff_hunk": "@@ -0,0 +1,82 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+#define BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+\n+#include <util/feefrac.h>\n+\n+#include <optional>\n+#include <string>\n+\n+/**\n+ * @enum ForecastType\n+ * Identifier for fee rate forecasters.\n+ */\n+enum class ForecastType {\n+    BLOCK_POLICY,\n+    MEMPOOL_FORECAST,\n+};\n+\n+/**\n+ * @struct ForecastResult\n+ * Represents the response returned by a fee rate forecaster.\n+ */\n+struct ForecastResult {\n+    //! This identifies which forecaster is providing this feerate forecast\n+    ForecastType forecaster;\n+\n+    //! Fee rate sufficient to confirm a package within target.\n+    FeeFrac feerate;\n+\n+    //! The chain tip at which the forecast was made.\n+    unsigned int current_block_height{0};\n+\n+    std::optional<std::string> m_error; ///< Optional error message.\n+\n+    /**\n+     * Overloaded less than operator which compares two ForecastResult objects based on\n+     * their fee rate.\n+     * @param other The other ForecastResult object to compare with.\n+     * @return true if the current object's fee rate is less than the other, false otherwise.\n+     */\n+    bool operator<(const ForecastResult& other) const\n+    {\n+        return feerate << other.feerate;\n+    }\n+};\n+\n+// Block percentiles fee rate (in BTC/vB).\n+struct Percentiles {\n+    FeeFrac p25; // 25th percentile\n+    FeeFrac p50; // 50th percentile\n+    FeeFrac p75; // 75th percentile\n+    FeeFrac p95; // 5th percentile",
      "path": "src/policy/fees/forecaster_util.h",
      "position": null,
      "original_position": 55,
      "commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "original_commit_id": "cc4794b699cc2eea2f3d484cead665bd6605923f",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "could remove the redundant comments, given that at least one of them is wrong?",
      "created_at": "2025-05-21T07:06:59Z",
      "updated_at": "2025-05-21T07:07:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2099526827",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2099526827"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 55,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2099527580",
      "pull_request_review_id": 2856553062,
      "id": 2099527580,
      "node_id": "PRRC_kwDOABII5859JD-c",
      "diff_hunk": "@@ -0,0 +1,63 @@\n+// Copyright (c) 2024 The Bitcoin Core developers\n+// Distributed under the MIT software license. See the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/miner.h>\n+#include <policy/fees/forecaster.h>\n+#include <policy/fees/forecaster_util.h>\n+#include <policy/fees/mempool_forecaster.h>\n+#include <policy/policy.h>\n+#include <validation.h>\n+\n+ForecastResult MemPoolForecaster::ForecastFeeRate(int target, bool conservative) const\n+{\n+    ForecastResult result;\n+    result.forecaster = m_forecastType;\n+    LOCK2(cs_main, m_mempool->cs);\n+    auto activeTip = m_chainstate->m_chainman.ActiveTip();\n+    if (!activeTip) {\n+        result.m_error = \"No active chainstate available\";\n+        return result;\n+    }\n+    result.current_block_height = static_cast<unsigned int>(activeTip->nHeight);\n+\n+    if (target > MEMPOOL_FORECAST_MAX_TARGET) {\n+        result.m_error = strprintf(\"Confirmation target %s exceeds the maximum limit of %s. mempool conditions might change\",\n+                                   target, MEMPOOL_FORECAST_MAX_TARGET);\n+        return result;\n+    }\n+\n+    const auto cached_estimate = cache.get_cached_forecast();\n+    const auto known_chain_tip_hash = cache.get_chain_tip_hash();\n+    if (cached_estimate && *activeTip->phashBlock == known_chain_tip_hash) {\n+        result.feerate = conservative ? cached_estimate->p50 : cached_estimate->p75;\n+        return result;\n+    }\n+\n+    node::BlockAssembler::Options options;\n+    options.test_block_validity = false;\n+    node::BlockAssembler assembler(*m_chainstate, m_mempool, options);\n+\n+    const auto pblocktemplate = assembler.CreateNewBlock();\n+    const auto& m_package_feerates = pblocktemplate->m_package_feerates;\n+    const auto percentiles = CalculatePercentiles(m_package_feerates, DEFAULT_BLOCK_MAX_WEIGHT);\n+    if (percentiles.empty()) {\n+        result.m_error = \"Forecaster unable a fee rate due to insufficient data\";",
      "path": "src/policy/fees/mempool_forecaster.cpp",
      "position": null,
      "original_position": 46,
      "commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "original_commit_id": "cc4794b699cc2eea2f3d484cead665bd6605923f",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "unable a fee rate -> unable to find a fee rate [Incorrect grammar; \"unable to find\" or \"unable to provide\" would be clearer.]",
      "created_at": "2025-05-21T07:07:25Z",
      "updated_at": "2025-05-21T07:07:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2099527580",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2099527580"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 46,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2100220749",
      "pull_request_review_id": 2857613552,
      "id": 2100220749,
      "node_id": "PRRC_kwDOABII5859LtNN",
      "diff_hunk": "@@ -0,0 +1,63 @@\n+// Copyright (c) 2024 The Bitcoin Core developers\n+// Distributed under the MIT software license. See the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/miner.h>\n+#include <policy/fees/forecaster.h>\n+#include <policy/fees/forecaster_util.h>\n+#include <policy/fees/mempool_forecaster.h>\n+#include <policy/policy.h>\n+#include <validation.h>\n+\n+ForecastResult MemPoolForecaster::ForecastFeeRate(int target, bool conservative) const\n+{\n+    ForecastResult result;\n+    result.forecaster = m_forecastType;\n+    LOCK2(cs_main, m_mempool->cs);\n+    auto activeTip = m_chainstate->m_chainman.ActiveTip();\n+    if (!activeTip) {\n+        result.m_error = \"No active chainstate available\";\n+        return result;\n+    }\n+    result.current_block_height = static_cast<unsigned int>(activeTip->nHeight);\n+\n+    if (target > MEMPOOL_FORECAST_MAX_TARGET) {\n+        result.m_error = strprintf(\"Confirmation target %s exceeds the maximum limit of %s. mempool conditions might change\",\n+                                   target, MEMPOOL_FORECAST_MAX_TARGET);\n+        return result;\n+    }\n+\n+    const auto cached_estimate = cache.get_cached_forecast();\n+    const auto known_chain_tip_hash = cache.get_chain_tip_hash();\n+    if (cached_estimate && *activeTip->phashBlock == known_chain_tip_hash) {\n+        result.feerate = conservative ? cached_estimate->p50 : cached_estimate->p75;\n+        return result;\n+    }\n+\n+    node::BlockAssembler::Options options;\n+    options.test_block_validity = false;\n+    node::BlockAssembler assembler(*m_chainstate, m_mempool, options);\n+\n+    const auto pblocktemplate = assembler.CreateNewBlock();\n+    const auto& m_package_feerates = pblocktemplate->m_package_feerates;\n+    const auto percentiles = CalculatePercentiles(m_package_feerates, DEFAULT_BLOCK_MAX_WEIGHT);\n+    if (percentiles.empty()) {\n+        result.m_error = \"Forecaster unable a fee rate due to insufficient data\";",
      "path": "src/policy/fees/mempool_forecaster.cpp",
      "position": null,
      "original_position": 46,
      "commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "original_commit_id": "cc4794b699cc2eea2f3d484cead665bd6605923f",
      "in_reply_to_id": 2099527580,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "thanks fixed.",
      "created_at": "2025-05-21T12:54:36Z",
      "updated_at": "2025-05-21T12:54:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2100220749",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2100220749"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 46,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2100227626",
      "pull_request_review_id": 2857623501,
      "id": 2100227626,
      "node_id": "PRRC_kwDOABII5859Lu4q",
      "diff_hunk": "@@ -0,0 +1,82 @@\n+// Copyright (c) 2025 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+#define BITCOIN_POLICY_FEES_FORECASTER_UTIL_H\n+\n+#include <util/feefrac.h>\n+\n+#include <optional>\n+#include <string>\n+\n+/**\n+ * @enum ForecastType\n+ * Identifier for fee rate forecasters.\n+ */\n+enum class ForecastType {\n+    BLOCK_POLICY,\n+    MEMPOOL_FORECAST,\n+};\n+\n+/**\n+ * @struct ForecastResult\n+ * Represents the response returned by a fee rate forecaster.\n+ */\n+struct ForecastResult {\n+    //! This identifies which forecaster is providing this feerate forecast\n+    ForecastType forecaster;\n+\n+    //! Fee rate sufficient to confirm a package within target.\n+    FeeFrac feerate;\n+\n+    //! The chain tip at which the forecast was made.\n+    unsigned int current_block_height{0};\n+\n+    std::optional<std::string> m_error; ///< Optional error message.\n+\n+    /**\n+     * Overloaded less than operator which compares two ForecastResult objects based on\n+     * their fee rate.\n+     * @param other The other ForecastResult object to compare with.\n+     * @return true if the current object's fee rate is less than the other, false otherwise.\n+     */\n+    bool operator<(const ForecastResult& other) const\n+    {\n+        return feerate << other.feerate;\n+    }\n+};\n+\n+// Block percentiles fee rate (in BTC/vB).\n+struct Percentiles {\n+    FeeFrac p25; // 25th percentile\n+    FeeFrac p50; // 50th percentile\n+    FeeFrac p75; // 75th percentile\n+    FeeFrac p95; // 5th percentile",
      "path": "src/policy/fees/forecaster_util.h",
      "position": null,
      "original_position": 55,
      "commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "original_commit_id": "cc4794b699cc2eea2f3d484cead665bd6605923f",
      "in_reply_to_id": 2099526827,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "fixed",
      "created_at": "2025-05-21T12:56:36Z",
      "updated_at": "2025-05-21T12:56:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2100227626",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2100227626"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 55,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2100486155",
      "pull_request_review_id": 2858027514,
      "id": 2100486155,
      "node_id": "PRRC_kwDOABII5859MuAL",
      "diff_hunk": "@@ -0,0 +1,100 @@\n+// Copyright (c) 2024 The Bitcoin Core developers\n+// Distributed under the MIT software license. See the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_MEMPOOL_FORECASTER_H\n+#define BITCOIN_POLICY_FEES_MEMPOOL_FORECASTER_H\n+\n+\n+#include <logging.h>\n+#include <policy/fees/forecaster.h>\n+#include <policy/fees/forecaster_util.h>\n+#include <sync.h>\n+#include <uint256.h>\n+#include <util/time.h>\n+\n+\n+#include <chrono>\n+\n+class Chainstate;\n+class CTxMemPool;\n+\n+// Fee rate forecasts above this confirmation target are not reliable,\n+// as mempool conditions are likely to change.\n+constexpr int MEMPOOL_FORECAST_MAX_TARGET{2};\n+constexpr std::chrono::seconds CACHE_LIFE{30};\n+\n+/**\n+ * CachedMempoolForecast holds a cache of recent fee rate forecast.",
      "path": "src/policy/fees/mempool_forecaster.h",
      "position": null,
      "original_position": 28,
      "commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "original_commit_id": "7aca1af0cf1678adf6f6b5bf34ef5577ba0ba542",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "\r\nCachedMempoolForecast holds a cache of recent fee rate forecast. -> CachedMempoolForecast holds a cache of recent fee rate forecasts. [grammatical error: \"forecast\" should be plural when referring to multiple items]\r\n",
      "created_at": "2025-05-21T14:45:18Z",
      "updated_at": "2025-05-21T14:45:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2100486155",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2100486155"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 28,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2101176481",
      "pull_request_review_id": 2859131597,
      "id": 2101176481,
      "node_id": "PRRC_kwDOABII5859PWih",
      "diff_hunk": "@@ -0,0 +1,100 @@\n+// Copyright (c) 2024 The Bitcoin Core developers\n+// Distributed under the MIT software license. See the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_POLICY_FEES_MEMPOOL_FORECASTER_H\n+#define BITCOIN_POLICY_FEES_MEMPOOL_FORECASTER_H\n+\n+\n+#include <logging.h>\n+#include <policy/fees/forecaster.h>\n+#include <policy/fees/forecaster_util.h>\n+#include <sync.h>\n+#include <uint256.h>\n+#include <util/time.h>\n+\n+\n+#include <chrono>\n+\n+class Chainstate;\n+class CTxMemPool;\n+\n+// Fee rate forecasts above this confirmation target are not reliable,\n+// as mempool conditions are likely to change.\n+constexpr int MEMPOOL_FORECAST_MAX_TARGET{2};\n+constexpr std::chrono::seconds CACHE_LIFE{30};\n+\n+/**\n+ * CachedMempoolForecast holds a cache of recent fee rate forecast.",
      "path": "src/policy/fees/mempool_forecaster.h",
      "position": null,
      "original_position": 28,
      "commit_id": "f79873fb512c20a97c5a6286118ef5b85df05027",
      "original_commit_id": "7aca1af0cf1678adf6f6b5bf34ef5577ba0ba542",
      "in_reply_to_id": 2100486155,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Fixed",
      "created_at": "2025-05-21T21:11:30Z",
      "updated_at": "2025-05-21T21:11:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/31664#discussion_r2101176481",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2101176481"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/31664"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 28,
      "side": "RIGHT"
    }
  ]
}