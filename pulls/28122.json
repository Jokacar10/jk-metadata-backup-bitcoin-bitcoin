{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122",
    "id": 1444867984,
    "node_id": "PR_kwDOABII585WHu-Q",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/28122",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/28122.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/28122.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/9d78a2ce4ff908689d5d9acab964d1063082d5ca",
    "number": 28122,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "Silent Payments: Implement BIP352",
    "user": {
      "login": "josibake",
      "id": 7444140,
      "node_id": "MDQ6VXNlcjc0NDQxNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/josibake",
      "html_url": "https://github.com/josibake",
      "followers_url": "https://api.github.com/users/josibake/followers",
      "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
      "organizations_url": "https://api.github.com/users/josibake/orgs",
      "repos_url": "https://api.github.com/users/josibake/repos",
      "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/josibake/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "This PR is part of integrating silent payments into Bitcoin Core. The project is tracked in https://github.com/bitcoin/bitcoin/issues/28536\r\n\r\nBased on https://github.com/bitcoin-core/secp256k1/pull/1519\r\n\r\n## Pre-work / Refactors\r\n\r\nThe first three commits are pre-work / refactors needed for this PR. They are broken out into the following PRS:\r\n\r\n* #30046 \r\n* #30047 \r\n* #30048\r\n\r\n## BIP352\r\n\r\nThis PR focuses strictly on the BIP logic and attempts to separate it from the wallet and transaction implementation details. This is accomplished by working directly with public and private keys, instead of needing a wallet backend and transactions for testing. Labels for the receiver are optional and thus deferred for a later PR.\r\n\r\nTest vectors from the BIP are included as unit tests.\r\n\r\nBefore reviewing, it is strongly recommended you read https://github.com/bitcoin/bips/pull/1458 and take a look at the reference python implementation on the BIP.\r\n",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      },
      {
        "id": 249581124,
        "node_id": "MDU6TGFiZWwyNDk1ODExMjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Privacy",
        "name": "Privacy",
        "color": "5319e7",
        "default": false
      }
    ],
    "created_at": "2023-07-21T18:36:37Z",
    "updated_at": "2025-04-09T07:52:46Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "d988f7e2b02732119eb496330fa1d59e9e500306",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "josibake:implement-bip352",
      "ref": "implement-bip352",
      "sha": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 344501009,
        "node_id": "MDEwOlJlcG9zaXRvcnkzNDQ1MDEwMDk=",
        "name": "bitcoin",
        "full_name": "josibake/bitcoin",
        "owner": {
          "login": "josibake",
          "id": 7444140,
          "node_id": "MDQ6VXNlcjc0NDQxNDA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/josibake",
          "html_url": "https://github.com/josibake",
          "followers_url": "https://api.github.com/users/josibake/followers",
          "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
          "organizations_url": "https://api.github.com/users/josibake/orgs",
          "repos_url": "https://api.github.com/users/josibake/repos",
          "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/josibake/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/josibake/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/josibake/bitcoin",
        "archive_url": "https://api.github.com/repos/josibake/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/josibake/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/josibake/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/josibake/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/josibake/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/josibake/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/josibake/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/josibake/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/josibake/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/josibake/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/josibake/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/josibake/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/josibake/bitcoin/events",
        "forks_url": "https://api.github.com/repos/josibake/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/josibake/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/josibake/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/josibake/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/josibake/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/josibake/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/josibake/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/josibake/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/josibake/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/josibake/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/josibake/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/josibake/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/josibake/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/josibake/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/josibake/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/josibake/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:josibake/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/josibake/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/josibake/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/josibake/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/josibake/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/josibake/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/josibake/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/josibake/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/josibake/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/josibake/bitcoin/hooks",
        "svn_url": "https://github.com/josibake/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 269620,
        "default_branch": "master",
        "open_issues_count": 3,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-04-08T15:51:13Z",
        "created_at": "2021-03-04T14:24:20Z",
        "updated_at": "2025-04-04T08:57:17Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "d42e82d65069a8b5f58de354beab5249c7203542",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37016,
        "stargazers_count": 82823,
        "watchers_count": 82823,
        "size": 279446,
        "default_branch": "master",
        "open_issues_count": 695,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-04-08T21:27:02Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-04-09T06:17:47Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
      }
    },
    "author_association": "MEMBER",
    "draft": true,
    "additions": 14039,
    "deletions": 415,
    "changed_files": 70,
    "commits": 8,
    "review_comments": 109,
    "comments": 37
  },
  "events": [
    {
      "event": "commented",
      "id": 1646097920,
      "node_id": "IC_kwDOABII585iHXYA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1646097920",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-21T18:36:41Z",
      "updated_at": "2025-04-09T07:52:45Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/28122.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#32028](https://github.com/bitcoin/bitcoin/pull/32028) (Update `secp256k1` subtree to latest master by hebasto)\n* [#31974](https://github.com/bitcoin/bitcoin/pull/31974) (Drop testnet3 by Sjors)\n* [#29491](https://github.com/bitcoin/bitcoin/pull/29491) ([EXPERIMENTAL] Schnorr batch verification for blocks by fjahr)\n* [#27260](https://github.com/bitcoin/bitcoin/pull/27260) (Enhanced error messages for invalid network prefix during address parsing. by russeree)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1646097920",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9888104995,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJNYIIj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9888104995",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "be049d2ef9912c7f53e73924289dcc0308699ad5",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/be049d2ef9912c7f53e73924289dcc0308699ad5",
      "created_at": "2023-07-21T18:54:55Z"
    },
    {
      "event": "labeled",
      "id": 9888105871,
      "node_id": "LE_lADOABII585sQXuIzwAAAAJNYIWP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9888105871",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-21T18:55:01Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9888314157,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJNY7Mt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9888314157",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "13529c968e3fd84d6702eb5ffb9a6cc9b7264376",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/13529c968e3fd84d6702eb5ffb9a6cc9b7264376",
      "created_at": "2023-07-21T19:23:43Z"
    },
    {
      "event": "reviewed",
      "id": 1542113471,
      "node_id": "PRR_kwDOABII585b6si_",
      "url": null,
      "actor": null,
      "commit_id": "6d11e3c435397dab960bc2b5e6cb5a2a1166b39b",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1542113471",
      "submitted_at": "2023-07-22T16:10:19Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9892673100,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJNpjZM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9892673100",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "1d75df2aaeb34bb3058294dd02559bd35e27ae37",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/1d75df2aaeb34bb3058294dd02559bd35e27ae37",
      "created_at": "2023-07-23T12:18:00Z"
    },
    {
      "event": "reviewed",
      "id": 1542293714,
      "node_id": "PRR_kwDOABII585b7YjS",
      "url": null,
      "actor": null,
      "commit_id": "1d75df2aaeb34bb3058294dd02559bd35e27ae37",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1542293714",
      "submitted_at": "2023-07-23T17:27:50Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9921275265,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJPWqWB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9921275265",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "dc18efa78d014be0a09e4c986813086e56c251a3",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/dc18efa78d014be0a09e4c986813086e56c251a3",
      "created_at": "2023-07-26T09:10:09Z"
    },
    {
      "event": "unlabeled",
      "id": 9922994041,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAJPdN95",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9922994041",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-26T11:36:28Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1548528898,
      "node_id": "PRR_kwDOABII585cTK0C",
      "url": null,
      "actor": null,
      "commit_id": "dc18efa78d014be0a09e4c986813086e56c251a3",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1548528898",
      "submitted_at": "2023-07-26T20:21:53Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1550940798,
      "node_id": "PRR_kwDOABII585ccXp-",
      "url": null,
      "actor": null,
      "commit_id": "dc18efa78d014be0a09e4c986813086e56c251a3",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Left some comments. I will review further later. ",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1550940798",
      "submitted_at": "2023-07-28T08:55:34Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "labeled",
      "id": 9954424556,
      "node_id": "LE_lADOABII585sQXuIzwAAAAJRVHbs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9954424556",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-29T13:00:25Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9978403945,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJSwlxp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9978403945",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "fa00edfa0247e62d7f63c4000bc5238600e856c5",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/fa00edfa0247e62d7f63c4000bc5238600e856c5",
      "created_at": "2023-08-01T15:48:01Z"
    },
    {
      "event": "commented",
      "id": 1660598041,
      "node_id": "IC_kwDOABII585i-rcZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1660598041",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-01T15:48:43Z",
      "updated_at": "2023-08-01T15:48:43Z",
      "author_association": "MEMBER",
      "body": "> Needs rebase, if still relevant\r\n\r\nthanks, fixed!",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1660598041",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "unlabeled",
      "id": 9979664003,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAJS1ZaD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9979664003",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-01T18:05:22Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9987676096,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJTT9fA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9987676096",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "8ee791e7b34a354ce6835b968fe12924b8908d7c",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/8ee791e7b34a354ce6835b968fe12924b8908d7c",
      "created_at": "2023-08-02T12:42:51Z"
    },
    {
      "event": "reviewed",
      "id": 1559306552,
      "node_id": "PRR_kwDOABII585c8SE4",
      "url": null,
      "actor": null,
      "commit_id": "8ee791e7b34a354ce6835b968fe12924b8908d7c",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1559306552",
      "submitted_at": "2023-08-02T16:46:16Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1560805532,
      "node_id": "PRR_kwDOABII585dCACc",
      "url": null,
      "actor": null,
      "commit_id": "a469cb1e551ba16f1d83e4b0ae68194e38f1b9ec",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1560805532",
      "submitted_at": "2023-08-03T10:38:54Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1562204323,
      "node_id": "PRR_kwDOABII585dHVij",
      "url": null,
      "actor": null,
      "commit_id": "8ee791e7b34a354ce6835b968fe12924b8908d7c",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "BrandonOdiwuor",
        "id": 15610188,
        "node_id": "MDQ6VXNlcjE1NjEwMTg4",
        "avatar_url": "https://avatars.githubusercontent.com/u/15610188?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BrandonOdiwuor",
        "html_url": "https://github.com/BrandonOdiwuor",
        "followers_url": "https://api.github.com/users/BrandonOdiwuor/followers",
        "following_url": "https://api.github.com/users/BrandonOdiwuor/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/BrandonOdiwuor/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/BrandonOdiwuor/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/BrandonOdiwuor/subscriptions",
        "organizations_url": "https://api.github.com/users/BrandonOdiwuor/orgs",
        "repos_url": "https://api.github.com/users/BrandonOdiwuor/repos",
        "events_url": "https://api.github.com/users/BrandonOdiwuor/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/BrandonOdiwuor/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1562204323",
      "submitted_at": "2023-08-04T05:47:56Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1566866196,
      "node_id": "PRR_kwDOABII585dZHsU",
      "url": null,
      "actor": null,
      "commit_id": "376a9b9ad48bb0dc308edc44574584bed9bf01ae",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1566866196",
      "submitted_at": "2023-08-08T09:15:33Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1566867434,
      "node_id": "PRR_kwDOABII585dZH_q",
      "url": null,
      "actor": null,
      "commit_id": "376a9b9ad48bb0dc308edc44574584bed9bf01ae",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1566867434",
      "submitted_at": "2023-08-08T09:16:13Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1566872721,
      "node_id": "PRR_kwDOABII585dZJSR",
      "url": null,
      "actor": null,
      "commit_id": "376a9b9ad48bb0dc308edc44574584bed9bf01ae",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1566872721",
      "submitted_at": "2023-08-08T09:19:10Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1566961113,
      "node_id": "PRR_kwDOABII585dZe3Z",
      "url": null,
      "actor": null,
      "commit_id": "37b0ca1c3d753cc61e0debf8ea59160bdf4127ec",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1566961113",
      "submitted_at": "2023-08-08T10:08:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1567002299,
      "node_id": "PRR_kwDOABII585dZo67",
      "url": null,
      "actor": null,
      "commit_id": "8be91169396a560bfc4a4e8b34a242111704f8e9",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1567002299",
      "submitted_at": "2023-08-08T10:34:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1567009051,
      "node_id": "PRR_kwDOABII585dZqkb",
      "url": null,
      "actor": null,
      "commit_id": "8be91169396a560bfc4a4e8b34a242111704f8e9",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1567009051",
      "submitted_at": "2023-08-08T10:38:43Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1567018287,
      "node_id": "PRR_kwDOABII585dZs0v",
      "url": null,
      "actor": null,
      "commit_id": "8be91169396a560bfc4a4e8b34a242111704f8e9",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1567018287",
      "submitted_at": "2023-08-08T10:44:44Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1567018921,
      "node_id": "PRR_kwDOABII585dZs-p",
      "url": null,
      "actor": null,
      "commit_id": "8be91169396a560bfc4a4e8b34a242111704f8e9",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1567018921",
      "submitted_at": "2023-08-08T10:45:11Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1567019657,
      "node_id": "PRR_kwDOABII585dZtKJ",
      "url": null,
      "actor": null,
      "commit_id": "8be91169396a560bfc4a4e8b34a242111704f8e9",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1567019657",
      "submitted_at": "2023-08-08T10:45:41Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "commented",
      "id": 1669800569,
      "node_id": "IC_kwDOABII585jhyJ5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1669800569",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-08T15:06:18Z",
      "updated_at": "2023-08-08T16:55:35Z",
      "author_association": "MEMBER",
      "body": "Maybe point out in the description how the first commit 8283ca76e4feb37d3514fbd8dc491b8c4965dff1 relates to BIP 324, which doesn't use the ecdh module, but ElligatorSwift instead.\r\n\r\n8be91169396a560bfc4a4e8b34a242111704f8e9: maybe split this up a bit more: e.g. one commit to introduce a dummy SilentPaymentRecipient / Sender class, one that adds ComputeECDHSharedSecret,  CreateOutput, etc. And then build up the tests across these commits.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1669800569",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "reviewed",
      "id": 1567736115,
      "node_id": "PRR_kwDOABII585dccEz",
      "url": null,
      "actor": null,
      "commit_id": "8ee791e7b34a354ce6835b968fe12924b8908d7c",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1567736115",
      "submitted_at": "2023-08-08T16:56:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "commented",
      "id": 1670943979,
      "node_id": "IC_kwDOABII585jmJTr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1670943979",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-09T09:01:28Z",
      "updated_at": "2023-08-09T09:14:27Z",
      "author_association": "MEMBER",
      "body": "I think this PR should also contain `IsInputForSharedSecretDerivation` that's currently in the send PR, as well as `SumInputPubKeys` (not sure where that's introduced). More generally: anything that's critical in deriving the correct key from a transaction, given its inputs. (this would also make it easier to build an index based on just this PR, see #28241)",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1670943979",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10059835651,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJXnOkD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10059835651",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "272818525fb27574233e8dc3dec4d01b60f38752",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/272818525fb27574233e8dc3dec4d01b60f38752",
      "created_at": "2023-08-10T13:56:50Z"
    },
    {
      "event": "labeled",
      "id": 10062061707,
      "node_id": "LE_lADOABII585sQXuIzwAAAAJXvuCL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10062061707",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-10T17:26:12Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10080436896,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJY10Kg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10080436896",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "39bdab96d6f5cbc06f073bec550ea6ee50cbab69",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/39bdab96d6f5cbc06f073bec550ea6ee50cbab69",
      "created_at": "2023-08-13T19:15:23Z"
    },
    {
      "event": "unsubscribed",
      "id": 10096263969,
      "node_id": "UE_lADOABII585sQXuIzwAAAAJZyMMh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10096263969",
      "actor": {
        "login": "dellroy979",
        "id": 135130941,
        "node_id": "U_kgDOCA3vPQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/135130941?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dellroy979",
        "html_url": "https://github.com/dellroy979",
        "followers_url": "https://api.github.com/users/dellroy979/followers",
        "following_url": "https://api.github.com/users/dellroy979/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dellroy979/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dellroy979/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dellroy979/subscriptions",
        "organizations_url": "https://api.github.com/users/dellroy979/orgs",
        "repos_url": "https://api.github.com/users/dellroy979/repos",
        "events_url": "https://api.github.com/users/dellroy979/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dellroy979/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-15T11:51:18Z"
    },
    {
      "event": "reviewed",
      "id": 1579452859,
      "node_id": "PRR_kwDOABII585eJIm7",
      "url": null,
      "actor": null,
      "commit_id": "39bdab96d6f5cbc06f073bec550ea6ee50cbab69",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1579452859",
      "submitted_at": "2023-08-15T23:56:57Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "commented",
      "id": 1681933926,
      "node_id": "IC_kwDOABII585kQEZm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1681933926",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-17T09:21:18Z",
      "updated_at": "2023-08-17T09:21:18Z",
      "author_association": "MEMBER",
      "body": "Maybe mark as draft while CI is red and this is based on other pulls?",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1681933926",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "labeled",
      "id": 10119766111,
      "node_id": "LE_lADOABII585sQXuIzwAAAAJbL2Bf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10119766111",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-17T13:49:57Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1686188111,
      "node_id": "IC_kwDOABII585kgTBP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1686188111",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-21T11:53:22Z",
      "updated_at": "2023-08-21T11:53:22Z",
      "author_association": "MEMBER",
      "body": "#28244 was merged",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1686188111",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10153939325,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJdONF9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10153939325",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "69907c895edb94d88c44e1b26e7b7db9e03d0c72",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/69907c895edb94d88c44e1b26e7b7db9e03d0c72",
      "created_at": "2023-08-22T06:43:16Z"
    },
    {
      "event": "commented",
      "id": 1687568516,
      "node_id": "IC_kwDOABII585klkCE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1687568516",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-22T06:46:40Z",
      "updated_at": "2023-08-22T06:46:40Z",
      "author_association": "MEMBER",
      "body": "> #28244 was merged\r\n\r\nAwesome! I rebased on https://github.com/bitcoin/bitcoin/pull/28246, will respond to outstanding review comments today/tomorrow.",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1687568516",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "unlabeled",
      "id": 10155036767,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAJdSZBf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10155036767",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-22T08:16:33Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10160760871,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJdoOgn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10160760871",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "89a73889702f7ac6bc3cb3ee2aeebdacbf23a1db",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/89a73889702f7ac6bc3cb3ee2aeebdacbf23a1db",
      "created_at": "2023-08-22T16:29:56Z"
    },
    {
      "event": "unlabeled",
      "id": 10161576358,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAJdrVmm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10161576358",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-22T18:00:18Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 10161625256,
      "node_id": "LE_lADOABII585sQXuIzwAAAAJdrhio",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10161625256",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-22T18:06:10Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10207541206,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJgarfW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10207541206",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "785911e4cf4d6fd35337c488adf0cc2e71bc1997",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/785911e4cf4d6fd35337c488adf0cc2e71bc1997",
      "created_at": "2023-08-28T10:31:29Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10209580013,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJgidPt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10209580013",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "bfee6a459ac659acbd4e01bcb29b9cccf05de454",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/bfee6a459ac659acbd4e01bcb29b9cccf05de454",
      "created_at": "2023-08-28T13:53:45Z"
    },
    {
      "event": "reviewed",
      "id": 1599171329,
      "node_id": "PRR_kwDOABII585fUWsB",
      "url": null,
      "actor": null,
      "commit_id": "e3f9217ffb9457fcc54d589616f5c752ce15e6e5",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1599171329",
      "submitted_at": "2023-08-28T21:42:41Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10218055738,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJhCyg6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10218055738",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "818fc9dadaf3dbe4ae68a621f0fc95c3ec1450d1",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/818fc9dadaf3dbe4ae68a621f0fc95c3ec1450d1",
      "created_at": "2023-08-29T08:33:07Z"
    },
    {
      "event": "commented",
      "id": 1697054141,
      "node_id": "IC_kwDOABII585lJv29",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1697054141",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-29T09:06:48Z",
      "updated_at": "2023-08-29T09:09:36Z",
      "author_association": "MEMBER",
      "body": "In order to build the index PR #28241 directly on top of this and, more importantly, have more complete coverage of BIP 352 here, it would be useful to move `SumInputPubKeys` and  `HashOutpoints` from the send / receive PR's here. These define which types of inputs are considered and how outpoints must be sorted and hashed.\r\n\r\n(_update_: mmm, looking at the latest test vectors, maybe this functionality is already in here, just named differently)",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1697054141",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "commented",
      "id": 1697055593,
      "node_id": "IC_kwDOABII585lJwNp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1697055593",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-29T09:07:45Z",
      "updated_at": "2023-08-29T09:07:45Z",
      "author_association": "MEMBER",
      "body": "Fixed CI and fuzzing errors, will be responding to unaddressed review comments",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1697055593",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10229109264,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJhs9IQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10229109264",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "9fa61d4ccd455b3a9ae269717d6d44f40362a0e4",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/9fa61d4ccd455b3a9ae269717d6d44f40362a0e4",
      "created_at": "2023-08-30T06:50:56Z"
    },
    {
      "event": "unlabeled",
      "id": 10229905413,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAJhv_gF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10229905413",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-30T08:12:44Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10235482217,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJiFRBp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10235482217",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "37b376fce2999f075cef59e300e2adfe1837f796",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/37b376fce2999f075cef59e300e2adfe1837f796",
      "created_at": "2023-08-30T17:03:47Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10244567223,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJin7C3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10244567223",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "9d11390d008d551d9bf87b1d1c40ffa3da9aabf5",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/9d11390d008d551d9bf87b1d1c40ffa3da9aabf5",
      "created_at": "2023-08-31T13:02:57Z"
    },
    {
      "event": "commented",
      "id": 1701008446,
      "node_id": "IC_kwDOABII585lY1Q-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1701008446",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-31T13:08:04Z",
      "updated_at": "2023-08-31T13:08:04Z",
      "author_association": "MEMBER",
      "body": "> In order to build the index PR #28241 directly on top of this and, more importantly, have more complete coverage of BIP 352 here, it would be useful to move `SumInputPubKeys` and `HashOutpoints` from the send / receive PR's here. These define which types of inputs are considered and how outpoints must be sorted and hashed.\r\n> \r\n> (_update_: mmm, looking at the latest test vectors, maybe this functionality is already in here, just named differently)\r\n\r\nI think the only thing missing now is `IsInputForSharedSecretDerivation`; I'll work on pulling that in next",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1701008446",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "commented",
      "id": 1701222039,
      "node_id": "IC_kwDOABII585lZpaX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1701222039",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-31T15:03:43Z",
      "updated_at": "2023-08-31T15:03:43Z",
      "author_association": "MEMBER",
      "body": "@hebasto can you rerun the Win64 CI task?",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1701222039",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "mentioned",
      "id": 10246085627,
      "node_id": "MEE_lADOABII585sQXuIzwAAAAJittv7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10246085627",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-31T15:03:43Z"
    },
    {
      "event": "subscribed",
      "id": 10246085646,
      "node_id": "SE_lADOABII585sQXuIzwAAAAJittwO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10246085646",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-31T15:03:43Z"
    },
    {
      "event": "referenced",
      "id": 10308826840,
      "node_id": "REFE_lADOABII585sQXuIzwAAAAJmdDbY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10308826840",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "238d29aff9b43234e340a9cf17742b2be5d1e97d",
      "commit_url": "https://api.github.com/repos/bitcoin-core/gui/commits/238d29aff9b43234e340a9cf17742b2be5d1e97d",
      "created_at": "2023-09-07T15:22:25Z"
    },
    {
      "event": "reviewed",
      "id": 1616725077,
      "node_id": "PRR_kwDOABII585gXURV",
      "url": null,
      "actor": null,
      "commit_id": "9d11390d008d551d9bf87b1d1c40ffa3da9aabf5",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "manjaneqx",
        "id": 139947479,
        "node_id": "U_kgDOCFdt1w",
        "avatar_url": "https://avatars.githubusercontent.com/u/139947479?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/manjaneqx",
        "html_url": "https://github.com/manjaneqx",
        "followers_url": "https://api.github.com/users/manjaneqx/followers",
        "following_url": "https://api.github.com/users/manjaneqx/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/manjaneqx/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/manjaneqx/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/manjaneqx/subscriptions",
        "organizations_url": "https://api.github.com/users/manjaneqx/orgs",
        "repos_url": "https://api.github.com/users/manjaneqx/repos",
        "events_url": "https://api.github.com/users/manjaneqx/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/manjaneqx/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1616725077",
      "submitted_at": "2023-09-08T05:49:31Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10317595230,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJm-gJe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10317595230",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "1e602868ecbf69a89955e22320e6b72a1274fca6",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/1e602868ecbf69a89955e22320e6b72a1274fca6",
      "created_at": "2023-09-08T12:23:02Z"
    },
    {
      "event": "referenced",
      "id": 10320465495,
      "node_id": "REFE_lADOABII585sQXuIzwAAAAJnJc5X",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10320465495",
      "actor": {
        "login": "Frank-GER",
        "id": 87550788,
        "node_id": "MDQ6VXNlcjg3NTUwNzg4",
        "avatar_url": "https://avatars.githubusercontent.com/u/87550788?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Frank-GER",
        "html_url": "https://github.com/Frank-GER",
        "followers_url": "https://api.github.com/users/Frank-GER/followers",
        "following_url": "https://api.github.com/users/Frank-GER/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Frank-GER/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Frank-GER/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Frank-GER/subscriptions",
        "organizations_url": "https://api.github.com/users/Frank-GER/orgs",
        "repos_url": "https://api.github.com/users/Frank-GER/repos",
        "events_url": "https://api.github.com/users/Frank-GER/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Frank-GER/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "086142fb640370fb6dba7cb448aa1dce8d537a6c",
      "commit_url": "https://api.github.com/repos/syscoin/syscoin/commits/086142fb640370fb6dba7cb448aa1dce8d537a6c",
      "created_at": "2023-09-08T17:08:37Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10331668099,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJn0L6D",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10331668099",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "a54cdf37e2424a424cfbc0889dfef6245c94960d",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/a54cdf37e2424a424cfbc0889dfef6245c94960d",
      "created_at": "2023-09-11T09:34:03Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10332412686,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJn3BsO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10332412686",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "bdc5d2db99c331f4aae812a427226f8dbda0da1d",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/bdc5d2db99c331f4aae812a427226f8dbda0da1d",
      "created_at": "2023-09-11T10:40:59Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10335366983,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJoCS9H",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10335366983",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "60d7cbf1b7bfe394bbd2a78bea0d46ef40f6cd22",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/60d7cbf1b7bfe394bbd2a78bea0d46ef40f6cd22",
      "created_at": "2023-09-11T14:49:53Z"
    },
    {
      "event": "commented",
      "id": 1714056741,
      "node_id": "IC_kwDOABII585mKm4l",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1714056741",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-11T14:55:35Z",
      "updated_at": "2023-09-11T14:55:35Z",
      "author_association": "MEMBER",
      "body": "I _think_ I've managed to address all the outstanding review comments, ready for another round of review!",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1714056741",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "commented",
      "id": 1714089168,
      "node_id": "IC_kwDOABII585mKuzQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1714089168",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-11T15:12:16Z",
      "updated_at": "2023-09-11T15:12:16Z",
      "author_association": "MEMBER",
      "body": "> In order to build the index PR #28241 directly on top of this and, more importantly, have more complete coverage of BIP 352 here, it would be useful to move `SumInputPubKeys` and `HashOutpoints` from the send / receive PR's here. These define which types of inputs are considered and how outpoints must be sorted and hashed.\r\n> \r\n> (_update_: mmm, looking at the latest test vectors, maybe this functionality is already in here, just named differently)\r\n\r\nThis PR should have everything you need now. I've added a function `GetSilentPaymentTweakDataFromTxInputs`, which iterates over the transaction inputs, determines if they are eligible for silent payments and returns the sum of the input pubkeys, along with the hash of the tx outpoints.\r\n\r\nThe reason it returns the pubkey sum and outpoint hash separately is because if you are using this function to scan as a receiver, you want to calculate `outpoint_hash * scan_priv_key` first, and then do the ECDH step. If you're using this function to create an index, however, you'd want `sum_pubkeys * outpoint_hash` before storing it in the index.",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1714089168",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10337033622,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJoIp2W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10337033622",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/78d1426fabd7b5b6cdd28de508a1692fce291174",
      "created_at": "2023-09-11T17:26:55Z"
    },
    {
      "event": "labeled",
      "id": 10338189804,
      "node_id": "LE_lADOABII585sQXuIzwAAAAJoNEHs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10338189804",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-11T19:30:04Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1620593539,
      "node_id": "PRR_kwDOABII585gmEuD",
      "url": null,
      "actor": null,
      "commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1620593539",
      "submitted_at": "2023-09-11T19:37:48Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1620720216,
      "node_id": "PRR_kwDOABII585gmjpY",
      "url": null,
      "actor": null,
      "commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1620720216",
      "submitted_at": "2023-09-11T19:47:07Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "commented",
      "id": 1714537476,
      "node_id": "IC_kwDOABII585mMcQE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1714537476",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-11T20:32:25Z",
      "updated_at": "2023-09-11T20:32:25Z",
      "author_association": "MEMBER",
      "body": "Currently, this PR is dangerous by itself as it will accept silent payment addresses for sending, but fail to actually send the coins to the correct script. It just uses an empty script. We should disallow sending to silent payment addresses in this PR, and enable it in the sending PR.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1714537476",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "reviewed",
      "id": 1620850719,
      "node_id": "PRR_kwDOABII585gnDgf",
      "url": null,
      "actor": null,
      "commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1620850719",
      "submitted_at": "2023-09-11T22:01:32Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10341658709,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJoaTBV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10341658709",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "0cf23d0f14df718fb4ef5baa0e4cab9255f7b7e4",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/0cf23d0f14df718fb4ef5baa0e4cab9255f7b7e4",
      "created_at": "2023-09-12T05:23:47Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10343466791,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJohMcn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10343466791",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "ea245f6f514ea739da6adf2bc849cdb6a8e12023",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/ea245f6f514ea739da6adf2bc849cdb6a8e12023",
      "created_at": "2023-09-12T08:36:26Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10343626552,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJohzc4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10343626552",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "139c231f009417d61eb89dd2ed3d20e3534fb9de",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/139c231f009417d61eb89dd2ed3d20e3534fb9de",
      "created_at": "2023-09-12T08:48:04Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10343851968,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJoiqfA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10343851968",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "d053c3af90324df4fddc57c8301fcf414019d726",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/d053c3af90324df4fddc57c8301fcf414019d726",
      "created_at": "2023-09-12T08:59:37Z"
    },
    {
      "event": "commented",
      "id": 1715316326,
      "node_id": "IC_kwDOABII585mPaZm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1715316326",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-12T09:06:10Z",
      "updated_at": "2023-09-12T09:06:10Z",
      "author_association": "MEMBER",
      "body": "`git range-diff 0cf23d0...d053c3a`\r\n\r\nAddressed review comments from @theStack and @achow101 and added a commit to disable sending to silent payment addresses, while still allowing the functions to be used in the unit tests.",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1715316326",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "mentioned",
      "id": 10343940042,
      "node_id": "MEE_lADOABII585sQXuIzwAAAAJoi__K",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10343940042",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-12T09:06:10Z"
    },
    {
      "event": "subscribed",
      "id": 10343940074,
      "node_id": "SE_lADOABII585sQXuIzwAAAAJoi__q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10343940074",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-12T09:06:10Z"
    },
    {
      "event": "mentioned",
      "id": 10343940110,
      "node_id": "MEE_lADOABII585sQXuIzwAAAAJojAAO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10343940110",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-12T09:06:10Z"
    },
    {
      "event": "subscribed",
      "id": 10343940128,
      "node_id": "SE_lADOABII585sQXuIzwAAAAJojAAg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10343940128",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-12T09:06:10Z"
    },
    {
      "event": "commented",
      "id": 1715317436,
      "node_id": "IC_kwDOABII585mPaq8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1715317436",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-12T09:06:47Z",
      "updated_at": "2023-09-12T09:06:47Z",
      "author_association": "MEMBER",
      "body": "> Currently, this PR is dangerous by itself as it will accept silent payment addresses for sending, but fail to actually send the coins to the correct script. It just uses an empty script. We should disallow sending to silent payment addresses in this PR, and enable it in the sending PR.\r\n\r\nFixed in https://github.com/bitcoin/bitcoin/pull/28122/commits/d053c3af90324df4fddc57c8301fcf414019d726",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1715317436",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "commented",
      "id": 1715320277,
      "node_id": "IC_kwDOABII585mPbXV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1715320277",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-12T09:08:33Z",
      "updated_at": "2023-09-12T09:08:33Z",
      "author_association": "MEMBER",
      "body": "Next step: add documentation for the new functions, requested in https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321966435",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1715320277",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "unlabeled",
      "id": 10345219905,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAJon4dB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10345219905",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-12T10:50:39Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10349630716,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJo4tT8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10349630716",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "c9dff7e51ce2b445e9ad6f8fd4da6806b0aa31fb",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/c9dff7e51ce2b445e9ad6f8fd4da6806b0aa31fb",
      "created_at": "2023-09-12T17:27:48Z"
    },
    {
      "event": "reviewed",
      "id": 1622885912,
      "node_id": "PRR_kwDOABII585gu0YY",
      "url": null,
      "actor": null,
      "commit_id": "93ff4ce117d4b85128dd55630d2dc9f8efbfb473",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1622885912",
      "submitted_at": "2023-09-12T18:29:04Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "labeled",
      "id": 10351752918,
      "node_id": "LE_lADOABII585sQXuIzwAAAAJpAzbW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10351752918",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-12T21:16:01Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10357474274,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJpWoPi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10357474274",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "58299405a9347f53741a81c8b5cc54218844468a",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/58299405a9347f53741a81c8b5cc54218844468a",
      "created_at": "2023-09-13T09:54:11Z"
    },
    {
      "event": "commented",
      "id": 1717319548,
      "node_id": "IC_kwDOABII585mXDd8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1717319548",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-13T09:56:36Z",
      "updated_at": "2023-09-13T09:56:36Z",
      "author_association": "MEMBER",
      "body": "`git range-diff  c9dff7e...5829940` changes `/*compressed=*/` to `/*fCompressedIn=*/` to fix a tidy warning",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1717319548",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "unlabeled",
      "id": 10358496755,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAJpah3z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10358496755",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-13T11:37:31Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10373026588,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJqR9Mc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10373026588",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "ec4876f92040b71cc5bd3b2935dcd8c34b3cd5a0",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/ec4876f92040b71cc5bd3b2935dcd8c34b3cd5a0",
      "created_at": "2023-09-14T14:20:33Z"
    },
    {
      "event": "commented",
      "id": 1719658636,
      "node_id": "IC_kwDOABII585mf-iM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1719658636",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-14T15:18:19Z",
      "updated_at": "2023-09-14T15:18:19Z",
      "author_association": "MEMBER",
      "body": "Pulled in support for scanning with labels (h/t @achow101) and updated the unit tests. Major changes:\r\n\r\n* Add new functions for generating a change label and labeled silent payments address, per BIP352\r\n* Update `GetTxOutputTweaks` to scan with labels\r\n* Refactor `CPubKey` to get rid of `Combine` in favor of `operator+`\r\n\r\nReady for another round of review!",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1719658636",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "mentioned",
      "id": 10373754365,
      "node_id": "MEE_lADOABII585sQXuIzwAAAAJqUu39",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10373754365",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-14T15:18:20Z"
    },
    {
      "event": "subscribed",
      "id": 10373754392,
      "node_id": "SE_lADOABII585sQXuIzwAAAAJqUu4Y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10373754392",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-14T15:18:20Z"
    },
    {
      "event": "labeled",
      "id": 10385236623,
      "node_id": "LE_lADOABII585sQXuIzwAAAAJrAiKP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10385236623",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-15T16:05:47Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 10413901652,
      "node_id": "LE_lADOABII585sQXuIzwAAAAJst4dU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10413901652",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-19T18:10:32Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10421134949,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJtJeZl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10421134949",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "94c19d008d7595ae1aab7460def7af8ecd332bc4",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/94c19d008d7595ae1aab7460def7af8ecd332bc4",
      "created_at": "2023-09-20T10:12:07Z"
    },
    {
      "event": "unlabeled",
      "id": 10421677974,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAJtLi-W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10421677974",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-20T10:59:00Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 10422118940,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAJtNOoc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10422118940",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-20T11:45:08Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10437213729,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJuGz4h",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10437213729",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "193bf2e115f36cfb541210fe8f42585336123539",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/193bf2e115f36cfb541210fe8f42585336123539",
      "created_at": "2023-09-21T15:22:22Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10437620849,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJuIXRx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10437620849",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "e132daa80e4c4ed6ee28ea9180fb3a4591b2c3c7",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/e132daa80e4c4ed6ee28ea9180fb3a4591b2c3c7",
      "created_at": "2023-09-21T15:58:32Z"
    },
    {
      "event": "labeled",
      "id": 10437622013,
      "node_id": "LE_lADOABII585sQXuIzwAAAAJuIXj9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10437622013",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-21T15:58:39Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "unlabeled",
      "id": 10438743198,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAJuMpSe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10438743198",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-21T17:56:23Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1738728491,
      "node_id": "IC_kwDOABII585nouQr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1738728491",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-28T08:45:25Z",
      "updated_at": "2023-09-28T08:46:02Z",
      "author_association": "MEMBER",
      "body": "@josibake can you add the following helper functions?\r\n\r\n- [ ] `CouldBeSilentPayment(CTransactionRef tx)`: checks that it's not a coinbase and that at least one of the outputs is taproot\r\nSee https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1331881346\r\n- [ ] `bool GetSilentPaymentsTweakedPubKeySum(std::vector<CTxIn>, std::map<COutPoint, Coin>, CPubKey& tweaked_key) nodiscard` (with clear documentation on what to do when it returns `false`). Although relatively straight-forward, my current index implementation does look a bit brittle, and I'm not sure how to handle failure cases: https://github.com/bitcoin/bitcoin/pull/28241/files#diff-708eeba963ec57793dbec2309d27f32869d4ccefa14fbeb575d3a1e36e5e1a03R74-R85  \r\n\r\nMaybe also make a type alias for `std::map<COutPoint, Coin>`",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1738728491",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "mentioned",
      "id": 10496356819,
      "node_id": "MEE_lADOABII585sQXuIzwAAAAJxobHT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10496356819",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-28T08:45:26Z"
    },
    {
      "event": "subscribed",
      "id": 10496356832,
      "node_id": "SE_lADOABII585sQXuIzwAAAAJxobHg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10496356832",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-28T08:45:26Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10535580826,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAJz-DSa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10535580826",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/30bbeb38047e020926065a407d5195b684377857",
      "created_at": "2023-10-03T09:11:30Z"
    },
    {
      "event": "commented",
      "id": 1744559255,
      "node_id": "IC_kwDOABII585n-9yX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1744559255",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-03T09:13:40Z",
      "updated_at": "2023-10-03T09:13:40Z",
      "author_association": "MEMBER",
      "body": "force-pushed to fix a silent merge conflict with #28500 ",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1744559255",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "reviewed",
      "id": 1668088009,
      "node_id": "PRR_kwDOABII585jbQDJ",
      "url": null,
      "actor": null,
      "commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1668088009",
      "submitted_at": "2023-10-10T15:16:22Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "reviewed",
      "id": 1687287831,
      "node_id": "PRR_kwDOABII585kkfgX",
      "url": null,
      "actor": null,
      "commit_id": "699577c91101b4be56bffcec4f0fa48f7d8916f0",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1687287831",
      "submitted_at": "2023-10-19T10:20:33Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "labeled",
      "id": 11060904076,
      "node_id": "LE_lADOABII585sQXuIzwAAAAKTSACM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11060904076",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-25T14:23:06Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11195587765,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAKbTxy1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11195587765",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "fa31db6ffc404b7fca11f65b365e08963d4c4088",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/fa31db6ffc404b7fca11f65b365e08963d4c4088",
      "created_at": "2023-12-08T16:38:12Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11195987302,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAKbVTVm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11195987302",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "7dd306c44a88a18bf2b2334dfe48374b317db65d",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/7dd306c44a88a18bf2b2334dfe48374b317db65d",
      "created_at": "2023-12-08T17:25:17Z"
    },
    {
      "event": "commented",
      "id": 1847658969,
      "node_id": "IC_kwDOABII585uIQnZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1847658969",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-08T18:43:55Z",
      "updated_at": "2023-12-08T18:43:55Z",
      "author_association": "MEMBER",
      "body": "rebased on master and updated to fix a silent merge conflict in the tests, related to the new `Txid` type.",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1847658969",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "unlabeled",
      "id": 11196970732,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAKbZDbs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11196970732",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-08T19:25:05Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1850053280,
      "node_id": "IC_kwDOABII585uRZKg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1850053280",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-11T13:11:29Z",
      "updated_at": "2023-12-11T13:11:29Z",
      "author_association": "MEMBER",
      "body": "> @josibake can you add the following helper functions?\r\n> \r\n>     * [ ]  `CouldBeSilentPayment(CTransactionRef tx)`: checks that it's not a coinbase and that at least one of the outputs is taproot\r\n>       See [Silent payment index (for light wallets and consistency check) #28241 (comment)](https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1331881346)\r\n> \r\n>     * [ ]  `bool GetSilentPaymentsTweakedPubKeySum(std::vector<CTxIn>, std::map<COutPoint, Coin>, CPubKey& tweaked_key) nodiscard` (with clear documentation on what to do when it returns `false`). Although relatively straight-forward, my current index implementation does look a bit brittle, and I'm not sure how to handle failure cases: https://github.com/bitcoin/bitcoin/pull/28241/files#diff-708eeba963ec57793dbec2309d27f32869d4ccefa14fbeb575d3a1e36e5e1a03R74-R85\r\n> \r\n> \r\n> Maybe also make a type alias for `std::map<COutPoint, Coin>`\r\n\r\nthe second function you're asking for exists, just need to expose it in the header file. it also returns `pair<uint256, CPubKey>`, so you would need to multiply those together (using the TweakMultiply method on CPubKey) before storing in the index.\r\n\r\nFor the first function, we can probably roll that into the second one? Need to look at the code again to see if that makes sense.\r\n\r\nRegarding the alias, I'm somewhat ambivalent. Since we use this same struct in other places unrelated to silent payments, it might make sense as a follow-up refactor. Less inclined to do it here.",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1850053280",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "mentioned",
      "id": 11210261253,
      "node_id": "MEE_lADOABII585sQXuIzwAAAAKcLwMF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11210261253",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-11T13:11:29Z"
    },
    {
      "event": "subscribed",
      "id": 11210261269,
      "node_id": "SE_lADOABII585sQXuIzwAAAAKcLwMV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11210261269",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-11T13:11:29Z"
    },
    {
      "event": "labeled",
      "id": 11474877848,
      "node_id": "LE_lADOABII585sQXuIzwAAAAKr9L2Y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11474877848",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-12T23:09:35Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11485606013,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAKsmHB9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11485606013",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "08197405ae2899aaab0d3654e0c48dae8638d08c",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/08197405ae2899aaab0d3654e0c48dae8638d08c",
      "created_at": "2024-01-15T09:17:32Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11486228210,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAKsoe7y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11486228210",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "467be3ea3a5fbfb99d8ee5723cc3ed20a2e4fff1",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/467be3ea3a5fbfb99d8ee5723cc3ed20a2e4fff1",
      "created_at": "2024-01-15T10:11:37Z"
    },
    {
      "event": "unlabeled",
      "id": 11486856278,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAKsq4RW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11486856278",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-15T11:07:23Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11489744368,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAKs15Xw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11489744368",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "42d462c8a20d1e9327cb53c6c31666def578aa60",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/42d462c8a20d1e9327cb53c6c31666def578aa60",
      "created_at": "2024-01-15T15:37:28Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11499810523,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAKtcS7b",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11499810523",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "0299dfb0607b85813c7226690772ab3be198b0df",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/0299dfb0607b85813c7226690772ab3be198b0df",
      "created_at": "2024-01-16T14:38:13Z"
    },
    {
      "event": "labeled",
      "id": 11518151176,
      "node_id": "LE_lADOABII585sQXuIzwAAAAKuiQoI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11518151176",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-18T00:20:37Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1897543475,
      "node_id": "IC_kwDOABII585xGjcz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1897543475",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-18T00:20:38Z",
      "updated_at": "2024-01-18T00:20:38Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n\n🚧 At least one of the CI tasks failed. Make sure to run all tests locally, according to the\ndocumentation.\n\nPossibly this is due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/20533630775</sub>",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1897543475",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11535553388,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAKvkpNs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11535553388",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "6a9ec4771d691bf4143f3574dd129da641c6ee74",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/6a9ec4771d691bf4143f3574dd129da641c6ee74",
      "created_at": "2024-01-19T10:15:22Z"
    },
    {
      "event": "commented",
      "id": 1900134591,
      "node_id": "IC_kwDOABII585xQcC_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1900134591",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-19T10:21:21Z",
      "updated_at": "2024-01-19T10:21:21Z",
      "author_association": "MEMBER",
      "body": "Rebased https://github.com/bitcoin/bitcoin/commit/0299dfb0607b85813c7226690772ab3be198b0df -> https://github.com/bitcoin/bitcoin/commit/6a9ec4771d691bf4143f3574dd129da641c6ee74\r\n\r\n* Fixes a silent merge conflict introduced by changing `CKey` to use `std::byte*` instead of `unsigned char`",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1900134591",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11535795492,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAKvlkUk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11535795492",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "53630a39e384545beb5f069a63f88adbe4a5951d",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/53630a39e384545beb5f069a63f88adbe4a5951d",
      "created_at": "2024-01-19T10:36:13Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11535915651,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAKvmBqD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11535915651",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "6e7c29528eb4a7c39bf8290b7c622e30bf07b45d",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/6e7c29528eb4a7c39bf8290b7c622e30bf07b45d",
      "created_at": "2024-01-19T10:47:57Z"
    },
    {
      "event": "commented",
      "id": 1900189106,
      "node_id": "IC_kwDOABII585xQpWy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1900189106",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-19T10:57:36Z",
      "updated_at": "2024-01-19T10:57:36Z",
      "author_association": "MEMBER",
      "body": "Updated https://github.com/bitcoin/bitcoin/commit/6a9ec4771d691bf4143f3574dd129da641c6ee74 -> https://github.com/bitcoin/bitcoin/pull/28122/commits/6e7c29528eb4a7c39bf8290b7c622e30bf07b45d ([implement-bip352-00](https://github.com/josibake/bitcoin/tree/implement-bip352-00) -> [implement-bip352-01](https://github.com/josibake/bitcoin/tree/implement-bip352-01), [compare](https://github.com/josibake/bitcoin/compare/implement-bip352-00..implement-bip352-01))\r\n* Adds a test case for taproot inputs with H as the internal key (with and without the optional annex) (h/t @Eunovo)\r\n* Splits out the pubkey extraction logic from `GetSilentPaymentTweakDataFromTxInputs` function into its own function: `ExtractPubKeyFromInput`\r\n* Updates the sending tests to check if the input is a silent payments input before using the secret key, using the `ExtractPubKeyFromInput` function\r\n\r\nGoing forward, it might make more sense to have a function that tests if the input is eligible (`bool IsInputForSharedSecretDerivation`, and a separate function to extract the pubkey. Both sending and receiving need the `bool IsInputForSharedSecretDerivation` function, but only the receiver would need the pubkey extraction function. Right now, it's using the extract function for both by checking if a pubkey was extracted or not, which seems kinda clunky but works for now.",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1900189106",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "mentioned",
      "id": 11536013938,
      "node_id": "MEE_lADOABII585sQXuIzwAAAAKvmZpy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11536013938",
      "actor": {
        "login": "Eunovo",
        "id": 37949128,
        "node_id": "MDQ6VXNlcjM3OTQ5MTI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/37949128?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Eunovo",
        "html_url": "https://github.com/Eunovo",
        "followers_url": "https://api.github.com/users/Eunovo/followers",
        "following_url": "https://api.github.com/users/Eunovo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Eunovo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Eunovo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Eunovo/subscriptions",
        "organizations_url": "https://api.github.com/users/Eunovo/orgs",
        "repos_url": "https://api.github.com/users/Eunovo/repos",
        "events_url": "https://api.github.com/users/Eunovo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Eunovo/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-19T10:57:36Z"
    },
    {
      "event": "subscribed",
      "id": 11536013949,
      "node_id": "SE_lADOABII585sQXuIzwAAAAKvmZp9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11536013949",
      "actor": {
        "login": "Eunovo",
        "id": 37949128,
        "node_id": "MDQ6VXNlcjM3OTQ5MTI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/37949128?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Eunovo",
        "html_url": "https://github.com/Eunovo",
        "followers_url": "https://api.github.com/users/Eunovo/followers",
        "following_url": "https://api.github.com/users/Eunovo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Eunovo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Eunovo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Eunovo/subscriptions",
        "organizations_url": "https://api.github.com/users/Eunovo/orgs",
        "repos_url": "https://api.github.com/users/Eunovo/repos",
        "events_url": "https://api.github.com/users/Eunovo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Eunovo/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-19T10:57:37Z"
    },
    {
      "event": "unlabeled",
      "id": 11536532644,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAKvoYSk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11536532644",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-19T11:43:57Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1840412491,
      "node_id": "PRR_kwDOABII585tsndL",
      "url": null,
      "actor": null,
      "commit_id": "5e04b72b4c450e0f025fa0acf1bf68a74ed65210",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "Eunovo",
        "id": 37949128,
        "node_id": "MDQ6VXNlcjM3OTQ5MTI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/37949128?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Eunovo",
        "html_url": "https://github.com/Eunovo",
        "followers_url": "https://api.github.com/users/Eunovo/followers",
        "following_url": "https://api.github.com/users/Eunovo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Eunovo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Eunovo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Eunovo/subscriptions",
        "organizations_url": "https://api.github.com/users/Eunovo/orgs",
        "repos_url": "https://api.github.com/users/Eunovo/repos",
        "events_url": "https://api.github.com/users/Eunovo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Eunovo/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1840412491",
      "submitted_at": "2024-01-24T04:51:14Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11587171601,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAKypjUR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11587171601",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "e0ea52da97b5bb18b813e862455aafd56a7809dd",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/e0ea52da97b5bb18b813e862455aafd56a7809dd",
      "created_at": "2024-01-24T17:02:17Z"
    },
    {
      "event": "labeled",
      "id": 11589355955,
      "node_id": "LE_lADOABII585sQXuIzwAAAAKyx4mz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11589355955",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-24T20:42:34Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "labeled",
      "id": 11589355967,
      "node_id": "LE_lADOABII585sQXuIzwAAAAKyx4m_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11589355967",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-24T20:42:34Z",
      "label": {
        "name": "Privacy",
        "color": "5319e7"
      }
    },
    {
      "event": "labeled",
      "id": 11608791232,
      "node_id": "LE_lADOABII585sQXuIzwAAAAKz8BjA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11608791232",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-26T13:13:37Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11609115039,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAKz9Qmf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11609115039",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "08b62764190a907c0d7d329f4df07f9a2b6dcdeb",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/08b62764190a907c0d7d329f4df07f9a2b6dcdeb",
      "created_at": "2024-01-26T13:46:20Z"
    },
    {
      "event": "commented",
      "id": 1912105564,
      "node_id": "IC_kwDOABII585x-Gpc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1912105564",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-26T13:54:19Z",
      "updated_at": "2024-01-26T14:06:50Z",
      "author_association": "MEMBER",
      "body": "Rebased https://github.com/bitcoin/bitcoin/commit/e0ea52da97b5bb18b813e862455aafd56a7809dd -> https://github.com/bitcoin/bitcoin/commit/08b62764190a907c0d7d329f4df07f9a2b6dcdeb \r\n\r\n* Fix small `configure.ac` merge conflict",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1912105564",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11609253141,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAKz9yUV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11609253141",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "cbb8d3a6574e10841c52716bbcd27e0c60752e1c",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/cbb8d3a6574e10841c52716bbcd27e0c60752e1c",
      "created_at": "2024-01-26T14:00:34Z"
    },
    {
      "event": "commented",
      "id": 1912123265,
      "node_id": "IC_kwDOABII585x-K-B",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1912123265",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-26T14:06:16Z",
      "updated_at": "2024-01-26T14:06:39Z",
      "author_association": "MEMBER",
      "body": "Updated https://github.com/bitcoin/bitcoin/commit/08b62764190a907c0d7d329f4df07f9a2b6dcdeb -> https://github.com/bitcoin/bitcoin/commit/cbb8d3a6574e10841c52716bbcd27e0c60752e1c ([implement-bip352-01-rebase](https://github.com/josibake/bitcoin/tree/implement-bip352-01-rebase) -> [implement-bip352-02](https://github.com/josibake/bitcoin/tree/implement-bip352-02) , [compare](https://github.com/josibake/bitcoin/compare/implement-bip352-01-rebase..implement-bip352-02))\r\n\r\n* Add doxygen style comments to `src/wallet/silentpayments.h`\r\n* Make `GetTxOutputTweaks` return a `std::optional` to cover the case where no payments to us are found",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1912123265",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "unlabeled",
      "id": 11610050257,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAK0A07R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11610050257",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-26T15:17:53Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1853145226,
      "node_id": "PRR_kwDOABII585udMCK",
      "url": null,
      "actor": null,
      "commit_id": "cbb8d3a6574e10841c52716bbcd27e0c60752e1c",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Started reviewing. Basic question first. Which RPCs are supposed to work at this stage? I was under impression, that none RPCs should understand SP addresses yet and the support come with send and receiving PRs. But since you've registered SP destination in `CTXDestination` variant, the SP addresses would be recognised by some RPCs. Is that intended? Should we verify that they return sane results?",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1853145226",
      "submitted_at": "2024-01-31T08:36:55Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "commented",
      "id": 1919057289,
      "node_id": "IC_kwDOABII585yYn2J",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1919057289",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-31T12:58:46Z",
      "updated_at": "2024-01-31T12:58:46Z",
      "author_association": "MEMBER",
      "body": "> Started reviewing. Basic question first. Which RPCs are supposed to work at this stage? I was under impression, that none RPCs should understand SP addresses yet and the support come with send and receiving PRs. \r\n\r\nThanks for the review @S3RK ! The goal isn't that none of the RPCs should understand SP addresses, rather the goal is that _full_ RPC support is deferred to the send and receiving PRs.\r\n\r\n> But since you've registered SP destination in `CTXDestination` variant, the SP addresses would be recognised by some RPCs. Is that intended? Should we verify that they return sane results?\r\n\r\nIn \"wallet: disable sending to silent payment address\" https://github.com/bitcoin/bitcoin/pull/28122/commits/ed75ce5362ab69c5968b85e42c45683519325626 SP addresses are marked as invalid by the `ValidDestinationVisitor` (which should cover all of the RPCs where an address can be passed) and `validateaddress` returns a message that this is a silent payment address, but support is not implemented yet.\r\n",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1919057289",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "mentioned",
      "id": 11655435519,
      "node_id": "MEE_lADOABII585sQXuIzwAAAAK2t9T_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11655435519",
      "actor": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-31T12:58:46Z"
    },
    {
      "event": "subscribed",
      "id": 11655435533,
      "node_id": "SE_lADOABII585sQXuIzwAAAAK2t9UN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11655435533",
      "actor": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-31T12:58:46Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11851822218,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAALCbHSK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11851822218",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "d9ffe7cebf8aa2511cbdb28764bf8413cc1b16d9",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/d9ffe7cebf8aa2511cbdb28764bf8413cc1b16d9",
      "created_at": "2024-02-19T16:07:27Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11852101896,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAALCcLkI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11852101896",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "b885ac0ddd49de760c21457801e403736908e1b2",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/b885ac0ddd49de760c21457801e403736908e1b2",
      "created_at": "2024-02-19T16:32:09Z"
    },
    {
      "event": "labeled",
      "id": 11852104267,
      "node_id": "LE_lADOABII585sQXuIzwAAAALCcMJL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11852104267",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-19T16:32:20Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1952836123,
      "node_id": "IC_kwDOABII5850Zeob",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1952836123",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-19T16:32:21Z",
      "updated_at": "2024-02-19T16:32:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n\n🚧 At least one of the CI tasks failed. Make sure to run all tests locally, according to the\ndocumentation.\n\nPossibly this is due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/21735671954</sub>",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1952836123",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "commented",
      "id": 1952864224,
      "node_id": "IC_kwDOABII5850Zlfg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1952864224",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-19T16:47:47Z",
      "updated_at": "2024-02-19T16:47:47Z",
      "author_association": "MEMBER",
      "body": "I've updated this to use https://github.com/bitcoin-core/secp256k1/pull/1471 for the cryptography needed for silent payments. This way, we don't need make any changes to `CKey`/`CPubKey` and keeps all of the low-level cryptography in `libsecp256k1`. This simplifies this PR to creating the necessary wrappers for the libsecp silent payments module and implementing the non-cryptography parts of the protocol (i.e. the client code).\r\n\r\nPutting this PR in draft for now, until https://github.com/bitcoin-core/secp256k1/pull/1471 merges.",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1952864224",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "convert_to_draft",
      "id": 11852279591,
      "node_id": "CTDE_lADOABII585sQXuIzwAAAALCc28n",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11852279591",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-19T16:48:10Z"
    },
    {
      "event": "reviewed",
      "id": 1889921832,
      "node_id": "PRR_kwDOABII585wpeso",
      "url": null,
      "actor": null,
      "commit_id": "b885ac0ddd49de760c21457801e403736908e1b2",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-1889921832",
      "submitted_at": "2024-02-20T09:30:44Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11859515812,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAALC4dmk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11859515812",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "9768ffd031a02275a922abab3feff2eeb4ebbd6a",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/9768ffd031a02275a922abab3feff2eeb4ebbd6a",
      "created_at": "2024-02-20T10:12:14Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11861391874,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAALC_noC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11861391874",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "8c1328f40b80e5fd4b34ab35005704f76b05fdfa",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/8c1328f40b80e5fd4b34ab35005704f76b05fdfa",
      "created_at": "2024-02-20T12:56:27Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11876580117,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAALD5jsV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11876580117",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "7476bc412a9baa1ff4c9b2b14bf5ebf897c6b74f",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/7476bc412a9baa1ff4c9b2b14bf5ebf897c6b74f",
      "created_at": "2024-02-21T13:40:13Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11876895725,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAALD6wvt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11876895725",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "2f87b85b34098caa9f5fc2f37903e54f4dca64d5",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/2f87b85b34098caa9f5fc2f37903e54f4dca64d5",
      "created_at": "2024-02-21T14:03:04Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11901464403,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAALFYe9T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11901464403",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "7740b835b13b9553ab4218e3087ea6be5a48c679",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/7740b835b13b9553ab4218e3087ea6be5a48c679",
      "created_at": "2024-02-23T09:43:33Z"
    },
    {
      "event": "unlabeled",
      "id": 11902086813,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAALFa26d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11902086813",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-23T10:42:50Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 12381360156,
      "node_id": "LE_lADOABII585sQXuIzwAAAALh_JAc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12381360156",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-06T10:35:38Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12384087810,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAALiJi8C",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12384087810",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "f2bcfbe05bcd59149071258f4a46cdde53a3cbc4",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/f2bcfbe05bcd59149071258f4a46cdde53a3cbc4",
      "created_at": "2024-04-07T12:51:25Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12562437625,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAALsx5X5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12562437625",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "1ec1435bc8822cb7bbff85c1617be24d8f094bbd",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/1ec1435bc8822cb7bbff85c1617be24d8f094bbd",
      "created_at": "2024-04-22T16:07:11Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12562532207,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAALsyQdv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12562532207",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "fdc52bbf633e8d5cf1c724922332917f239c1b84",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/fdc52bbf633e8d5cf1c724922332917f239c1b84",
      "created_at": "2024-04-22T16:14:32Z"
    },
    {
      "event": "labeled",
      "id": 12562533375,
      "node_id": "LE_lADOABII585sQXuIzwAAAALsyQv_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12562533375",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-22T16:14:38Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2070079455,
      "node_id": "IC_kwDOABII5857Yuff",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2070079455",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-22T16:14:39Z",
      "updated_at": "2024-04-22T16:14:39Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n\n🚧 At least one of the CI tasks failed. Make sure to run all tests locally, according to the\ndocumentation.\n\nPossibly this is due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/24112092548</sub>",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-2070079455",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "unlabeled",
      "id": 12563502093,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAALs19QN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12563502093",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-22T17:36:19Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12621681748,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAALwT5RU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12621681748",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "6b7a383139fbc0e68b71532cd4eb2d96675f323f",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/6b7a383139fbc0e68b71532cd4eb2d96675f323f",
      "created_at": "2024-04-26T10:13:58Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12621749606,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAALwUJ1m",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12621749606",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "d2d547994d14d0399aec151ad5de17e55f8661be",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/d2d547994d14d0399aec151ad5de17e55f8661be",
      "created_at": "2024-04-26T10:16:08Z"
    },
    {
      "event": "reviewed",
      "id": 2024741215,
      "node_id": "PRR_kwDOABII5854rxlf",
      "url": null,
      "actor": null,
      "commit_id": "7a27533332d14cf98f7e165f464142132e9f9d85",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-2024741215",
      "submitted_at": "2024-04-26T10:34:35Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12632067428,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAALw7g1k",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12632067428",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "6f238b7bd76d7c744aaa89ff763fc2f2162cdd06",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/6f238b7bd76d7c744aaa89ff763fc2f2162cdd06",
      "created_at": "2024-04-27T12:27:02Z"
    },
    {
      "event": "commented",
      "id": 2089904408,
      "node_id": "IC_kwDOABII5858kWkY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2089904408",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-02T08:35:35Z",
      "updated_at": "2024-05-02T08:35:35Z",
      "author_association": "MEMBER",
      "body": "@josibake can you add a link to https://github.com/bitcoin-core/secp256k1/pull/1519 in the PR description? It currently takes a few \"load more\" clicks and searching to see what this PR depends on.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-2089904408",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "mentioned",
      "id": 12679464007,
      "node_id": "MEE_lADOABII585sQXuIzwAAAALzwURH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12679464007",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-02T08:35:37Z"
    },
    {
      "event": "subscribed",
      "id": 12679464019,
      "node_id": "SE_lADOABII585sQXuIzwAAAALzwURT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12679464019",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-02T08:35:37Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12707125055,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAL1Z1c_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12707125055",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "13408c0417daa9cb5e2e2152b086e2cdb7f8c07a",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/13408c0417daa9cb5e2e2152b086e2cdb7f8c07a",
      "created_at": "2024-05-05T11:21:29Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12707343286,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAL1aqu2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12707343286",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "6686381982e6f8ca8b0af87d95d38cd973e1ee3d",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/6686381982e6f8ca8b0af87d95d38cd973e1ee3d",
      "created_at": "2024-05-05T12:55:39Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12707355912,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAL1at0I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12707355912",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "246e2a24c5460504c799fbc6312ef075f0ca4e72",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/246e2a24c5460504c799fbc6312ef075f0ca4e72",
      "created_at": "2024-05-05T13:02:01Z"
    },
    {
      "event": "unlabeled",
      "id": 12707489499,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAL1bObb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12707489499",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-05T14:05:17Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "referenced",
      "id": 12851943300,
      "node_id": "REFE_lADOABII585sQXuIzwAAAAL-CReE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12851943300",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "4877fcdb4263fc3582184fdab3e5d1533c64a7d5",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4877fcdb4263fc3582184fdab3e5d1533c64a7d5",
      "created_at": "2024-05-17T18:11:09Z"
    },
    {
      "event": "labeled",
      "id": 12865300304,
      "node_id": "LE_lADOABII585sQXuIzwAAAAL-1OdQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12865300304",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-20T11:55:42Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "referenced",
      "id": 13043288607,
      "node_id": "REFE_lADOABII585sQXuIzwAAAAMJcMof",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13043288607",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "55cf34a5c30f1aee0737b48fa2814996359eca89",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/55cf34a5c30f1aee0737b48fa2814996359eca89",
      "created_at": "2024-06-05T00:32:42Z"
    },
    {
      "event": "commented",
      "id": 2217430823,
      "node_id": "IC_kwDOABII586EK08n",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2217430823",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-09T11:44:35Z",
      "updated_at": "2024-07-09T11:44:35Z",
      "author_association": "MEMBER",
      "body": "Now might be a good time to rebase this and the send and receive branches? The \"pre-work\" commits mentioned in the description are merged and the libsecp PR seems to be in reasonable shape.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-2217430823",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13503782959,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAMk42Av",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13503782959",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "211dca11904bd131cc06802530a97cb1eb14133c",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/211dca11904bd131cc06802530a97cb1eb14133c",
      "created_at": "2024-07-15T11:01:24Z"
    },
    {
      "event": "unlabeled",
      "id": 13504670330,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAMk8Op6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13504670330",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-15T12:18:38Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2180643045,
      "node_id": "PRR_kwDOABII586B-fjl",
      "url": null,
      "actor": null,
      "commit_id": "667e71e45638e860b4a6f51ea0c34eef1e28c81b",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#pullrequestreview-2180643045",
      "submitted_at": "2024-07-16T15:35:24Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
    },
    {
      "event": "commented",
      "id": 2231396250,
      "node_id": "IC_kwDOABII586FAGea",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2231396250",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-16T16:54:52Z",
      "updated_at": "2024-07-16T16:54:52Z",
      "author_association": "MEMBER",
      "body": "I think you lost https://github.com/bitcoin/bitcoin/pull/30046/commits/e11d764a6ce72cd571ad9cf818c6918dd16b02f6 in the rebase?",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-2231396250",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "labeled",
      "id": 13745109392,
      "node_id": "LE_lADOABII585sQXuIzwAAAAMzRbmQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13745109392",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-02T17:59:02Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "subscribed",
      "id": 14606023436,
      "node_id": "SE_lADOABII585sQXuIzwAAAANmljsM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14606023436",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-11T09:42:01Z"
    },
    {
      "event": "commented",
      "id": 2462248717,
      "node_id": "IC_kwDOABII586Swu8N",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2462248717",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-07T13:30:50Z",
      "updated_at": "2024-11-07T13:30:50Z",
      "author_association": "MEMBER",
      "body": "Regarding the @DrahtBot comment, I am still working on this PR and will be rebasing this week, once I've finished responding to review feedback in https://github.com/bitcoin-core/secp256k1/pull/1519",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-2462248717",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "mentioned",
      "id": 15181296698,
      "node_id": "MEE_lADOABII585sQXuIzwAAAAOI4DQ6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15181296698",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-07T13:30:51Z"
    },
    {
      "event": "subscribed",
      "id": 15181296716,
      "node_id": "SE_lADOABII585sQXuIzwAAAAOI4DRM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15181296716",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-07T13:30:51Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17116599537,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAP8OpTx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17116599537",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "0b81784179f489e0c95ca29488cfac262fc984c3",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/0b81784179f489e0c95ca29488cfac262fc984c3",
      "created_at": "2025-04-03T15:47:45Z"
    },
    {
      "event": "unlabeled",
      "id": 17116972192,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAP8QESg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17116972192",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-03T16:13:47Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17125760667,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAP8xl6b",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17125760667",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "2f9c6f964450b12cca4c22ea5f57e263989901bf",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/2f9c6f964450b12cca4c22ea5f57e263989901bf",
      "created_at": "2025-04-04T08:06:07Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17127855618,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAP85lYC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17127855618",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "f8da5ecee93625dea002701f276e76799e662c31",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/f8da5ecee93625dea002701f276e76799e662c31",
      "created_at": "2025-04-04T10:39:59Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGY2Y2JmY2UwZTJkZDg0OGQxZGMxNjIwYTg4MTcxOGIxODlhZjNjZWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f6cbfce0e2dd848d1dc1620a881718b189af3ceb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f6cbfce0e2dd848d1dc1620a881718b189af3ceb",
      "tree": {
        "sha": "dde766f03fd28c1d48116f64bf3ee3090e2ae1bd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dde766f03fd28c1d48116f64bf3ee3090e2ae1bd"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2d46a89386d34d72edf93a24b67e44b82fe6e390",
          "sha": "2d46a89386d34d72edf93a24b67e44b82fe6e390",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2d46a89386d34d72edf93a24b67e44b82fe6e390"
        }
      ],
      "message": "Squashed 'src/secp256k1/' changes from 0cdc758a56..324ba7d9cc\n\n324ba7d9cc docs: update README\n1719790169 ci: enable silentpayments module\nf9aa16e715 tests: add constant time tests\n094fe7bfa4 tests: add BIP-352 test vectors\nbfa4e18a48 silentpayments: add benchmarks for scanning\n36f818b993 silentpayments: add examples/silentpayments.c\n793a1a42c0 silentpayments: receiving\n3aaaa5a135 silentpayments: recipient label support\neb2e69584d silentpayments: sending\n8f69297215 build: add skeleton for new silentpayments (BIP352) module\n70f149b9a1 Merge bitcoin-core/secp256k1#1662: bench: add ellswift to bench help output\n6b3fe51fb6 bench: add ellswift to bench help output\nd84bb83e26 Merge bitcoin-core/secp256k1#1661: configure: Show exhaustive tests in summary\n3f54ed8c1b Merge bitcoin-core/secp256k1#1659: include: remove WARN_UNUSED_RESULT for functions always returning 1\n20b05c9d3f configure: Show exhaustive tests in summary\ne56716a3bc Merge bitcoin-core/secp256k1#1660: ci: Fix exiting from ci.sh on error\nd87c3bc58f ci: Fix exiting from ci.sh on error\n1b6e081538 include: remove WARN_UNUSED_RESULT for functions always returning 1\n2abb35b034 Merge bitcoin-core/secp256k1#1657: tests: remove unused uncounting_illegal_callback_fn\n51907fa918 tests: remove unused uncounting_illegal_callback_fn\na7a5117144 Merge bitcoin-core/secp256k1#1359: Fix symbol visibility issues, add test for it\n13ed6f65dc Merge bitcoin-core/secp256k1#1593: Remove deprecated `_ec_privkey_{negate,tweak_add,tweak_mul}` aliases from API\nd1478763a5 build: Drop no longer needed  `-fvisibility=hidden` compiler option\n8ed1d83d92 ci: Run `tools/symbol-check.py`\n41d32ab2de test: Add `tools/symbol-check.py`\n88548058b3 Introduce `SECP256K1_LOCAL_VAR` macro\n03bbe8c615 Merge bitcoin-core/secp256k1#1655: gha: Print all *.log files, in a separate action\n59860bcc24 gha: Print all *.log files, in a separate action\n4ba1ba2af9 Merge bitcoin-core/secp256k1#1647: cmake: Adjust diagnostic flags for `clang-cl`\nabd25054a1 Merge bitcoin-core/secp256k1#1656: musig: Fix clearing of pubnonces\n961ec25a83 musig: Fix clearing of pubnonces\n3186082387 Merge bitcoin-core/secp256k1#1614: Add _ge_set_all_gej and use it in musig for own public nonces\n6c2a39dafb Merge bitcoin-core/secp256k1#1639: Make static context const\n37d2c60bec Remove deprecated _ec_privkey_{negate,tweak_add,tweak_mul} aliases\n432ac57705 Make static context const\n1b1fc09341 Merge bitcoin-core/secp256k1#1642: Verify `compressed` argument in `secp256k1_eckey_pubkey_serialize`\nc0d9480fbb Merge bitcoin-core/secp256k1#1654: use `EXIT_` constants over magic numbers for indicating program execution status\n13d389629a CONTRIBUTING: mention that `EXIT_` codes should be used\nc855581728 test, bench, precompute_ecmult: use `EXIT_...` constants for `main` return values\n965393fcea examples: use `EXIT_...` constants for `main` return values\n2e3bf13653 Merge bitcoin-core/secp256k1#1646: README: add instructions for verifying GPG signatures\nb682dbcf84 README: add instructions for verifying GPG signatures\n00774d0723 Merge bitcoin-core/secp256k1#1650: schnorrsig: clear out masked secret key in BIP-340 nonce function\na82287fb85 schnorrsig: clear out masked secret key in BIP-340 nonce function\n4c50d73dd9 ci: Add new \"Windows (clang-cl)\" job\n84c0bd1f72 cmake: Adjust diagnostic flags for clang-cl\nf79f46c703 Merge bitcoin-core/secp256k1#1641: doc: Improve cmake instructions in README\n2ac9f558c4 doc: Improve cmake instructions in README\n1823594761 Verify `compressed` argument in `secp256k1_eckey_pubkey_serialize`\n8deef00b33 Merge bitcoin-core/secp256k1#1634: Fix some misspellings\n39705450eb Fix some misspellings\nec329c2501 Merge bitcoin-core/secp256k1#1633: release cleanup: bump version after 0.6.0\nc97059f594 release cleanup: bump version after 0.6.0\n64228a648f musig: Use _ge_set_all_gej for own public nonces\n300aab1c05 tests: Improve _ge_set_all_gej(_var) tests\n365f274ce3 group: Simplify secp256k1_ge_set_all_gej\nd3082ddead group: Add constant-time secp256k1_ge_set_all_gej\n\ngit-subtree-dir: src/secp256k1\ngit-subtree-split: 324ba7d9cc2f33a3be89e6d7c733c776f43382e2",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2025-04-04T10:50:07Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2025-04-04T10:50:07Z"
      },
      "sha": "f6cbfce0e2dd848d1dc1620a881718b189af3ceb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDJkOWJjNTM2M2JjZWU2OWMxMGFhMmI4NmZlMDFkZGQ3NGNjNDI1ZmI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2d9bc5363bcee69c10aa2b86fe01ddd74cc425fb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/2d9bc5363bcee69c10aa2b86fe01ddd74cc425fb",
      "tree": {
        "sha": "f7e1bd15db86b5728326a206cca86ac32b77c209",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f7e1bd15db86b5728326a206cca86ac32b77c209"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree f7e1bd15db86b5728326a206cca86ac32b77c209\nparent b34d49a27e4c47641651820173227da8114419fa\nparent f6cbfce0e2dd848d1dc1620a881718b189af3ceb\nauthor josibake <josibake@protonmail.com> 1743763807 +0200\ncommitter josibake <josibake@protonmail.com> 1743763807 +0200\n\nMerge commit 'f6cbfce0e2dd848d1dc1620a881718b189af3ceb' into refresh-secp256k1\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmfvuWMACgkQity1WMTz\nPWVamxAAyvoWfY0z/u/HZ5v/h77UVsQaxrUAQN0Ud09JcQONP+a4VNVtBPHkRtaJ\nUVRBiceT2ndWh628CHrdiCq8AXDw+G5BEYqutY9mx/vazIajitBsSxYKhUJmsrIT\niyGXU61HLFlFXTEUdDzTovycqA1PCnsB0+A50bvIQ/MQuaOLE81FLcm9ANmZ8BC1\nb3RLuRyEarub53HlPmhAwLh3Mb3v0+C+BCjnQAxHFchJQKTYJboZGtHR1MV0TTCM\nX20Tbo/1r31glQcxluEGlX5TgwNpg9XqieMfB9uaUrzC0zp/rimSo8yZVPKiSXS4\nbeDQecAR3I/x9HRLgT/Z57FCy5PkNGwyiMs/kogBuxPZ/fQsWE90JgKSns51sKvc\nY+MhRo0273GEBj8HivktTvY2xbYnEcDjg/FGEvaWVsuCZbgkQceLrjFTTENd3jYA\nWFmUetqcchNlmZIAoSpGUcw3wY8G5AvY5J6ejnyrIXz5IAklScQyWJ321kedPIcq\nh4hWO5RSgoudPXMV0Kq3lWMhexO/wTxf7ChZQ+seVus+OCv9pAzlm2bxxJP71jU/\nrt2FYbPWA42gfGY8ka8KJc9/tVh1fWJsBRkapssF16CVvMnHDPyFeieatX3DH6a0\naUlsE4eBxItzELODf7qvmfGxKbdl9xNJeCOVsmA0Xk5n/dpHLGg=\n=yUXO\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b34d49a27e4c47641651820173227da8114419fa",
          "sha": "b34d49a27e4c47641651820173227da8114419fa",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b34d49a27e4c47641651820173227da8114419fa"
        },
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f6cbfce0e2dd848d1dc1620a881718b189af3ceb",
          "sha": "f6cbfce0e2dd848d1dc1620a881718b189af3ceb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f6cbfce0e2dd848d1dc1620a881718b189af3ceb"
        }
      ],
      "message": "Merge commit 'f6cbfce0e2dd848d1dc1620a881718b189af3ceb' into refresh-secp256k1",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2025-04-04T10:50:07Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2025-04-04T10:50:07Z"
      },
      "sha": "2d9bc5363bcee69c10aa2b86fe01ddd74cc425fb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGI5N2MwMjAwNDcwZDY4Yzk2YWJmMjBjYWNiMjczNmM1MjNmOGQ4ZWM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b97c0200470d68c96abf20cacb2736c523f8d8ec",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b97c0200470d68c96abf20cacb2736c523f8d8ec",
      "tree": {
        "sha": "30b28c4ee64edc9043c1c4d955d37c50ceaef12e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/30b28c4ee64edc9043c1c4d955d37c50ceaef12e"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 30b28c4ee64edc9043c1c4d955d37c50ceaef12e\nparent 2d9bc5363bcee69c10aa2b86fe01ddd74cc425fb\nauthor josibake <josibake@protonmail.com> 1743763075 +0200\ncommitter josibake <josibake@protonmail.com> 1743763849 +0200\n\ncrypto: add read-only method to KeyPair\n\nAdd a method for passing a KeyPair object to secp256k1 functions expecting a secp256k1_keypair.\nThis allows for passing a KeyPair directly to a secp256k1 function without needing to create a\ntemporary secp256k1_keypair object.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmfvuYkACgkQity1WMTz\nPWWeRxAAlKUYj78XH8t0XyeL3xDtzyqRYMBu6SVf1ii6ZtL2k3ka3RFjNbO7gRLu\nf3FIZ9ZprXY4gPq06lzS+YN7e/CaenxFNJJduI4TOsT8fariV8zkPRFg99sFtZ4T\n9V4uhKloOc0DhW4y1Zqi83K4FxV5k5j83gmQSmLaWSWrH/bW9eoPvkhcIxouCznY\npr9yT00KNYq7RwtI/RZWGf0KJRlEJJ5AG8hrCJLErPKMj8+jBXbX2DH1at4SDCOR\nthzSxey+zWIS6vTmLHSWBRMwY6Hyke75BSLOvry9rCNqnnUwiC6IZWFjsvvBc2un\nDuzWb442E/hpL+DuQb7uAwq85qANZ4/5F/lCid32R1xuysbEfKJAfcE0hFdXc4vj\nNWHwNRTVGQKzMFakuEC1g8pjL/NOTGt1vC8Dkyk2G8imZcHuOXH7/oqjXCcx3f3C\nakq/IzlbGEDVDHdFQl1CkXdnTRY4k8aiJcLp7AKYXxo7CQULK/B2TuSGCHSm7Fxh\n8SW9iCoGfF1UcsDimjcYzKD9kxSo5ABVj30qX3CIyHCH6bnicodiIX3Jo2f5pU4E\nUYon2lpynNX0SICSWCg5VZC+9K7F9qszObUw3TbsLjJki3AIDbyIXVlsOSmbZP9B\nxWk6kBg6raD+e5798wviHeX3vfkCFULAK4MZL8pFihnY/Ka7B08=\n=q1WB\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2d9bc5363bcee69c10aa2b86fe01ddd74cc425fb",
          "sha": "2d9bc5363bcee69c10aa2b86fe01ddd74cc425fb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2d9bc5363bcee69c10aa2b86fe01ddd74cc425fb"
        }
      ],
      "message": "crypto: add read-only method to KeyPair\n\nAdd a method for passing a KeyPair object to secp256k1 functions expecting a secp256k1_keypair.\nThis allows for passing a KeyPair directly to a secp256k1 function without needing to create a\ntemporary secp256k1_keypair object.",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2025-04-04T10:50:49Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2025-04-04T10:37:55Z"
      },
      "sha": "b97c0200470d68c96abf20cacb2736c523f8d8ec"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM2YmZhMWQ5NmQ0NjE3ODY1MzllNWU3MTU0MWIxNDQxMjU4NTBjYzE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c6bfa1d96d461786539e5e71541b144125850cc1",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c6bfa1d96d461786539e5e71541b144125850cc1",
      "tree": {
        "sha": "0c9f66f5a019366ded6d4888550a91fc4c39e833",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0c9f66f5a019366ded6d4888550a91fc4c39e833"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 0c9f66f5a019366ded6d4888550a91fc4c39e833\nparent b97c0200470d68c96abf20cacb2736c523f8d8ec\nauthor josibake <josibake@protonmail.com> 1689711791 +0200\ncommitter josibake <josibake@protonmail.com> 1743763849 +0200\n\nAdd \"sp\" HRP\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmfvuYkACgkQity1WMTz\nPWW3yQ/9FDKXsDN3NdpbmJjeFm2LlnLjSQVNhnlXOfdn27i5Gxo+EKTVKNuTrcEg\nGgh+0Y3r06GKs4UJNLW724mawwqjxuyXC/0N/absaKZ40QxjN6dXu7MCjOPfCNS8\nwpLK4CqNRSwrTmIeV575GQgQDeaKI8C7ibwpMxv9EIsd6igHxtyroxqTIwcDGEgo\nhmuIlKNi4BYHjHoHyOP+zah/zhJ+LkntniBkfdyCy5Y6SkFAwsdMMkVj2RGw6m8s\nApK5YhAW6FpAAOW/ycgXlU7yEYWOUKQoqoHrrrvHDjW/FCIiGdmHdKyVhVFfaNDT\nBrecW4+ROWH8iPiVNlp955LopVrLEhOV+FS2RxBqXB6hVm9PUysWlibjBz1EpRVG\nSUbl4Mt63ICSmsUtmrbVNQKLVCT0bfd5KmAYg4rFq7IfnoYaD7iCy6DPC3LjMeD3\n3hfk5hO5Day0xhQgGupylOqdFxDOItdHYAE3x5cLKQD5Zx+GtlJjs9JuOg5fmXy5\noAOn9Wn3+RqAgvRtu3PjhkvvzvX0kgJDWutgfcqQU3MpmYL2TKI8WZM/Q/STBFq1\nnNa58qoGOIAIvdxST7OrvKmA0Byh4ZJvHw9k7derNN930oM+649hhQRzaHztpgE4\ndMbb5Y6pSNOyxg3ZK6KtiG/fzLFwnVPEHxIweMw/UJxSkgVh0Hc=\n=UP90\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b97c0200470d68c96abf20cacb2736c523f8d8ec",
          "sha": "b97c0200470d68c96abf20cacb2736c523f8d8ec",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b97c0200470d68c96abf20cacb2736c523f8d8ec"
        }
      ],
      "message": "Add \"sp\" HRP",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2025-04-04T10:50:49Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-07-18T20:23:11Z"
      },
      "sha": "c6bfa1d96d461786539e5e71541b144125850cc1"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDM3YTc3MTAwZDNhMzQyNjc3MGQ1NjdkODEwNWQ1OGZlM2FlYzcwNGU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/37a77100d3a3426770d567d8105d58fe3aec704e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/37a77100d3a3426770d567d8105d58fe3aec704e",
      "tree": {
        "sha": "d78d7ea1b8ec5121c06779077f129297458d3470",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d78d7ea1b8ec5121c06779077f129297458d3470"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree d78d7ea1b8ec5121c06779077f129297458d3470\nparent c6bfa1d96d461786539e5e71541b144125850cc1\nauthor josibake <josibake@protonmail.com> 1691675009 +0200\ncommitter josibake <josibake@protonmail.com> 1743763849 +0200\n\nAdd V0SilentPaymentDestination address type\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmfvuYkACgkQity1WMTz\nPWXhiA/8DcC82cXBF2IBr6j1JR2l6egtO5ryxDKHjsEzuV0e0o+aV1e0TbGzbv0Q\nvPQmnxCEo1cBa2zyvL6v15btoevnHuaGoeJtYJLEwa2hGiAEVwwfm03NYr1BmAJq\nWb/sW1vAXWlY2FUiNWwaK2cOT4Vf7fvAEStZd8iJEw3iLEDX88W/FlYNihTFkQ2S\nKXHiU834v7ZoUm4qlUzxDO2OoYW0Im1ODhQVc7P6FgHjxAr3BQwMiEDc8MObyuoZ\niIy/BQsjnQPPdFYs0WP0zVkaYiPqvysiiEmoD75IPxs81jIYEZcWiA5tBvIfMfz3\nD/5gdQy5jSRXUals+74mCZOrLWELOByZfD5qtAA9fyC+lBY5DSniEZZW1fGHX0wc\nAioRCqHBfxfA1HADFJXE16A23Siw7bIW/Bf3NdeROLumOXCwadxLYAhf9xeTBnQ8\nLMcv/aPq99AzcMG4TzEdD6eWqXfRAUnowke60srxuhwkK5GnofrpZ0YQnYxssA9K\nJwyAcO/tyWe+Ot+9IjkRAEYxXVHUttuNIUF+vEcwD3o6A17DZ2eVqdH1bo7O69Yh\n+meaoXwP7iMRUGDfYtQJ+yKxw2X+jf5H/Cga2zo4Ql40JPdQLFFs/Lcij19a9zcg\n5rtxgWHW7IYPvV41+XYOyOBZylNAtK4aHbY7OXoRolEjDu73Z1E=\n=Jefc\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c6bfa1d96d461786539e5e71541b144125850cc1",
          "sha": "c6bfa1d96d461786539e5e71541b144125850cc1",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c6bfa1d96d461786539e5e71541b144125850cc1"
        }
      ],
      "message": "Add V0SilentPaymentDestination address type",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2025-04-04T10:50:49Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-08-10T13:43:29Z"
      },
      "sha": "37a77100d3a3426770d567d8105d58fe3aec704e"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17127989459,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAP86GDT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17127989459",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "9eb20314f176b62a88d2cd8d2f25705888dfe4d9",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/9eb20314f176b62a88d2cd8d2f25705888dfe4d9",
      "created_at": "2025-04-04T10:51:17Z"
    },
    {
      "event": "labeled",
      "id": 17127990487,
      "node_id": "LE_lADOABII585sQXuIzwAAAAP86GTX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17127990487",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-04T10:51:22Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2778303554,
      "node_id": "IC_kwDOABII586lmYxC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2778303554",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-04T10:51:23Z",
      "updated_at": "2025-04-04T10:51:23Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n🚧 At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/39980345983</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-2778303554",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28122"
    },
    {
      "event": "unlabeled",
      "id": 17129034894,
      "node_id": "UNLE_lADOABII585sQXuIzwAAAAP8-FSO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17129034894",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-04T12:13:24Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGE3MmNhYzZlZTE5NTFjNDIzNWUxNmZjODM0MjBlOWViYzQzZGEzYTI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a72cac6ee1951c4235e16fc83420e9ebc43da3a2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/a72cac6ee1951c4235e16fc83420e9ebc43da3a2",
      "tree": {
        "sha": "d522abb97891c2a4273449b82d85a0cf2204c858",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d522abb97891c2a4273449b82d85a0cf2204c858"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree d522abb97891c2a4273449b82d85a0cf2204c858\nparent 37a77100d3a3426770d567d8105d58fe3aec704e\nauthor josibake <josibake@protonmail.com> 1707319694 +0100\ncommitter josibake <josibake@protonmail.com> 1743774581 +0200\n\ncommon: add bip352.{h,cpp} secp256k1 module\n\nWrap the silentpayments module from libsecp256k1. This is placed in\ncommon as it is intended to be used by:\n\n  * RPCs: for parsing addresses\n  * Wallet: for sending, receiving, spending silent payment outputs\n  * Node: for creating silent payment indexes for light clients\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmfv44AACgkQity1WMTz\nPWWXrQ//aAyafVQAQ72pEsfGOkUrtvsRyHAq2rjGZObxiBCk4jnejMiHXYXRxGX0\naZNC/EcYUtWG6uLqv/qj8tPho6jTUdXkdB+Jlu9nBG55HyoFNfNqkNKX0KocIbsl\nkg7AuqD1Oamd8pM26uCez4zBEwSb8V9rqFzOl22N1UNfedDxEfkUbeLORSqW/OsZ\nfVQ9kLupWrsEbIw+ihvp1qguMY1ze+ZXnkjlvPHvI4o/3fHLKc7LEY7pw+j0puSm\nK+oRChmIp3in/8i3iXco6riGKr2rk2fD4f9rujJMYbSrkyuT5ianyXwctN5pER+1\nu8Ol8b3d5/qhQdpyXTo4jIY4321TrLtC/YGuu/kmOd/VScau0pOM2UoTDLzzPEJ+\nyNJ9rwzXcoHKh6xuezc77akd9HiF6gUY/7zA5zXVT5om722VvPOzy8qsQ8AKL4r4\nCyW/3R1ZL0LNBxFPXikCCPt+ztcQVc00dblUkl2ERHV8uUOYTyjB8ehiL82bBQgb\nqmrHY6imsTvYT8w8TrIWsqcr7jbRYTYyaYIQ0fBjks2Jb1A2+EqSRekPXY3lweJv\nK3PTzoUPV6nWfL66FIzvuqdPJ39XPXJRWEZqzK8fXRTeu8HW9xVyIIdF3HMKbAaw\nTbvDzNcql9Z4sXeZD3oFtmH4MkN0Ov/jIDm4bsLWayEFE3AUQ2o=\n=EJaP\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/37a77100d3a3426770d567d8105d58fe3aec704e",
          "sha": "37a77100d3a3426770d567d8105d58fe3aec704e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/37a77100d3a3426770d567d8105d58fe3aec704e"
        }
      ],
      "message": "common: add bip352.{h,cpp} secp256k1 module\n\nWrap the silentpayments module from libsecp256k1. This is placed in\ncommon as it is intended to be used by:\n\n  * RPCs: for parsing addresses\n  * Wallet: for sending, receiving, spending silent payment outputs\n  * Node: for creating silent payment indexes for light clients",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2025-04-04T13:49:41Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-02-07T15:28:14Z"
      },
      "sha": "a72cac6ee1951c4235e16fc83420e9ebc43da3a2"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDFhMTZhNzgzMmJiZDZkYWE2NWYyYWNjNzQ3NTUxMTQ4MjYyNDllYTY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1a16a7832bbd6daa65f2acc74755114826249ea6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1a16a7832bbd6daa65f2acc74755114826249ea6",
      "tree": {
        "sha": "698c93ea42dea3d4e950fe2dc8e4216fce877ce0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/698c93ea42dea3d4e950fe2dc8e4216fce877ce0"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 698c93ea42dea3d4e950fe2dc8e4216fce877ce0\nparent a72cac6ee1951c4235e16fc83420e9ebc43da3a2\nauthor josibake <josibake@protonmail.com> 1694507187 +0200\ncommitter josibake <josibake@protonmail.com> 1743774593 +0200\n\nwallet: disable sending to silent payment address\n\nHave `IsValidDestination` return false for silent payment destinations\nand set an error string when decoding a silent payment address.\n\nThis prevents anyone from sending to a silent payment address before\nsending is implemented in the wallet, but also allows the functions to\nbe used in the unit testing famework.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmfv44EACgkQity1WMTz\nPWVkBRAApV1b9q5fIKIYyyrhx3u9M70C9r3h8fNS8kwvNE3EK2YVH5HIIA0XKbSe\norGC99JddMhyapFQsvpYC1gZB2EtdNifHG4HNwwWQYyM7u+5MjBckGzJfdijL2Ft\nrv0Vtr0RflmPVjkUXuiM/KQ2KCX51RdQAt61zed1U8hsQGmgH1wtP2rGHV7ugD5s\neRcUxRuejiJgZ34EVKJH0kCX73mmUi8FKNYgqcLDYfZEbDLvJknYcfwQKHlMPOLw\n0vVPF0U5ChpFlcpxOr7iGSnZLTdk78MMbX2JEfWEfzDsSJN1wHjuZCinZgDxjRLv\nr5nn3PUYySCZ2Bd08ToAeRiE2Wi6QZKOjrm45MGqXCZSTH17HxvOsMscpfsWXHPm\nK82pP3gv50bvuXeUflGq+bcq+hzf44UCX2gZZdDqrZFiHnOV/8nlqRf2t2VJlUE6\nPbMZNsL60aBOdw3Z9ynflGhWhAXdJeoD4nb/RaOOIdYpmW7oziG+oj0g4OWms89k\nmiLikaAJi6bOG4M7za4U5nN78hDdAioPhg0jvXpyAgpmaZvMeZHLSKnYtoAPvI9x\nKiQ3G6be8L+W+8dzDwo3cMgTfmX63naZ/G3vnGgHZjMvlHdqOO7Kv9sNVvXCIpLn\nlyD9o047qvqv1vuvefelQIifMWMt2aOa2tsIWzkmQPmFT5ZAQ84=\n=E3zH\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a72cac6ee1951c4235e16fc83420e9ebc43da3a2",
          "sha": "a72cac6ee1951c4235e16fc83420e9ebc43da3a2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a72cac6ee1951c4235e16fc83420e9ebc43da3a2"
        }
      ],
      "message": "wallet: disable sending to silent payment address\n\nHave `IsValidDestination` return false for silent payment destinations\nand set an error string when decoding a silent payment address.\n\nThis prevents anyone from sending to a silent payment address before\nsending is implemented in the wallet, but also allows the functions to\nbe used in the unit testing famework.",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2025-04-04T13:49:53Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-09-12T08:26:27Z"
      },
      "sha": "1a16a7832bbd6daa65f2acc74755114826249ea6"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDlkNzhhMmNlNGZmOTA4Njg5ZDVkOWFjYWI5NjRkMTA2MzA4MmQ1Y2E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "tree": {
        "sha": "9ce76e3bd370e4010ba5063c214d5f00a3dc3bac",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9ce76e3bd370e4010ba5063c214d5f00a3dc3bac"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 9ce76e3bd370e4010ba5063c214d5f00a3dc3bac\nparent 1a16a7832bbd6daa65f2acc74755114826249ea6\nauthor josibake <josibake@protonmail.com> 1714906399 +0200\ncommitter josibake <josibake@protonmail.com> 1743774593 +0200\n\ntests: add BIP352 test vectors as unit tests\n\nUse the test vectors to test sending and receiving. A few cases are not\ncovered here, namely anything that requires testing specific to the\nwallet. For example:\n\n* Taproot script path spending is not tested, as that is better tested in\n  a wallets coin selection / signing logic\n* Re-computing outputs during RBF is not tested, as that is better\n  tested in a wallets RBF logic\n\nThe unit tests are written in such a way that adding new test cases is\nas easy as updating the JSON file\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmfv44EACgkQity1WMTz\nPWXo0w/+PV6uWsxiYQhNwZgY0vxAmYrVFQj9GdZSPhqvkKWkxy+ahfcfu7e/6sNO\n45jnC0P/vYnH5KtGHfXDu0s5ga98rtod1CruWTdfrCKIR2VBgNlKB57V4aLuWwX0\nVIfNT3u+C8LCq/Nsr6/AD9zxMaRYrsR4Qs9l0i1SGo3ivdW+wP4gJTef4ndT2AqE\nw1N4dcFBN5MbL1JwmTf3OO+NUUjObXAb9xQ01n3yDqPGBNd1TYg1sBKmq1KfSs98\nsCdAlNAsQ6RmlPtNU2QiyKxsxAFXrdabmzUF4qGeIltuxVern73f/EisYPkKCvb0\n55H0ykPC1uM9p1UgABhv8+K4aeLyohXQlSCQ8YGjAQ0EMjNCbfzWPxgoJSxz4k1G\ng1408SsZ9DEj1hjRsGRpe9oFoVoJ66+Wy1g0Ko2IGYv5z90f8xro+J6HJ2DlmO/Q\nPR2lHidXl047zBCCe9CLTrd1bxBaGUPBsr370liWX7gZxtVwOndSEUgAdJ6LUc6R\nS1CNa5SHTDM9IoLCtYRpvEEFQauyHF7rCU3+CdcoZI805QT7pS5lc20OYyX2KRaf\nlyXMaXByTkUWryb7zjMZ0j44jBzNBZPyrNI38nJ9Fx74CZ6hnXxJRIb1nNsfBpd2\nloSFOqu5y1BsTN5NLID+jlNjvXOVfqvb30hC1bajIVSxA0rdZvE=\n=5CKZ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1a16a7832bbd6daa65f2acc74755114826249ea6",
          "sha": "1a16a7832bbd6daa65f2acc74755114826249ea6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1a16a7832bbd6daa65f2acc74755114826249ea6"
        }
      ],
      "message": "tests: add BIP352 test vectors as unit tests\n\nUse the test vectors to test sending and receiving. A few cases are not\ncovered here, namely anything that requires testing specific to the\nwallet. For example:\n\n* Taproot script path spending is not tested, as that is better tested in\n  a wallets coin selection / signing logic\n* Re-computing outputs during RBF is not tested, as that is better\n  tested in a wallets RBF logic\n\nThe unit tests are written in such a way that adding new test cases is\nas easy as updating the JSON file",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2025-04-04T13:49:53Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-05-05T10:53:19Z"
      },
      "sha": "9d78a2ce4ff908689d5d9acab964d1063082d5ca"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17150299332,
      "node_id": "HRFPE_lADOABII585sQXuIzwAAAAP-PMzE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17150299332",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "created_at": "2025-04-07T09:45:18Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1271314036",
      "pull_request_review_id": 1542113471,
      "id": 1271314036,
      "node_id": "PRRC_kwDOABII585LxrZ0",
      "diff_hunk": "@@ -508,6 +511,7 @@ class CRegTestParams : public CChainParams\n         base58Prefixes[EXT_SECRET_KEY] = {0x04, 0x35, 0x83, 0x94};\n \n         bech32_hrp = \"bcrt\";\n+        silent_payment_hrp = \"sprt\";",
      "path": "src/kernel/chainparams.cpp",
      "position": 36,
      "original_position": 28,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "6d11e3c435397dab960bc2b5e6cb5a2a1166b39b",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Didn't verify my theory in practice yet, but according to my calculations having a HRP of size 4 would exceed the current 117 character limit (see https://github.com/bitcoin/bips/pull/1458/files#r1271312933). I assume the regtest-HRP should just also be set to \"tsp\" here (as it's currently stated in the BIP)? Otherweise the limit has to be raised by one.\r\n\r\nFun fact: in #27827 the \"sprt\" HRP works, but this is because the pubkeys are encoded as x-only (see commit https://github.com/bitcoin/bitcoin/pull/27827/commits/3a0d081ee07f3c65220a45855c96bf35ac2643fd), i.e. the payload of the address is only 64 bytes instead of 66 bytes and hence the limit is not exceeded.",
      "created_at": "2023-07-22T16:10:19Z",
      "updated_at": "2023-07-22T16:10:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1271314036",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1271314036"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 622,
      "original_line": 622,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1271484187",
      "pull_request_review_id": 1542293714,
      "id": 1271484187,
      "node_id": "PRRC_kwDOABII585LyU8b",
      "diff_hunk": "@@ -0,0 +1,56 @@\n+#ifndef BITCOIN_WALLET_SILENTPAYMENT_H\n+#define BITCOIN_WALLET_SILENTPAYMENT_H",
      "path": "src/wallet/silentpayments.h",
      "position": null,
      "original_position": 2,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "1d75df2aaeb34bb3058294dd02559bd35e27ae37",
      "in_reply_to_id": null,
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "c75d9de0683a91151eb4a508cb64a8937ca92 `s/PAYMENT_H/PAYMENTS_H/` in `ifndef/define/endif` or rename the files to `silentpayment.{h,cpp}`\r\n\r\n```bash\r\n$ test/lint/lint-include-guards.py \r\nsrc/wallet/silentpayments.h seems to be missing the expected include guard:\r\n  #ifndef BITCOIN_WALLET_SILENTPAYMENTS_H\r\n  #define BITCOIN_WALLET_SILENTPAYMENTS_H\r\n  ...\r\n  #endif // BITCOIN_WALLET_SILENTPAYMENTS_H\r\n```\r\n",
      "created_at": "2023-07-23T17:27:50Z",
      "updated_at": "2023-07-23T17:27:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1271484187",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1271484187"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1274629530",
      "pull_request_review_id": 1547207752,
      "id": 1274629530,
      "node_id": "PRRC_kwDOABII585L-U2a",
      "diff_hunk": "@@ -0,0 +1,56 @@\n+#ifndef BITCOIN_WALLET_SILENTPAYMENT_H\n+#define BITCOIN_WALLET_SILENTPAYMENT_H",
      "path": "src/wallet/silentpayments.h",
      "position": null,
      "original_position": 2,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "1d75df2aaeb34bb3058294dd02559bd35e27ae37",
      "in_reply_to_id": 1271484187,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Fixed, thanks!",
      "created_at": "2023-07-26T09:11:40Z",
      "updated_at": "2023-07-26T09:11:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1274629530",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1274629530"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275442463",
      "pull_request_review_id": 1548528898,
      "id": 1275442463,
      "node_id": "PRRC_kwDOABII585MBbUf",
      "diff_hunk": "@@ -172,6 +174,79 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+CKey CKey::AddTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);",
      "path": "src/key.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "56882622faf469b6f948f79a69c3c8ddbde92ff8",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 56882622faf469b6f948f79a69c3c8ddbde92ff8 \"crypto: update CKey, CPubkey for silent payments\"\r\n\r\nWe shouldn't be copying secret data out of a secure structure into an insecure one. When `tweaked_seckey` is destroyed, the underlying data may still linger in memory and end up being read by something else.\r\n\r\nIf this function must return a new `CKey`, then it should instantiate it here and perform the operation on it's `data()` rather than doing this copy.\r\n\r\nHowever, I would prefer if this function mirrored the libsecp one where the tweaking occurs on and modified this `CKey` itself.",
      "created_at": "2023-07-26T20:16:57Z",
      "updated_at": "2023-07-26T20:21:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1275442463",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275442463"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 181,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 182,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275442608",
      "pull_request_review_id": 1548528898,
      "id": 1275442608,
      "node_id": "PRRC_kwDOABII585MBbWw",
      "diff_hunk": "@@ -172,6 +174,79 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+CKey CKey::AddTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);\n+\n+    int ret = secp256k1_ec_seckey_tweak_add(secp256k1_context_sign, tweaked_seckey, tweak32);\n+    assert(ret);\n+\n+    CKey new_seckey;\n+    new_seckey.Set(std::begin(tweaked_seckey), std::end(tweaked_seckey), true);\n+\n+    return new_seckey;\n+}\n+\n+CKey CKey::MultiplyTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);",
      "path": "src/key.cpp",
      "position": null,
      "original_position": 41,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "56882622faf469b6f948f79a69c3c8ddbde92ff8",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 56882622faf469b6f948f79a69c3c8ddbde92ff8 \"crypto: update CKey, CPubkey for silent payments\"\r\n\r\nSame data copying concerns as `AddTweak`.",
      "created_at": "2023-07-26T20:17:10Z",
      "updated_at": "2023-07-26T20:21:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1275442608",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275442608"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 197,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 198,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276883646",
      "pull_request_review_id": 1550940798,
      "id": 1276883646,
      "node_id": "PRRC_kwDOABII585MG7K-",
      "diff_hunk": "@@ -211,6 +211,12 @@ class CPubKey\n      */\n     static bool CheckLowS(const std::vector<unsigned char>& vchSig);\n \n+    //! Add a number of public keys together.\n+    static CPubKey Combine(std::vector<CPubKey> pubkeys);",
      "path": "src/pubkey.h",
      "position": null,
      "original_position": 5,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "dc18efa78d014be0a09e4c986813086e56c251a3",
      "in_reply_to_id": null,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "56882622faf469b6f948f79a69c3c8ddbde92ff8\r\n```suggestion\r\n    static CPubKey Combine(const std::vector<CPubKey> &pubkeys);\r\n```",
      "created_at": "2023-07-27T22:33:46Z",
      "updated_at": "2023-07-28T08:55:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1276883646",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276883646"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 215,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276885882",
      "pull_request_review_id": 1550940798,
      "id": 1276885882,
      "node_id": "PRRC_kwDOABII585MG7t6",
      "diff_hunk": "@@ -0,0 +1,179 @@\n+#include <wallet/silentpayments.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+\n+namespace wallet {\n+\n+Recipient::Recipient(const CKey& scan_seckey, const CKey& spend_seckey)\n+{\n+    m_scan_seckey = scan_seckey;\n+    m_scan_pubkey = CPubKey{m_scan_seckey.GetPubKey()};\n+    m_spend_seckey = spend_seckey;\n+    m_spend_pubkey = CPubKey{m_spend_seckey.GetPubKey()};\n+}",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 18,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "dc18efa78d014be0a09e4c986813086e56c251a3",
      "in_reply_to_id": null,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "65b2dec1e39ea4efb327457563d2b18d49b4bc4c: Use an initializer list for data members",
      "created_at": "2023-07-27T22:36:35Z",
      "updated_at": "2023-07-28T08:55:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1276885882",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276885882"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 12,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 70,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276888369",
      "pull_request_review_id": 1550940798,
      "id": 1276888369,
      "node_id": "PRRC_kwDOABII585MG8Ux",
      "diff_hunk": "@@ -0,0 +1,179 @@\n+#include <wallet/silentpayments.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+\n+namespace wallet {\n+\n+Recipient::Recipient(const CKey& scan_seckey, const CKey& spend_seckey)\n+{\n+    m_scan_seckey = scan_seckey;\n+    m_scan_pubkey = CPubKey{m_scan_seckey.GetPubKey()};\n+    m_spend_seckey = spend_seckey;\n+    m_spend_pubkey = CPubKey{m_spend_seckey.GetPubKey()};\n+}\n+\n+void Recipient::ComputeECDHSharedSecret(const CPubKey& sender_public_key, const std::vector<COutPoint>& tx_outpoints)\n+{\n+    const auto& outpoint_hash = HashOutpoints(tx_outpoints);\n+    auto tweaked_scan_seckey = m_scan_seckey.MultiplyTweak(outpoint_hash.begin());\n+    CPubKey result = tweaked_scan_seckey.SilentPaymentECDH(sender_public_key);\n+\n+    m_ecdh_pubkey = result;\n+    assert(m_ecdh_pubkey.IsValid());\n+}\n+\n+std::pair<CKey,CPubKey> Recipient::CreateOutput(const uint32_t output_index) const\n+{\n+    HashWriter h;\n+    h.write(Span{m_ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    uint256 shared_secret = h.GetSHA256();\n+\n+    const auto& result_pubkey{m_spend_pubkey.AddTweak(shared_secret.begin())};\n+    const auto& result_seckey{m_spend_seckey.AddTweak(shared_secret.begin())};\n+\n+    return {result_seckey, result_pubkey};\n+}\n+\n+std::pair<CPubKey,CPubKey> Recipient::GetAddress() const\n+{\n+    return {m_scan_pubkey, m_spend_pubkey};\n+}\n+\n+std::vector<CKey> Recipient::ScanTxOutputs(std::vector<XOnlyPubKey> output_pub_keys)\n+{\n+    // Because a sender can create multiple outputs for us, we first check the outputs vector for an output with\n+    // output index 0. If we find it, we remove it from the vector and then iterate over the vector again looking for\n+    // an output with index 1, and so on until one of the following happens:\n+    //\n+    //     1. We have determined all outputs belong to us (the vector is empty)\n+    //     2. We have passed over the vector and found no outputs belonging to us\n+    //\n+\n+    // The ECDH shared secret must be set before we start scanning\n+    assert(m_ecdh_pubkey.IsValid());\n+\n+    bool removed;\n+    uint32_t output_index{0};\n+    std::vector<CKey> raw_tr_keys;\n+    do {\n+        // We haven't removed anything yet on this pass and if we don't remove anything, we didn't find\n+        // any silent payment outputs and should stop checking\n+        removed = false;\n+        std::pair<CKey, CPubKey> tweakResult = CreateOutput(output_index);",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 70,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "dc18efa78d014be0a09e4c986813086e56c251a3",
      "in_reply_to_id": null,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "65b2dec1e39ea4efb327457563d2b18d49b4bc4c: Could use structured binding",
      "created_at": "2023-07-27T22:39:30Z",
      "updated_at": "2023-07-28T08:55:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1276888369",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276888369"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 71,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276888579",
      "pull_request_review_id": 1550940798,
      "id": 1276888579,
      "node_id": "PRRC_kwDOABII585MG8YD",
      "diff_hunk": "@@ -0,0 +1,179 @@\n+#include <wallet/silentpayments.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+\n+namespace wallet {\n+\n+Recipient::Recipient(const CKey& scan_seckey, const CKey& spend_seckey)\n+{\n+    m_scan_seckey = scan_seckey;\n+    m_scan_pubkey = CPubKey{m_scan_seckey.GetPubKey()};\n+    m_spend_seckey = spend_seckey;\n+    m_spend_pubkey = CPubKey{m_spend_seckey.GetPubKey()};\n+}\n+\n+void Recipient::ComputeECDHSharedSecret(const CPubKey& sender_public_key, const std::vector<COutPoint>& tx_outpoints)\n+{\n+    const auto& outpoint_hash = HashOutpoints(tx_outpoints);\n+    auto tweaked_scan_seckey = m_scan_seckey.MultiplyTweak(outpoint_hash.begin());\n+    CPubKey result = tweaked_scan_seckey.SilentPaymentECDH(sender_public_key);\n+\n+    m_ecdh_pubkey = result;\n+    assert(m_ecdh_pubkey.IsValid());\n+}\n+\n+std::pair<CKey,CPubKey> Recipient::CreateOutput(const uint32_t output_index) const\n+{\n+    HashWriter h;\n+    h.write(Span{m_ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    uint256 shared_secret = h.GetSHA256();\n+\n+    const auto& result_pubkey{m_spend_pubkey.AddTweak(shared_secret.begin())};\n+    const auto& result_seckey{m_spend_seckey.AddTweak(shared_secret.begin())};\n+\n+    return {result_seckey, result_pubkey};\n+}\n+\n+std::pair<CPubKey,CPubKey> Recipient::GetAddress() const\n+{\n+    return {m_scan_pubkey, m_spend_pubkey};\n+}\n+\n+std::vector<CKey> Recipient::ScanTxOutputs(std::vector<XOnlyPubKey> output_pub_keys)\n+{\n+    // Because a sender can create multiple outputs for us, we first check the outputs vector for an output with\n+    // output index 0. If we find it, we remove it from the vector and then iterate over the vector again looking for\n+    // an output with index 1, and so on until one of the following happens:\n+    //\n+    //     1. We have determined all outputs belong to us (the vector is empty)\n+    //     2. We have passed over the vector and found no outputs belonging to us\n+    //\n+\n+    // The ECDH shared secret must be set before we start scanning\n+    assert(m_ecdh_pubkey.IsValid());\n+\n+    bool removed;\n+    uint32_t output_index{0};\n+    std::vector<CKey> raw_tr_keys;\n+    do {\n+        // We haven't removed anything yet on this pass and if we don't remove anything, we didn't find\n+        // any silent payment outputs and should stop checking\n+        removed = false;\n+        std::pair<CKey, CPubKey> tweakResult = CreateOutput(output_index);\n+        const CKey& silent_payment_priv_key = tweakResult.first;\n+        const XOnlyPubKey& silent_payment_pub_key = XOnlyPubKey{tweakResult.second};\n+        output_pub_keys.erase(std::remove_if(output_pub_keys.begin(), output_pub_keys.end(), [&](auto outputPubKey) {\n+            if (silent_payment_pub_key == outputPubKey) {\n+                // Since we found an output, we need to increment the output index and check the vector again\n+                raw_tr_keys.emplace_back(silent_payment_priv_key);\n+                removed = true;\n+                output_index++;\n+                // Return true so that this output pubkey is removed the from vector and not checked again\n+                return true;\n+            }\n+            return false;\n+        }), output_pub_keys.end());\n+    } while (!output_pub_keys.empty() && removed);\n+    return raw_tr_keys;\n+}\n+\n+Sender::Sender(const CKey& scalar_ecdh_input, const SilentPaymentRecipient& recipient)\n+{\n+    m_ecdh_pubkey = scalar_ecdh_input.SilentPaymentECDH(recipient.m_scan_pubkey);\n+    m_recipient = recipient;\n+}",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 92,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "dc18efa78d014be0a09e4c986813086e56c251a3",
      "in_reply_to_id": null,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "65b2dec1e39ea4efb327457563d2b18d49b4bc4c: Could use an initializer list",
      "created_at": "2023-07-27T22:39:49Z",
      "updated_at": "2023-07-28T08:55:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1276888579",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276888579"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 88,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 259,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276890488",
      "pull_request_review_id": 1550940798,
      "id": 1276890488,
      "node_id": "PRRC_kwDOABII585MG814",
      "diff_hunk": "@@ -0,0 +1,179 @@\n+#include <wallet/silentpayments.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+\n+namespace wallet {\n+\n+Recipient::Recipient(const CKey& scan_seckey, const CKey& spend_seckey)\n+{\n+    m_scan_seckey = scan_seckey;\n+    m_scan_pubkey = CPubKey{m_scan_seckey.GetPubKey()};\n+    m_spend_seckey = spend_seckey;\n+    m_spend_pubkey = CPubKey{m_spend_seckey.GetPubKey()};\n+}\n+\n+void Recipient::ComputeECDHSharedSecret(const CPubKey& sender_public_key, const std::vector<COutPoint>& tx_outpoints)\n+{\n+    const auto& outpoint_hash = HashOutpoints(tx_outpoints);\n+    auto tweaked_scan_seckey = m_scan_seckey.MultiplyTweak(outpoint_hash.begin());\n+    CPubKey result = tweaked_scan_seckey.SilentPaymentECDH(sender_public_key);\n+\n+    m_ecdh_pubkey = result;\n+    assert(m_ecdh_pubkey.IsValid());\n+}\n+\n+std::pair<CKey,CPubKey> Recipient::CreateOutput(const uint32_t output_index) const\n+{\n+    HashWriter h;\n+    h.write(Span{m_ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    uint256 shared_secret = h.GetSHA256();\n+\n+    const auto& result_pubkey{m_spend_pubkey.AddTweak(shared_secret.begin())};\n+    const auto& result_seckey{m_spend_seckey.AddTweak(shared_secret.begin())};\n+\n+    return {result_seckey, result_pubkey};\n+}\n+\n+std::pair<CPubKey,CPubKey> Recipient::GetAddress() const\n+{\n+    return {m_scan_pubkey, m_spend_pubkey};\n+}\n+\n+std::vector<CKey> Recipient::ScanTxOutputs(std::vector<XOnlyPubKey> output_pub_keys)\n+{\n+    // Because a sender can create multiple outputs for us, we first check the outputs vector for an output with\n+    // output index 0. If we find it, we remove it from the vector and then iterate over the vector again looking for\n+    // an output with index 1, and so on until one of the following happens:\n+    //\n+    //     1. We have determined all outputs belong to us (the vector is empty)\n+    //     2. We have passed over the vector and found no outputs belonging to us\n+    //\n+\n+    // The ECDH shared secret must be set before we start scanning\n+    assert(m_ecdh_pubkey.IsValid());\n+\n+    bool removed;\n+    uint32_t output_index{0};\n+    std::vector<CKey> raw_tr_keys;\n+    do {\n+        // We haven't removed anything yet on this pass and if we don't remove anything, we didn't find\n+        // any silent payment outputs and should stop checking\n+        removed = false;\n+        std::pair<CKey, CPubKey> tweakResult = CreateOutput(output_index);\n+        const CKey& silent_payment_priv_key = tweakResult.first;\n+        const XOnlyPubKey& silent_payment_pub_key = XOnlyPubKey{tweakResult.second};\n+        output_pub_keys.erase(std::remove_if(output_pub_keys.begin(), output_pub_keys.end(), [&](auto outputPubKey) {\n+            if (silent_payment_pub_key == outputPubKey) {\n+                // Since we found an output, we need to increment the output index and check the vector again\n+                raw_tr_keys.emplace_back(silent_payment_priv_key);\n+                removed = true;\n+                output_index++;\n+                // Return true so that this output pubkey is removed the from vector and not checked again\n+                return true;\n+            }\n+            return false;\n+        }), output_pub_keys.end());\n+    } while (!output_pub_keys.empty() && removed);\n+    return raw_tr_keys;\n+}\n+\n+Sender::Sender(const CKey& scalar_ecdh_input, const SilentPaymentRecipient& recipient)\n+{\n+    m_ecdh_pubkey = scalar_ecdh_input.SilentPaymentECDH(recipient.m_scan_pubkey);\n+    m_recipient = recipient;\n+}\n+\n+CPubKey Sender::CreateOutput(const CPubKey& spend_pubkey, const uint32_t output_index) const\n+{\n+    HashWriter h;\n+    h.write(Span{m_ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    uint256 shared_secret = h.GetSHA256();\n+    return spend_pubkey.AddTweak(shared_secret.begin());\n+}\n+\n+std::vector<wallet::CRecipient> Sender::GenerateRecipientScriptPubKeys() const\n+{\n+    int n = 0;\n+    std::vector<wallet::CRecipient> spks;\n+    for (const auto& pair : m_recipient.m_outputs) {",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 109,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "dc18efa78d014be0a09e4c986813086e56c251a3",
      "in_reply_to_id": null,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "65b2dec1e39ea4efb327457563d2b18d49b4bc4c: Could use structured binding\r\n```suggestion\r\n    for (const auto& [pubkey, amount]: m_recipient.m_outputs) {\r\n```",
      "created_at": "2023-07-27T22:42:12Z",
      "updated_at": "2023-07-28T08:55:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1276890488",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276890488"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 89,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276891288",
      "pull_request_review_id": 1550940798,
      "id": 1276891288,
      "node_id": "PRRC_kwDOABII585MG9CY",
      "diff_hunk": "@@ -0,0 +1,179 @@\n+#include <wallet/silentpayments.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+\n+namespace wallet {\n+\n+Recipient::Recipient(const CKey& scan_seckey, const CKey& spend_seckey)\n+{\n+    m_scan_seckey = scan_seckey;\n+    m_scan_pubkey = CPubKey{m_scan_seckey.GetPubKey()};\n+    m_spend_seckey = spend_seckey;\n+    m_spend_pubkey = CPubKey{m_spend_seckey.GetPubKey()};\n+}\n+\n+void Recipient::ComputeECDHSharedSecret(const CPubKey& sender_public_key, const std::vector<COutPoint>& tx_outpoints)\n+{\n+    const auto& outpoint_hash = HashOutpoints(tx_outpoints);\n+    auto tweaked_scan_seckey = m_scan_seckey.MultiplyTweak(outpoint_hash.begin());\n+    CPubKey result = tweaked_scan_seckey.SilentPaymentECDH(sender_public_key);\n+\n+    m_ecdh_pubkey = result;\n+    assert(m_ecdh_pubkey.IsValid());\n+}\n+\n+std::pair<CKey,CPubKey> Recipient::CreateOutput(const uint32_t output_index) const\n+{\n+    HashWriter h;\n+    h.write(Span{m_ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    uint256 shared_secret = h.GetSHA256();\n+\n+    const auto& result_pubkey{m_spend_pubkey.AddTweak(shared_secret.begin())};\n+    const auto& result_seckey{m_spend_seckey.AddTweak(shared_secret.begin())};\n+\n+    return {result_seckey, result_pubkey};\n+}\n+\n+std::pair<CPubKey,CPubKey> Recipient::GetAddress() const\n+{\n+    return {m_scan_pubkey, m_spend_pubkey};\n+}\n+\n+std::vector<CKey> Recipient::ScanTxOutputs(std::vector<XOnlyPubKey> output_pub_keys)\n+{\n+    // Because a sender can create multiple outputs for us, we first check the outputs vector for an output with\n+    // output index 0. If we find it, we remove it from the vector and then iterate over the vector again looking for\n+    // an output with index 1, and so on until one of the following happens:\n+    //\n+    //     1. We have determined all outputs belong to us (the vector is empty)\n+    //     2. We have passed over the vector and found no outputs belonging to us\n+    //\n+\n+    // The ECDH shared secret must be set before we start scanning\n+    assert(m_ecdh_pubkey.IsValid());\n+\n+    bool removed;\n+    uint32_t output_index{0};\n+    std::vector<CKey> raw_tr_keys;\n+    do {\n+        // We haven't removed anything yet on this pass and if we don't remove anything, we didn't find\n+        // any silent payment outputs and should stop checking\n+        removed = false;\n+        std::pair<CKey, CPubKey> tweakResult = CreateOutput(output_index);\n+        const CKey& silent_payment_priv_key = tweakResult.first;\n+        const XOnlyPubKey& silent_payment_pub_key = XOnlyPubKey{tweakResult.second};\n+        output_pub_keys.erase(std::remove_if(output_pub_keys.begin(), output_pub_keys.end(), [&](auto outputPubKey) {\n+            if (silent_payment_pub_key == outputPubKey) {\n+                // Since we found an output, we need to increment the output index and check the vector again\n+                raw_tr_keys.emplace_back(silent_payment_priv_key);\n+                removed = true;\n+                output_index++;\n+                // Return true so that this output pubkey is removed the from vector and not checked again\n+                return true;\n+            }\n+            return false;\n+        }), output_pub_keys.end());\n+    } while (!output_pub_keys.empty() && removed);\n+    return raw_tr_keys;\n+}\n+\n+Sender::Sender(const CKey& scalar_ecdh_input, const SilentPaymentRecipient& recipient)\n+{\n+    m_ecdh_pubkey = scalar_ecdh_input.SilentPaymentECDH(recipient.m_scan_pubkey);\n+    m_recipient = recipient;\n+}\n+\n+CPubKey Sender::CreateOutput(const CPubKey& spend_pubkey, const uint32_t output_index) const\n+{\n+    HashWriter h;\n+    h.write(Span{m_ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    uint256 shared_secret = h.GetSHA256();\n+    return spend_pubkey.AddTweak(shared_secret.begin());\n+}\n+\n+std::vector<wallet::CRecipient> Sender::GenerateRecipientScriptPubKeys() const\n+{\n+    int n = 0;\n+    std::vector<wallet::CRecipient> spks;\n+    for (const auto& pair : m_recipient.m_outputs) {\n+        XOnlyPubKey output_pubkey = XOnlyPubKey{CreateOutput(pair.first, n)};\n+        auto tap = WitnessV1Taproot(output_pubkey);\n+        CScript spk = GetScriptForDestination(tap);\n+        spks.push_back(wallet::CRecipient{spk, pair.second, false});\n+        n++;\n+    }\n+    return spks;\n+}\n+\n+CKey SumInputPrivKeys(const std::vector<std::pair<CKey, bool>>& sender_secret_keys)\n+{\n+    const auto& [seckey, is_taproot] = sender_secret_keys.at(0);\n+    CKey sum_seckey{seckey};\n+    if (is_taproot && sum_seckey.GetPubKey()[0] == 3) {\n+        sum_seckey.Negate();\n+    }\n+    if (sender_secret_keys.size() > 1) {\n+        for (size_t i = 1; i < sender_secret_keys.size(); i++) {\n+            const auto& [sender_seckey, sender_is_taproot] = sender_secret_keys.at(i);\n+            auto temp_key{sender_seckey};\n+            if (sender_is_taproot && sender_seckey.GetPubKey()[0] == 3) {\n+                temp_key.Negate();\n+            }\n+            sum_seckey = sum_seckey.AddTweak(temp_key.begin());\n+        }\n+    }\n+    return sum_seckey;\n+}\n+\n+CKey PrepareScalarECDHInput(const std::vector<std::pair<CKey, bool>>& sender_secret_keys, const std::vector<COutPoint>& tx_outpoints)\n+{\n+    CKey sum_input_secret_keys = SumInputPrivKeys(sender_secret_keys);\n+    uint256 outpoints_hash = HashOutpoints(tx_outpoints);\n+    return sum_input_secret_keys.MultiplyTweak(outpoints_hash.begin());\n+}\n+\n+std::vector<SilentPaymentRecipient> GroupSilentPaymentAddresses(const std::vector<wallet::V0SilentPaymentDestination>& silent_payment_destinations)\n+{\n+    std::map<CPubKey, std::vector<std::pair<CPubKey, CAmount>>> recipient_groups;\n+    std::vector<SilentPaymentRecipient> recipients;\n+    for (const auto& destination : silent_payment_destinations) {\n+        recipient_groups[destination.m_scan_pubkey].emplace_back(destination.m_spend_pubkey, destination.m_amount);\n+    }\n+    for (const auto& pair : recipient_groups) {",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 153,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "dc18efa78d014be0a09e4c986813086e56c251a3",
      "in_reply_to_id": null,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "65b2dec1e39ea4efb327457563d2b18d49b4bc4c: Could use structured binding",
      "created_at": "2023-07-27T22:43:13Z",
      "updated_at": "2023-07-28T08:55:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1276891288",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1276891288"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 153,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1282093736",
      "pull_request_review_id": 1559306552,
      "id": 1282093736,
      "node_id": "PRRC_kwDOABII585MazKo",
      "diff_hunk": "@@ -508,6 +511,7 @@ class CRegTestParams : public CChainParams\n         base58Prefixes[EXT_SECRET_KEY] = {0x04, 0x35, 0x83, 0x94};\n \n         bech32_hrp = \"bcrt\";\n+        silent_payment_hrp = \"sprt\";",
      "path": "src/kernel/chainparams.cpp",
      "position": 36,
      "original_position": 28,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "13e6c7b5444af103bb612cd503c50915d8d41015",
      "in_reply_to_id": null,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Can someone remind me wtf regtest has a different hrp than testnet and signet?\r\n\r\nIf each of the four had a different one, I’d get it, but why does regtest have a different one than the other two testing networks?\r\n\r\nUnless I’m forgetting about some good reason for that to be there, I might recommend that you just use `tsp` for all three",
      "created_at": "2023-08-02T15:43:51Z",
      "updated_at": "2023-08-02T16:46:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1282093736",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1282093736"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 622,
      "original_line": 622,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1282854035",
      "pull_request_review_id": 1560541351,
      "id": 1282854035,
      "node_id": "PRRC_kwDOABII585MdsyT",
      "diff_hunk": "@@ -508,6 +511,7 @@ class CRegTestParams : public CChainParams\n         base58Prefixes[EXT_SECRET_KEY] = {0x04, 0x35, 0x83, 0x94};\n \n         bech32_hrp = \"bcrt\";\n+        silent_payment_hrp = \"sprt\";",
      "path": "src/kernel/chainparams.cpp",
      "position": 36,
      "original_position": 28,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "13e6c7b5444af103bb612cd503c50915d8d41015",
      "in_reply_to_id": 1282093736,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This issue has some helpful context: https://github.com/bitcoin/bitcoin/issues/12314#issuecomment-582600899\r\n\r\nTLDR; at the time regtest was created, it was assumed that using a separate HRP wouldn't cost anything.\r\n\r\n> If each of the four had a different one, I’d get it, but why does regtest have a different one than the other two testing networks?\r\n\r\nThis actually makes sense to me. Testnet and Signet are \"global\" networks, so everyone has to agree on the address format. Regtest is always used in a private context, and is specific to Bitcoin Core. Having a separate HRP helps differentiate the local vs networked usage IMO.\r\n\r\n> Unless I’m forgetting about some good reason for that to be there, I might recommend that you just use tsp for all three\r\n\r\nIf we decided to make the HRP for regtest throughout Bitcoin Core to be the same as signet and testnet, then I'm fine with this. What I don't want is for silent payment addresses to be a special case in the functional test framework.\r\n\r\n",
      "created_at": "2023-08-03T08:41:30Z",
      "updated_at": "2023-08-03T08:41:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1282854035",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1282854035"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 622,
      "original_line": 622,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1282961735",
      "pull_request_review_id": 1560714797,
      "id": 1282961735,
      "node_id": "PRRC_kwDOABII585MeHFH",
      "diff_hunk": "@@ -508,6 +511,7 @@ class CRegTestParams : public CChainParams\n         base58Prefixes[EXT_SECRET_KEY] = {0x04, 0x35, 0x83, 0x94};\n \n         bech32_hrp = \"bcrt\";\n+        silent_payment_hrp = \"sprt\";",
      "path": "src/kernel/chainparams.cpp",
      "position": 36,
      "original_position": 28,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "6d11e3c435397dab960bc2b5e6cb5a2a1166b39b",
      "in_reply_to_id": 1271314036,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I've updated the BIP to recommend upping the character limit to 1023, as having a limit of 117 would cause issues with forward compatibility with future silent payment addresses. I've also removed regtest from the BIP, as I don't think it's correct to define Bitcoin Core specific conventions in BIPs. Regarding \"tsp\" vs \"sprt\", I don't really have a strong opinion here, but would prefer to follow the convention in Bitcoin Core. If we end up moving Bitcoin Core to use the same HRP for all networks, then we should update the silent payments HRP to do the same.",
      "created_at": "2023-08-03T09:56:06Z",
      "updated_at": "2023-08-03T09:56:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1282961735",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1282961735"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 622,
      "original_line": 622,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283012394",
      "pull_request_review_id": 1560805532,
      "id": 1283012394,
      "node_id": "PRRC_kwDOABII585MeTcq",
      "diff_hunk": "@@ -370,11 +370,13 @@ std::string Encode(Encoding encoding, const std::string& hrp, const data& values\n }\n \n /** Decode a Bech32 or Bech32m string. */\n-DecodeResult Decode(const std::string& str) {\n+DecodeResult Decode(const std::string& str, bool silent) {\n+    std::size_t max_size = silent ? 1024 : 90;",
      "path": "src/bech32.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "a469cb1e551ba16f1d83e4b0ae68194e38f1b9ec",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Note to self, this should be 1023",
      "created_at": "2023-08-03T10:38:54Z",
      "updated_at": "2023-08-03T10:38:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1283012394",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283012394"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 374,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284001548",
      "pull_request_review_id": 1562204323,
      "id": 1284001548,
      "node_id": "PRRC_kwDOABII585MiE8M",
      "diff_hunk": "@@ -309,3 +311,51 @@ bool IsValidDestinationString(const std::string& str)\n {\n     return IsValidDestinationString(str, Params());\n }\n+\n+std::pair<CPubKey, CPubKey> DecodeSilentData(const std::vector<unsigned char>& data)\n+{\n+\n+    std::vector<unsigned char> scan_pubkey_data(data.begin(), data.begin() + 33);\n+    CPubKey scan_pubkey{scan_pubkey_data};\n+\n+    std::vector<unsigned char> spend_pubkey_data(data.begin() + 33, data.end());\n+    CPubKey spend_pubkey{spend_pubkey_data};\n+\n+    return {scan_pubkey, spend_pubkey};\n+}\n+\n+std::vector<unsigned char> DecodeSilentAddress(const std::string& str)\n+{\n+    const auto& params{Params()};\n+    const auto& silent_payment_hrp = params.SilentPaymentHRP();\n+    const auto dec = bech32::Decode(str, /*silent=*/true);\n+    if (dec.encoding != bech32::Encoding::BECH32M || dec.hrp != silent_payment_hrp) {\n+        return {};\n+    }\n+    auto version = dec.data.front();  // retrieve the version\n+    std::vector<unsigned char> silent_payment_data;\n+    silent_payment_data.reserve(((dec.data.size() - 1) * 5) / 8);\n+    if (!ConvertBits<5, 8, false>([&](unsigned char c) { silent_payment_data.push_back(c); }, dec.data.begin() + 1, dec.data.end())) {\n+        return {};\n+    }\n+    if ((version == 0 && silent_payment_data.size() != SILENT_PAYMENT_V0_DATA_SIZE) || silent_payment_data.size() < SILENT_PAYMENT_V0_DATA_SIZE) return {};",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "8ee791e7b34a354ce6835b968fe12924b8908d7c",
      "in_reply_to_id": null,
      "user": {
        "login": "BrandonOdiwuor",
        "id": 15610188,
        "node_id": "MDQ6VXNlcjE1NjEwMTg4",
        "avatar_url": "https://avatars.githubusercontent.com/u/15610188?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BrandonOdiwuor",
        "html_url": "https://github.com/BrandonOdiwuor",
        "followers_url": "https://api.github.com/users/BrandonOdiwuor/followers",
        "following_url": "https://api.github.com/users/BrandonOdiwuor/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/BrandonOdiwuor/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/BrandonOdiwuor/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/BrandonOdiwuor/subscriptions",
        "organizations_url": "https://api.github.com/users/BrandonOdiwuor/orgs",
        "repos_url": "https://api.github.com/users/BrandonOdiwuor/repos",
        "events_url": "https://api.github.com/users/BrandonOdiwuor/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/BrandonOdiwuor/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "To improve maintainability and support forward compatibility, consider abstracting the handling of different versions into a separate helper function like ‘[evalCheckSig](https://github.com/bitcoin/bitcoin/blob/a4ca4975880c4f870c6047065c70610af2529e74/src/script/interpreter.cpp#L391)’ does. This approach will allow for easier modification and extension for new versions of Silent addresses, and would also be more clear how version handling is done\r\n",
      "created_at": "2023-08-04T05:41:02Z",
      "updated_at": "2023-08-04T05:47:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1284001548",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284001548"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 341,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1285232819",
      "pull_request_review_id": 1564168708,
      "id": 1285232819,
      "node_id": "PRRC_kwDOABII585Mmxiz",
      "diff_hunk": "@@ -309,3 +311,51 @@ bool IsValidDestinationString(const std::string& str)\n {\n     return IsValidDestinationString(str, Params());\n }\n+\n+std::pair<CPubKey, CPubKey> DecodeSilentData(const std::vector<unsigned char>& data)\n+{\n+\n+    std::vector<unsigned char> scan_pubkey_data(data.begin(), data.begin() + 33);\n+    CPubKey scan_pubkey{scan_pubkey_data};\n+\n+    std::vector<unsigned char> spend_pubkey_data(data.begin() + 33, data.end());\n+    CPubKey spend_pubkey{spend_pubkey_data};\n+\n+    return {scan_pubkey, spend_pubkey};\n+}\n+\n+std::vector<unsigned char> DecodeSilentAddress(const std::string& str)\n+{\n+    const auto& params{Params()};\n+    const auto& silent_payment_hrp = params.SilentPaymentHRP();\n+    const auto dec = bech32::Decode(str, /*silent=*/true);\n+    if (dec.encoding != bech32::Encoding::BECH32M || dec.hrp != silent_payment_hrp) {\n+        return {};\n+    }\n+    auto version = dec.data.front();  // retrieve the version\n+    std::vector<unsigned char> silent_payment_data;\n+    silent_payment_data.reserve(((dec.data.size() - 1) * 5) / 8);\n+    if (!ConvertBits<5, 8, false>([&](unsigned char c) { silent_payment_data.push_back(c); }, dec.data.begin() + 1, dec.data.end())) {\n+        return {};\n+    }\n+    if ((version == 0 && silent_payment_data.size() != SILENT_PAYMENT_V0_DATA_SIZE) || silent_payment_data.size() < SILENT_PAYMENT_V0_DATA_SIZE) return {};",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "8ee791e7b34a354ce6835b968fe12924b8908d7c",
      "in_reply_to_id": 1284001548,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks for the suggestion, I'll take a look at `EvalCheckSig`! ",
      "created_at": "2023-08-06T15:26:21Z",
      "updated_at": "2023-08-06T15:26:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1285232819",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1285232819"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 341,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286843620",
      "pull_request_review_id": 1566866196,
      "id": 1286843620,
      "node_id": "PRRC_kwDOABII585Ms6zk",
      "diff_hunk": "@@ -172,6 +174,79 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+CKey CKey::AddTweak(const unsigned char *tweak32) const",
      "path": "src/key.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "376a9b9ad48bb0dc308edc44574584bed9bf01ae",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "rename to TweakAdd to more closely mirror the secp function",
      "created_at": "2023-08-08T09:15:33Z",
      "updated_at": "2023-08-08T09:15:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1286843620",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286843620"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 177,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286844417",
      "pull_request_review_id": 1566867434,
      "id": 1286844417,
      "node_id": "PRRC_kwDOABII585Ms7AB",
      "diff_hunk": "@@ -172,6 +174,79 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+CKey CKey::AddTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);\n+\n+    int ret = secp256k1_ec_seckey_tweak_add(secp256k1_context_sign, tweaked_seckey, tweak32);\n+    assert(ret);\n+\n+    CKey new_seckey;\n+    new_seckey.Set(std::begin(tweaked_seckey), std::end(tweaked_seckey), true);\n+\n+    return new_seckey;\n+}\n+\n+CKey CKey::MultiplyTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);\n+\n+    int ret = secp256k1_ec_seckey_tweak_mul(secp256k1_context_sign, tweaked_seckey, tweak32);\n+    assert(ret);\n+\n+    CKey new_seckey;\n+    new_seckey.Set(std::begin(tweaked_seckey), std::end(tweaked_seckey), true);\n+\n+    return new_seckey;\n+}\n+\n+// we dont want to hash the output of ECDH yet, so we provide a custom hash function to secp256k1_ecdh which\n+// returns the serialized public key without hashing it\n+int custom_ecdh_hash_function(unsigned char *output, const unsigned char *x32, const unsigned char *y32, void *data) {",
      "path": "src/key.cpp",
      "position": null,
      "original_position": 54,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "376a9b9ad48bb0dc308edc44574584bed9bf01ae",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "this should also be rename since we aren't hashing",
      "created_at": "2023-08-08T09:16:13Z",
      "updated_at": "2023-08-08T09:16:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1286844417",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286844417"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 211,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286847829",
      "pull_request_review_id": 1566872721,
      "id": 1286847829,
      "node_id": "PRRC_kwDOABII585Ms71V",
      "diff_hunk": "@@ -172,6 +174,79 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+CKey CKey::AddTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);\n+\n+    int ret = secp256k1_ec_seckey_tweak_add(secp256k1_context_sign, tweaked_seckey, tweak32);\n+    assert(ret);\n+\n+    CKey new_seckey;\n+    new_seckey.Set(std::begin(tweaked_seckey), std::end(tweaked_seckey), true);\n+\n+    return new_seckey;\n+}\n+\n+CKey CKey::MultiplyTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);\n+\n+    int ret = secp256k1_ec_seckey_tweak_mul(secp256k1_context_sign, tweaked_seckey, tweak32);\n+    assert(ret);\n+\n+    CKey new_seckey;\n+    new_seckey.Set(std::begin(tweaked_seckey), std::end(tweaked_seckey), true);\n+\n+    return new_seckey;\n+}\n+\n+// we dont want to hash the output of ECDH yet, so we provide a custom hash function to secp256k1_ecdh which\n+// returns the serialized public key without hashing it\n+int custom_ecdh_hash_function(unsigned char *output, const unsigned char *x32, const unsigned char *y32, void *data) {\n+\n+    secp256k1_pubkey pubkey;\n+    unsigned char uncompressed_pubkey[65];\n+    uncompressed_pubkey[0] = 0x04;\n+    memcpy(uncompressed_pubkey + 1, x32, 32);\n+    memcpy(uncompressed_pubkey + 33, y32, 32);\n+\n+    if (!secp256k1_ec_pubkey_parse(secp256k1_context_sign, &pubkey, uncompressed_pubkey, 65)) {\n+        return 0;\n+    }\n+\n+    size_t outputlen = 33;\n+    if (!secp256k1_ec_pubkey_serialize(secp256k1_context_sign, output, &outputlen, &pubkey, SECP256K1_EC_COMPRESSED)) {\n+        return 0;\n+    }\n+    return 1;\n+}\n+\n+// WARNING: DO NOT USE THIS FUNCTION OUTSIDE OF SILENT PAYMENTS\n+// This function returns the un-hashed ECDH result and is specific to silent payments.\n+// If ECDH is required for a different use-case, a separate function should be used which does not use\n+// the `custom_ecdh_hash_function` and instead returns the hashed ECDH result (as is standard practice)\n+CPubKey CKey::SilentPaymentECDH(const CPubKey& pubkey) const",
      "path": "src/key.cpp",
      "position": null,
      "original_position": 77,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "376a9b9ad48bb0dc308edc44574584bed9bf01ae",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Should probably rename this to just \"UnhashedECDH\"",
      "created_at": "2023-08-08T09:19:09Z",
      "updated_at": "2023-08-08T09:19:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1286847829",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286847829"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 234,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286857436",
      "pull_request_review_id": 1566887443,
      "id": 1286857436,
      "node_id": "PRRC_kwDOABII585Ms-Lc",
      "diff_hunk": "@@ -172,6 +174,79 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+CKey CKey::AddTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);\n+\n+    int ret = secp256k1_ec_seckey_tweak_add(secp256k1_context_sign, tweaked_seckey, tweak32);\n+    assert(ret);\n+\n+    CKey new_seckey;\n+    new_seckey.Set(std::begin(tweaked_seckey), std::end(tweaked_seckey), true);\n+\n+    return new_seckey;\n+}\n+\n+CKey CKey::MultiplyTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);\n+\n+    int ret = secp256k1_ec_seckey_tweak_mul(secp256k1_context_sign, tweaked_seckey, tweak32);\n+    assert(ret);\n+\n+    CKey new_seckey;\n+    new_seckey.Set(std::begin(tweaked_seckey), std::end(tweaked_seckey), true);\n+\n+    return new_seckey;\n+}\n+\n+// we dont want to hash the output of ECDH yet, so we provide a custom hash function to secp256k1_ecdh which\n+// returns the serialized public key without hashing it\n+int custom_ecdh_hash_function(unsigned char *output, const unsigned char *x32, const unsigned char *y32, void *data) {",
      "path": "src/key.cpp",
      "position": null,
      "original_position": 54,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "376a9b9ad48bb0dc308edc44574584bed9bf01ae",
      "in_reply_to_id": 1286844417,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "move this to the UnhashedECDH function",
      "created_at": "2023-08-08T09:27:13Z",
      "updated_at": "2023-08-08T09:27:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1286857436",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286857436"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 211,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286873697",
      "pull_request_review_id": 1566913038,
      "id": 1286873697,
      "node_id": "PRRC_kwDOABII585MtCJh",
      "diff_hunk": "@@ -370,11 +370,13 @@ std::string Encode(Encoding encoding, const std::string& hrp, const data& values\n }\n \n /** Decode a Bech32 or Bech32m string. */\n-DecodeResult Decode(const std::string& str) {\n+DecodeResult Decode(const std::string& str, bool silent) {\n+    std::size_t max_size = silent ? 1024 : 90;",
      "path": "src/bech32.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "a469cb1e551ba16f1d83e4b0ae68194e38f1b9ec",
      "in_reply_to_id": 1283012394,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Wrap this function in a more generic \"Decode\" function that doesn't have size restrictions, possibly use an ENUM for indicating what sort of error guarantees you want.",
      "created_at": "2023-08-08T09:41:33Z",
      "updated_at": "2023-08-08T09:41:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1286873697",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286873697"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 374,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286904504",
      "pull_request_review_id": 1566961113,
      "id": 1286904504,
      "node_id": "PRRC_kwDOABII585MtJq4",
      "diff_hunk": "@@ -309,3 +311,33 @@ bool IsValidDestinationString(const std::string& str)\n {\n     return IsValidDestinationString(str, Params());\n }\n+\n+std::pair<CPubKey, CPubKey> DecodeSilentData(const std::vector<unsigned char>& data)\n+{\n+\n+    std::vector<unsigned char> scan_pubkey_data(data.begin(), data.begin() + 33);\n+    CPubKey scan_pubkey{scan_pubkey_data};\n+\n+    std::vector<unsigned char> spend_pubkey_data(data.begin() + 33, data.end());\n+    CPubKey spend_pubkey{spend_pubkey_data};\n+\n+    return {scan_pubkey, spend_pubkey};\n+}\n+\n+std::vector<unsigned char> DecodeSilentAddress(const std::string& str)",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 26,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "37b0ca1c3d753cc61e0debf8ea59160bdf4127ec",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Similar to \"Decode\", there should be a higher-level function that first decodes the string and then passes it to the relevant decoding function",
      "created_at": "2023-08-08T10:08:17Z",
      "updated_at": "2023-08-08T10:08:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1286904504",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286904504"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 327,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286912005",
      "pull_request_review_id": 1566972666,
      "id": 1286912005,
      "node_id": "PRRC_kwDOABII585MtLgF",
      "diff_hunk": "@@ -309,3 +311,33 @@ bool IsValidDestinationString(const std::string& str)\n {\n     return IsValidDestinationString(str, Params());\n }\n+\n+std::pair<CPubKey, CPubKey> DecodeSilentData(const std::vector<unsigned char>& data)\n+{\n+\n+    std::vector<unsigned char> scan_pubkey_data(data.begin(), data.begin() + 33);\n+    CPubKey scan_pubkey{scan_pubkey_data};\n+\n+    std::vector<unsigned char> spend_pubkey_data(data.begin() + 33, data.end());\n+    CPubKey spend_pubkey{spend_pubkey_data};\n+\n+    return {scan_pubkey, spend_pubkey};\n+}\n+\n+std::vector<unsigned char> DecodeSilentAddress(const std::string& str)",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 26,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "37b0ca1c3d753cc61e0debf8ea59160bdf4127ec",
      "in_reply_to_id": 1286904504,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Even better, should probably first add a new destination type to CTxDestination",
      "created_at": "2023-08-08T10:15:28Z",
      "updated_at": "2023-08-08T10:15:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1286912005",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286912005"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 327,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286930916",
      "pull_request_review_id": 1567002299,
      "id": 1286930916,
      "node_id": "PRRC_kwDOABII585MtQHk",
      "diff_hunk": "@@ -0,0 +1,179 @@\n+#include <wallet/silentpayments.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+\n+namespace wallet {\n+\n+Recipient::Recipient(const CKey& scan_seckey, const CKey& spend_seckey)",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "8be91169396a560bfc4a4e8b34a242111704f8e9",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This doesn't need to be a struct, could just be functions which the DescScriptPubKeyMan calls as needed",
      "created_at": "2023-08-08T10:34:17Z",
      "updated_at": "2023-08-08T10:34:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1286930916",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286930916"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 13,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286935217",
      "pull_request_review_id": 1567009051,
      "id": 1286935217,
      "node_id": "PRRC_kwDOABII585MtRKx",
      "diff_hunk": "@@ -0,0 +1,179 @@\n+#include <wallet/silentpayments.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+\n+namespace wallet {\n+\n+Recipient::Recipient(const CKey& scan_seckey, const CKey& spend_seckey)\n+{\n+    m_scan_seckey = scan_seckey;\n+    m_scan_pubkey = CPubKey{m_scan_seckey.GetPubKey()};\n+    m_spend_seckey = spend_seckey;\n+    m_spend_pubkey = CPubKey{m_spend_seckey.GetPubKey()};\n+}\n+\n+void Recipient::ComputeECDHSharedSecret(const CPubKey& sender_public_key, const std::vector<COutPoint>& tx_outpoints)\n+{\n+    const auto& outpoint_hash = HashOutpoints(tx_outpoints);\n+    auto tweaked_scan_seckey = m_scan_seckey.MultiplyTweak(outpoint_hash.begin());\n+    CPubKey result = tweaked_scan_seckey.SilentPaymentECDH(sender_public_key);\n+\n+    m_ecdh_pubkey = result;\n+    assert(m_ecdh_pubkey.IsValid());\n+}\n+\n+std::pair<CKey,CPubKey> Recipient::CreateOutput(const uint32_t output_index) const\n+{\n+    HashWriter h;\n+    h.write(Span{m_ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    uint256 shared_secret = h.GetSHA256();\n+\n+    const auto& result_pubkey{m_spend_pubkey.AddTweak(shared_secret.begin())};\n+    const auto& result_seckey{m_spend_seckey.AddTweak(shared_secret.begin())};\n+\n+    return {result_seckey, result_pubkey};\n+}\n+\n+std::pair<CPubKey,CPubKey> Recipient::GetAddress() const\n+{\n+    return {m_scan_pubkey, m_spend_pubkey};\n+}\n+\n+std::vector<CKey> Recipient::ScanTxOutputs(std::vector<XOnlyPubKey> output_pub_keys)",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "8be91169396a560bfc4a4e8b34a242111704f8e9",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "this function should be \"label aware,\" meaning if the wallet implements labels later on, this function does not need to change.",
      "created_at": "2023-08-08T10:38:43Z",
      "updated_at": "2023-08-08T10:38:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1286935217",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286935217"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 51,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286941048",
      "pull_request_review_id": 1567018287,
      "id": 1286941048,
      "node_id": "PRRC_kwDOABII585MtSl4",
      "diff_hunk": "@@ -0,0 +1,179 @@\n+#include <wallet/silentpayments.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+\n+namespace wallet {\n+\n+Recipient::Recipient(const CKey& scan_seckey, const CKey& spend_seckey)\n+{\n+    m_scan_seckey = scan_seckey;\n+    m_scan_pubkey = CPubKey{m_scan_seckey.GetPubKey()};\n+    m_spend_seckey = spend_seckey;\n+    m_spend_pubkey = CPubKey{m_spend_seckey.GetPubKey()};\n+}\n+\n+void Recipient::ComputeECDHSharedSecret(const CPubKey& sender_public_key, const std::vector<COutPoint>& tx_outpoints)\n+{\n+    const auto& outpoint_hash = HashOutpoints(tx_outpoints);\n+    auto tweaked_scan_seckey = m_scan_seckey.MultiplyTweak(outpoint_hash.begin());\n+    CPubKey result = tweaked_scan_seckey.SilentPaymentECDH(sender_public_key);\n+\n+    m_ecdh_pubkey = result;\n+    assert(m_ecdh_pubkey.IsValid());\n+}\n+\n+std::pair<CKey,CPubKey> Recipient::CreateOutput(const uint32_t output_index) const\n+{\n+    HashWriter h;\n+    h.write(Span{m_ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    uint256 shared_secret = h.GetSHA256();\n+\n+    const auto& result_pubkey{m_spend_pubkey.AddTweak(shared_secret.begin())};\n+    const auto& result_seckey{m_spend_seckey.AddTweak(shared_secret.begin())};\n+\n+    return {result_seckey, result_pubkey};\n+}\n+\n+std::pair<CPubKey,CPubKey> Recipient::GetAddress() const\n+{\n+    return {m_scan_pubkey, m_spend_pubkey};\n+}\n+\n+std::vector<CKey> Recipient::ScanTxOutputs(std::vector<XOnlyPubKey> output_pub_keys)\n+{\n+    // Because a sender can create multiple outputs for us, we first check the outputs vector for an output with\n+    // output index 0. If we find it, we remove it from the vector and then iterate over the vector again looking for\n+    // an output with index 1, and so on until one of the following happens:\n+    //\n+    //     1. We have determined all outputs belong to us (the vector is empty)\n+    //     2. We have passed over the vector and found no outputs belonging to us\n+    //\n+\n+    // The ECDH shared secret must be set before we start scanning\n+    assert(m_ecdh_pubkey.IsValid());\n+\n+    bool removed;\n+    uint32_t output_index{0};\n+    std::vector<CKey> raw_tr_keys;\n+    do {\n+        // We haven't removed anything yet on this pass and if we don't remove anything, we didn't find\n+        // any silent payment outputs and should stop checking\n+        removed = false;\n+        std::pair<CKey, CPubKey> tweakResult = CreateOutput(output_index);\n+        const CKey& silent_payment_priv_key = tweakResult.first;\n+        const XOnlyPubKey& silent_payment_pub_key = XOnlyPubKey{tweakResult.second};\n+        output_pub_keys.erase(std::remove_if(output_pub_keys.begin(), output_pub_keys.end(), [&](auto outputPubKey) {\n+            if (silent_payment_pub_key == outputPubKey) {\n+                // Since we found an output, we need to increment the output index and check the vector again\n+                raw_tr_keys.emplace_back(silent_payment_priv_key);\n+                removed = true;\n+                output_index++;\n+                // Return true so that this output pubkey is removed the from vector and not checked again\n+                return true;\n+            }\n+            return false;\n+        }), output_pub_keys.end());\n+    } while (!output_pub_keys.empty() && removed);\n+    return raw_tr_keys;",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 85,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "8be91169396a560bfc4a4e8b34a242111704f8e9",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This shouldn't return private keys, it should only return the tweak portion of the private key. This also means `Recipient` doesn't need to have the spend private key.",
      "created_at": "2023-08-08T10:44:44Z",
      "updated_at": "2023-08-08T10:44:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1286941048",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286941048"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 86,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286941460",
      "pull_request_review_id": 1567018921,
      "id": 1286941460,
      "node_id": "PRRC_kwDOABII585MtSsU",
      "diff_hunk": "@@ -62,6 +63,20 @@ enum class AddressPurpose {\n     SEND,\n     REFUND, //!< Never set in current code may be present in older wallet databases\n };\n+\n+struct CRecipient\n+{\n+    CScript scriptPubKey;\n+    CAmount nAmount;\n+    bool fSubtractFeeFromAmount;\n+};\n+\n+struct V0SilentPaymentDestination",
      "path": "src/wallet/types.h",
      "position": null,
      "original_position": 20,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "8be91169396a560bfc4a4e8b34a242111704f8e9",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "this should be its own commit",
      "created_at": "2023-08-08T10:45:11Z",
      "updated_at": "2023-08-08T10:45:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1286941460",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286941460"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 74,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286941957",
      "pull_request_review_id": 1567019657,
      "id": 1286941957,
      "node_id": "PRRC_kwDOABII585MtS0F",
      "diff_hunk": "@@ -262,13 +262,6 @@ inline std::optional<AddressPurpose> PurposeFromString(std::string_view s)\n     return {};\n }\n \n-struct CRecipient",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 4,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "8be91169396a560bfc4a4e8b34a242111704f8e9",
      "in_reply_to_id": null,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "this should be its own commit, might not be needed if we instead V0SilentPaymentDestination as a CTxDestination type",
      "created_at": "2023-08-08T10:45:41Z",
      "updated_at": "2023-08-08T10:45:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1286941957",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286941957"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 288,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287394228",
      "pull_request_review_id": 1567728841,
      "id": 1287394228,
      "node_id": "PRRC_kwDOABII585MvBO0",
      "diff_hunk": "@@ -508,6 +511,7 @@ class CRegTestParams : public CChainParams\n         base58Prefixes[EXT_SECRET_KEY] = {0x04, 0x35, 0x83, 0x94};\n \n         bech32_hrp = \"bcrt\";\n+        silent_payment_hrp = \"sprt\";",
      "path": "src/kernel/chainparams.cpp",
      "position": 36,
      "original_position": 28,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "13e6c7b5444af103bb612cd503c50915d8d41015",
      "in_reply_to_id": 1282093736,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "As long as testnet and signet are the same, and different from mainnet, I'm happy. When testing with e.g. hardware wallets it lets you use the testnet app / firmware instead of signet-specific stuff.",
      "created_at": "2023-08-08T16:40:13Z",
      "updated_at": "2023-08-08T16:40:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1287394228",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287394228"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 622,
      "original_line": 622,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287398956",
      "pull_request_review_id": 1567736115,
      "id": 1287398956,
      "node_id": "PRRC_kwDOABII585MvCYs",
      "diff_hunk": "@@ -309,3 +311,33 @@ bool IsValidDestinationString(const std::string& str)\n {\n     return IsValidDestinationString(str, Params());\n }\n+\n+std::pair<CPubKey, CPubKey> DecodeSilentData(const std::vector<unsigned char>& data)\n+{\n+\n+    std::vector<unsigned char> scan_pubkey_data(data.begin(), data.begin() + 33);\n+    CPubKey scan_pubkey{scan_pubkey_data};\n+\n+    std::vector<unsigned char> spend_pubkey_data(data.begin() + 33, data.end());",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "37b0ca1c3d753cc61e0debf8ea59160bdf4127ec",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "37b0ca1c3d753cc61e0debf8ea59160bdf4127ec: alternatively you could scan for the exact pubkey length. That would tolerate future versions to add extra stuff to the address that's safe to ignore for older versions.",
      "created_at": "2023-08-08T16:44:45Z",
      "updated_at": "2023-08-08T16:56:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1287398956",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287398956"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 321,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287401010",
      "pull_request_review_id": 1567736115,
      "id": 1287401010,
      "node_id": "PRRC_kwDOABII585MvC4y",
      "diff_hunk": "@@ -309,3 +311,33 @@ bool IsValidDestinationString(const std::string& str)\n {\n     return IsValidDestinationString(str, Params());\n }\n+\n+std::pair<CPubKey, CPubKey> DecodeSilentData(const std::vector<unsigned char>& data)\n+{\n+\n+    std::vector<unsigned char> scan_pubkey_data(data.begin(), data.begin() + 33);\n+    CPubKey scan_pubkey{scan_pubkey_data};\n+\n+    std::vector<unsigned char> spend_pubkey_data(data.begin() + 33, data.end());\n+    CPubKey spend_pubkey{spend_pubkey_data};\n+\n+    return {scan_pubkey, spend_pubkey};\n+}\n+\n+std::vector<unsigned char> DecodeSilentAddress(const std::string& str)\n+{\n+    const auto& params{Params()};\n+    const auto& silent_payment_hrp = params.SilentPaymentHRP();\n+    const auto dec = bech32::Decode(str, /*silent=*/true);\n+    if (dec.encoding != bech32::Encoding::BECH32M || dec.hrp != silent_payment_hrp) {\n+        return {};\n+    }\n+    auto version = dec.data.front();  // retrieve the version\n+    std::vector<unsigned char> silent_payment_data;\n+    silent_payment_data.reserve(((dec.data.size() - 1) * 5) / 8);\n+    if (!ConvertBits<5, 8, false>([&](unsigned char c) { silent_payment_data.push_back(c); }, dec.data.begin() + 1, dec.data.end())) {\n+        return {};\n+    }\n+    if ((version == 0 && silent_payment_data.size() != SILENT_PAYMENT_V0_DATA_SIZE) || silent_payment_data.size() < SILENT_PAYMENT_V0_DATA_SIZE) return {};",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "37b0ca1c3d753cc61e0debf8ea59160bdf4127ec",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "37b0ca1c3d753cc61e0debf8ea59160bdf4127ec: could use `version == 0 && silent_payment_data.size() < SILENT_PAYMENT_V0_DATA_SIZE` (see comment above)",
      "created_at": "2023-08-08T16:46:46Z",
      "updated_at": "2023-08-08T16:56:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1287401010",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287401010"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 341,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287402078",
      "pull_request_review_id": 1567736115,
      "id": 1287402078,
      "node_id": "PRRC_kwDOABII585MvDJe",
      "diff_hunk": "@@ -309,3 +311,33 @@ bool IsValidDestinationString(const std::string& str)\n {\n     return IsValidDestinationString(str, Params());\n }\n+\n+std::pair<CPubKey, CPubKey> DecodeSilentData(const std::vector<unsigned char>& data)",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "37b0ca1c3d753cc61e0debf8ea59160bdf4127ec",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "37b0ca1c3d753cc61e0debf8ea59160bdf4127ec `assert data.size() >= SILENT_PAYMENT_V0_DATA_SIZE` (or early return if you don't expect the caller to have already checked this)",
      "created_at": "2023-08-08T16:47:47Z",
      "updated_at": "2023-08-08T16:56:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1287402078",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287402078"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 315,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287404315",
      "pull_request_review_id": 1567736115,
      "id": 1287404315,
      "node_id": "PRRC_kwDOABII585MvDsb",
      "diff_hunk": "@@ -341,3 +341,21 @@ std::vector<unsigned char> DecodeSilentAddress(const std::string& str)\n     if ((version == 0 && silent_payment_data.size() != SILENT_PAYMENT_V0_DATA_SIZE) || silent_payment_data.size() < SILENT_PAYMENT_V0_DATA_SIZE) return {};\n     return silent_payment_data;\n }\n+\n+std::string EncodeSilentDestination(const CPubKey& scan_pubkey, const CPubKey& spend_pubkey)\n+{",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "328951d056e939b6db573043fc71d8bd6ae68dff",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "328951d056e939b6db573043fc71d8bd6ae68dff: if cheap, could assert/assume both ` CPubKey` are valid. ",
      "created_at": "2023-08-08T16:49:52Z",
      "updated_at": "2023-08-08T16:56:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1287404315",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287404315"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 346,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287404996",
      "pull_request_review_id": 1567736115,
      "id": 1287404996,
      "node_id": "PRRC_kwDOABII585MvD3E",
      "diff_hunk": "@@ -341,3 +341,21 @@ std::vector<unsigned char> DecodeSilentAddress(const std::string& str)\n     if ((version == 0 && silent_payment_data.size() != SILENT_PAYMENT_V0_DATA_SIZE) || silent_payment_data.size() < SILENT_PAYMENT_V0_DATA_SIZE) return {};\n     return silent_payment_data;\n }\n+\n+std::string EncodeSilentDestination(const CPubKey& scan_pubkey, const CPubKey& spend_pubkey)\n+{\n+    // The data_in is scan_pubkey + spend_pubkey\n+    std::vector<unsigned char> data_in = {};\n+    // Set 0 as the silent payments version\n+    std::vector<unsigned char> data_out = {0};\n+\n+    data_in.insert(data_in.end(), scan_pubkey.begin(), scan_pubkey.end());\n+    data_in.insert(data_in.end(), spend_pubkey.begin(), spend_pubkey.end());\n+\n+    ConvertBits<8, 5, true>([&](unsigned char c) { data_out.push_back(c); }, data_in.begin(), data_in.end());",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "328951d056e939b6db573043fc71d8bd6ae68dff",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "328951d056e939b6db573043fc71d8bd6ae68dff: this should be in some bech32 helper function.",
      "created_at": "2023-08-08T16:50:33Z",
      "updated_at": "2023-08-08T16:56:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1287404996",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287404996"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 355,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1293963387",
      "pull_request_review_id": 1577640373,
      "id": 1293963387,
      "node_id": "PRRC_kwDOABII585NIFB7",
      "diff_hunk": "@@ -0,0 +1,179 @@\n+#include <wallet/silentpayments.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+\n+namespace wallet {\n+\n+Recipient::Recipient(const CKey& scan_seckey, const CKey& spend_seckey)",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "8be91169396a560bfc4a4e8b34a242111704f8e9",
      "in_reply_to_id": 1286930916,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "https://github.com/achow101/bitcoin/commit/57d72b52ca5a442982907cb09c8b26e1ab5e9d59 can be squashed in here to remove the `Recipient` class.",
      "created_at": "2023-08-14T20:57:53Z",
      "updated_at": "2023-08-14T20:57:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1293963387",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1293963387"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 13,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1295130079",
      "pull_request_review_id": 1579452859,
      "id": 1295130079,
      "node_id": "PRRC_kwDOABII585NMh3f",
      "diff_hunk": "@@ -172,6 +174,79 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+CKey CKey::AddTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);\n+\n+    int ret = secp256k1_ec_seckey_tweak_add(secp256k1_context_sign, tweaked_seckey, tweak32);\n+    assert(ret);\n+\n+    CKey new_seckey;\n+    new_seckey.Set(std::begin(tweaked_seckey), std::end(tweaked_seckey), true);\n+\n+    return new_seckey;\n+}\n+\n+CKey CKey::MultiplyTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);\n+\n+    int ret = secp256k1_ec_seckey_tweak_mul(secp256k1_context_sign, tweaked_seckey, tweak32);\n+    assert(ret);\n+\n+    CKey new_seckey;\n+    new_seckey.Set(std::begin(tweaked_seckey), std::end(tweaked_seckey), true);\n+\n+    return new_seckey;\n+}\n+\n+// we dont want to hash the output of ECDH yet, so we provide a custom hash function to secp256k1_ecdh which\n+// returns the serialized public key without hashing it\n+int custom_ecdh_hash_function(unsigned char *output, const unsigned char *x32, const unsigned char *y32, void *data) {",
      "path": "src/key.cpp",
      "position": null,
      "original_position": 54,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "8b1b1d0e8d5f87919695f9b3f08ab4a5ab739463",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Coming from review club:\r\nShould also be moved to secp256k1 right",
      "created_at": "2023-08-15T21:24:19Z",
      "updated_at": "2023-08-15T23:56:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1295130079",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1295130079"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 211,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1295134019",
      "pull_request_review_id": 1579452859,
      "id": 1295134019,
      "node_id": "PRRC_kwDOABII585NMi1D",
      "diff_hunk": "@@ -370,11 +370,13 @@ std::string Encode(Encoding encoding, const std::string& hrp, const data& values\n }\n \n /** Decode a Bech32 or Bech32m string. */\n-DecodeResult Decode(const std::string& str) {\n+DecodeResult Decode(const std::string& str, bool silent) {\n+    std::size_t max_size = silent ? 1024 : 90;",
      "path": "src/bech32.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "cca58b809ce7b394ec69f1d59f829a8057722da7",
      "in_reply_to_id": null,
      "user": {
        "login": "ismaelsadeeq",
        "id": 48946461,
        "node_id": "MDQ6VXNlcjQ4OTQ2NDYx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48946461?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ismaelsadeeq",
        "html_url": "https://github.com/ismaelsadeeq",
        "followers_url": "https://api.github.com/users/ismaelsadeeq/followers",
        "following_url": "https://api.github.com/users/ismaelsadeeq/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ismaelsadeeq/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ismaelsadeeq/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ismaelsadeeq/subscriptions",
        "organizations_url": "https://api.github.com/users/ismaelsadeeq/orgs",
        "repos_url": "https://api.github.com/users/ismaelsadeeq/repos",
        "events_url": "https://api.github.com/users/ismaelsadeeq/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ismaelsadeeq/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit:\r\nI know you describe why the `max_size` is `1024` in commit message.\r\nBut will it be nice if you add a comment about the `1024` / `1023` `max_size`.",
      "created_at": "2023-08-15T21:29:27Z",
      "updated_at": "2023-08-15T23:56:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1295134019",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1295134019"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 374,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1296358180",
      "pull_request_review_id": 1581312048,
      "id": 1296358180,
      "node_id": "PRRC_kwDOABII585NRNsk",
      "diff_hunk": "@@ -508,6 +511,7 @@ class CRegTestParams : public CChainParams\n         base58Prefixes[EXT_SECRET_KEY] = {0x04, 0x35, 0x83, 0x94};\n \n         bech32_hrp = \"bcrt\";\n+        silent_payment_hrp = \"sprt\";",
      "path": "src/kernel/chainparams.cpp",
      "position": 36,
      "original_position": 28,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "13e6c7b5444af103bb612cd503c50915d8d41015",
      "in_reply_to_id": 1282093736,
      "user": {
        "login": "murchandamus",
        "id": 4060799,
        "node_id": "MDQ6VXNlcjQwNjA3OTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4060799?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/murchandamus",
        "html_url": "https://github.com/murchandamus",
        "followers_url": "https://api.github.com/users/murchandamus/followers",
        "following_url": "https://api.github.com/users/murchandamus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/murchandamus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/murchandamus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/murchandamus/subscriptions",
        "organizations_url": "https://api.github.com/users/murchandamus/orgs",
        "repos_url": "https://api.github.com/users/murchandamus/repos",
        "events_url": "https://api.github.com/users/murchandamus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/murchandamus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "@josibake: It’s rather that bech32(m) addresses are the odd ones out. Before native segwit outputs all addresses across testnet and regtest were the same. After rereading #12314, I would still recommend that you use the same hrp for all test-networks.",
      "created_at": "2023-08-16T19:48:00Z",
      "updated_at": "2023-08-16T19:48:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1296358180",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1296358180"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 622,
      "original_line": 622,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1307989816",
      "pull_request_review_id": 1599171329,
      "id": 1307989816,
      "node_id": "PRRC_kwDOABII585N9lc4",
      "diff_hunk": "@@ -0,0 +1,49 @@\n+#ifndef BITCOIN_WALLET_SILENTPAYMENTS_H\n+#define BITCOIN_WALLET_SILENTPAYMENTS_H\n+\n+#include <coins.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <wallet/wallet.h>\n+\n+namespace wallet {\n+class Recipient {\n+    protected:\n+        CKey m_scan_seckey;\n+        CKey m_spend_seckey;\n+        CPubKey m_scan_pubkey;\n+        CPubKey m_spend_pubkey;\n+        CPubKey m_ecdh_pubkey;\n+\n+    public:\n+        Recipient(const CKey& scan_seckey, const CKey& spend_seckey);\n+        void ComputeECDHSharedSecret(const CPubKey& sender_public_key, const std::vector<COutPoint>& tx_outpoints);\n+        std::pair<CKey,CPubKey> CreateOutput(const uint32_t output_index) const;\n+        std::pair<CPubKey,CPubKey> GetAddress() const;\n+        std::vector<CKey> ScanTxOutputs(std::vector<XOnlyPubKey> output_pub_keys);\n+};\n+\n+struct SilentPaymentRecipient\n+{\n+    CPubKey m_scan_pubkey;\n+    std::vector<std::pair<CPubKey, CAmount>> m_outputs;\n+    SilentPaymentRecipient() {};\n+    SilentPaymentRecipient(CPubKey scan_pubkey) : m_scan_pubkey(scan_pubkey) {};\n+};\n+\n+class Sender {\n+    protected:\n+        CPubKey m_ecdh_pubkey;\n+        SilentPaymentRecipient m_recipient;\n+        CPubKey CreateOutput(const CPubKey& spend_pubkey, const uint32_t output_index) const;\n+\n+    public:\n+        Sender(const CKey& scalar_ecdh_input, const SilentPaymentRecipient& recipient);\n+        std::vector<wallet::CRecipient> GenerateRecipientScriptPubKeys() const;",
      "path": "src/wallet/silentpayments.h",
      "position": null,
      "original_position": 42,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "e3f9217ffb9457fcc54d589616f5c752ce15e6e5",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Please don't use `CRecipient` here, it causes a circular dependency.",
      "created_at": "2023-08-28T21:42:41Z",
      "updated_at": "2023-08-28T21:42:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1307989816",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1307989816"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1311598024",
      "pull_request_review_id": 1604708096,
      "id": 1311598024,
      "node_id": "PRRC_kwDOABII585OLWXI",
      "diff_hunk": "@@ -172,6 +174,79 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+CKey CKey::AddTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);\n+\n+    int ret = secp256k1_ec_seckey_tweak_add(secp256k1_context_sign, tweaked_seckey, tweak32);\n+    assert(ret);\n+\n+    CKey new_seckey;\n+    new_seckey.Set(std::begin(tweaked_seckey), std::end(tweaked_seckey), true);\n+\n+    return new_seckey;\n+}\n+\n+CKey CKey::MultiplyTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);",
      "path": "src/key.cpp",
      "position": null,
      "original_position": 41,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "56882622faf469b6f948f79a69c3c8ddbde92ff8",
      "in_reply_to_id": 1275442608,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Fixed",
      "created_at": "2023-08-31T13:04:12Z",
      "updated_at": "2023-08-31T13:04:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1311598024",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1311598024"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 197,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 198,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1311598537",
      "pull_request_review_id": 1604708882,
      "id": 1311598537,
      "node_id": "PRRC_kwDOABII585OLWfJ",
      "diff_hunk": "@@ -172,6 +174,79 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+CKey CKey::AddTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);",
      "path": "src/key.cpp",
      "position": null,
      "original_position": 25,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "56882622faf469b6f948f79a69c3c8ddbde92ff8",
      "in_reply_to_id": 1275442463,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Now operates on `keydata.data()` in place",
      "created_at": "2023-08-31T13:04:35Z",
      "updated_at": "2023-08-31T13:04:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1311598537",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1311598537"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 181,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 182,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1311600735",
      "pull_request_review_id": 1604712273,
      "id": 1311600735,
      "node_id": "PRRC_kwDOABII585OLXBf",
      "diff_hunk": "@@ -309,3 +311,33 @@ bool IsValidDestinationString(const std::string& str)\n {\n     return IsValidDestinationString(str, Params());\n }\n+\n+std::pair<CPubKey, CPubKey> DecodeSilentData(const std::vector<unsigned char>& data)\n+{\n+\n+    std::vector<unsigned char> scan_pubkey_data(data.begin(), data.begin() + 33);\n+    CPubKey scan_pubkey{scan_pubkey_data};\n+\n+    std::vector<unsigned char> spend_pubkey_data(data.begin() + 33, data.end());\n+    CPubKey spend_pubkey{spend_pubkey_data};\n+\n+    return {scan_pubkey, spend_pubkey};\n+}\n+\n+std::vector<unsigned char> DecodeSilentAddress(const std::string& str)",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 26,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "37b0ca1c3d753cc61e0debf8ea59160bdf4127ec",
      "in_reply_to_id": 1286904504,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Resolved in #28246 , which adds a new `CTxDestination` and lets us use the existing encoder and decoder.",
      "created_at": "2023-08-31T13:06:22Z",
      "updated_at": "2023-08-31T13:06:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1311600735",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1311600735"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 327,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1311601163",
      "pull_request_review_id": 1604712977,
      "id": 1311601163,
      "node_id": "PRRC_kwDOABII585OLXIL",
      "diff_hunk": "@@ -0,0 +1,49 @@\n+#ifndef BITCOIN_WALLET_SILENTPAYMENTS_H\n+#define BITCOIN_WALLET_SILENTPAYMENTS_H\n+\n+#include <coins.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <wallet/wallet.h>\n+\n+namespace wallet {\n+class Recipient {\n+    protected:\n+        CKey m_scan_seckey;\n+        CKey m_spend_seckey;\n+        CPubKey m_scan_pubkey;\n+        CPubKey m_spend_pubkey;\n+        CPubKey m_ecdh_pubkey;\n+\n+    public:\n+        Recipient(const CKey& scan_seckey, const CKey& spend_seckey);\n+        void ComputeECDHSharedSecret(const CPubKey& sender_public_key, const std::vector<COutPoint>& tx_outpoints);\n+        std::pair<CKey,CPubKey> CreateOutput(const uint32_t output_index) const;\n+        std::pair<CPubKey,CPubKey> GetAddress() const;\n+        std::vector<CKey> ScanTxOutputs(std::vector<XOnlyPubKey> output_pub_keys);\n+};\n+\n+struct SilentPaymentRecipient\n+{\n+    CPubKey m_scan_pubkey;\n+    std::vector<std::pair<CPubKey, CAmount>> m_outputs;\n+    SilentPaymentRecipient() {};\n+    SilentPaymentRecipient(CPubKey scan_pubkey) : m_scan_pubkey(scan_pubkey) {};\n+};\n+\n+class Sender {\n+    protected:\n+        CPubKey m_ecdh_pubkey;\n+        SilentPaymentRecipient m_recipient;\n+        CPubKey CreateOutput(const CPubKey& spend_pubkey, const uint32_t output_index) const;\n+\n+    public:\n+        Sender(const CKey& scalar_ecdh_input, const SilentPaymentRecipient& recipient);\n+        std::vector<wallet::CRecipient> GenerateRecipientScriptPubKeys() const;",
      "path": "src/wallet/silentpayments.h",
      "position": null,
      "original_position": 42,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "e3f9217ffb9457fcc54d589616f5c752ce15e6e5",
      "in_reply_to_id": 1307989816,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Fixed",
      "created_at": "2023-08-31T13:06:43Z",
      "updated_at": "2023-08-31T13:06:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1311601163",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1311601163"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1311605823",
      "pull_request_review_id": 1604720049,
      "id": 1311605823,
      "node_id": "PRRC_kwDOABII585OLYQ_",
      "diff_hunk": "@@ -0,0 +1,179 @@\n+#include <wallet/silentpayments.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+\n+namespace wallet {\n+\n+Recipient::Recipient(const CKey& scan_seckey, const CKey& spend_seckey)\n+{\n+    m_scan_seckey = scan_seckey;\n+    m_scan_pubkey = CPubKey{m_scan_seckey.GetPubKey()};\n+    m_spend_seckey = spend_seckey;\n+    m_spend_pubkey = CPubKey{m_spend_seckey.GetPubKey()};\n+}\n+\n+void Recipient::ComputeECDHSharedSecret(const CPubKey& sender_public_key, const std::vector<COutPoint>& tx_outpoints)\n+{\n+    const auto& outpoint_hash = HashOutpoints(tx_outpoints);\n+    auto tweaked_scan_seckey = m_scan_seckey.MultiplyTweak(outpoint_hash.begin());\n+    CPubKey result = tweaked_scan_seckey.SilentPaymentECDH(sender_public_key);\n+\n+    m_ecdh_pubkey = result;\n+    assert(m_ecdh_pubkey.IsValid());\n+}\n+\n+std::pair<CKey,CPubKey> Recipient::CreateOutput(const uint32_t output_index) const\n+{\n+    HashWriter h;\n+    h.write(Span{m_ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    uint256 shared_secret = h.GetSHA256();\n+\n+    const auto& result_pubkey{m_spend_pubkey.AddTweak(shared_secret.begin())};\n+    const auto& result_seckey{m_spend_seckey.AddTweak(shared_secret.begin())};\n+\n+    return {result_seckey, result_pubkey};\n+}\n+\n+std::pair<CPubKey,CPubKey> Recipient::GetAddress() const\n+{\n+    return {m_scan_pubkey, m_spend_pubkey};\n+}\n+\n+std::vector<CKey> Recipient::ScanTxOutputs(std::vector<XOnlyPubKey> output_pub_keys)",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "8be91169396a560bfc4a4e8b34a242111704f8e9",
      "in_reply_to_id": 1286935217,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Leaving this alone for now. This can be easily updated to add label support when it makes sense.",
      "created_at": "2023-08-31T13:10:12Z",
      "updated_at": "2023-08-31T13:10:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1311605823",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1311605823"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 51,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321403963",
      "pull_request_review_id": 1619765249,
      "id": 1321403963,
      "node_id": "PRRC_kwDOABII585OwwY7",
      "diff_hunk": "@@ -211,6 +211,12 @@ class CPubKey\n      */\n     static bool CheckLowS(const std::vector<unsigned char>& vchSig);\n \n+    //! Add a number of public keys together.\n+    static CPubKey Combine(std::vector<CPubKey> pubkeys);",
      "path": "src/pubkey.h",
      "position": null,
      "original_position": 5,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "dc18efa78d014be0a09e4c986813086e56c251a3",
      "in_reply_to_id": 1276883646,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Fixed, and made pass by reference.",
      "created_at": "2023-09-11T11:32:02Z",
      "updated_at": "2023-09-11T11:32:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321403963",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321403963"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 215,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321641488",
      "pull_request_review_id": 1620147641,
      "id": 1321641488,
      "node_id": "PRRC_kwDOABII585OxqYQ",
      "diff_hunk": "@@ -309,3 +311,51 @@ bool IsValidDestinationString(const std::string& str)\n {\n     return IsValidDestinationString(str, Params());\n }\n+\n+std::pair<CPubKey, CPubKey> DecodeSilentData(const std::vector<unsigned char>& data)\n+{\n+\n+    std::vector<unsigned char> scan_pubkey_data(data.begin(), data.begin() + 33);\n+    CPubKey scan_pubkey{scan_pubkey_data};\n+\n+    std::vector<unsigned char> spend_pubkey_data(data.begin() + 33, data.end());\n+    CPubKey spend_pubkey{spend_pubkey_data};\n+\n+    return {scan_pubkey, spend_pubkey};\n+}\n+\n+std::vector<unsigned char> DecodeSilentAddress(const std::string& str)\n+{\n+    const auto& params{Params()};\n+    const auto& silent_payment_hrp = params.SilentPaymentHRP();\n+    const auto dec = bech32::Decode(str, /*silent=*/true);\n+    if (dec.encoding != bech32::Encoding::BECH32M || dec.hrp != silent_payment_hrp) {\n+        return {};\n+    }\n+    auto version = dec.data.front();  // retrieve the version\n+    std::vector<unsigned char> silent_payment_data;\n+    silent_payment_data.reserve(((dec.data.size() - 1) * 5) / 8);\n+    if (!ConvertBits<5, 8, false>([&](unsigned char c) { silent_payment_data.push_back(c); }, dec.data.begin() + 1, dec.data.end())) {\n+        return {};\n+    }\n+    if ((version == 0 && silent_payment_data.size() != SILENT_PAYMENT_V0_DATA_SIZE) || silent_payment_data.size() < SILENT_PAYMENT_V0_DATA_SIZE) return {};",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "8ee791e7b34a354ce6835b968fe12924b8908d7c",
      "in_reply_to_id": 1284001548,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Took a look at `EvalCheckSig` and while I think this is a good idea in general, I'd prefer to leave it as a follow-up for now. My reasoning here is we currently only have a `v0` silent payments version and I'd like to keep the code simple and focused on the `V0` rules. As a follow-up, or when we add support for a future `v1` version is likely a better time to introduce more complex code for handling multiple versions.",
      "created_at": "2023-09-11T14:26:18Z",
      "updated_at": "2023-09-11T14:26:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321641488",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321641488"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 341,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321641794",
      "pull_request_review_id": 1620148126,
      "id": 1321641794,
      "node_id": "PRRC_kwDOABII585OxqdC",
      "diff_hunk": "@@ -309,3 +311,33 @@ bool IsValidDestinationString(const std::string& str)\n {\n     return IsValidDestinationString(str, Params());\n }\n+\n+std::pair<CPubKey, CPubKey> DecodeSilentData(const std::vector<unsigned char>& data)\n+{\n+\n+    std::vector<unsigned char> scan_pubkey_data(data.begin(), data.begin() + 33);\n+    CPubKey scan_pubkey{scan_pubkey_data};\n+\n+    std::vector<unsigned char> spend_pubkey_data(data.begin() + 33, data.end());",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "37b0ca1c3d753cc61e0debf8ea59160bdf4127ec",
      "in_reply_to_id": 1287398956,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2023-09-11T14:26:31Z",
      "updated_at": "2023-09-11T14:26:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321641794",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321641794"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 321,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321645565",
      "pull_request_review_id": 1620154281,
      "id": 1321645565,
      "node_id": "PRRC_kwDOABII585OxrX9",
      "diff_hunk": "@@ -309,3 +311,33 @@ bool IsValidDestinationString(const std::string& str)\n {\n     return IsValidDestinationString(str, Params());\n }\n+\n+std::pair<CPubKey, CPubKey> DecodeSilentData(const std::vector<unsigned char>& data)\n+{\n+\n+    std::vector<unsigned char> scan_pubkey_data(data.begin(), data.begin() + 33);\n+    CPubKey scan_pubkey{scan_pubkey_data};\n+\n+    std::vector<unsigned char> spend_pubkey_data(data.begin() + 33, data.end());\n+    CPubKey spend_pubkey{spend_pubkey_data};\n+\n+    return {scan_pubkey, spend_pubkey};\n+}\n+\n+std::vector<unsigned char> DecodeSilentAddress(const std::string& str)\n+{\n+    const auto& params{Params()};\n+    const auto& silent_payment_hrp = params.SilentPaymentHRP();\n+    const auto dec = bech32::Decode(str, /*silent=*/true);\n+    if (dec.encoding != bech32::Encoding::BECH32M || dec.hrp != silent_payment_hrp) {\n+        return {};\n+    }\n+    auto version = dec.data.front();  // retrieve the version\n+    std::vector<unsigned char> silent_payment_data;\n+    silent_payment_data.reserve(((dec.data.size() - 1) * 5) / 8);\n+    if (!ConvertBits<5, 8, false>([&](unsigned char c) { silent_payment_data.push_back(c); }, dec.data.begin() + 1, dec.data.end())) {\n+        return {};\n+    }\n+    if ((version == 0 && silent_payment_data.size() != SILENT_PAYMENT_V0_DATA_SIZE) || silent_payment_data.size() < SILENT_PAYMENT_V0_DATA_SIZE) return {};",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 40,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "37b0ca1c3d753cc61e0debf8ea59160bdf4127ec",
      "in_reply_to_id": 1287401010,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think this should fail if an address says it is v0 but has a data part larger than what is defined for v0. If an address has a version > v0 and data part > V0_SIZE, then only the _first_ 66 bytes of the data part are read, which is what we want for the forward compatibility bit.",
      "created_at": "2023-09-11T14:29:15Z",
      "updated_at": "2023-09-11T14:29:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321645565",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321645565"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 341,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321654643",
      "pull_request_review_id": 1620168845,
      "id": 1321654643,
      "node_id": "PRRC_kwDOABII585Oxtlz",
      "diff_hunk": "@@ -341,3 +341,21 @@ std::vector<unsigned char> DecodeSilentAddress(const std::string& str)\n     if ((version == 0 && silent_payment_data.size() != SILENT_PAYMENT_V0_DATA_SIZE) || silent_payment_data.size() < SILENT_PAYMENT_V0_DATA_SIZE) return {};\n     return silent_payment_data;\n }\n+\n+std::string EncodeSilentDestination(const CPubKey& scan_pubkey, const CPubKey& spend_pubkey)\n+{",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "328951d056e939b6db573043fc71d8bd6ae68dff",
      "in_reply_to_id": 1287404315,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This now uses the `src/key_io.cpp::Encode` function, which takes a `V0SilentPaymentDestination` object, so should be good. If we do want an assert, we can/should do it when creating the `V0SilentPaymentDestination` object",
      "created_at": "2023-09-11T14:35:53Z",
      "updated_at": "2023-09-11T14:35:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321654643",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321654643"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 346,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321657422",
      "pull_request_review_id": 1620173236,
      "id": 1321657422,
      "node_id": "PRRC_kwDOABII585OxuRO",
      "diff_hunk": "@@ -341,3 +341,21 @@ std::vector<unsigned char> DecodeSilentAddress(const std::string& str)\n     if ((version == 0 && silent_payment_data.size() != SILENT_PAYMENT_V0_DATA_SIZE) || silent_payment_data.size() < SILENT_PAYMENT_V0_DATA_SIZE) return {};\n     return silent_payment_data;\n }\n+\n+std::string EncodeSilentDestination(const CPubKey& scan_pubkey, const CPubKey& spend_pubkey)\n+{\n+    // The data_in is scan_pubkey + spend_pubkey\n+    std::vector<unsigned char> data_in = {};\n+    // Set 0 as the silent payments version\n+    std::vector<unsigned char> data_out = {0};\n+\n+    data_in.insert(data_in.end(), scan_pubkey.begin(), scan_pubkey.end());\n+    data_in.insert(data_in.end(), spend_pubkey.begin(), spend_pubkey.end());\n+\n+    ConvertBits<8, 5, true>([&](unsigned char c) { data_out.push_back(c); }, data_in.begin(), data_in.end());",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "328951d056e939b6db573043fc71d8bd6ae68dff",
      "in_reply_to_id": 1287404996,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Not totally convinced we do want to wrap this in a helper function, but perhaps that can be a follow-up looking at how we handle bech32 across WitnessV0, WitnessV1 and V0SilentPaymentsDestinations",
      "created_at": "2023-09-11T14:37:56Z",
      "updated_at": "2023-09-11T14:37:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321657422",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321657422"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 355,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321658984",
      "pull_request_review_id": 1620175724,
      "id": 1321658984,
      "node_id": "PRRC_kwDOABII585Oxupo",
      "diff_hunk": "@@ -172,6 +174,79 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+CKey CKey::AddTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);\n+\n+    int ret = secp256k1_ec_seckey_tweak_add(secp256k1_context_sign, tweaked_seckey, tweak32);\n+    assert(ret);\n+\n+    CKey new_seckey;\n+    new_seckey.Set(std::begin(tweaked_seckey), std::end(tweaked_seckey), true);\n+\n+    return new_seckey;\n+}\n+\n+CKey CKey::MultiplyTweak(const unsigned char *tweak32) const\n+{\n+    assert(fValid);\n+\n+    unsigned char tweaked_seckey[32];\n+    memcpy(tweaked_seckey, data(), 32);\n+\n+    int ret = secp256k1_ec_seckey_tweak_mul(secp256k1_context_sign, tweaked_seckey, tweak32);\n+    assert(ret);\n+\n+    CKey new_seckey;\n+    new_seckey.Set(std::begin(tweaked_seckey), std::end(tweaked_seckey), true);\n+\n+    return new_seckey;\n+}\n+\n+// we dont want to hash the output of ECDH yet, so we provide a custom hash function to secp256k1_ecdh which\n+// returns the serialized public key without hashing it\n+int custom_ecdh_hash_function(unsigned char *output, const unsigned char *x32, const unsigned char *y32, void *data) {",
      "path": "src/key.cpp",
      "position": null,
      "original_position": 54,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "8b1b1d0e8d5f87919695f9b3f08ab4a5ab739463",
      "in_reply_to_id": 1295130079,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This has been re-written so there is no longer a stand-alone function, but also yes, I think this could be upstreamed into libsecp256k1 at some point.",
      "created_at": "2023-09-11T14:39:04Z",
      "updated_at": "2023-09-11T14:39:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321658984",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321658984"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 211,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321660071",
      "pull_request_review_id": 1620177378,
      "id": 1321660071,
      "node_id": "PRRC_kwDOABII585Oxu6n",
      "diff_hunk": "@@ -370,11 +370,13 @@ std::string Encode(Encoding encoding, const std::string& hrp, const data& values\n }\n \n /** Decode a Bech32 or Bech32m string. */\n-DecodeResult Decode(const std::string& str) {\n+DecodeResult Decode(const std::string& str, bool silent) {\n+    std::size_t max_size = silent ? 1024 : 90;",
      "path": "src/bech32.cpp",
      "position": null,
      "original_position": 6,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "cca58b809ce7b394ec69f1d59f829a8057722da7",
      "in_reply_to_id": 1295134019,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This has been re-written to use a character limit enum.",
      "created_at": "2023-09-11T14:39:49Z",
      "updated_at": "2023-09-11T14:39:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321660071",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321660071"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 374,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321666523",
      "pull_request_review_id": 1620187974,
      "id": 1321666523,
      "node_id": "PRRC_kwDOABII585Oxwfb",
      "diff_hunk": "@@ -508,6 +511,7 @@ class CRegTestParams : public CChainParams\n         base58Prefixes[EXT_SECRET_KEY] = {0x04, 0x35, 0x83, 0x94};\n \n         bech32_hrp = \"bcrt\";\n+        silent_payment_hrp = \"sprt\";",
      "path": "src/kernel/chainparams.cpp",
      "position": 36,
      "original_position": 28,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "13e6c7b5444af103bb612cd503c50915d8d41015",
      "in_reply_to_id": 1282093736,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In the interest of keeping this PR well scoped, I think we should go for consistency. Since silent payment addresses are bech32m encoded, we should follow the convention _currently_ used for bech32(m), and if we do decided to change the convention for bech32(m) hrp's in the future, then it should change for all of them (including silent payments)",
      "created_at": "2023-09-11T14:44:38Z",
      "updated_at": "2023-09-11T14:44:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321666523",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321666523"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 622,
      "original_line": 622,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321926230",
      "pull_request_review_id": 1620593539,
      "id": 1321926230,
      "node_id": "PRRC_kwDOABII585Oyv5W",
      "diff_hunk": "@@ -256,6 +259,22 @@ std::optional<std::pair<XOnlyPubKey, bool>> XOnlyPubKey::CreateTapTweak(const ui\n     return ret;\n }\n \n+CPubKey CPubKey::TweakAdd(const unsigned char *tweak32) const\n+{\n+    secp256k1_pubkey original_pubkey;\n+    int return_val = secp256k1_ec_pubkey_parse(secp256k1_context_static, &original_pubkey, data(), size());\n+    assert(return_val);\n+\n+    return_val = secp256k1_ec_pubkey_tweak_add(secp256k1_context_static, &original_pubkey, tweak32);\n+    assert(return_val);\n+\n+    unsigned char pubkey_bytes[COMPRESSED_SIZE];\n+    size_t publen = COMPRESSED_SIZE;\n+    return_val = secp256k1_ec_pubkey_serialize(secp256k1_context_static, pubkey_bytes, &publen, &original_pubkey, SECP256K1_EC_COMPRESSED);\n+    assert(return_val);\n+\n+    return CPubKey(pubkey_bytes);",
      "path": "src/pubkey.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "7b9f48450738c42d934280881d9ff2dfb5419725",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 7b9f48450738c42d934280881d9ff2dfb5419725 \"crypto: update CKey, CPubkey for silent payments\"\r\n\r\nCurrently `CKey::TweakAdd` modifies in place, while `CPubKey::TweakAdd` returns a new `CPubKey`. This can be confusing as I would expect these functions to do the same things to their respective objects rather than behave slightly differently.",
      "created_at": "2023-09-11T18:36:57Z",
      "updated_at": "2023-09-11T19:37:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321926230",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321926230"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 276,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321932172",
      "pull_request_review_id": 1620593539,
      "id": 1321932172,
      "node_id": "PRRC_kwDOABII585OyxWM",
      "diff_hunk": "@@ -127,12 +146,29 @@ CTxDestination DecodeDestination(const std::string& str, const CChainParams& par\n     }\n \n     data.clear();\n-    const auto dec = bech32::Decode(str);\n+    const auto dec = bech32::Decode(str, is_silent_payment ? bech32::CharLimit::SILENT_PAYMENTS : bech32::CharLimit::SEGWIT);\n     if (dec.encoding == bech32::Encoding::BECH32 || dec.encoding == bech32::Encoding::BECH32M) {\n         if (dec.data.empty()) {\n             error_str = \"Empty Bech32 data section\";\n             return CNoDestination();\n         }\n+        if (is_silent_payment) {\n+            if (!ConvertBits<5, 8, false>([&](unsigned char c) { data.push_back(c); }, dec.data.begin() + 1, dec.data.end())) {\n+                return CNoDestination();\n+            }\n+            if (data.size() < SILENT_PAYMENT_V0_DATA_SIZE) {\n+                error_str = strprintf(\"Silent payment data payload is too small (expected at least %d, got %d).\", SILENT_PAYMENT_V0_DATA_SIZE, data.size());\n+                return CNoDestination();\n+            }\n+            auto version = dec.data[0];  // retrieve the version\n+            if (version == 0 && data.size() != SILENT_PAYMENT_V0_DATA_SIZE) {\n+                error_str = strprintf(\"Silent payment version is v0 but data is not the correct size (expected %d, got %d).\", SILENT_PAYMENT_V0_DATA_SIZE, data.size());\n+                return CNoDestination();\n+            }",
      "path": "src/key_io.cpp",
      "position": 71,
      "original_position": 65,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "3235eb8c63ea055c68fdf59bb20afd6f06f294e4",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 3235eb8c63ea055c68fdf59bb20afd6f06f294e4 \"Add V0SilentPaymentDestination address type\"\r\n\r\nWhat about unknown versions?",
      "created_at": "2023-09-11T18:43:09Z",
      "updated_at": "2023-09-11T19:37:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321932172",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321932172"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": 171,
      "original_start_line": 164,
      "start_side": "RIGHT",
      "line": 174,
      "original_line": 174,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321935455",
      "pull_request_review_id": 1620593539,
      "id": 1321935455,
      "node_id": "PRRC_kwDOABII585OyyJf",
      "diff_hunk": "@@ -64,6 +66,21 @@ class DestinationEncoder\n         return bech32::Encode(bech32::Encoding::BECH32M, m_params.Bech32HRP(), data);\n     }\n \n+    std::string operator()(const V0SilentPaymentDestination& sp) const\n+    {\n+        // The data_in is scan_pubkey + spend_pubkey\n+        std::vector<unsigned char> data_in = {};\n+        data_in.reserve(66);\n+        // Set 0 as the silent payments version\n+        std::vector<unsigned char> data_out = {0};\n+        data_out.reserve(67);",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "3235eb8c63ea055c68fdf59bb20afd6f06f294e4",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 3235eb8c63ea055c68fdf59bb20afd6f06f294e4 \"Add V0SilentPaymentDestination address type\"\r\n\r\n`data_out` contains result of `ConvertBits` which expands each 8-bit byte into 5-bit chunks. So the expected size is `67 * 8 / 5 = 107.2`. So `data_out` should be reserving 108 bytes rather than 67.",
      "created_at": "2023-09-11T18:46:42Z",
      "updated_at": "2023-09-11T19:37:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321935455",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321935455"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 76,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321964059",
      "pull_request_review_id": 1620593539,
      "id": 1321964059,
      "node_id": "PRRC_kwDOABII585Oy5Ib",
      "diff_hunk": "@@ -0,0 +1,210 @@\n+#include <wallet/silentpayments.h>\n+#include <addresstype.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+#include <pubkey.h>\n+#include <policy/policy.h>\n+#include <script/solver.h>\n+#include <util/check.h>\n+#include <wallet/wallet.h>\n+\n+namespace wallet {\n+\n+CPubKey ComputeECDHSharedSecret(const CKey& scan_key, const CPubKey& sender_public_key, const uint256& outpoints_hash)\n+{\n+    auto tweaked_scan_seckey{scan_key};\n+    tweaked_scan_seckey.TweakMultiply(outpoints_hash.begin());\n+    CPubKey result = tweaked_scan_seckey.UnhashedECDH(sender_public_key);\n+    assert(result.IsValid());\n+    return result;\n+}\n+\n+uint256 ComputeTweak(const CPubKey& ecdh_pubkey, const uint32_t output_index)\n+{\n+    HashWriter h;\n+    h.write(Span{ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    return h.GetSHA256();\n+}\n+\n+std::vector<uint256> GetTxOutputTweaks(const CPubKey& spend_pubkey, const CPubKey& ecdh_pubkey, std::vector<XOnlyPubKey> output_pub_keys)\n+{\n+    // Because a sender can create multiple outputs for us, we first check the outputs vector for an output with\n+    // output index 0. If we find it, we remove it from the vector and then iterate over the vector again looking for\n+    // an output with index 1, and so on until one of the following happens:\n+    //\n+    //     1. We have determined all outputs belong to us (the vector is empty)\n+    //     2. We have passed over the vector and found no outputs belonging to us\n+    //\n+\n+    bool removed;\n+    uint32_t output_index{0};\n+    std::vector<uint256> tweaks;\n+    do {\n+        // We haven't removed anything yet on this pass and if we don't remove anything, we didn't find\n+        // any silent payment outputs and should stop checking\n+        removed = false;\n+        uint256 tweak = ComputeTweak(ecdh_pubkey, output_index);\n+        CPubKey computed_sp_pubkey = spend_pubkey.TweakAdd(tweak.data());\n+        const XOnlyPubKey& sp_pubkey = XOnlyPubKey{computed_sp_pubkey};\n+        //const CKey& silent_payment_priv_key = tweakResult.first;\n+        output_pub_keys.erase(std::remove_if(output_pub_keys.begin(), output_pub_keys.end(), [&](auto output_pubkey) {\n+            if (sp_pubkey == output_pubkey) {\n+                // Since we found an output, we need to increment the output index and check the vector again\n+                tweaks.emplace_back(tweak);\n+                removed = true;\n+                output_index++;\n+                // Return true so that this output pubkey is removed the from vector and not checked again\n+                return true;\n+            }\n+            return false;\n+        }), output_pub_keys.end());\n+    } while (!output_pub_keys.empty() && removed);\n+    return tweaks;\n+}\n+\n+std::optional<std::pair<uint256, CPubKey>> GetSilentPaymentsTweakDataFromTxInputs(const std::vector<CTxIn>& vin, const std::map<COutPoint, Coin>& coins)\n+{\n+\n+    // Extract the keys from the inputs\n+    // or skip if no valid inputs\n+    std::vector<CPubKey> input_pubkeys;\n+    std::vector<COutPoint> input_outpoints;\n+    for (const CTxIn& txin : vin) {\n+        const Coin& coin = coins.at(txin.prevout);\n+        Assert(!coin.IsSpent());\n+        input_outpoints.emplace_back(txin.prevout);\n+\n+        std::vector<std::vector<unsigned char>> solutions;\n+        TxoutType type = Solver(coin.out.scriptPubKey, solutions);\n+        if (type == TxoutType::WITNESS_V1_TAPROOT) {\n+            // Check for H point in script path spend\n+            if (txin.scriptWitness.stack.size() > 1) {\n+                // Check for annex\n+                bool has_annex = txin.scriptWitness.stack.back()[0] == ANNEX_TAG;\n+                size_t post_annex_size = txin.scriptWitness.stack.size() - (has_annex ? 1 : 0);\n+                if (post_annex_size > 1) {\n+                    // Actually a script path spend\n+                    const std::vector<unsigned char>& control = txin.scriptWitness.stack.back();",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 95,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "644ff77be819a2dea15be0daad10fca8524a18f4",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 644ff77be819a2dea15be0daad10fca8524a18f4 \"Implement BIP352: Silent Payments\"\r\n\r\nSince we aren't modifying `txin.scriptWitness.stack` after checking for the annex, this may not actually be the control block. We need to remove the annex if it was there.\r\n\r\n```suggestion\r\n                    const std::vector<unsigned char>& control = txin.scriptWitness.stack.at(post_annex_size - 1);\r\n```",
      "created_at": "2023-09-11T19:04:21Z",
      "updated_at": "2023-09-11T19:37:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321964059",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321964059"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 95,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321966435",
      "pull_request_review_id": 1620593539,
      "id": 1321966435,
      "node_id": "PRRC_kwDOABII585Oy5tj",
      "diff_hunk": "@@ -0,0 +1,20 @@\n+#ifndef BITCOIN_WALLET_SILENTPAYMENTS_H\n+#define BITCOIN_WALLET_SILENTPAYMENTS_H\n+\n+#include <addresstype.h>\n+#include <coins.h>\n+#include <key_io.h>\n+#include <undo.h>\n+\n+namespace wallet {\n+CPubKey ComputeECDHSharedSecret(const CKey& scan_key, const CPubKey& sender_public_key, const uint256& outpoints_hash);\n+uint256 ComputeTweak(const CPubKey& ecdh_pubkey, const uint32_t output_index);\n+std::vector<uint256> GetTxOutputTweaks(const CPubKey& spend_pubkey, const CPubKey& ecdh_pubkey, std::vector<XOnlyPubKey> output_pub_keys);\n+std::optional<std::pair<uint256, CPubKey>> GetSilentPaymentsTweakDataFromTxInputs(const std::vector<CTxIn>& vin, const std::map<COutPoint, Coin>& coins);\n+\n+CPubKey CreateOutput(const CKey& ecdh_scalar, const CPubKey& scan_pubkey, const CPubKey& spend_pubkey, const uint32_t output_index);\n+uint256 HashOutpoints(const std::vector<COutPoint>& tx_outpoints);\n+std::map<size_t, WitnessV1Taproot> GenerateSilentPaymentTaprootDestinations(const CKey& ecdh_scalar, const std::map<size_t, V0SilentPaymentDestination>& sp_dests);\n+CKey PrepareScalarECDHInput(const std::vector<std::pair<CKey, bool>>& sender_secret_keys, const std::vector<COutPoint>& tx_outpoints);",
      "path": "src/wallet/silentpayments.h",
      "position": null,
      "original_position": 18,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "644ff77be819a2dea15be0daad10fca8524a18f4",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 644ff77be819a2dea15be0daad10fca8524a18f4 \"Implement BIP352: Silent Payments\"\r\n\r\nIt would be nice to have some documentation for these functions.",
      "created_at": "2023-09-11T19:07:12Z",
      "updated_at": "2023-09-11T19:37:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321966435",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321966435"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 10,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321983071",
      "pull_request_review_id": 1620593539,
      "id": 1321983071,
      "node_id": "PRRC_kwDOABII585Oy9xf",
      "diff_hunk": "@@ -0,0 +1,210 @@\n+#include <wallet/silentpayments.h>\n+#include <addresstype.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+#include <pubkey.h>\n+#include <policy/policy.h>\n+#include <script/solver.h>\n+#include <util/check.h>\n+#include <wallet/wallet.h>",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "644ff77be819a2dea15be0daad10fca8524a18f4",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 644ff77be819a2dea15be0daad10fca8524a18f4 \"Implement BIP352: Silent Payments\"\r\n\r\n`wallet/wallet.h` does not need to be included.",
      "created_at": "2023-09-11T19:26:11Z",
      "updated_at": "2023-09-11T19:37:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321983071",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321983071"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 14,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321986126",
      "pull_request_review_id": 1620593539,
      "id": 1321986126,
      "node_id": "PRRC_kwDOABII585Oy-hO",
      "diff_hunk": "@@ -0,0 +1,161 @@\n+#include <wallet/silentpayments.h>\n+#include <test/data/bip352_send_and_receive_vectors.json.h>\n+\n+#include <test/util/setup_common.h>\n+#include <hash.h>\n+\n+#include <boost/test/unit_test.hpp>\n+#include <test/util/json.h>\n+#include <vector>\n+#include <util/bip32.h>\n+#include <wallet/wallet.h>\n+\n+namespace wallet {\n+BOOST_FIXTURE_TEST_SUITE(silentpayment_tests, BasicTestingSetup)\n+\n+CKey ParseHexToCKey(std::string hex) {\n+    CKey output;\n+    auto hex_data = ParseHex(hex);\n+    output.Set(hex_data.begin(), hex_data.end(), true);\n+    return output;\n+};\n+\n+CKey GetKeyFromBIP32Path(std::vector<std::byte> seed, std::vector<uint32_t> path)\n+{\n+    CExtKey key_parent, key_child;\n+    key_parent.SetSeed(seed);\n+    for (auto index : path) {\n+        BOOST_CHECK(key_parent.Derive(key_child, index));\n+        std::swap(key_parent, key_child);\n+    }\n+    return key_parent.key;\n+}\n+\n+BOOST_AUTO_TEST_CASE(bip352_send_and_receive_test_vectors)\n+{\n+    UniValue tests;\n+    tests.read(json_tests::bip352_send_and_receive_vectors);\n+\n+    for (const auto& vec : tests.getValues()) {\n+        // run sending tests\n+        BOOST_TEST_MESSAGE(vec[\"comment\"].get_str());\n+        for (const auto& sender : vec[\"sending\"].getValues()) {\n+            const auto& given = sender[\"given\"];\n+            const auto& expected = sender[\"expected\"];\n+\n+            std::vector<COutPoint> outpoints;\n+            for (const auto& outpoint : sender[\"given\"][\"outpoints\"].getValues()) {",
      "path": "src/wallet/test/silentpayment_tests.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 78d1426fabd7b5b6cdd28de508a1692fce291174 \"Add BIP352 test vectors as unit tests\"\r\n\r\nnit: `s/sender[\"given\"]/given`\r\n\r\n```suggestion\r\n            for (const auto& outpoint : given[\"outpoints\"].getValues()) {\r\n```",
      "created_at": "2023-09-11T19:29:45Z",
      "updated_at": "2023-09-11T19:37:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321986126",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321986126"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321988533",
      "pull_request_review_id": 1620593539,
      "id": 1321988533,
      "node_id": "PRRC_kwDOABII585Oy_G1",
      "diff_hunk": "@@ -0,0 +1,161 @@\n+#include <wallet/silentpayments.h>\n+#include <test/data/bip352_send_and_receive_vectors.json.h>\n+\n+#include <test/util/setup_common.h>\n+#include <hash.h>\n+\n+#include <boost/test/unit_test.hpp>\n+#include <test/util/json.h>\n+#include <vector>\n+#include <util/bip32.h>\n+#include <wallet/wallet.h>\n+\n+namespace wallet {\n+BOOST_FIXTURE_TEST_SUITE(silentpayment_tests, BasicTestingSetup)\n+\n+CKey ParseHexToCKey(std::string hex) {\n+    CKey output;\n+    auto hex_data = ParseHex(hex);\n+    output.Set(hex_data.begin(), hex_data.end(), true);\n+    return output;\n+};\n+\n+CKey GetKeyFromBIP32Path(std::vector<std::byte> seed, std::vector<uint32_t> path)\n+{\n+    CExtKey key_parent, key_child;\n+    key_parent.SetSeed(seed);\n+    for (auto index : path) {\n+        BOOST_CHECK(key_parent.Derive(key_child, index));\n+        std::swap(key_parent, key_child);\n+    }\n+    return key_parent.key;\n+}\n+\n+BOOST_AUTO_TEST_CASE(bip352_send_and_receive_test_vectors)\n+{\n+    UniValue tests;\n+    tests.read(json_tests::bip352_send_and_receive_vectors);\n+\n+    for (const auto& vec : tests.getValues()) {\n+        // run sending tests\n+        BOOST_TEST_MESSAGE(vec[\"comment\"].get_str());\n+        for (const auto& sender : vec[\"sending\"].getValues()) {\n+            const auto& given = sender[\"given\"];\n+            const auto& expected = sender[\"expected\"];\n+\n+            std::vector<COutPoint> outpoints;\n+            for (const auto& outpoint : sender[\"given\"][\"outpoints\"].getValues()) {\n+                outpoints.emplace_back(uint256S(outpoint[0].get_str()), outpoint[1].getInt<uint32_t>());\n+            }\n+\n+            std::vector<std::pair<CKey, bool>> sender_secret_keys;\n+            for (const auto& key : given[\"input_priv_keys\"].getValues()) {\n+                sender_secret_keys.emplace_back(ParseHexToCKey(key[0].get_str()), key[1].get_bool());\n+            }\n+            std::vector<CRecipient> silent_payment_addresses;\n+            for (const auto& recipient : given[\"recipients\"].getValues()) {\n+                std::string silent_payment_address = recipient[0].get_str();\n+                CAmount amount = recipient[1].get_real() * COIN;\n+                const auto& sp = DecodeDestination(silent_payment_address);\n+                silent_payment_addresses.push_back(CRecipient{sp, amount, false});\n+            }\n+\n+            // silent payments logic\n+            CKey scalar_ecdh_input = PrepareScalarECDHInput(sender_secret_keys, outpoints);\n+\n+            std::map<size_t, V0SilentPaymentDestination> sp_dests;\n+            for (size_t i = 0; i < silent_payment_addresses.size(); ++i) {\n+                if (const auto* sp = std::get_if<V0SilentPaymentDestination>(&silent_payment_addresses.at(i).dest)) {\n+                    sp_dests[i] = *sp;\n+                }\n+            }\n+            std::map<size_t, WitnessV1Taproot> sp_tr_dests = GenerateSilentPaymentTaprootDestinations(scalar_ecdh_input, sp_dests);\n+\n+            for (const auto& [out_idx, tr_dest] : sp_tr_dests) {\n+                assert(out_idx < silent_payment_addresses.size());\n+                silent_payment_addresses[out_idx].dest = tr_dest;\n+            }\n+\n+            std::vector<CRecipient> expected_spks;\n+            for (const auto& recipient : expected[\"outputs\"].getValues()) {\n+                std::string pubkey_hex = recipient[0].get_str();\n+                CAmount amount = recipient[1].get_real() * COIN;\n+                auto tap = WitnessV1Taproot(XOnlyPubKey(ParseHex(pubkey_hex)));\n+                expected_spks.push_back(CRecipient{tap, amount, false});\n+            }\n+\n+            BOOST_CHECK(silent_payment_addresses.size() == expected_spks.size());\n+            for (const auto& spk : silent_payment_addresses) {\n+                BOOST_CHECK(std::find(expected_spks.begin(), expected_spks.end(), spk) != expected_spks.end());\n+            }\n+        }\n+\n+        // Test receiving\n+        for (const auto& recipient : vec[\"receiving\"].getValues()) {\n+            // TODO: implement labels for Bitcoin Core, until then skip the receiving with labels tests\n+            if (recipient[\"supports_labels\"].get_bool()) {\n+                BOOST_TEST_MESSAGE(\"Labels not implemented; skipping..\");\n+                continue;\n+            }\n+\n+            const auto& given = recipient[\"given\"];\n+            const auto& expected = recipient[\"expected\"];\n+\n+            std::vector<COutPoint> outpoints;\n+            for (const auto& outpoint : recipient[\"given\"][\"outpoints\"].getValues()) {",
      "path": "src/wallet/test/silentpayment_tests.cpp",
      "position": null,
      "original_position": 105,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 78d1426fabd7b5b6cdd28de508a1692fce291174 \"Add BIP352 test vectors as unit tests\"\r\n\r\nnit: `s/recipient[\"given\"]/given`\r\n\r\n```suggestion\r\n            for (const auto& outpoint : given[\"outpoints\"].getValues()) {\r\n````",
      "created_at": "2023-09-11T19:32:24Z",
      "updated_at": "2023-09-11T19:37:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321988533",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321988533"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 105,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321990230",
      "pull_request_review_id": 1620593539,
      "id": 1321990230,
      "node_id": "PRRC_kwDOABII585Oy_hW",
      "diff_hunk": "@@ -0,0 +1,161 @@\n+#include <wallet/silentpayments.h>\n+#include <test/data/bip352_send_and_receive_vectors.json.h>\n+\n+#include <test/util/setup_common.h>\n+#include <hash.h>\n+\n+#include <boost/test/unit_test.hpp>\n+#include <test/util/json.h>\n+#include <vector>\n+#include <util/bip32.h>\n+#include <wallet/wallet.h>\n+\n+namespace wallet {\n+BOOST_FIXTURE_TEST_SUITE(silentpayment_tests, BasicTestingSetup)\n+\n+CKey ParseHexToCKey(std::string hex) {\n+    CKey output;\n+    auto hex_data = ParseHex(hex);\n+    output.Set(hex_data.begin(), hex_data.end(), true);\n+    return output;\n+};\n+\n+CKey GetKeyFromBIP32Path(std::vector<std::byte> seed, std::vector<uint32_t> path)\n+{\n+    CExtKey key_parent, key_child;\n+    key_parent.SetSeed(seed);\n+    for (auto index : path) {\n+        BOOST_CHECK(key_parent.Derive(key_child, index));\n+        std::swap(key_parent, key_child);\n+    }\n+    return key_parent.key;\n+}\n+\n+BOOST_AUTO_TEST_CASE(bip352_send_and_receive_test_vectors)\n+{\n+    UniValue tests;\n+    tests.read(json_tests::bip352_send_and_receive_vectors);\n+\n+    for (const auto& vec : tests.getValues()) {\n+        // run sending tests\n+        BOOST_TEST_MESSAGE(vec[\"comment\"].get_str());\n+        for (const auto& sender : vec[\"sending\"].getValues()) {\n+            const auto& given = sender[\"given\"];\n+            const auto& expected = sender[\"expected\"];\n+\n+            std::vector<COutPoint> outpoints;\n+            for (const auto& outpoint : sender[\"given\"][\"outpoints\"].getValues()) {\n+                outpoints.emplace_back(uint256S(outpoint[0].get_str()), outpoint[1].getInt<uint32_t>());\n+            }\n+\n+            std::vector<std::pair<CKey, bool>> sender_secret_keys;\n+            for (const auto& key : given[\"input_priv_keys\"].getValues()) {\n+                sender_secret_keys.emplace_back(ParseHexToCKey(key[0].get_str()), key[1].get_bool());\n+            }\n+            std::vector<CRecipient> silent_payment_addresses;\n+            for (const auto& recipient : given[\"recipients\"].getValues()) {\n+                std::string silent_payment_address = recipient[0].get_str();\n+                CAmount amount = recipient[1].get_real() * COIN;\n+                const auto& sp = DecodeDestination(silent_payment_address);\n+                silent_payment_addresses.push_back(CRecipient{sp, amount, false});\n+            }\n+\n+            // silent payments logic\n+            CKey scalar_ecdh_input = PrepareScalarECDHInput(sender_secret_keys, outpoints);\n+\n+            std::map<size_t, V0SilentPaymentDestination> sp_dests;\n+            for (size_t i = 0; i < silent_payment_addresses.size(); ++i) {\n+                if (const auto* sp = std::get_if<V0SilentPaymentDestination>(&silent_payment_addresses.at(i).dest)) {\n+                    sp_dests[i] = *sp;\n+                }\n+            }\n+            std::map<size_t, WitnessV1Taproot> sp_tr_dests = GenerateSilentPaymentTaprootDestinations(scalar_ecdh_input, sp_dests);\n+\n+            for (const auto& [out_idx, tr_dest] : sp_tr_dests) {\n+                assert(out_idx < silent_payment_addresses.size());\n+                silent_payment_addresses[out_idx].dest = tr_dest;\n+            }\n+\n+            std::vector<CRecipient> expected_spks;\n+            for (const auto& recipient : expected[\"outputs\"].getValues()) {\n+                std::string pubkey_hex = recipient[0].get_str();\n+                CAmount amount = recipient[1].get_real() * COIN;\n+                auto tap = WitnessV1Taproot(XOnlyPubKey(ParseHex(pubkey_hex)));\n+                expected_spks.push_back(CRecipient{tap, amount, false});\n+            }\n+\n+            BOOST_CHECK(silent_payment_addresses.size() == expected_spks.size());\n+            for (const auto& spk : silent_payment_addresses) {\n+                BOOST_CHECK(std::find(expected_spks.begin(), expected_spks.end(), spk) != expected_spks.end());\n+            }\n+        }\n+\n+        // Test receiving\n+        for (const auto& recipient : vec[\"receiving\"].getValues()) {\n+            // TODO: implement labels for Bitcoin Core, until then skip the receiving with labels tests\n+            if (recipient[\"supports_labels\"].get_bool()) {\n+                BOOST_TEST_MESSAGE(\"Labels not implemented; skipping..\");\n+                continue;\n+            }\n+\n+            const auto& given = recipient[\"given\"];\n+            const auto& expected = recipient[\"expected\"];\n+\n+            std::vector<COutPoint> outpoints;\n+            for (const auto& outpoint : recipient[\"given\"][\"outpoints\"].getValues()) {\n+                outpoints.emplace_back(uint256S(outpoint[0].get_str()), outpoint[1].getInt<uint32_t>());\n+            }\n+\n+            std::vector<CPubKey> input_pub_keys;\n+            for (const auto& pubkey : given[\"input_pub_keys\"].getValues()) {\n+                // All pubkeys must be in compressed format\n+                auto pubkey_bytes = ParseHex(pubkey.get_str());\n+                if (pubkey_bytes.size() == 32) {\n+                    // XOnlyPubKeys are always even\n+                    pubkey_bytes.insert(pubkey_bytes.begin(), 2);\n+                }\n+                input_pub_keys.emplace_back(pubkey_bytes);\n+            }\n+            std::vector<XOnlyPubKey> output_pub_keys;\n+            for (const auto& pubkey : given[\"outputs\"].getValues()) {\n+                output_pub_keys.emplace_back(ParseHex(pubkey.get_str()));\n+            }\n+\n+            std::string hex_str = given[\"bip32_seed\"].get_str();\n+            std::vector<std::byte> seed{ParseHex<std::byte>(hex_str)};\n+            std::vector<uint32_t> scan_keypath;\n+            BOOST_CHECK(ParseHDKeypath(\"m/352'/0'/0'/1'/0\", scan_keypath));\n+            std::vector<uint32_t> spend_keypath;\n+            BOOST_CHECK(ParseHDKeypath(\"m/352'/0'/0'/0'/0\", spend_keypath));\n+            CKey scan_priv_key = GetKeyFromBIP32Path(seed, scan_keypath);\n+            CKey spend_priv_key = GetKeyFromBIP32Path(seed, spend_keypath);\n+            CPubKey spend_pubkey = spend_priv_key.GetPubKey();\n+\n+            // Scanning\n+            CPubKey sum_input_pub_keys = CPubKey::Combine(input_pub_keys);\n+\n+            const auto expected_addresses = expected[\"addresses\"].getValues();\n+            // We know there is only one address, but if we support labels, this could be multiple addresses\n+            CPubKey ecdh_pubkey = ComputeECDHSharedSecret(scan_priv_key, sum_input_pub_keys, HashOutpoints(outpoints));\n+            std::vector<uint256> found_tweaks = GetTxOutputTweaks(spend_priv_key.GetPubKey(), ecdh_pubkey, output_pub_keys);",
      "path": "src/wallet/test/silentpayment_tests.cpp",
      "position": null,
      "original_position": 140,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 78d1426fabd7b5b6cdd28de508a1692fce291174 \"Add BIP352 test vectors as unit tests\"\r\n\r\nnit: `s/spend_priv_key.GetPubKey()/spend_pubkey`\r\n\r\n```suggestion\r\n            std::vector<uint256> found_tweaks = GetTxOutputTweaks(spend_pubkey, ecdh_pubkey, output_pub_keys);\r\n```",
      "created_at": "2023-09-11T19:34:27Z",
      "updated_at": "2023-09-11T19:37:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321990230",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321990230"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 140,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321992598",
      "pull_request_review_id": 1620593539,
      "id": 1321992598,
      "node_id": "PRRC_kwDOABII585OzAGW",
      "diff_hunk": "@@ -291,6 +291,11 @@ struct CRecipient\n     CTxDestination dest;\n     CAmount nAmount;\n     bool fSubtractFeeFromAmount;\n+\n+    friend bool operator==(const CRecipient& a, const CRecipient& b)\n+    {\n+        return a.dest == b.dest && a.nAmount == b.nAmount;",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 7,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 78d1426fabd7b5b6cdd28de508a1692fce291174 \"Add BIP352 test vectors as unit tests\"\r\n\r\nShouldn't this also check sffo too?\r\n\r\n```suggestion\r\n        return a.dest == b.dest && a.nAmount == b.nAmount && a.fSubtractFeeFromAmount == b.SubtractFeeFromAmount;\r\n```",
      "created_at": "2023-09-11T19:37:25Z",
      "updated_at": "2023-09-11T19:37:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1321992598",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1321992598"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 297,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322002928",
      "pull_request_review_id": 1620720216,
      "id": 1322002928,
      "node_id": "PRRC_kwDOABII585OzCnw",
      "diff_hunk": "@@ -0,0 +1,161 @@\n+#include <wallet/silentpayments.h>\n+#include <test/data/bip352_send_and_receive_vectors.json.h>\n+\n+#include <test/util/setup_common.h>\n+#include <hash.h>\n+\n+#include <boost/test/unit_test.hpp>\n+#include <test/util/json.h>\n+#include <vector>\n+#include <util/bip32.h>\n+#include <wallet/wallet.h>\n+\n+namespace wallet {\n+BOOST_FIXTURE_TEST_SUITE(silentpayment_tests, BasicTestingSetup)\n+\n+CKey ParseHexToCKey(std::string hex) {\n+    CKey output;\n+    auto hex_data = ParseHex(hex);\n+    output.Set(hex_data.begin(), hex_data.end(), true);\n+    return output;\n+};\n+\n+CKey GetKeyFromBIP32Path(std::vector<std::byte> seed, std::vector<uint32_t> path)\n+{\n+    CExtKey key_parent, key_child;\n+    key_parent.SetSeed(seed);\n+    for (auto index : path) {\n+        BOOST_CHECK(key_parent.Derive(key_child, index));\n+        std::swap(key_parent, key_child);\n+    }\n+    return key_parent.key;",
      "path": "src/wallet/test/silentpayment_tests.cpp",
      "position": null,
      "original_position": 31,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 78d1426fabd7b5b6cdd28de508a1692fce291174 \"Add BIP352 test vectors as unit tests\"\r\n\r\nNo need to have two `CExtKey`s and swapping them, you can just derive a key into itself.\r\n\r\n```suggestion\r\n    CExtKey key;\r\n    key.SetSeed(seed);\r\n    for (auto index : path) {\r\n        BOOST_CHECK(key.Derive(key, index));\r\n    }\r\n    return key.key;\r\n```",
      "created_at": "2023-09-11T19:47:07Z",
      "updated_at": "2023-09-11T19:47:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322002928",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322002928"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 25,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322085628",
      "pull_request_review_id": 1620850719,
      "id": 1322085628,
      "node_id": "PRRC_kwDOABII585OzWz8",
      "diff_hunk": "@@ -47,7 +47,7 @@ MessageVerificationResult MessageVerify(\n         return MessageVerificationResult::ERR_PUBKEY_NOT_RECOVERED;\n     }\n \n-    if (!(CTxDestination(PKHash(pubkey)) == destination)) {\n+    if (!(PKHash(pubkey) == *std::get_if<PKHash>(&destination))) {",
      "path": "src/util/message.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "c14ad74f8eeaa744d831a77654164c856a86fdee",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "in commit c14ad74f8eeaa744d831a77654164c856a86fdee: this change in `MessageVerify` seems unrelated to the `WitnessUnknown` changes (and AFAICT, even after the later changes in `CTxDestination` it's not needed, but just another way to express the same logic).",
      "created_at": "2023-09-11T21:20:09Z",
      "updated_at": "2023-09-11T22:01:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322085628",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322085628"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 50,
      "start_side": "LEFT",
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322087391",
      "pull_request_review_id": 1620850719,
      "id": 1322087391,
      "node_id": "PRRC_kwDOABII585OzXPf",
      "diff_hunk": "@@ -109,9 +117,14 @@ using CTxDestination = std::variant<CNoDestination, PKHash, ScriptHash, WitnessV\n bool IsValidDestination(const CTxDestination& dest);\n \n /**\n- * Parse a standard scriptPubKey for the destination address. Assigns result to\n- * the addressRet parameter and returns true if successful. Currently only works for P2PK,\n- * P2PKH, P2SH, P2WPKH, and P2WSH scripts.\n+ * Parse a scriptPubKey for the destination.\n+ *\n+ * For standard scripts that have addresses (and P2PK as an exception), a corresponding CTxDestination\n+ * is assigned to addressRet.\n+ * For all other scripts. addressRet is assigned as a CNoDestination containing the scriptPubKey.",
      "path": "src/addresstype.h",
      "position": null,
      "original_position": 54,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "621b1ca6fbdf66ccf9da84c38fcc3b18de9e95fe",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "in commit 621b1ca6fbdf66ccf9da84c38fcc3b18de9e95fe: punctuation nit:\r\n```suggestion\r\n * For all other scripts, addressRet is assigned as a CNoDestination containing the scriptPubKey.\r\n```",
      "created_at": "2023-09-11T21:22:36Z",
      "updated_at": "2023-09-11T22:01:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322087391",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322087391"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 172,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322105942",
      "pull_request_review_id": 1620850719,
      "id": 1322105942,
      "node_id": "PRRC_kwDOABII585OzbxW",
      "diff_hunk": "@@ -172,6 +174,62 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+void CKey::TweakAdd(const unsigned char *tweak32)\n+{\n+    assert(fValid);\n+    // Modify the current CKey's data directly.\n+    int ret = secp256k1_ec_seckey_tweak_add(secp256k1_context_sign, keydata.data(), tweak32);\n+    assert(ret);\n+}\n+\n+void CKey::TweakMultiply(const unsigned char *tweak32)\n+{\n+    assert(fValid);\n+\n+    // Modify the current CKey's data directly.\n+    int ret = secp256k1_ec_seckey_tweak_mul(secp256k1_context_sign, keydata.data(), tweak32);\n+    assert(ret);\n+}\n+\n+// WARNING: DO NOT USE THIS FUNCTION OUTSIDE OF SILENT PAYMENTS\n+// This function returns the un-hashed ECDH result and is specific to silent payments.\n+// If ECDH is required for a different use-case, use a function which hashes the result (as is standard practice).\n+CPubKey CKey::UnhashedECDH(const CPubKey& pubkey) const\n+{\n+    unsigned char shared_secret[33];\n+\n+    secp256k1_pubkey ecdh_pubkey;",
      "path": "src/key.cpp",
      "position": null,
      "original_position": 44,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "7b9f48450738c42d934280881d9ff2dfb5419725",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "in commit 7b9f48450738c42d934280881d9ff2dfb5419725: maybe assert here that both the private key and the passed `pubkey` are valid?\r\n```suggestion\r\n    assert(fValid);\r\n    assert(pubkey.IsValid());\r\n    secp256k1_pubkey ecdh_pubkey;\r\n```\r\n(using `IsFullyValid` for the pubkey would be a more thorough check, but that's more expensive and could hurt scanning performance I guess)",
      "created_at": "2023-09-11T21:48:08Z",
      "updated_at": "2023-09-11T22:01:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322105942",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322105942"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 200,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 200,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322109527",
      "pull_request_review_id": 1620850719,
      "id": 1322109527,
      "node_id": "PRRC_kwDOABII585OzcpX",
      "diff_hunk": "@@ -287,10 +294,19 @@ class XOnlyPubKey\n     bool operator!=(const XOnlyPubKey& other) const { return m_keydata != other.m_keydata; }\n     bool operator<(const XOnlyPubKey& other) const { return m_keydata < other.m_keydata; }\n \n+    CPubKey ConvertToCompressedPubKey(bool even = true) const",
      "path": "src/pubkey.h",
      "position": null,
      "original_position": 25,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "7b9f48450738c42d934280881d9ff2dfb5419725",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "is this method used anywhere?",
      "created_at": "2023-09-11T21:53:32Z",
      "updated_at": "2023-09-11T22:01:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322109527",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322109527"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 306,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322111006",
      "pull_request_review_id": 1620850719,
      "id": 1322111006,
      "node_id": "PRRC_kwDOABII585OzdAe",
      "diff_hunk": "@@ -28,6 +28,17 @@ enum class Encoding {\n     BECH32M, //!< Bech32m encoding as defined in BIP350\n };\n \n+/** Character limits for bech32(m) encoded strings. Character limits are how we provide error location guarantees.\n+ *  These values should never exceed 2^31 - 1 (max value for a 32-bit int), since there are places where we may need to\n+ *  convert the CharLimit::VALUE to an int. In practice, this should never happen since this CharLimit applies to an address encoding\n+ *  and we would never encode an address with such a massive value */\n+enum CharLimit : size_t {\n+    NO_LIMIT = 0,           //!< Allows for Bech32(m) encoded strings of arbitruary size. No guarantees on the number of errors detected",
      "path": "src/bech32.h",
      "position": null,
      "original_position": 9,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "6c19662156f22e5d5bc06c7caadd45ecb57d8838",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "typo nit:\r\n```suggestion\r\n    NO_LIMIT = 0,           //!< Allows for Bech32(m) encoded strings of arbitrary size. No guarantees on the number of errors detected\r\n```",
      "created_at": "2023-09-11T21:55:38Z",
      "updated_at": "2023-09-11T22:01:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322111006",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322111006"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322478110",
      "pull_request_review_id": 1621370670,
      "id": 1322478110,
      "node_id": "PRRC_kwDOABII585O02oe",
      "diff_hunk": "@@ -127,12 +146,29 @@ CTxDestination DecodeDestination(const std::string& str, const CChainParams& par\n     }\n \n     data.clear();\n-    const auto dec = bech32::Decode(str);\n+    const auto dec = bech32::Decode(str, is_silent_payment ? bech32::CharLimit::SILENT_PAYMENTS : bech32::CharLimit::SEGWIT);\n     if (dec.encoding == bech32::Encoding::BECH32 || dec.encoding == bech32::Encoding::BECH32M) {\n         if (dec.data.empty()) {\n             error_str = \"Empty Bech32 data section\";\n             return CNoDestination();\n         }\n+        if (is_silent_payment) {\n+            if (!ConvertBits<5, 8, false>([&](unsigned char c) { data.push_back(c); }, dec.data.begin() + 1, dec.data.end())) {\n+                return CNoDestination();\n+            }\n+            if (data.size() < SILENT_PAYMENT_V0_DATA_SIZE) {\n+                error_str = strprintf(\"Silent payment data payload is too small (expected at least %d, got %d).\", SILENT_PAYMENT_V0_DATA_SIZE, data.size());\n+                return CNoDestination();\n+            }\n+            auto version = dec.data[0];  // retrieve the version\n+            if (version == 0 && data.size() != SILENT_PAYMENT_V0_DATA_SIZE) {\n+                error_str = strprintf(\"Silent payment version is v0 but data is not the correct size (expected %d, got %d).\", SILENT_PAYMENT_V0_DATA_SIZE, data.size());\n+                return CNoDestination();\n+            }",
      "path": "src/key_io.cpp",
      "position": 71,
      "original_position": 65,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "3235eb8c63ea055c68fdf59bb20afd6f06f294e4",
      "in_reply_to_id": 1321932172,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Since SP addresses are forward-compatible, we don't care: we always read the first 66 bytes as two pubkeys and ignore the rest. However, we do need a check here for v31 or greater, as this indicates a backward incompatible change",
      "created_at": "2023-09-12T06:19:00Z",
      "updated_at": "2023-09-12T06:19:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322478110",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322478110"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": 171,
      "original_start_line": 164,
      "start_side": "RIGHT",
      "line": 174,
      "original_line": 174,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322486435",
      "pull_request_review_id": 1621387375,
      "id": 1322486435,
      "node_id": "PRRC_kwDOABII585O04qj",
      "diff_hunk": "@@ -291,6 +291,11 @@ struct CRecipient\n     CTxDestination dest;\n     CAmount nAmount;\n     bool fSubtractFeeFromAmount;\n+\n+    friend bool operator==(const CRecipient& a, const CRecipient& b)\n+    {\n+        return a.dest == b.dest && a.nAmount == b.nAmount;",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 7,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "in_reply_to_id": 1321992598,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Maybe? If we want to know if the actual objects themselves are equal, then yes, but if we wan't a more conceptual \"are these the same transaction output,\" then I'd argue no?",
      "created_at": "2023-09-12T06:27:26Z",
      "updated_at": "2023-09-12T06:27:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322486435",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322486435"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 297,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322492851",
      "pull_request_review_id": 1621394667,
      "id": 1322492851,
      "node_id": "PRRC_kwDOABII585O06Oz",
      "diff_hunk": "@@ -47,7 +47,7 @@ MessageVerificationResult MessageVerify(\n         return MessageVerificationResult::ERR_PUBKEY_NOT_RECOVERED;\n     }\n \n-    if (!(CTxDestination(PKHash(pubkey)) == destination)) {\n+    if (!(PKHash(pubkey) == *std::get_if<PKHash>(&destination))) {",
      "path": "src/util/message.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "c14ad74f8eeaa744d831a77654164c856a86fdee",
      "in_reply_to_id": 1322085628,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This is a fix for an `-Wuninitialized` warning, see https://github.com/bitcoin/bitcoin/pull/28246#discussion_r1318874324",
      "created_at": "2023-09-12T06:32:22Z",
      "updated_at": "2023-09-12T06:32:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322492851",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322492851"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 50,
      "start_side": "LEFT",
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322494680",
      "pull_request_review_id": 1621397132,
      "id": 1322494680,
      "node_id": "PRRC_kwDOABII585O06rY",
      "diff_hunk": "@@ -109,9 +117,14 @@ using CTxDestination = std::variant<CNoDestination, PKHash, ScriptHash, WitnessV\n bool IsValidDestination(const CTxDestination& dest);\n \n /**\n- * Parse a standard scriptPubKey for the destination address. Assigns result to\n- * the addressRet parameter and returns true if successful. Currently only works for P2PK,\n- * P2PKH, P2SH, P2WPKH, and P2WSH scripts.\n+ * Parse a scriptPubKey for the destination.\n+ *\n+ * For standard scripts that have addresses (and P2PK as an exception), a corresponding CTxDestination\n+ * is assigned to addressRet.\n+ * For all other scripts. addressRet is assigned as a CNoDestination containing the scriptPubKey.",
      "path": "src/addresstype.h",
      "position": null,
      "original_position": 54,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "621b1ca6fbdf66ccf9da84c38fcc3b18de9e95fe",
      "in_reply_to_id": 1322087391,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "These commits belong to https://github.com/bitcoin/bitcoin/pull/28246 , might be better to leave a review there",
      "created_at": "2023-09-12T06:33:59Z",
      "updated_at": "2023-09-12T06:34:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322494680",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322494680"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 172,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322509903",
      "pull_request_review_id": 1621418854,
      "id": 1322509903,
      "node_id": "PRRC_kwDOABII585O0-ZP",
      "diff_hunk": "@@ -172,6 +174,62 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+void CKey::TweakAdd(const unsigned char *tweak32)\n+{\n+    assert(fValid);\n+    // Modify the current CKey's data directly.\n+    int ret = secp256k1_ec_seckey_tweak_add(secp256k1_context_sign, keydata.data(), tweak32);\n+    assert(ret);\n+}\n+\n+void CKey::TweakMultiply(const unsigned char *tweak32)\n+{\n+    assert(fValid);\n+\n+    // Modify the current CKey's data directly.\n+    int ret = secp256k1_ec_seckey_tweak_mul(secp256k1_context_sign, keydata.data(), tweak32);\n+    assert(ret);\n+}\n+\n+// WARNING: DO NOT USE THIS FUNCTION OUTSIDE OF SILENT PAYMENTS\n+// This function returns the un-hashed ECDH result and is specific to silent payments.\n+// If ECDH is required for a different use-case, use a function which hashes the result (as is standard practice).\n+CPubKey CKey::UnhashedECDH(const CPubKey& pubkey) const\n+{\n+    unsigned char shared_secret[33];\n+\n+    secp256k1_pubkey ecdh_pubkey;",
      "path": "src/key.cpp",
      "position": null,
      "original_position": 44,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "7b9f48450738c42d934280881d9ff2dfb5419725",
      "in_reply_to_id": 1322105942,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Hm, it seems a bit odd to assert that the passed pubkey is valid? I think it's safe to assume that validation was done upstream by the caller. Also, I agree that we want to avoid doing expensive checks here as this function is called during scanning.\r\n\r\nI'll add the assert for the private key, though, as this seems in keeping with what the other code with private keys is doing.",
      "created_at": "2023-09-12T06:39:43Z",
      "updated_at": "2023-09-12T06:39:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322509903",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322509903"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 200,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 200,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322511068",
      "pull_request_review_id": 1621420675,
      "id": 1322511068,
      "node_id": "PRRC_kwDOABII585O0-rc",
      "diff_hunk": "@@ -287,10 +294,19 @@ class XOnlyPubKey\n     bool operator!=(const XOnlyPubKey& other) const { return m_keydata != other.m_keydata; }\n     bool operator<(const XOnlyPubKey& other) const { return m_keydata < other.m_keydata; }\n \n+    CPubKey ConvertToCompressedPubKey(bool even = true) const",
      "path": "src/pubkey.h",
      "position": null,
      "original_position": 25,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "7b9f48450738c42d934280881d9ff2dfb5419725",
      "in_reply_to_id": 1322109527,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Good catch! This is dead code from an old version of the PR, will remove it",
      "created_at": "2023-09-12T06:40:03Z",
      "updated_at": "2023-09-12T06:40:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322511068",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322511068"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 306,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322657369",
      "pull_request_review_id": 1621645655,
      "id": 1322657369,
      "node_id": "PRRC_kwDOABII585O1iZZ",
      "diff_hunk": "@@ -287,10 +294,19 @@ class XOnlyPubKey\n     bool operator!=(const XOnlyPubKey& other) const { return m_keydata != other.m_keydata; }\n     bool operator<(const XOnlyPubKey& other) const { return m_keydata < other.m_keydata; }\n \n+    CPubKey ConvertToCompressedPubKey(bool even = true) const",
      "path": "src/pubkey.h",
      "position": null,
      "original_position": 25,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "7b9f48450738c42d934280881d9ff2dfb5419725",
      "in_reply_to_id": 1322109527,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Fixed",
      "created_at": "2023-09-12T08:36:52Z",
      "updated_at": "2023-09-12T08:36:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322657369",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322657369"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 306,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322657542",
      "pull_request_review_id": 1621645945,
      "id": 1322657542,
      "node_id": "PRRC_kwDOABII585O1icG",
      "diff_hunk": "@@ -28,6 +28,17 @@ enum class Encoding {\n     BECH32M, //!< Bech32m encoding as defined in BIP350\n };\n \n+/** Character limits for bech32(m) encoded strings. Character limits are how we provide error location guarantees.\n+ *  These values should never exceed 2^31 - 1 (max value for a 32-bit int), since there are places where we may need to\n+ *  convert the CharLimit::VALUE to an int. In practice, this should never happen since this CharLimit applies to an address encoding\n+ *  and we would never encode an address with such a massive value */\n+enum CharLimit : size_t {\n+    NO_LIMIT = 0,           //!< Allows for Bech32(m) encoded strings of arbitruary size. No guarantees on the number of errors detected",
      "path": "src/bech32.h",
      "position": null,
      "original_position": 9,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "6c19662156f22e5d5bc06c7caadd45ecb57d8838",
      "in_reply_to_id": 1322111006,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Fixed",
      "created_at": "2023-09-12T08:37:00Z",
      "updated_at": "2023-09-12T08:37:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322657542",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322657542"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322678701",
      "pull_request_review_id": 1621677864,
      "id": 1322678701,
      "node_id": "PRRC_kwDOABII585O1nmt",
      "diff_hunk": "@@ -172,6 +174,62 @@ bool CKey::Negate()\n     return secp256k1_ec_seckey_negate(secp256k1_context_sign, keydata.data());\n }\n \n+void CKey::TweakAdd(const unsigned char *tweak32)\n+{\n+    assert(fValid);\n+    // Modify the current CKey's data directly.\n+    int ret = secp256k1_ec_seckey_tweak_add(secp256k1_context_sign, keydata.data(), tweak32);\n+    assert(ret);\n+}\n+\n+void CKey::TweakMultiply(const unsigned char *tweak32)\n+{\n+    assert(fValid);\n+\n+    // Modify the current CKey's data directly.\n+    int ret = secp256k1_ec_seckey_tweak_mul(secp256k1_context_sign, keydata.data(), tweak32);\n+    assert(ret);\n+}\n+\n+// WARNING: DO NOT USE THIS FUNCTION OUTSIDE OF SILENT PAYMENTS\n+// This function returns the un-hashed ECDH result and is specific to silent payments.\n+// If ECDH is required for a different use-case, use a function which hashes the result (as is standard practice).\n+CPubKey CKey::UnhashedECDH(const CPubKey& pubkey) const\n+{\n+    unsigned char shared_secret[33];\n+\n+    secp256k1_pubkey ecdh_pubkey;",
      "path": "src/key.cpp",
      "position": null,
      "original_position": 44,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "7b9f48450738c42d934280881d9ff2dfb5419725",
      "in_reply_to_id": 1322105942,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Added `assert(fValid)` check for CKey and also made the functions consistent with the rest of the CPubKey/CKey functions by returning a bool instead of an `assert` inside a void function",
      "created_at": "2023-09-12T08:49:19Z",
      "updated_at": "2023-09-12T08:49:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322678701",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322678701"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 200,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 200,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322681203",
      "pull_request_review_id": 1621681227,
      "id": 1322681203,
      "node_id": "PRRC_kwDOABII585O1oNz",
      "diff_hunk": "@@ -0,0 +1,161 @@\n+#include <wallet/silentpayments.h>\n+#include <test/data/bip352_send_and_receive_vectors.json.h>\n+\n+#include <test/util/setup_common.h>\n+#include <hash.h>\n+\n+#include <boost/test/unit_test.hpp>\n+#include <test/util/json.h>\n+#include <vector>\n+#include <util/bip32.h>\n+#include <wallet/wallet.h>\n+\n+namespace wallet {\n+BOOST_FIXTURE_TEST_SUITE(silentpayment_tests, BasicTestingSetup)\n+\n+CKey ParseHexToCKey(std::string hex) {\n+    CKey output;\n+    auto hex_data = ParseHex(hex);\n+    output.Set(hex_data.begin(), hex_data.end(), true);\n+    return output;\n+};\n+\n+CKey GetKeyFromBIP32Path(std::vector<std::byte> seed, std::vector<uint32_t> path)\n+{\n+    CExtKey key_parent, key_child;\n+    key_parent.SetSeed(seed);\n+    for (auto index : path) {\n+        BOOST_CHECK(key_parent.Derive(key_child, index));\n+        std::swap(key_parent, key_child);\n+    }\n+    return key_parent.key;",
      "path": "src/wallet/test/silentpayment_tests.cpp",
      "position": null,
      "original_position": 31,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "in_reply_to_id": 1322002928,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2023-09-12T08:50:02Z",
      "updated_at": "2023-09-12T08:50:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322681203",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322681203"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": 25,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 31,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322682361",
      "pull_request_review_id": 1621682782,
      "id": 1322682361,
      "node_id": "PRRC_kwDOABII585O1of5",
      "diff_hunk": "@@ -0,0 +1,161 @@\n+#include <wallet/silentpayments.h>\n+#include <test/data/bip352_send_and_receive_vectors.json.h>\n+\n+#include <test/util/setup_common.h>\n+#include <hash.h>\n+\n+#include <boost/test/unit_test.hpp>\n+#include <test/util/json.h>\n+#include <vector>\n+#include <util/bip32.h>\n+#include <wallet/wallet.h>\n+\n+namespace wallet {\n+BOOST_FIXTURE_TEST_SUITE(silentpayment_tests, BasicTestingSetup)\n+\n+CKey ParseHexToCKey(std::string hex) {\n+    CKey output;\n+    auto hex_data = ParseHex(hex);\n+    output.Set(hex_data.begin(), hex_data.end(), true);\n+    return output;\n+};\n+\n+CKey GetKeyFromBIP32Path(std::vector<std::byte> seed, std::vector<uint32_t> path)\n+{\n+    CExtKey key_parent, key_child;\n+    key_parent.SetSeed(seed);\n+    for (auto index : path) {\n+        BOOST_CHECK(key_parent.Derive(key_child, index));\n+        std::swap(key_parent, key_child);\n+    }\n+    return key_parent.key;\n+}\n+\n+BOOST_AUTO_TEST_CASE(bip352_send_and_receive_test_vectors)\n+{\n+    UniValue tests;\n+    tests.read(json_tests::bip352_send_and_receive_vectors);\n+\n+    for (const auto& vec : tests.getValues()) {\n+        // run sending tests\n+        BOOST_TEST_MESSAGE(vec[\"comment\"].get_str());\n+        for (const auto& sender : vec[\"sending\"].getValues()) {\n+            const auto& given = sender[\"given\"];\n+            const auto& expected = sender[\"expected\"];\n+\n+            std::vector<COutPoint> outpoints;\n+            for (const auto& outpoint : sender[\"given\"][\"outpoints\"].getValues()) {\n+                outpoints.emplace_back(uint256S(outpoint[0].get_str()), outpoint[1].getInt<uint32_t>());\n+            }\n+\n+            std::vector<std::pair<CKey, bool>> sender_secret_keys;\n+            for (const auto& key : given[\"input_priv_keys\"].getValues()) {\n+                sender_secret_keys.emplace_back(ParseHexToCKey(key[0].get_str()), key[1].get_bool());\n+            }\n+            std::vector<CRecipient> silent_payment_addresses;\n+            for (const auto& recipient : given[\"recipients\"].getValues()) {\n+                std::string silent_payment_address = recipient[0].get_str();\n+                CAmount amount = recipient[1].get_real() * COIN;\n+                const auto& sp = DecodeDestination(silent_payment_address);\n+                silent_payment_addresses.push_back(CRecipient{sp, amount, false});\n+            }\n+\n+            // silent payments logic\n+            CKey scalar_ecdh_input = PrepareScalarECDHInput(sender_secret_keys, outpoints);\n+\n+            std::map<size_t, V0SilentPaymentDestination> sp_dests;\n+            for (size_t i = 0; i < silent_payment_addresses.size(); ++i) {\n+                if (const auto* sp = std::get_if<V0SilentPaymentDestination>(&silent_payment_addresses.at(i).dest)) {\n+                    sp_dests[i] = *sp;\n+                }\n+            }\n+            std::map<size_t, WitnessV1Taproot> sp_tr_dests = GenerateSilentPaymentTaprootDestinations(scalar_ecdh_input, sp_dests);\n+\n+            for (const auto& [out_idx, tr_dest] : sp_tr_dests) {\n+                assert(out_idx < silent_payment_addresses.size());\n+                silent_payment_addresses[out_idx].dest = tr_dest;\n+            }\n+\n+            std::vector<CRecipient> expected_spks;\n+            for (const auto& recipient : expected[\"outputs\"].getValues()) {\n+                std::string pubkey_hex = recipient[0].get_str();\n+                CAmount amount = recipient[1].get_real() * COIN;\n+                auto tap = WitnessV1Taproot(XOnlyPubKey(ParseHex(pubkey_hex)));\n+                expected_spks.push_back(CRecipient{tap, amount, false});\n+            }\n+\n+            BOOST_CHECK(silent_payment_addresses.size() == expected_spks.size());\n+            for (const auto& spk : silent_payment_addresses) {\n+                BOOST_CHECK(std::find(expected_spks.begin(), expected_spks.end(), spk) != expected_spks.end());\n+            }\n+        }\n+\n+        // Test receiving\n+        for (const auto& recipient : vec[\"receiving\"].getValues()) {\n+            // TODO: implement labels for Bitcoin Core, until then skip the receiving with labels tests\n+            if (recipient[\"supports_labels\"].get_bool()) {\n+                BOOST_TEST_MESSAGE(\"Labels not implemented; skipping..\");\n+                continue;\n+            }\n+\n+            const auto& given = recipient[\"given\"];\n+            const auto& expected = recipient[\"expected\"];\n+\n+            std::vector<COutPoint> outpoints;\n+            for (const auto& outpoint : recipient[\"given\"][\"outpoints\"].getValues()) {",
      "path": "src/wallet/test/silentpayment_tests.cpp",
      "position": null,
      "original_position": 105,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "in_reply_to_id": 1321988533,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2023-09-12T08:50:24Z",
      "updated_at": "2023-09-12T08:50:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322682361",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322682361"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 105,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322683508",
      "pull_request_review_id": 1621684261,
      "id": 1322683508,
      "node_id": "PRRC_kwDOABII585O1ox0",
      "diff_hunk": "@@ -0,0 +1,161 @@\n+#include <wallet/silentpayments.h>\n+#include <test/data/bip352_send_and_receive_vectors.json.h>\n+\n+#include <test/util/setup_common.h>\n+#include <hash.h>\n+\n+#include <boost/test/unit_test.hpp>\n+#include <test/util/json.h>\n+#include <vector>\n+#include <util/bip32.h>\n+#include <wallet/wallet.h>\n+\n+namespace wallet {\n+BOOST_FIXTURE_TEST_SUITE(silentpayment_tests, BasicTestingSetup)\n+\n+CKey ParseHexToCKey(std::string hex) {\n+    CKey output;\n+    auto hex_data = ParseHex(hex);\n+    output.Set(hex_data.begin(), hex_data.end(), true);\n+    return output;\n+};\n+\n+CKey GetKeyFromBIP32Path(std::vector<std::byte> seed, std::vector<uint32_t> path)\n+{\n+    CExtKey key_parent, key_child;\n+    key_parent.SetSeed(seed);\n+    for (auto index : path) {\n+        BOOST_CHECK(key_parent.Derive(key_child, index));\n+        std::swap(key_parent, key_child);\n+    }\n+    return key_parent.key;\n+}\n+\n+BOOST_AUTO_TEST_CASE(bip352_send_and_receive_test_vectors)\n+{\n+    UniValue tests;\n+    tests.read(json_tests::bip352_send_and_receive_vectors);\n+\n+    for (const auto& vec : tests.getValues()) {\n+        // run sending tests\n+        BOOST_TEST_MESSAGE(vec[\"comment\"].get_str());\n+        for (const auto& sender : vec[\"sending\"].getValues()) {\n+            const auto& given = sender[\"given\"];\n+            const auto& expected = sender[\"expected\"];\n+\n+            std::vector<COutPoint> outpoints;\n+            for (const auto& outpoint : sender[\"given\"][\"outpoints\"].getValues()) {",
      "path": "src/wallet/test/silentpayment_tests.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "78d1426fabd7b5b6cdd28de508a1692fce291174",
      "in_reply_to_id": 1321986126,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2023-09-12T08:50:45Z",
      "updated_at": "2023-09-12T08:50:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322683508",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322683508"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322684719",
      "pull_request_review_id": 1621686020,
      "id": 1322684719,
      "node_id": "PRRC_kwDOABII585O1pEv",
      "diff_hunk": "@@ -0,0 +1,210 @@\n+#include <wallet/silentpayments.h>\n+#include <addresstype.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+#include <pubkey.h>\n+#include <policy/policy.h>\n+#include <script/solver.h>\n+#include <util/check.h>\n+#include <wallet/wallet.h>",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "644ff77be819a2dea15be0daad10fca8524a18f4",
      "in_reply_to_id": 1321983071,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2023-09-12T08:51:06Z",
      "updated_at": "2023-09-12T08:51:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322684719",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322684719"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 14,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322686496",
      "pull_request_review_id": 1621688279,
      "id": 1322686496,
      "node_id": "PRRC_kwDOABII585O1pgg",
      "diff_hunk": "@@ -0,0 +1,210 @@\n+#include <wallet/silentpayments.h>\n+#include <addresstype.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+#include <pubkey.h>\n+#include <policy/policy.h>\n+#include <script/solver.h>\n+#include <util/check.h>\n+#include <wallet/wallet.h>\n+\n+namespace wallet {\n+\n+CPubKey ComputeECDHSharedSecret(const CKey& scan_key, const CPubKey& sender_public_key, const uint256& outpoints_hash)\n+{\n+    auto tweaked_scan_seckey{scan_key};\n+    tweaked_scan_seckey.TweakMultiply(outpoints_hash.begin());\n+    CPubKey result = tweaked_scan_seckey.UnhashedECDH(sender_public_key);\n+    assert(result.IsValid());\n+    return result;\n+}\n+\n+uint256 ComputeTweak(const CPubKey& ecdh_pubkey, const uint32_t output_index)\n+{\n+    HashWriter h;\n+    h.write(Span{ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    return h.GetSHA256();\n+}\n+\n+std::vector<uint256> GetTxOutputTweaks(const CPubKey& spend_pubkey, const CPubKey& ecdh_pubkey, std::vector<XOnlyPubKey> output_pub_keys)\n+{\n+    // Because a sender can create multiple outputs for us, we first check the outputs vector for an output with\n+    // output index 0. If we find it, we remove it from the vector and then iterate over the vector again looking for\n+    // an output with index 1, and so on until one of the following happens:\n+    //\n+    //     1. We have determined all outputs belong to us (the vector is empty)\n+    //     2. We have passed over the vector and found no outputs belonging to us\n+    //\n+\n+    bool removed;\n+    uint32_t output_index{0};\n+    std::vector<uint256> tweaks;\n+    do {\n+        // We haven't removed anything yet on this pass and if we don't remove anything, we didn't find\n+        // any silent payment outputs and should stop checking\n+        removed = false;\n+        uint256 tweak = ComputeTweak(ecdh_pubkey, output_index);\n+        CPubKey computed_sp_pubkey = spend_pubkey.TweakAdd(tweak.data());\n+        const XOnlyPubKey& sp_pubkey = XOnlyPubKey{computed_sp_pubkey};\n+        //const CKey& silent_payment_priv_key = tweakResult.first;\n+        output_pub_keys.erase(std::remove_if(output_pub_keys.begin(), output_pub_keys.end(), [&](auto output_pubkey) {\n+            if (sp_pubkey == output_pubkey) {\n+                // Since we found an output, we need to increment the output index and check the vector again\n+                tweaks.emplace_back(tweak);\n+                removed = true;\n+                output_index++;\n+                // Return true so that this output pubkey is removed the from vector and not checked again\n+                return true;\n+            }\n+            return false;\n+        }), output_pub_keys.end());\n+    } while (!output_pub_keys.empty() && removed);\n+    return tweaks;\n+}\n+\n+std::optional<std::pair<uint256, CPubKey>> GetSilentPaymentsTweakDataFromTxInputs(const std::vector<CTxIn>& vin, const std::map<COutPoint, Coin>& coins)\n+{\n+\n+    // Extract the keys from the inputs\n+    // or skip if no valid inputs\n+    std::vector<CPubKey> input_pubkeys;\n+    std::vector<COutPoint> input_outpoints;\n+    for (const CTxIn& txin : vin) {\n+        const Coin& coin = coins.at(txin.prevout);\n+        Assert(!coin.IsSpent());\n+        input_outpoints.emplace_back(txin.prevout);\n+\n+        std::vector<std::vector<unsigned char>> solutions;\n+        TxoutType type = Solver(coin.out.scriptPubKey, solutions);\n+        if (type == TxoutType::WITNESS_V1_TAPROOT) {\n+            // Check for H point in script path spend\n+            if (txin.scriptWitness.stack.size() > 1) {\n+                // Check for annex\n+                bool has_annex = txin.scriptWitness.stack.back()[0] == ANNEX_TAG;\n+                size_t post_annex_size = txin.scriptWitness.stack.size() - (has_annex ? 1 : 0);\n+                if (post_annex_size > 1) {\n+                    // Actually a script path spend\n+                    const std::vector<unsigned char>& control = txin.scriptWitness.stack.back();",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 95,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "644ff77be819a2dea15be0daad10fca8524a18f4",
      "in_reply_to_id": 1321964059,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2023-09-12T08:51:35Z",
      "updated_at": "2023-09-12T08:51:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322686496",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322686496"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 95,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322687900",
      "pull_request_review_id": 1621689539,
      "id": 1322687900,
      "node_id": "PRRC_kwDOABII585O1p2c",
      "diff_hunk": "@@ -64,6 +66,21 @@ class DestinationEncoder\n         return bech32::Encode(bech32::Encoding::BECH32M, m_params.Bech32HRP(), data);\n     }\n \n+    std::string operator()(const V0SilentPaymentDestination& sp) const\n+    {\n+        // The data_in is scan_pubkey + spend_pubkey\n+        std::vector<unsigned char> data_in = {};\n+        data_in.reserve(66);\n+        // Set 0 as the silent payments version\n+        std::vector<unsigned char> data_out = {0};\n+        data_out.reserve(67);",
      "path": "src/key_io.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "3235eb8c63ea055c68fdf59bb20afd6f06f294e4",
      "in_reply_to_id": 1321935455,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Fixed and added a comment",
      "created_at": "2023-09-12T08:51:51Z",
      "updated_at": "2023-09-12T08:51:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322687900",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322687900"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 76,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322710781",
      "pull_request_review_id": 1621717226,
      "id": 1322710781,
      "node_id": "PRRC_kwDOABII585O1vb9",
      "diff_hunk": "@@ -127,12 +146,29 @@ CTxDestination DecodeDestination(const std::string& str, const CChainParams& par\n     }\n \n     data.clear();\n-    const auto dec = bech32::Decode(str);\n+    const auto dec = bech32::Decode(str, is_silent_payment ? bech32::CharLimit::SILENT_PAYMENTS : bech32::CharLimit::SEGWIT);\n     if (dec.encoding == bech32::Encoding::BECH32 || dec.encoding == bech32::Encoding::BECH32M) {\n         if (dec.data.empty()) {\n             error_str = \"Empty Bech32 data section\";\n             return CNoDestination();\n         }\n+        if (is_silent_payment) {\n+            if (!ConvertBits<5, 8, false>([&](unsigned char c) { data.push_back(c); }, dec.data.begin() + 1, dec.data.end())) {\n+                return CNoDestination();\n+            }\n+            if (data.size() < SILENT_PAYMENT_V0_DATA_SIZE) {\n+                error_str = strprintf(\"Silent payment data payload is too small (expected at least %d, got %d).\", SILENT_PAYMENT_V0_DATA_SIZE, data.size());\n+                return CNoDestination();\n+            }\n+            auto version = dec.data[0];  // retrieve the version\n+            if (version == 0 && data.size() != SILENT_PAYMENT_V0_DATA_SIZE) {\n+                error_str = strprintf(\"Silent payment version is v0 but data is not the correct size (expected %d, got %d).\", SILENT_PAYMENT_V0_DATA_SIZE, data.size());\n+                return CNoDestination();\n+            }",
      "path": "src/key_io.cpp",
      "position": 71,
      "original_position": 65,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "3235eb8c63ea055c68fdf59bb20afd6f06f294e4",
      "in_reply_to_id": 1321932172,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Added a check for version >= 31",
      "created_at": "2023-09-12T08:59:48Z",
      "updated_at": "2023-09-12T08:59:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322710781",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322710781"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": 171,
      "original_start_line": 164,
      "start_side": "RIGHT",
      "line": 174,
      "original_line": 174,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322712121",
      "pull_request_review_id": 1621718896,
      "id": 1322712121,
      "node_id": "PRRC_kwDOABII585O1vw5",
      "diff_hunk": "@@ -256,6 +259,22 @@ std::optional<std::pair<XOnlyPubKey, bool>> XOnlyPubKey::CreateTapTweak(const ui\n     return ret;\n }\n \n+CPubKey CPubKey::TweakAdd(const unsigned char *tweak32) const\n+{\n+    secp256k1_pubkey original_pubkey;\n+    int return_val = secp256k1_ec_pubkey_parse(secp256k1_context_static, &original_pubkey, data(), size());\n+    assert(return_val);\n+\n+    return_val = secp256k1_ec_pubkey_tweak_add(secp256k1_context_static, &original_pubkey, tweak32);\n+    assert(return_val);\n+\n+    unsigned char pubkey_bytes[COMPRESSED_SIZE];\n+    size_t publen = COMPRESSED_SIZE;\n+    return_val = secp256k1_ec_pubkey_serialize(secp256k1_context_static, pubkey_bytes, &publen, &original_pubkey, SECP256K1_EC_COMPRESSED);\n+    assert(return_val);\n+\n+    return CPubKey(pubkey_bytes);",
      "path": "src/pubkey.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "7b9f48450738c42d934280881d9ff2dfb5419725",
      "in_reply_to_id": 1321926230,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Fixed, and also updated CKey::TweakAdd,TweakMultiply to return a bool (instead of an assert + void), as this better matches the CKey/CPubKey api",
      "created_at": "2023-09-12T09:00:36Z",
      "updated_at": "2023-09-12T09:00:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322712121",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322712121"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 276,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322766028",
      "pull_request_review_id": 1621803348,
      "id": 1322766028,
      "node_id": "PRRC_kwDOABII585O187M",
      "diff_hunk": "@@ -109,9 +117,14 @@ using CTxDestination = std::variant<CNoDestination, PKHash, ScriptHash, WitnessV\n bool IsValidDestination(const CTxDestination& dest);\n \n /**\n- * Parse a standard scriptPubKey for the destination address. Assigns result to\n- * the addressRet parameter and returns true if successful. Currently only works for P2PK,\n- * P2PKH, P2SH, P2WPKH, and P2WSH scripts.\n+ * Parse a scriptPubKey for the destination.\n+ *\n+ * For standard scripts that have addresses (and P2PK as an exception), a corresponding CTxDestination\n+ * is assigned to addressRet.\n+ * For all other scripts. addressRet is assigned as a CNoDestination containing the scriptPubKey.",
      "path": "src/addresstype.h",
      "position": null,
      "original_position": 54,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "621b1ca6fbdf66ccf9da84c38fcc3b18de9e95fe",
      "in_reply_to_id": 1322087391,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Oops, indeed! It might be a good idea to read PR descriptions before starting a review 😅 ",
      "created_at": "2023-09-12T09:42:58Z",
      "updated_at": "2023-09-12T09:42:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1322766028",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1322766028"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 172,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1323413818",
      "pull_request_review_id": 1622885912,
      "id": 1323413818,
      "node_id": "PRRC_kwDOABII585O4bE6",
      "diff_hunk": "@@ -0,0 +1,241 @@\n+#include <wallet/silentpayments.h>\n+#include <addresstype.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+#include <pubkey.h>\n+#include <policy/policy.h>\n+#include <script/sign.h>\n+#include <script/solver.h>\n+#include <util/check.h>\n+\n+namespace wallet {\n+\n+uint256 GenerateSilentPaymentChangeTweak(const CKey& scan_key)\n+{\n+    HashWriter hasher;\n+    hasher.write(scan_key);\n+    return hasher.GetSHA256();\n+}\n+\n+V0SilentPaymentDestination GenerateSilentPaymentLabeledAddress(const V0SilentPaymentDestination& receiver, const uint256& label)\n+{\n+    CPubKey labeled_spend_pubkey{receiver.m_spend_pubkey};\n+    labeled_spend_pubkey.TweakAdd(label.data());\n+    return V0SilentPaymentDestination{receiver.m_scan_pubkey, labeled_spend_pubkey};\n+}\n+\n+CPubKey ComputeECDHSharedSecret(const CKey& scan_key, const CPubKey& sender_public_key, const uint256& outpoints_hash)\n+{\n+    auto tweaked_scan_seckey{scan_key};\n+    tweaked_scan_seckey.TweakMultiply(outpoints_hash.begin());\n+    CPubKey result = tweaked_scan_seckey.UnhashedECDH(sender_public_key);\n+    assert(result.IsValid());\n+    return result;\n+}\n+\n+uint256 ComputeTweak(const CPubKey& ecdh_pubkey, const uint32_t output_index)\n+{\n+    HashWriter h;\n+    h.write(Span{ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    return h.GetSHA256();\n+}\n+\n+std::vector<uint256> GetTxOutputTweaks(const CPubKey& spend_pubkey, const CPubKey& ecdh_pubkey, std::vector<XOnlyPubKey> output_pub_keys)\n+{\n+    // Because a sender can create multiple outputs for us, we first check the outputs vector for an output with\n+    // output index 0. If we find it, we remove it from the vector and then iterate over the vector again looking for\n+    // an output with index 1, and so on until one of the following happens:\n+    //\n+    //     1. We have determined all outputs belong to us (the vector is empty)\n+    //     2. We have passed over the vector and found no outputs belonging to us\n+    //\n+\n+    bool removed;\n+    uint32_t output_index{0};\n+    std::vector<uint256> tweaks;\n+    do {\n+        // We haven't removed anything yet on this pass and if we don't remove anything, we didn't find\n+        // any silent payment outputs and should stop checking\n+        removed = false;\n+        uint256 tweak = ComputeTweak(ecdh_pubkey, output_index);\n+        CPubKey computed_sp_pubkey{spend_pubkey};\n+        computed_sp_pubkey.TweakAdd(tweak.data());\n+        const XOnlyPubKey& sp_pubkey = XOnlyPubKey{computed_sp_pubkey};\n+        //const CKey& silent_payment_priv_key = tweakResult.first;\n+        output_pub_keys.erase(std::remove_if(output_pub_keys.begin(), output_pub_keys.end(), [&](auto output_pubkey) {\n+            if (sp_pubkey == output_pubkey) {\n+                // Since we found an output, we need to increment the output index and check the vector again\n+                tweaks.emplace_back(tweak);\n+                removed = true;\n+                output_index++;\n+                // Return true so that this output pubkey is removed the from vector and not checked again\n+                return true;\n+            }\n+            return false;\n+        }), output_pub_keys.end());\n+    } while (!output_pub_keys.empty() && removed);\n+    return tweaks;\n+}\n+\n+std::vector<uint256> GetTxOutputTweaks(const CPubKey& spend_pubkey, const CPubKey& ecdh_pubkey, std::vector<XOnlyPubKey> output_pub_keys, const std::pair<uint256, CPubKey> change_label)\n+{\n+    // Scan first for any outputs to us, and then check if there is any change\n+    std::vector<uint256> tweaks = GetTxOutputTweaks(spend_pubkey, ecdh_pubkey, output_pub_keys);\n+    std::vector<uint256> labeled_tweaks = GetTxOutputTweaks(change_label.second, ecdh_pubkey, output_pub_keys);",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 92,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "93ff4ce117d4b85128dd55630d2dc9f8efbfb473",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 93ff4ce117d4b85128dd55630d2dc9f8efbfb473 \"Implement BIP352: Silent Payments\"\r\n\r\nIn the current receiving PR, `change_label` is a pair of the change label and it's corresponding curve point. However this is expecting it as the pair of the change label and the resulting spend pubkey.",
      "created_at": "2023-09-12T18:29:04Z",
      "updated_at": "2023-09-12T18:29:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1323413818",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1323413818"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 92,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1352780841",
      "pull_request_review_id": 1668088009,
      "id": 1352780841,
      "node_id": "PRRC_kwDOABII585Qocwp",
      "diff_hunk": "@@ -0,0 +1,172 @@\n+#include <addresstype.h>\n+#include <wallet/silentpayments.h>\n+#include <test/data/bip352_send_and_receive_vectors.json.h>\n+\n+#include <test/util/setup_common.h>\n+#include <hash.h>\n+\n+#include <boost/test/unit_test.hpp>\n+#include <test/util/json.h>\n+#include <vector>\n+#include <util/bip32.h>\n+#include <wallet/wallet.h>\n+\n+namespace wallet {\n+BOOST_FIXTURE_TEST_SUITE(silentpayment_tests, BasicTestingSetup)\n+\n+CKey ParseHexToCKey(std::string hex) {\n+    CKey output;\n+    std::vector<unsigned char> hex_data = ParseHex(hex);\n+    output.Set(hex_data.begin(), hex_data.end(), true);\n+    return output;\n+};\n+\n+CKey GetKeyFromBIP32Path(std::vector<std::byte> seed, std::vector<uint32_t> path)\n+{\n+    CExtKey key;\n+    key.SetSeed(seed);\n+    for (auto index : path) {\n+        BOOST_CHECK(key.Derive(key, index));\n+    }\n+    return key.key;\n+}\n+\n+BOOST_AUTO_TEST_CASE(bip352_send_and_receive_test_vectors)\n+{\n+    UniValue tests;\n+    tests.read(json_tests::bip352_send_and_receive_vectors);\n+\n+    for (const auto& vec : tests.getValues()) {\n+        // run sending tests\n+        BOOST_TEST_MESSAGE(vec[\"comment\"].get_str());\n+        for (const auto& sender : vec[\"sending\"].getValues()) {\n+            const UniValue& given = sender[\"given\"];\n+            const UniValue& expected = sender[\"expected\"];\n+\n+            std::vector<COutPoint> outpoints;\n+            for (const auto& outpoint : given[\"outpoints\"].getValues()) {\n+                outpoints.emplace_back(uint256S(outpoint[0].get_str()), outpoint[1].getInt<uint32_t>());\n+            }\n+\n+            std::vector<std::pair<CKey, bool>> sender_secret_keys;\n+            for (const auto& key : given[\"input_priv_keys\"].getValues()) {",
      "path": "src/wallet/test/silentpayment_tests.cpp",
      "position": null,
      "original_position": 52,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "30bbeb38047e020926065a407d5195b684377857",
      "in_reply_to_id": null,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "With current implementation, we can't have test vectors for sending that include non-eligible sp inputs. This is because we just sum all the private keys without checking if the input is eligible. I propose to extract eligibility checking as a function from `GetSilentPaymentsTweakDataFromTxInputs` so we can use it here in the unit test.",
      "created_at": "2023-10-10T15:16:22Z",
      "updated_at": "2023-10-10T15:16:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1352780841",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1352780841"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 52,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365267891",
      "pull_request_review_id": 1687287831,
      "id": 1365267891,
      "node_id": "PRRC_kwDOABII585RYFWz",
      "diff_hunk": "@@ -0,0 +1,294 @@\n+#include <wallet/silentpayments.h>\n+#include <addresstype.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+#include <pubkey.h>\n+#include <policy/policy.h>\n+#include <script/sign.h>\n+#include <script/solver.h>\n+#include <util/check.h>\n+\n+namespace wallet {\n+\n+uint256 GenerateSilentPaymentChangeTweak(const CKey& scan_key)\n+{\n+    HashWriter hasher;\n+    hasher.write(scan_key);\n+    return hasher.GetSHA256();\n+}\n+\n+V0SilentPaymentDestination GenerateSilentPaymentLabeledAddress(const V0SilentPaymentDestination& receiver, const uint256& label)\n+{\n+    CPubKey labeled_spend_pubkey{receiver.m_spend_pubkey};\n+    labeled_spend_pubkey.TweakAdd(label.data());\n+    return V0SilentPaymentDestination{receiver.m_scan_pubkey, labeled_spend_pubkey};\n+}\n+\n+CPubKey ComputeECDHSharedSecret(const CKey& scan_key, const CPubKey& sender_public_key, const uint256& outpoints_hash)\n+{\n+    CKey tweaked_scan_seckey{scan_key};\n+    tweaked_scan_seckey.TweakMultiply(outpoints_hash.begin());\n+    CPubKey result = tweaked_scan_seckey.UnhashedECDH(sender_public_key);\n+    assert(result.IsValid());\n+    return result;\n+}\n+\n+uint256 ComputeTweak(const CPubKey& ecdh_pubkey, const uint32_t output_index)\n+{\n+    HashWriter h;\n+    h.write(Span{ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    return h.GetSHA256();\n+}\n+\n+CPubKey CreateOutput(const CKey& ecdh_scalar, const CPubKey& scan_pubkey, const CPubKey& spend_pubkey, const uint32_t output_index)\n+{\n+    CPubKey ecdh_pubkey = ecdh_scalar.UnhashedECDH(scan_pubkey);\n+    HashWriter h;\n+    h.write(Span{ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    uint256 shared_secret = h.GetSHA256();\n+    CPubKey silent_payment_output{spend_pubkey};\n+    silent_payment_output.TweakAdd(shared_secret.begin());\n+    return silent_payment_output;\n+}\n+\n+CPubKey SumInputPubKeys(const std::vector<CPubKey>& pubkeys)\n+{\n+    CPubKey sum_pubkey{pubkeys.at(0)};\n+    if (pubkeys.size() == 1) return sum_pubkey;\n+    for (size_t i = 1; i < pubkeys.size(); i++) {\n+        sum_pubkey = sum_pubkey + pubkeys.at(i);\n+    }\n+    return sum_pubkey;\n+}\n+\n+CKey SumInputPrivKeys(const std::vector<std::pair<CKey, bool>>& sender_secret_keys)\n+{\n+    // Grab the first key, copy it to the accumulator, and negate if necessary\n+    const auto& [seckey, is_taproot] = sender_secret_keys.at(0);\n+    CKey sum_seckey{seckey};\n+    if (is_taproot && sum_seckey.GetPubKey()[0] == 3) sum_seckey.Negate();\n+    if (sender_secret_keys.size() == 1) return sum_seckey;\n+\n+    // If there are more keys, check if the key needs to be negated and add it to the accumulator\n+    for (size_t i = 1; i < sender_secret_keys.size(); i++) {\n+        const auto& [sender_seckey, sender_is_taproot] = sender_secret_keys.at(i);\n+        CKey temp_key{sender_seckey};\n+        if (sender_is_taproot && sender_seckey.GetPubKey()[0] == 3) {\n+            temp_key.Negate();\n+        }\n+        sum_seckey.TweakAdd(temp_key.begin());\n+    }\n+    return sum_seckey;\n+}\n+\n+CKey PrepareScalarECDHInput(const std::vector<std::pair<CKey, bool>>& sender_secret_keys, const std::vector<COutPoint>& tx_outpoints)\n+{\n+    CKey sum_input_secret_keys = SumInputPrivKeys(sender_secret_keys);\n+    uint256 outpoints_hash = HashOutpoints(tx_outpoints);\n+    sum_input_secret_keys.TweakMultiply(outpoints_hash.begin());\n+    return sum_input_secret_keys;\n+}\n+\n+std::map<size_t, WitnessV1Taproot> GenerateSilentPaymentTaprootDestinations(const CKey& ecdh_scalar, const std::map<size_t, V0SilentPaymentDestination>& sp_dests)\n+{\n+    std::map<CPubKey, std::vector<std::pair<CPubKey, size_t>>> sp_groups;\n+    std::map<size_t, WitnessV1Taproot> tr_dests;\n+\n+    for (const auto& [out_idx, sp_dest] : sp_dests) {\n+        sp_groups[sp_dest.m_scan_pubkey].emplace_back(sp_dest.m_spend_pubkey, out_idx);\n+    }\n+\n+    for (const auto& [scan_pubkey, spend_pubkeys] : sp_groups) {\n+        for (size_t i = 0; i < spend_pubkeys.size(); ++i) {\n+            const auto& [spend_pubkey, out_idx] = spend_pubkeys.at(i);\n+            tr_dests.emplace(out_idx, XOnlyPubKey{CreateOutput(ecdh_scalar, scan_pubkey, spend_pubkey, i)});\n+        }\n+    }\n+    return tr_dests;\n+}\n+\n+uint256 HashOutpoints(const std::vector<COutPoint>& tx_outpoints)\n+{\n+\n+    // Make a local copy of the outpoints so we can sort them before hashing.\n+    // This is to ensure the sender and receiver deterministically arrive at the same outpoint hash,\n+    // regardless of how the outpoints are ordered in the transaction.\n+\n+    std::vector<COutPoint> outpoints{tx_outpoints};\n+    std::sort(outpoints.begin(), outpoints.end());\n+\n+    HashWriter h;\n+    for (const auto& outpoint: outpoints) {\n+        h << outpoint;\n+    }\n+    return h.GetSHA256();\n+}\n+\n+std::vector<uint256> GetTxOutputTweaks(const CPubKey& spend_pubkey, const CPubKey& ecdh_pubkey, std::vector<XOnlyPubKey> output_pub_keys, const std::map<CPubKey, uint256>& labels)\n+{\n+    // Because a sender can create multiple outputs for us, we first check the outputs vector for an output with\n+    // output index 0. If we find it, we remove it from the vector and then iterate over the vector again looking for\n+    // an output with index 1, and so on until one of the following happens:\n+    //\n+    //     1. We have determined all outputs belong to us (the vector is empty)\n+    //     2. We have passed over the vector and found no outputs belonging to us\n+    //\n+\n+    // Define a convenience lambda for correctly combining uint256 tweak data\n+    auto combine_tweaks = [](const uint256& tweak, const uint256& label_tweak) -> uint256 {\n+        uint256 combined_tweaks;\n+        CKey tmp;\n+        tmp.Set(tweak.begin(), tweak.end(), /*fCompressedIn=*/true);\n+        tmp.TweakAdd(label_tweak.begin());\n+        std::copy(tmp.begin(), tmp.end(), combined_tweaks.begin());\n+        return combined_tweaks;\n+    };\n+\n+    bool keep_going;\n+    uint32_t k{0};\n+    std::vector<uint256> tweaks;\n+    do {\n+        // We haven't found anything yet on this pass and if we make to the end without finding any\n+        // silent payment outputs everything left in the vector is not for us, so we stop scanning.\n+        keep_going = false;\n+\n+        // t_k = hash(ecdh_shared_secret || k)\n+        uint256 t_k = ComputeTweak(ecdh_pubkey, k);\n+\n+        // Compute P_k = B_spend + t_k * G, convert P_k to a P2TR output\n+        CPubKey P_k{spend_pubkey};\n+        P_k.TweakAdd(t_k.data());\n+        const XOnlyPubKey& P_k_xonly = XOnlyPubKey{P_k};\n+\n+        // Scan the transaction outputs, only continue scanning if there is a match\n+        output_pub_keys.erase(std::remove_if(output_pub_keys.begin(), output_pub_keys.end(), [&](XOnlyPubKey output_pubkey) {\n+            bool found = P_k_xonly == output_pubkey;\n+            if (!found) {\n+                if (labels.size() < 3) {\n+                    // If we have less than 3 labels, it's cheaper to check by adding each label to each output.\n+                    // This ends up being at most N * 2 ECC additions, where N is the number of taproot outputs in the transaction.\n+                    // This is primarily for wallets that are only using a single label for generating silent payments change outputs.\n+                    for (const auto& [m_G, m] : labels) {\n+                        // Check P_k + m*G\n+                        CPubKey labeled_spend_key{P_k + m_G};\n+                        if (output_pubkey.ConvertToCompressedPubKey(/*even=*/true) == labeled_spend_key) {\n+                            t_k = combine_tweaks(t_k, m);\n+                            found = true;\n+                            break;\n+                        }\n+                        // If we don't find a label with the even output, also check the odd (negated) output\n+                        // Note: changing the parity byte from even to odd is not as expensive as negating an EC point\n+                        if (output_pubkey.ConvertToCompressedPubKey(/*even=*/false) == labeled_spend_key) {\n+                            t_k = combine_tweaks(t_k, m);\n+                            found = true;\n+                            break;\n+                        }\n+                    }\n+                } else {\n+                    // If we have 3 or more labels, checking via subtraction is cheaper.\n+                    // This ends up being at most N * 2 ECC operations (two subtractions) and a lookup in the labels map,\n+                    // where N is the number of taproot outputs in the transaction\n+                    std::map<CPubKey, uint256>::const_iterator it = labels.end();\n+                    // For an XOnlyPubKey, converting it to an odd compressed key is equivalent to negation.\n+                    // We use P_k_negated for subtraction: output + ( - P_k ),\n+                    // so first we need to check the parity byte of the compute P_K public key\n+                    bool parity = (P_k.begin()[0] == 0x02) ? true : false;\n+                    CPubKey P_k_negated = P_k_xonly.ConvertToCompressedPubKey(/*even=*/!parity);\n+                    it = labels.find(output_pubkey.ConvertToCompressedPubKey(/*even=*/true) + P_k_negated);\n+                    if (it == labels.end()) {\n+                        // If not found on the first try, negate the output and check again.\n+                        it = labels.find(output_pubkey.ConvertToCompressedPubKey(/*even=*/false) + P_k_negated);\n+                    }\n+                    if (it != labels.end()) {\n+                        t_k = combine_tweaks(t_k, it->second);\n+                        found = true;\n+                    }\n+                }\n+            }\n+            if (found) {\n+                // Since we found an output, we need to increment k and check the vector again\n+                tweaks.emplace_back(t_k);\n+                keep_going = true;\n+                k++;\n+                // Return true so that this output pubkey is removed the from vector and not checked again\n+                return true;\n+            }\n+            return false;\n+        }), output_pub_keys.end());\n+    } while (!output_pub_keys.empty() && keep_going);\n+    return tweaks;\n+}\n+\n+std::optional<std::pair<uint256, CPubKey>> GetSilentPaymentsTweakDataFromTxInputs(const std::vector<CTxIn>& vin, const std::map<COutPoint, Coin>& coins)",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 233,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "699577c91101b4be56bffcec4f0fa48f7d8916f0",
      "in_reply_to_id": null,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "According to the BIP we should skip the whole tx if there's unknown witness input. As currently, implemented it will silently skip just that input and attempt to proceed. I added a test vector for unknown witness version",
      "created_at": "2023-10-19T10:20:33Z",
      "updated_at": "2023-10-19T10:20:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1365267891",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365267891"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 233,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1464304643",
      "pull_request_review_id": 1840412491,
      "id": 1464304643,
      "node_id": "PRRC_kwDOABII585XR4QD",
      "diff_hunk": "@@ -0,0 +1,294 @@\n+#include <wallet/silentpayments.h>\n+#include <addresstype.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+#include <pubkey.h>\n+#include <policy/policy.h>\n+#include <script/sign.h>\n+#include <script/solver.h>\n+#include <util/check.h>\n+\n+namespace wallet {\n+\n+const HashWriter HASHER_INPUTS{TaggedHash(\"BIP0352/Inputs\")};\n+const HashWriter HASHER_LABEL{TaggedHash(\"BIP0352/Label\")};\n+const HashWriter HASHER_SHARED_SECRET{TaggedHash(\"BIP0352/SharedSecret\")};\n+\n+uint256 ComputeSilentPaymentLabelTweak(const CKey& scan_key, const int m)\n+{\n+    HashWriter h{HASHER_LABEL};\n+    unsigned char ser_m[4];\n+    WriteBE32(ser_m, m);\n+    h.write(scan_key);\n+    h << ser_m;\n+    return h.GetSHA256();\n+}\n+\n+// BIP0352/Inputs\n+uint256 ComputeInputHash(const std::vector<COutPoint>& tx_outpoints, const CPubKey& sum_input_pubkeys)\n+{\n+    HashWriter h{HASHER_INPUTS};\n+    auto min_outpoint = std::min_element(tx_outpoints.begin(), tx_outpoints.end());\n+\n+    // Take the hash of the minimum outpoint (lexicographically) concatenated with the sum of the input public keys\n+    h << *min_outpoint;\n+    // We need to use the h.write method here instead of the << method for pubkeys because << operator for pubkeys also\n+    // writes the byte size when serializing\n+    h.write(sum_input_pubkeys);\n+    return h.GetSHA256();\n+}\n+\n+uint256 ComputeTweak(const CPubKey& ecdh_pubkey, const uint32_t output_index)\n+{\n+    HashWriter h{HASHER_SHARED_SECRET};\n+    h.write(Span{ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    return h.GetSHA256();\n+}\n+\n+V0SilentPaymentDestination GenerateSilentPaymentLabeledAddress(const V0SilentPaymentDestination& receiver, const uint256& label)\n+{\n+    CPubKey labeled_spend_pubkey{receiver.m_spend_pubkey};\n+    labeled_spend_pubkey.TweakAdd(label.data());\n+    return V0SilentPaymentDestination{receiver.m_scan_pubkey, labeled_spend_pubkey};\n+}\n+\n+CPubKey ComputeECDHSharedSecret(const CKey& scan_key, const CPubKey& sender_public_key, const uint256& deterministic_nonce)\n+{\n+    CKey tweaked_scan_seckey{scan_key};\n+    tweaked_scan_seckey.TweakMultiply(deterministic_nonce.begin());\n+    CPubKey result = tweaked_scan_seckey.UnhashedECDH(sender_public_key);\n+    assert(result.IsValid());\n+    return result;\n+}\n+\n+CPubKey CreateOutput(const CKey& ecdh_scalar, const CPubKey& scan_pubkey, const CPubKey& spend_pubkey, const uint32_t output_index)\n+{\n+    CPubKey ecdh_pubkey = ecdh_scalar.UnhashedECDH(scan_pubkey);\n+    uint256 shared_secret = ComputeTweak(ecdh_pubkey, output_index);\n+    CPubKey silent_payment_output{spend_pubkey};\n+    silent_payment_output.TweakAdd(shared_secret.begin());\n+    return silent_payment_output;\n+}\n+\n+CPubKey SumInputPubKeys(const std::vector<CPubKey>& pubkeys)\n+{\n+    CPubKey sum_pubkey{pubkeys.at(0)};\n+    if (pubkeys.size() == 1) return sum_pubkey;\n+    for (size_t i = 1; i < pubkeys.size(); i++) {\n+        sum_pubkey = sum_pubkey + pubkeys.at(i);\n+    }\n+    return sum_pubkey;\n+}\n+\n+CKey SumInputPrivKeys(const std::vector<std::pair<CKey, bool>>& sender_secret_keys)\n+{\n+    // Grab the first key, copy it to the accumulator, and negate if necessary\n+    const auto& [seckey, is_taproot] = sender_secret_keys.at(0);\n+    CKey sum_seckey{seckey};\n+    if (is_taproot && sum_seckey.GetPubKey()[0] == 3) sum_seckey.Negate();\n+    if (sender_secret_keys.size() == 1) return sum_seckey;\n+\n+    // If there are more keys, check if the key needs to be negated and add it to the accumulator\n+    for (size_t i = 1; i < sender_secret_keys.size(); i++) {\n+        const auto& [sender_seckey, sender_is_taproot] = sender_secret_keys.at(i);\n+        CKey temp_key{sender_seckey};\n+        if (sender_is_taproot && sender_seckey.GetPubKey()[0] == 3) {\n+            temp_key.Negate();\n+        }\n+        sum_seckey.TweakAdd(UCharCast(temp_key.begin()));\n+    }\n+    return sum_seckey;\n+}\n+\n+CKey PrepareScalarECDHInput(const std::vector<std::pair<CKey, bool>>& sender_secret_keys, const std::vector<COutPoint>& tx_outpoints)\n+{\n+    CKey sum_input_secret_keys = SumInputPrivKeys(sender_secret_keys);\n+    CPubKey sum_input_pubkeys = sum_input_secret_keys.GetPubKey();\n+    uint256 input_hash = ComputeInputHash(tx_outpoints, sum_input_pubkeys);\n+    sum_input_secret_keys.TweakMultiply(input_hash.begin());\n+    return sum_input_secret_keys;\n+}\n+\n+std::map<size_t, WitnessV1Taproot> GenerateSilentPaymentTaprootDestinations(const CKey& ecdh_scalar, const std::map<size_t, V0SilentPaymentDestination>& sp_dests)\n+{\n+    std::map<CPubKey, std::vector<std::pair<CPubKey, size_t>>> sp_groups;\n+    std::map<size_t, WitnessV1Taproot> tr_dests;\n+\n+    for (const auto& [out_idx, sp_dest] : sp_dests) {\n+        sp_groups[sp_dest.m_scan_pubkey].emplace_back(sp_dest.m_spend_pubkey, out_idx);\n+    }\n+\n+    for (const auto& [scan_pubkey, spend_pubkeys] : sp_groups) {\n+        for (size_t i = 0; i < spend_pubkeys.size(); ++i) {\n+            const auto& [spend_pubkey, out_idx] = spend_pubkeys.at(i);\n+            tr_dests.emplace(out_idx, XOnlyPubKey{CreateOutput(ecdh_scalar, scan_pubkey, spend_pubkey, i)});\n+        }\n+    }\n+    return tr_dests;\n+}\n+\n+std::vector<uint256> GetTxOutputTweaks(const CPubKey& spend_pubkey, const CPubKey& ecdh_pubkey, std::vector<XOnlyPubKey> output_pub_keys, const std::map<CPubKey, uint256>& labels)\n+{\n+    // Because a sender can create multiple outputs for us, we first check the outputs vector for an output with\n+    // output index 0. If we find it, we remove it from the vector and then iterate over the vector again looking for\n+    // an output with index 1, and so on until one of the following happens:\n+    //\n+    //     1. We have determined all outputs belong to us (the vector is empty)\n+    //     2. We have passed over the vector and found no outputs belonging to us\n+    //\n+\n+    // Define a convenience lambda for correctly combining uint256 tweak data\n+    auto combine_tweaks = [](const uint256& tweak, const uint256& label_tweak) -> uint256 {\n+        uint256 combined_tweaks;\n+        CKey tmp;\n+        tmp.Set(tweak.begin(), tweak.end(), /*fCompressedIn=*/true);\n+        tmp.TweakAdd(label_tweak.begin());\n+        std::copy(UCharCast(tmp.begin()), UCharCast(tmp.end()), combined_tweaks.begin());\n+        return combined_tweaks;\n+    };\n+\n+    bool keep_going;\n+    uint32_t k{0};\n+    std::vector<uint256> tweaks;\n+    do {\n+        // We haven't found anything yet on this pass and if we make to the end without finding any\n+        // silent payment outputs everything left in the vector is not for us, so we stop scanning.\n+        keep_going = false;\n+\n+        // t_k = hash(ecdh_shared_secret || k)\n+        uint256 t_k = ComputeTweak(ecdh_pubkey, k);\n+\n+        // Compute P_k = B_spend + t_k * G, convert P_k to a P2TR output\n+        CPubKey P_k{spend_pubkey};\n+        P_k.TweakAdd(t_k.data());\n+        const XOnlyPubKey& P_k_xonly = XOnlyPubKey{P_k};\n+\n+        // Scan the transaction outputs, only continue scanning if there is a match\n+        output_pub_keys.erase(std::remove_if(output_pub_keys.begin(), output_pub_keys.end(), [&](XOnlyPubKey output_pubkey) {\n+            bool found = P_k_xonly == output_pubkey;\n+            if (!found) {\n+                if (labels.size() < 3) {\n+                    // If we have less than 3 labels, it's cheaper to check by adding each label to each output.\n+                    // This ends up being at most N * 2 ECC additions, where N is the number of taproot outputs in the transaction.\n+                    // This is primarily for wallets that are only using a single label for generating silent payments change outputs.\n+                    for (const auto& [m_G, m] : labels) {\n+                        // Check P_k + m*G\n+                        CPubKey labeled_spend_key{P_k + m_G};\n+                        if (output_pubkey.ConvertToCompressedPubKey(/*even=*/true) == labeled_spend_key) {\n+                            t_k = combine_tweaks(t_k, m);\n+                            found = true;\n+                            break;\n+                        }\n+                        // If we don't find a label with the even output, also check the odd (negated) output\n+                        // Note: changing the parity byte from even to odd is not as expensive as negating an EC point\n+                        if (output_pubkey.ConvertToCompressedPubKey(/*even=*/false) == labeled_spend_key) {\n+                            t_k = combine_tweaks(t_k, m);\n+                            found = true;\n+                            break;\n+                        }\n+                    }\n+                } else {\n+                    // If we have 3 or more labels, checking via subtraction is cheaper.\n+                    // This ends up being at most N * 2 ECC operations (two subtractions) and a lookup in the labels map,\n+                    // where N is the number of taproot outputs in the transaction\n+                    std::map<CPubKey, uint256>::const_iterator it = labels.end();\n+                    // For an XOnlyPubKey, converting it to an odd compressed key is equivalent to negation.\n+                    // We use P_k_negated for subtraction: output + ( - P_k ),\n+                    // so first we need to check the parity byte of the compute P_K public key\n+                    bool parity = (P_k.begin()[0] == 0x02) ? true : false;\n+                    CPubKey P_k_negated = P_k_xonly.ConvertToCompressedPubKey(/*even=*/!parity);\n+                    it = labels.find(output_pubkey.ConvertToCompressedPubKey(/*even=*/true) + P_k_negated);\n+                    if (it == labels.end()) {\n+                        // If not found on the first try, negate the output and check again.\n+                        it = labels.find(output_pubkey.ConvertToCompressedPubKey(/*even=*/false) + P_k_negated);\n+                    }\n+                    if (it != labels.end()) {\n+                        t_k = combine_tweaks(t_k, it->second);\n+                        found = true;\n+                    }\n+                }\n+            }\n+            if (found) {\n+                // Since we found an output, we need to increment k and check the vector again\n+                tweaks.emplace_back(t_k);\n+                keep_going = true;\n+                k++;\n+                // Return true so that this output pubkey is removed the from vector and not checked again\n+                return true;\n+            }\n+            return false;\n+        }), output_pub_keys.end());\n+    } while (!output_pub_keys.empty() && keep_going);\n+    return tweaks;\n+}\n+\n+std::optional<std::pair<uint256, CPubKey>> GetSilentPaymentTweakDataFromTxInputs(const std::vector<CTxIn>& vin, const std::map<COutPoint, Coin>& coins)\n+{\n+    // Extract the keys from the inputs\n+    // or skip if no valid inputs\n+    std::vector<CPubKey> input_pubkeys;\n+    std::vector<COutPoint> input_outpoints;\n+    for (const CTxIn& txin : vin) {\n+        const Coin& coin = coins.at(txin.prevout);\n+        Assert(!coin.IsSpent());\n+        input_outpoints.emplace_back(txin.prevout);\n+\n+        std::vector<std::vector<unsigned char>> solutions;\n+        TxoutType type = Solver(coin.out.scriptPubKey, solutions);\n+        if (type == TxoutType::WITNESS_V1_TAPROOT) {\n+            // Check for H point in script path spend\n+            if (txin.scriptWitness.stack.size() > 1) {\n+                // Check for annex\n+                bool has_annex = txin.scriptWitness.stack.back()[0] == ANNEX_TAG;\n+                size_t post_annex_size = txin.scriptWitness.stack.size() - (has_annex ? 1 : 0);\n+                if (post_annex_size > 1) {\n+                    // Actually a script path spend\n+                    const std::vector<unsigned char>& control = txin.scriptWitness.stack.at(post_annex_size - 1);\n+                    Assert(control.size() >= 33);\n+                    if (std::equal(NUMS_H.begin(), NUMS_H.end(), control.begin() + 1)) {\n+                        // Skip script path with H internal key\n+                        continue;\n+                    }\n+                }\n+            }\n+\n+            std::vector<unsigned char> pubkey;\n+            pubkey.resize(33);\n+            pubkey[0] = 0x02;\n+            std::copy(solutions[0].begin(), solutions[0].end(), pubkey.begin() + 1);\n+            input_pubkeys.emplace_back(pubkey);\n+        } else if (type == TxoutType::WITNESS_V0_KEYHASH) {\n+            input_pubkeys.emplace_back(txin.scriptWitness.stack.back());\n+        } else if (type == TxoutType::PUBKEYHASH || type == TxoutType::SCRIPTHASH) {\n+            // Use the script interpreter to get the stack after executing the scriptSig\n+            std::vector<std::vector<unsigned char>> stack;\n+            ScriptError serror;\n+            Assert(EvalScript(stack, txin.scriptSig, MANDATORY_SCRIPT_VERIFY_FLAGS, DUMMY_CHECKER, SigVersion::BASE, &serror));\n+            if (type == TxoutType::PUBKEYHASH) {\n+                input_pubkeys.emplace_back(stack.back());\n+            } else if (type == TxoutType::SCRIPTHASH) {\n+                // Check if the redeemScript is P2WPKH\n+                CScript redeem_script{stack.back().begin(), stack.back().end()};\n+                TxoutType rs_type = Solver(redeem_script, solutions);\n+                if (rs_type == TxoutType::WITNESS_V0_KEYHASH) {",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 281,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "5e04b72b4c450e0f025fa0acf1bf68a74ed65210",
      "in_reply_to_id": null,
      "user": {
        "login": "Eunovo",
        "id": 37949128,
        "node_id": "MDQ6VXNlcjM3OTQ5MTI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/37949128?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Eunovo",
        "html_url": "https://github.com/Eunovo",
        "followers_url": "https://api.github.com/users/Eunovo/followers",
        "following_url": "https://api.github.com/users/Eunovo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Eunovo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Eunovo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Eunovo/subscriptions",
        "organizations_url": "https://api.github.com/users/Eunovo/orgs",
        "repos_url": "https://api.github.com/users/Eunovo/repos",
        "events_url": "https://api.github.com/users/Eunovo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Eunovo/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "@josibake p2sh-p2pkh or p2sh-p2pk are not addressed in the BIP. While I understand they are not commonly used scripts but `Solver(redeem_script, solutions)` can still detect p2pkh or p2pk in the redeem_script, so, they are technically \"Standard\". Is there anything against adding support for these scripts? assuming that we ignore non-standard or malleated p2pkh in the redeem script",
      "created_at": "2024-01-24T04:51:14Z",
      "updated_at": "2024-01-24T04:51:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1464304643",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1464304643"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 281,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1465282827",
      "pull_request_review_id": 1841945113,
      "id": 1465282827,
      "node_id": "PRRC_kwDOABII585XVnEL",
      "diff_hunk": "@@ -0,0 +1,294 @@\n+#include <wallet/silentpayments.h>\n+#include <addresstype.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+#include <pubkey.h>\n+#include <policy/policy.h>\n+#include <script/sign.h>\n+#include <script/solver.h>\n+#include <util/check.h>\n+\n+namespace wallet {\n+\n+const HashWriter HASHER_INPUTS{TaggedHash(\"BIP0352/Inputs\")};\n+const HashWriter HASHER_LABEL{TaggedHash(\"BIP0352/Label\")};\n+const HashWriter HASHER_SHARED_SECRET{TaggedHash(\"BIP0352/SharedSecret\")};\n+\n+uint256 ComputeSilentPaymentLabelTweak(const CKey& scan_key, const int m)\n+{\n+    HashWriter h{HASHER_LABEL};\n+    unsigned char ser_m[4];\n+    WriteBE32(ser_m, m);\n+    h.write(scan_key);\n+    h << ser_m;\n+    return h.GetSHA256();\n+}\n+\n+// BIP0352/Inputs\n+uint256 ComputeInputHash(const std::vector<COutPoint>& tx_outpoints, const CPubKey& sum_input_pubkeys)\n+{\n+    HashWriter h{HASHER_INPUTS};\n+    auto min_outpoint = std::min_element(tx_outpoints.begin(), tx_outpoints.end());\n+\n+    // Take the hash of the minimum outpoint (lexicographically) concatenated with the sum of the input public keys\n+    h << *min_outpoint;\n+    // We need to use the h.write method here instead of the << method for pubkeys because << operator for pubkeys also\n+    // writes the byte size when serializing\n+    h.write(sum_input_pubkeys);\n+    return h.GetSHA256();\n+}\n+\n+uint256 ComputeTweak(const CPubKey& ecdh_pubkey, const uint32_t output_index)\n+{\n+    HashWriter h{HASHER_SHARED_SECRET};\n+    h.write(Span{ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    return h.GetSHA256();\n+}\n+\n+V0SilentPaymentDestination GenerateSilentPaymentLabeledAddress(const V0SilentPaymentDestination& receiver, const uint256& label)\n+{\n+    CPubKey labeled_spend_pubkey{receiver.m_spend_pubkey};\n+    labeled_spend_pubkey.TweakAdd(label.data());\n+    return V0SilentPaymentDestination{receiver.m_scan_pubkey, labeled_spend_pubkey};\n+}\n+\n+CPubKey ComputeECDHSharedSecret(const CKey& scan_key, const CPubKey& sender_public_key, const uint256& deterministic_nonce)\n+{\n+    CKey tweaked_scan_seckey{scan_key};\n+    tweaked_scan_seckey.TweakMultiply(deterministic_nonce.begin());\n+    CPubKey result = tweaked_scan_seckey.UnhashedECDH(sender_public_key);\n+    assert(result.IsValid());\n+    return result;\n+}\n+\n+CPubKey CreateOutput(const CKey& ecdh_scalar, const CPubKey& scan_pubkey, const CPubKey& spend_pubkey, const uint32_t output_index)\n+{\n+    CPubKey ecdh_pubkey = ecdh_scalar.UnhashedECDH(scan_pubkey);\n+    uint256 shared_secret = ComputeTweak(ecdh_pubkey, output_index);\n+    CPubKey silent_payment_output{spend_pubkey};\n+    silent_payment_output.TweakAdd(shared_secret.begin());\n+    return silent_payment_output;\n+}\n+\n+CPubKey SumInputPubKeys(const std::vector<CPubKey>& pubkeys)\n+{\n+    CPubKey sum_pubkey{pubkeys.at(0)};\n+    if (pubkeys.size() == 1) return sum_pubkey;\n+    for (size_t i = 1; i < pubkeys.size(); i++) {\n+        sum_pubkey = sum_pubkey + pubkeys.at(i);\n+    }\n+    return sum_pubkey;\n+}\n+\n+CKey SumInputPrivKeys(const std::vector<std::pair<CKey, bool>>& sender_secret_keys)\n+{\n+    // Grab the first key, copy it to the accumulator, and negate if necessary\n+    const auto& [seckey, is_taproot] = sender_secret_keys.at(0);\n+    CKey sum_seckey{seckey};\n+    if (is_taproot && sum_seckey.GetPubKey()[0] == 3) sum_seckey.Negate();\n+    if (sender_secret_keys.size() == 1) return sum_seckey;\n+\n+    // If there are more keys, check if the key needs to be negated and add it to the accumulator\n+    for (size_t i = 1; i < sender_secret_keys.size(); i++) {\n+        const auto& [sender_seckey, sender_is_taproot] = sender_secret_keys.at(i);\n+        CKey temp_key{sender_seckey};\n+        if (sender_is_taproot && sender_seckey.GetPubKey()[0] == 3) {\n+            temp_key.Negate();\n+        }\n+        sum_seckey.TweakAdd(UCharCast(temp_key.begin()));\n+    }\n+    return sum_seckey;\n+}\n+\n+CKey PrepareScalarECDHInput(const std::vector<std::pair<CKey, bool>>& sender_secret_keys, const std::vector<COutPoint>& tx_outpoints)\n+{\n+    CKey sum_input_secret_keys = SumInputPrivKeys(sender_secret_keys);\n+    CPubKey sum_input_pubkeys = sum_input_secret_keys.GetPubKey();\n+    uint256 input_hash = ComputeInputHash(tx_outpoints, sum_input_pubkeys);\n+    sum_input_secret_keys.TweakMultiply(input_hash.begin());\n+    return sum_input_secret_keys;\n+}\n+\n+std::map<size_t, WitnessV1Taproot> GenerateSilentPaymentTaprootDestinations(const CKey& ecdh_scalar, const std::map<size_t, V0SilentPaymentDestination>& sp_dests)\n+{\n+    std::map<CPubKey, std::vector<std::pair<CPubKey, size_t>>> sp_groups;\n+    std::map<size_t, WitnessV1Taproot> tr_dests;\n+\n+    for (const auto& [out_idx, sp_dest] : sp_dests) {\n+        sp_groups[sp_dest.m_scan_pubkey].emplace_back(sp_dest.m_spend_pubkey, out_idx);\n+    }\n+\n+    for (const auto& [scan_pubkey, spend_pubkeys] : sp_groups) {\n+        for (size_t i = 0; i < spend_pubkeys.size(); ++i) {\n+            const auto& [spend_pubkey, out_idx] = spend_pubkeys.at(i);\n+            tr_dests.emplace(out_idx, XOnlyPubKey{CreateOutput(ecdh_scalar, scan_pubkey, spend_pubkey, i)});\n+        }\n+    }\n+    return tr_dests;\n+}\n+\n+std::vector<uint256> GetTxOutputTweaks(const CPubKey& spend_pubkey, const CPubKey& ecdh_pubkey, std::vector<XOnlyPubKey> output_pub_keys, const std::map<CPubKey, uint256>& labels)\n+{\n+    // Because a sender can create multiple outputs for us, we first check the outputs vector for an output with\n+    // output index 0. If we find it, we remove it from the vector and then iterate over the vector again looking for\n+    // an output with index 1, and so on until one of the following happens:\n+    //\n+    //     1. We have determined all outputs belong to us (the vector is empty)\n+    //     2. We have passed over the vector and found no outputs belonging to us\n+    //\n+\n+    // Define a convenience lambda for correctly combining uint256 tweak data\n+    auto combine_tweaks = [](const uint256& tweak, const uint256& label_tweak) -> uint256 {\n+        uint256 combined_tweaks;\n+        CKey tmp;\n+        tmp.Set(tweak.begin(), tweak.end(), /*fCompressedIn=*/true);\n+        tmp.TweakAdd(label_tweak.begin());\n+        std::copy(UCharCast(tmp.begin()), UCharCast(tmp.end()), combined_tweaks.begin());\n+        return combined_tweaks;\n+    };\n+\n+    bool keep_going;\n+    uint32_t k{0};\n+    std::vector<uint256> tweaks;\n+    do {\n+        // We haven't found anything yet on this pass and if we make to the end without finding any\n+        // silent payment outputs everything left in the vector is not for us, so we stop scanning.\n+        keep_going = false;\n+\n+        // t_k = hash(ecdh_shared_secret || k)\n+        uint256 t_k = ComputeTweak(ecdh_pubkey, k);\n+\n+        // Compute P_k = B_spend + t_k * G, convert P_k to a P2TR output\n+        CPubKey P_k{spend_pubkey};\n+        P_k.TweakAdd(t_k.data());\n+        const XOnlyPubKey& P_k_xonly = XOnlyPubKey{P_k};\n+\n+        // Scan the transaction outputs, only continue scanning if there is a match\n+        output_pub_keys.erase(std::remove_if(output_pub_keys.begin(), output_pub_keys.end(), [&](XOnlyPubKey output_pubkey) {\n+            bool found = P_k_xonly == output_pubkey;\n+            if (!found) {\n+                if (labels.size() < 3) {\n+                    // If we have less than 3 labels, it's cheaper to check by adding each label to each output.\n+                    // This ends up being at most N * 2 ECC additions, where N is the number of taproot outputs in the transaction.\n+                    // This is primarily for wallets that are only using a single label for generating silent payments change outputs.\n+                    for (const auto& [m_G, m] : labels) {\n+                        // Check P_k + m*G\n+                        CPubKey labeled_spend_key{P_k + m_G};\n+                        if (output_pubkey.ConvertToCompressedPubKey(/*even=*/true) == labeled_spend_key) {\n+                            t_k = combine_tweaks(t_k, m);\n+                            found = true;\n+                            break;\n+                        }\n+                        // If we don't find a label with the even output, also check the odd (negated) output\n+                        // Note: changing the parity byte from even to odd is not as expensive as negating an EC point\n+                        if (output_pubkey.ConvertToCompressedPubKey(/*even=*/false) == labeled_spend_key) {\n+                            t_k = combine_tweaks(t_k, m);\n+                            found = true;\n+                            break;\n+                        }\n+                    }\n+                } else {\n+                    // If we have 3 or more labels, checking via subtraction is cheaper.\n+                    // This ends up being at most N * 2 ECC operations (two subtractions) and a lookup in the labels map,\n+                    // where N is the number of taproot outputs in the transaction\n+                    std::map<CPubKey, uint256>::const_iterator it = labels.end();\n+                    // For an XOnlyPubKey, converting it to an odd compressed key is equivalent to negation.\n+                    // We use P_k_negated for subtraction: output + ( - P_k ),\n+                    // so first we need to check the parity byte of the compute P_K public key\n+                    bool parity = (P_k.begin()[0] == 0x02) ? true : false;\n+                    CPubKey P_k_negated = P_k_xonly.ConvertToCompressedPubKey(/*even=*/!parity);\n+                    it = labels.find(output_pubkey.ConvertToCompressedPubKey(/*even=*/true) + P_k_negated);\n+                    if (it == labels.end()) {\n+                        // If not found on the first try, negate the output and check again.\n+                        it = labels.find(output_pubkey.ConvertToCompressedPubKey(/*even=*/false) + P_k_negated);\n+                    }\n+                    if (it != labels.end()) {\n+                        t_k = combine_tweaks(t_k, it->second);\n+                        found = true;\n+                    }\n+                }\n+            }\n+            if (found) {\n+                // Since we found an output, we need to increment k and check the vector again\n+                tweaks.emplace_back(t_k);\n+                keep_going = true;\n+                k++;\n+                // Return true so that this output pubkey is removed the from vector and not checked again\n+                return true;\n+            }\n+            return false;\n+        }), output_pub_keys.end());\n+    } while (!output_pub_keys.empty() && keep_going);\n+    return tweaks;\n+}\n+\n+std::optional<std::pair<uint256, CPubKey>> GetSilentPaymentTweakDataFromTxInputs(const std::vector<CTxIn>& vin, const std::map<COutPoint, Coin>& coins)\n+{\n+    // Extract the keys from the inputs\n+    // or skip if no valid inputs\n+    std::vector<CPubKey> input_pubkeys;\n+    std::vector<COutPoint> input_outpoints;\n+    for (const CTxIn& txin : vin) {\n+        const Coin& coin = coins.at(txin.prevout);\n+        Assert(!coin.IsSpent());\n+        input_outpoints.emplace_back(txin.prevout);\n+\n+        std::vector<std::vector<unsigned char>> solutions;\n+        TxoutType type = Solver(coin.out.scriptPubKey, solutions);\n+        if (type == TxoutType::WITNESS_V1_TAPROOT) {\n+            // Check for H point in script path spend\n+            if (txin.scriptWitness.stack.size() > 1) {\n+                // Check for annex\n+                bool has_annex = txin.scriptWitness.stack.back()[0] == ANNEX_TAG;\n+                size_t post_annex_size = txin.scriptWitness.stack.size() - (has_annex ? 1 : 0);\n+                if (post_annex_size > 1) {\n+                    // Actually a script path spend\n+                    const std::vector<unsigned char>& control = txin.scriptWitness.stack.at(post_annex_size - 1);\n+                    Assert(control.size() >= 33);\n+                    if (std::equal(NUMS_H.begin(), NUMS_H.end(), control.begin() + 1)) {\n+                        // Skip script path with H internal key\n+                        continue;\n+                    }\n+                }\n+            }\n+\n+            std::vector<unsigned char> pubkey;\n+            pubkey.resize(33);\n+            pubkey[0] = 0x02;\n+            std::copy(solutions[0].begin(), solutions[0].end(), pubkey.begin() + 1);\n+            input_pubkeys.emplace_back(pubkey);\n+        } else if (type == TxoutType::WITNESS_V0_KEYHASH) {\n+            input_pubkeys.emplace_back(txin.scriptWitness.stack.back());\n+        } else if (type == TxoutType::PUBKEYHASH || type == TxoutType::SCRIPTHASH) {\n+            // Use the script interpreter to get the stack after executing the scriptSig\n+            std::vector<std::vector<unsigned char>> stack;\n+            ScriptError serror;\n+            Assert(EvalScript(stack, txin.scriptSig, MANDATORY_SCRIPT_VERIFY_FLAGS, DUMMY_CHECKER, SigVersion::BASE, &serror));\n+            if (type == TxoutType::PUBKEYHASH) {\n+                input_pubkeys.emplace_back(stack.back());\n+            } else if (type == TxoutType::SCRIPTHASH) {\n+                // Check if the redeemScript is P2WPKH\n+                CScript redeem_script{stack.back().begin(), stack.back().end()};\n+                TxoutType rs_type = Solver(redeem_script, solutions);\n+                if (rs_type == TxoutType::WITNESS_V0_KEYHASH) {",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 281,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "5e04b72b4c450e0f025fa0acf1bf68a74ed65210",
      "in_reply_to_id": 1464304643,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The goal is not to support every possible script. Rather, we want to limit it to a sane subset to avoid technical debt and keep the implementation simple. In fact, the only reason for including `P2PKH` at all is due to the fact it is still widely used and makes up a significant percentage of the UTXO set, otherwise we would have only allowed Segwit script templates as this gives us non-malleability guarantees.\r\n\r\n",
      "created_at": "2024-01-24T17:08:13Z",
      "updated_at": "2024-01-24T17:08:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1465282827",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1465282827"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 281,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1465892947",
      "pull_request_review_id": 1842917337,
      "id": 1465892947,
      "node_id": "PRRC_kwDOABII585XX8BT",
      "diff_hunk": "@@ -0,0 +1,294 @@\n+#include <wallet/silentpayments.h>\n+#include <addresstype.h>\n+#include <arith_uint256.h>\n+#include <coins.h>\n+#include <crypto/common.h>\n+#include <crypto/hmac_sha512.h>\n+#include <key_io.h>\n+#include <undo.h>\n+#include <logging.h>\n+#include <pubkey.h>\n+#include <policy/policy.h>\n+#include <script/sign.h>\n+#include <script/solver.h>\n+#include <util/check.h>\n+\n+namespace wallet {\n+\n+const HashWriter HASHER_INPUTS{TaggedHash(\"BIP0352/Inputs\")};\n+const HashWriter HASHER_LABEL{TaggedHash(\"BIP0352/Label\")};\n+const HashWriter HASHER_SHARED_SECRET{TaggedHash(\"BIP0352/SharedSecret\")};\n+\n+uint256 ComputeSilentPaymentLabelTweak(const CKey& scan_key, const int m)\n+{\n+    HashWriter h{HASHER_LABEL};\n+    unsigned char ser_m[4];\n+    WriteBE32(ser_m, m);\n+    h.write(scan_key);\n+    h << ser_m;\n+    return h.GetSHA256();\n+}\n+\n+// BIP0352/Inputs\n+uint256 ComputeInputHash(const std::vector<COutPoint>& tx_outpoints, const CPubKey& sum_input_pubkeys)\n+{\n+    HashWriter h{HASHER_INPUTS};\n+    auto min_outpoint = std::min_element(tx_outpoints.begin(), tx_outpoints.end());\n+\n+    // Take the hash of the minimum outpoint (lexicographically) concatenated with the sum of the input public keys\n+    h << *min_outpoint;\n+    // We need to use the h.write method here instead of the << method for pubkeys because << operator for pubkeys also\n+    // writes the byte size when serializing\n+    h.write(sum_input_pubkeys);\n+    return h.GetSHA256();\n+}\n+\n+uint256 ComputeTweak(const CPubKey& ecdh_pubkey, const uint32_t output_index)\n+{\n+    HashWriter h{HASHER_SHARED_SECRET};\n+    h.write(Span{ecdh_pubkey});\n+    unsigned char num[4];\n+    WriteBE32(num, output_index);\n+    h << num;\n+    return h.GetSHA256();\n+}\n+\n+V0SilentPaymentDestination GenerateSilentPaymentLabeledAddress(const V0SilentPaymentDestination& receiver, const uint256& label)\n+{\n+    CPubKey labeled_spend_pubkey{receiver.m_spend_pubkey};\n+    labeled_spend_pubkey.TweakAdd(label.data());\n+    return V0SilentPaymentDestination{receiver.m_scan_pubkey, labeled_spend_pubkey};\n+}\n+\n+CPubKey ComputeECDHSharedSecret(const CKey& scan_key, const CPubKey& sender_public_key, const uint256& deterministic_nonce)\n+{\n+    CKey tweaked_scan_seckey{scan_key};\n+    tweaked_scan_seckey.TweakMultiply(deterministic_nonce.begin());\n+    CPubKey result = tweaked_scan_seckey.UnhashedECDH(sender_public_key);\n+    assert(result.IsValid());\n+    return result;\n+}\n+\n+CPubKey CreateOutput(const CKey& ecdh_scalar, const CPubKey& scan_pubkey, const CPubKey& spend_pubkey, const uint32_t output_index)\n+{\n+    CPubKey ecdh_pubkey = ecdh_scalar.UnhashedECDH(scan_pubkey);\n+    uint256 shared_secret = ComputeTweak(ecdh_pubkey, output_index);\n+    CPubKey silent_payment_output{spend_pubkey};\n+    silent_payment_output.TweakAdd(shared_secret.begin());\n+    return silent_payment_output;\n+}\n+\n+CPubKey SumInputPubKeys(const std::vector<CPubKey>& pubkeys)\n+{\n+    CPubKey sum_pubkey{pubkeys.at(0)};\n+    if (pubkeys.size() == 1) return sum_pubkey;\n+    for (size_t i = 1; i < pubkeys.size(); i++) {\n+        sum_pubkey = sum_pubkey + pubkeys.at(i);\n+    }\n+    return sum_pubkey;\n+}\n+\n+CKey SumInputPrivKeys(const std::vector<std::pair<CKey, bool>>& sender_secret_keys)\n+{\n+    // Grab the first key, copy it to the accumulator, and negate if necessary\n+    const auto& [seckey, is_taproot] = sender_secret_keys.at(0);\n+    CKey sum_seckey{seckey};\n+    if (is_taproot && sum_seckey.GetPubKey()[0] == 3) sum_seckey.Negate();\n+    if (sender_secret_keys.size() == 1) return sum_seckey;\n+\n+    // If there are more keys, check if the key needs to be negated and add it to the accumulator\n+    for (size_t i = 1; i < sender_secret_keys.size(); i++) {\n+        const auto& [sender_seckey, sender_is_taproot] = sender_secret_keys.at(i);\n+        CKey temp_key{sender_seckey};\n+        if (sender_is_taproot && sender_seckey.GetPubKey()[0] == 3) {\n+            temp_key.Negate();\n+        }\n+        sum_seckey.TweakAdd(UCharCast(temp_key.begin()));\n+    }\n+    return sum_seckey;\n+}\n+\n+CKey PrepareScalarECDHInput(const std::vector<std::pair<CKey, bool>>& sender_secret_keys, const std::vector<COutPoint>& tx_outpoints)\n+{\n+    CKey sum_input_secret_keys = SumInputPrivKeys(sender_secret_keys);\n+    CPubKey sum_input_pubkeys = sum_input_secret_keys.GetPubKey();\n+    uint256 input_hash = ComputeInputHash(tx_outpoints, sum_input_pubkeys);\n+    sum_input_secret_keys.TweakMultiply(input_hash.begin());\n+    return sum_input_secret_keys;\n+}\n+\n+std::map<size_t, WitnessV1Taproot> GenerateSilentPaymentTaprootDestinations(const CKey& ecdh_scalar, const std::map<size_t, V0SilentPaymentDestination>& sp_dests)\n+{\n+    std::map<CPubKey, std::vector<std::pair<CPubKey, size_t>>> sp_groups;\n+    std::map<size_t, WitnessV1Taproot> tr_dests;\n+\n+    for (const auto& [out_idx, sp_dest] : sp_dests) {\n+        sp_groups[sp_dest.m_scan_pubkey].emplace_back(sp_dest.m_spend_pubkey, out_idx);\n+    }\n+\n+    for (const auto& [scan_pubkey, spend_pubkeys] : sp_groups) {\n+        for (size_t i = 0; i < spend_pubkeys.size(); ++i) {\n+            const auto& [spend_pubkey, out_idx] = spend_pubkeys.at(i);\n+            tr_dests.emplace(out_idx, XOnlyPubKey{CreateOutput(ecdh_scalar, scan_pubkey, spend_pubkey, i)});\n+        }\n+    }\n+    return tr_dests;\n+}\n+\n+std::vector<uint256> GetTxOutputTweaks(const CPubKey& spend_pubkey, const CPubKey& ecdh_pubkey, std::vector<XOnlyPubKey> output_pub_keys, const std::map<CPubKey, uint256>& labels)\n+{\n+    // Because a sender can create multiple outputs for us, we first check the outputs vector for an output with\n+    // output index 0. If we find it, we remove it from the vector and then iterate over the vector again looking for\n+    // an output with index 1, and so on until one of the following happens:\n+    //\n+    //     1. We have determined all outputs belong to us (the vector is empty)\n+    //     2. We have passed over the vector and found no outputs belonging to us\n+    //\n+\n+    // Define a convenience lambda for correctly combining uint256 tweak data\n+    auto combine_tweaks = [](const uint256& tweak, const uint256& label_tweak) -> uint256 {\n+        uint256 combined_tweaks;\n+        CKey tmp;\n+        tmp.Set(tweak.begin(), tweak.end(), /*fCompressedIn=*/true);\n+        tmp.TweakAdd(label_tweak.begin());\n+        std::copy(UCharCast(tmp.begin()), UCharCast(tmp.end()), combined_tweaks.begin());\n+        return combined_tweaks;\n+    };\n+\n+    bool keep_going;\n+    uint32_t k{0};\n+    std::vector<uint256> tweaks;\n+    do {\n+        // We haven't found anything yet on this pass and if we make to the end without finding any\n+        // silent payment outputs everything left in the vector is not for us, so we stop scanning.\n+        keep_going = false;\n+\n+        // t_k = hash(ecdh_shared_secret || k)\n+        uint256 t_k = ComputeTweak(ecdh_pubkey, k);\n+\n+        // Compute P_k = B_spend + t_k * G, convert P_k to a P2TR output\n+        CPubKey P_k{spend_pubkey};\n+        P_k.TweakAdd(t_k.data());\n+        const XOnlyPubKey& P_k_xonly = XOnlyPubKey{P_k};\n+\n+        // Scan the transaction outputs, only continue scanning if there is a match\n+        output_pub_keys.erase(std::remove_if(output_pub_keys.begin(), output_pub_keys.end(), [&](XOnlyPubKey output_pubkey) {\n+            bool found = P_k_xonly == output_pubkey;\n+            if (!found) {\n+                if (labels.size() < 3) {\n+                    // If we have less than 3 labels, it's cheaper to check by adding each label to each output.\n+                    // This ends up being at most N * 2 ECC additions, where N is the number of taproot outputs in the transaction.\n+                    // This is primarily for wallets that are only using a single label for generating silent payments change outputs.\n+                    for (const auto& [m_G, m] : labels) {\n+                        // Check P_k + m*G\n+                        CPubKey labeled_spend_key{P_k + m_G};\n+                        if (output_pubkey.ConvertToCompressedPubKey(/*even=*/true) == labeled_spend_key) {\n+                            t_k = combine_tweaks(t_k, m);\n+                            found = true;\n+                            break;\n+                        }\n+                        // If we don't find a label with the even output, also check the odd (negated) output\n+                        // Note: changing the parity byte from even to odd is not as expensive as negating an EC point\n+                        if (output_pubkey.ConvertToCompressedPubKey(/*even=*/false) == labeled_spend_key) {\n+                            t_k = combine_tweaks(t_k, m);\n+                            found = true;\n+                            break;\n+                        }\n+                    }\n+                } else {\n+                    // If we have 3 or more labels, checking via subtraction is cheaper.\n+                    // This ends up being at most N * 2 ECC operations (two subtractions) and a lookup in the labels map,\n+                    // where N is the number of taproot outputs in the transaction\n+                    std::map<CPubKey, uint256>::const_iterator it = labels.end();\n+                    // For an XOnlyPubKey, converting it to an odd compressed key is equivalent to negation.\n+                    // We use P_k_negated for subtraction: output + ( - P_k ),\n+                    // so first we need to check the parity byte of the compute P_K public key\n+                    bool parity = (P_k.begin()[0] == 0x02) ? true : false;\n+                    CPubKey P_k_negated = P_k_xonly.ConvertToCompressedPubKey(/*even=*/!parity);\n+                    it = labels.find(output_pubkey.ConvertToCompressedPubKey(/*even=*/true) + P_k_negated);\n+                    if (it == labels.end()) {\n+                        // If not found on the first try, negate the output and check again.\n+                        it = labels.find(output_pubkey.ConvertToCompressedPubKey(/*even=*/false) + P_k_negated);\n+                    }\n+                    if (it != labels.end()) {\n+                        t_k = combine_tweaks(t_k, it->second);\n+                        found = true;\n+                    }\n+                }\n+            }\n+            if (found) {\n+                // Since we found an output, we need to increment k and check the vector again\n+                tweaks.emplace_back(t_k);\n+                keep_going = true;\n+                k++;\n+                // Return true so that this output pubkey is removed the from vector and not checked again\n+                return true;\n+            }\n+            return false;\n+        }), output_pub_keys.end());\n+    } while (!output_pub_keys.empty() && keep_going);\n+    return tweaks;\n+}\n+\n+std::optional<std::pair<uint256, CPubKey>> GetSilentPaymentTweakDataFromTxInputs(const std::vector<CTxIn>& vin, const std::map<COutPoint, Coin>& coins)\n+{\n+    // Extract the keys from the inputs\n+    // or skip if no valid inputs\n+    std::vector<CPubKey> input_pubkeys;\n+    std::vector<COutPoint> input_outpoints;\n+    for (const CTxIn& txin : vin) {\n+        const Coin& coin = coins.at(txin.prevout);\n+        Assert(!coin.IsSpent());\n+        input_outpoints.emplace_back(txin.prevout);\n+\n+        std::vector<std::vector<unsigned char>> solutions;\n+        TxoutType type = Solver(coin.out.scriptPubKey, solutions);\n+        if (type == TxoutType::WITNESS_V1_TAPROOT) {\n+            // Check for H point in script path spend\n+            if (txin.scriptWitness.stack.size() > 1) {\n+                // Check for annex\n+                bool has_annex = txin.scriptWitness.stack.back()[0] == ANNEX_TAG;\n+                size_t post_annex_size = txin.scriptWitness.stack.size() - (has_annex ? 1 : 0);\n+                if (post_annex_size > 1) {\n+                    // Actually a script path spend\n+                    const std::vector<unsigned char>& control = txin.scriptWitness.stack.at(post_annex_size - 1);\n+                    Assert(control.size() >= 33);\n+                    if (std::equal(NUMS_H.begin(), NUMS_H.end(), control.begin() + 1)) {\n+                        // Skip script path with H internal key\n+                        continue;\n+                    }\n+                }\n+            }\n+\n+            std::vector<unsigned char> pubkey;\n+            pubkey.resize(33);\n+            pubkey[0] = 0x02;\n+            std::copy(solutions[0].begin(), solutions[0].end(), pubkey.begin() + 1);\n+            input_pubkeys.emplace_back(pubkey);\n+        } else if (type == TxoutType::WITNESS_V0_KEYHASH) {\n+            input_pubkeys.emplace_back(txin.scriptWitness.stack.back());\n+        } else if (type == TxoutType::PUBKEYHASH || type == TxoutType::SCRIPTHASH) {\n+            // Use the script interpreter to get the stack after executing the scriptSig\n+            std::vector<std::vector<unsigned char>> stack;\n+            ScriptError serror;\n+            Assert(EvalScript(stack, txin.scriptSig, MANDATORY_SCRIPT_VERIFY_FLAGS, DUMMY_CHECKER, SigVersion::BASE, &serror));\n+            if (type == TxoutType::PUBKEYHASH) {\n+                input_pubkeys.emplace_back(stack.back());\n+            } else if (type == TxoutType::SCRIPTHASH) {\n+                // Check if the redeemScript is P2WPKH\n+                CScript redeem_script{stack.back().begin(), stack.back().end()};\n+                TxoutType rs_type = Solver(redeem_script, solutions);\n+                if (rs_type == TxoutType::WITNESS_V0_KEYHASH) {",
      "path": "src/wallet/silentpayments.cpp",
      "position": null,
      "original_position": 281,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "5e04b72b4c450e0f025fa0acf1bf68a74ed65210",
      "in_reply_to_id": 1464304643,
      "user": {
        "login": "Eunovo",
        "id": 37949128,
        "node_id": "MDQ6VXNlcjM3OTQ5MTI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/37949128?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Eunovo",
        "html_url": "https://github.com/Eunovo",
        "followers_url": "https://api.github.com/users/Eunovo/followers",
        "following_url": "https://api.github.com/users/Eunovo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Eunovo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Eunovo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Eunovo/subscriptions",
        "organizations_url": "https://api.github.com/users/Eunovo/orgs",
        "repos_url": "https://api.github.com/users/Eunovo/repos",
        "events_url": "https://api.github.com/users/Eunovo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Eunovo/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Understood. Thanks for clearing that up @josibake ",
      "created_at": "2024-01-25T06:20:15Z",
      "updated_at": "2024-01-25T06:20:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1465892947",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1465892947"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 281,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1472465541",
      "pull_request_review_id": 1853145226,
      "id": 1472465541,
      "node_id": "PRRC_kwDOABII585XxAqF",
      "diff_hunk": "@@ -0,0 +1,178 @@\n+#ifndef BITCOIN_WALLET_SILENTPAYMENTS_H\n+#define BITCOIN_WALLET_SILENTPAYMENTS_H\n+\n+#include <addresstype.h>\n+#include <coins.h>\n+#include <key_io.h>\n+#include <undo.h>\n+\n+namespace wallet {\n+\n+/**\n+ * @brief Compute the ECDH public key for the shared secret.\n+ *\n+ * @param seckey      The private key. This private key is either the receiver's scan key or the\n+ *                    sum of the sender's input private keys (excluding inputs not eligible for\n+ *                    shared secret derivation).\n+ * @param pubkey      The public key. This public key is either the receiver's scan public key or the\n+ *                    sum of the sender's input public keys (excluding inputs not eligible for\n+ *                    shared secret derivation).\n+ * @param inputs_hash The tagged hash of hash of the smallest outpoint and sum of the eligible\n+ *                    input public keys.\n+ * @return CPubKey    The ECDH public key. This ECDH result is unhashed and should not be used\n+ *                    outside of silent payments.\n+ */\n+CPubKey ComputeECDH(const CKey& seckey, const CPubKey& pubkey, const uint256& inputs_hash);\n+\n+/**\n+ * @brief Compute the tagged hash of the smallest outpoint and the sum of the eligible input public keys.\n+ *\n+ * The \"Inputs Hash\" is used as a nonce to prevent the same outputs being generated when a sender\n+ * is reusing the same inputs in multiple payments to the same recipient. The smallest outpoint\n+ * works as a deterministic nonce because an outpoint uniquely identifies a UTXO and thus is unique\n+ * for each transaction.\n+ *\n+ * @param tx_outpoints      The transaction outpoints.\n+ * @param sum_input_pubkeys The sum of the eligible input public keys.\n+ * @return uint256          The computed hash value.\n+ *\n+ * @see ComputeInputsHash(const std::vector<COutPoint>& tx_outpoints, const CPubKey& sum_input_pubkeys);\n+ */\n+uint256 ComputeInputsHash(const std::vector<COutPoint>& tx_outpoints, const CPubKey& sum_input_pubkeys);\n+\n+/**\n+ * @brief Compute the shared secret tweak.\n+ *\n+ * In a single transaction, a sender can create multiple outputs for the same recipient. To prevent\n+ * needing to do an ECDH for each output, the ECDH public key is calculated once for the transaction\n+ * and then hashed with the counter k. The outputs must be created sequentially starting with `k=0`.\n+ *\n+ * @param ecdh_pubkey The ECDH public key.\n+ * @param k The output counter.\n+ * @return uint256 The shared secret tweak for output_k.\n+ */\n+uint256 ComputeSharedSecretTweak(const CPubKey& ecdh_pubkey, const uint32_t k);\n+\n+/**\n+ * @brief Compute the silent payment label tweak.\n+ *\n+ * The receiving wallet may hand out labeled silent payment addresses to determine the origin of a payment.\n+ * Labels are specified by hashing the receivers scan key with a counter m. `m=0` is reserved for generating\n+ * change outputs for the receiver. Additional labels can be specified starting from `m=1`. The counter m\n+ * is hashed with the secret scan key to prevent an external observer from learning anything about the\n+ * receiver's labels.\n+ *\n+ * It is strongly recommended labels be created sequentially starting from `m=1`. Doing so ensures that\n+ * label data is not critical for backups, as the receiving wallet can pregenerate labels starting from 1\n+ * up to some sufficiently large M when recovering from a backup.\n+ *\n+ * @param scan_key The secret scan key.\n+ * @param m Integer representing the \"m-th\" label. m=0 is reserved for the change output.\n+ * @return uint256 The computed silent payment label tweak.\n+ */\n+uint256 ComputeSilentPaymentLabelTweak(const CKey& scan_key, const int m);\n+\n+/**\n+ * @brief Generate a silent payment labeled address.\n+ *\n+ * @param receiver The receiver's silent payment destination (i.e. scan and spend public keys).\n+ * @param label The label tweak\n+ * @return V0SilentPaymentDestination The slient payment destination, with `B_spend -> B_spend + label * G`.\n+ *\n+ * @see ComputeSilentPaymentLabelTweak(const CKey& scan_key, const int m);\n+ */\n+V0SilentPaymentDestination GenerateSilentPaymentLabeledAddress(const V0SilentPaymentDestination& receiver, const uint256& label);\n+\n+/**\n+ * @brief Generate silent payment taproot destinations.\n+ *\n+ * Given a set of silent payment destinations, generate the requested number of outputs. If a silent payment\n+ * destination is repeated, this indicates multiple outputs are requested for the same recipient. The silent payment\n+ * desintaions are passed in map where the key indicates their desired position in the final tx.vout array.",
      "path": "src/wallet/silentpayments.h",
      "position": null,
      "original_position": 91,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "de7dd3aaf64bc9812ac4c30994ee6fbb5695e953",
      "in_reply_to_id": null,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Not sure protocol implementation needs to now about the position in tx.vout array. AFAIK, output calculation doesn't depend on the position. Have you considered passing destinations one by one together with the counter if a destination is repeated?",
      "created_at": "2024-01-31T08:30:49Z",
      "updated_at": "2024-01-31T08:36:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1472465541",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1472465541"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1472466841",
      "pull_request_review_id": 1853145226,
      "id": 1472466841,
      "node_id": "PRRC_kwDOABII585XxA-Z",
      "diff_hunk": "@@ -0,0 +1,178 @@\n+#ifndef BITCOIN_WALLET_SILENTPAYMENTS_H\n+#define BITCOIN_WALLET_SILENTPAYMENTS_H\n+\n+#include <addresstype.h>\n+#include <coins.h>\n+#include <key_io.h>\n+#include <undo.h>\n+\n+namespace wallet {\n+\n+/**\n+ * @brief Compute the ECDH public key for the shared secret.\n+ *\n+ * @param seckey      The private key. This private key is either the receiver's scan key or the\n+ *                    sum of the sender's input private keys (excluding inputs not eligible for\n+ *                    shared secret derivation).\n+ * @param pubkey      The public key. This public key is either the receiver's scan public key or the\n+ *                    sum of the sender's input public keys (excluding inputs not eligible for\n+ *                    shared secret derivation).\n+ * @param inputs_hash The tagged hash of hash of the smallest outpoint and sum of the eligible\n+ *                    input public keys.\n+ * @return CPubKey    The ECDH public key. This ECDH result is unhashed and should not be used\n+ *                    outside of silent payments.\n+ */\n+CPubKey ComputeECDH(const CKey& seckey, const CPubKey& pubkey, const uint256& inputs_hash);\n+\n+/**\n+ * @brief Compute the tagged hash of the smallest outpoint and the sum of the eligible input public keys.\n+ *\n+ * The \"Inputs Hash\" is used as a nonce to prevent the same outputs being generated when a sender\n+ * is reusing the same inputs in multiple payments to the same recipient. The smallest outpoint\n+ * works as a deterministic nonce because an outpoint uniquely identifies a UTXO and thus is unique\n+ * for each transaction.\n+ *\n+ * @param tx_outpoints      The transaction outpoints.\n+ * @param sum_input_pubkeys The sum of the eligible input public keys.\n+ * @return uint256          The computed hash value.\n+ *\n+ * @see ComputeInputsHash(const std::vector<COutPoint>& tx_outpoints, const CPubKey& sum_input_pubkeys);\n+ */\n+uint256 ComputeInputsHash(const std::vector<COutPoint>& tx_outpoints, const CPubKey& sum_input_pubkeys);\n+\n+/**\n+ * @brief Compute the shared secret tweak.\n+ *\n+ * In a single transaction, a sender can create multiple outputs for the same recipient. To prevent\n+ * needing to do an ECDH for each output, the ECDH public key is calculated once for the transaction\n+ * and then hashed with the counter k. The outputs must be created sequentially starting with `k=0`.\n+ *\n+ * @param ecdh_pubkey The ECDH public key.\n+ * @param k The output counter.\n+ * @return uint256 The shared secret tweak for output_k.\n+ */\n+uint256 ComputeSharedSecretTweak(const CPubKey& ecdh_pubkey, const uint32_t k);\n+\n+/**\n+ * @brief Compute the silent payment label tweak.\n+ *\n+ * The receiving wallet may hand out labeled silent payment addresses to determine the origin of a payment.\n+ * Labels are specified by hashing the receivers scan key with a counter m. `m=0` is reserved for generating\n+ * change outputs for the receiver. Additional labels can be specified starting from `m=1`. The counter m\n+ * is hashed with the secret scan key to prevent an external observer from learning anything about the\n+ * receiver's labels.\n+ *\n+ * It is strongly recommended labels be created sequentially starting from `m=1`. Doing so ensures that\n+ * label data is not critical for backups, as the receiving wallet can pregenerate labels starting from 1\n+ * up to some sufficiently large M when recovering from a backup.\n+ *\n+ * @param scan_key The secret scan key.\n+ * @param m Integer representing the \"m-th\" label. m=0 is reserved for the change output.\n+ * @return uint256 The computed silent payment label tweak.\n+ */\n+uint256 ComputeSilentPaymentLabelTweak(const CKey& scan_key, const int m);\n+\n+/**\n+ * @brief Generate a silent payment labeled address.\n+ *\n+ * @param receiver The receiver's silent payment destination (i.e. scan and spend public keys).\n+ * @param label The label tweak\n+ * @return V0SilentPaymentDestination The slient payment destination, with `B_spend -> B_spend + label * G`.\n+ *\n+ * @see ComputeSilentPaymentLabelTweak(const CKey& scan_key, const int m);\n+ */\n+V0SilentPaymentDestination GenerateSilentPaymentLabeledAddress(const V0SilentPaymentDestination& receiver, const uint256& label);\n+\n+/**\n+ * @brief Generate silent payment taproot destinations.\n+ *\n+ * Given a set of silent payment destinations, generate the requested number of outputs. If a silent payment\n+ * destination is repeated, this indicates multiple outputs are requested for the same recipient. The silent payment\n+ * desintaions are passed in map where the key indicates their desired position in the final tx.vout array.\n+ *\n+ * @param seckey      The private key. This private key is either the receiver's scan key or the\n+ *                    sum of the sender's input private keys (excluding inputs not eligible for\n+ *                    shared secret derivation).\n+ * @param inputs_hash The tagged hash of hash of the smallest outpoint and sum of the eligible\n+ *                    input public keys.\n+ * @param sp_dests    The silent payment destinations.\n+ * @return std::map<size_t, WitnessV1Taproot> The generated silent payment taproot destinations.\n+ *\n+ * @see ComputeInputsHash(const std::vector<COutPoint>& tx_outpoints, const CPubKey& sum_input_pubkeys);\n+ */\n+std::map<size_t, WitnessV1Taproot> GenerateSilentPaymentTaprootDestinations(const CKey& seckey, const uint256& inputs_hash, const std::map<size_t, V0SilentPaymentDestination>& sp_dests);\n+\n+/**\n+ * @brief Get silent payment tweak data from transaction inputs.\n+ *\n+ * Get the necessary data from the transaction inputs to be able to scan the transaction outputs for silent payment outputs.\n+ * This requires knowledge of the prevout scriptPubKey, which is passed via `coins`.\n+ *\n+ * If the transaction has silent payment eligible inputs, the public keys from these inputs are returned as a sum along with",
      "path": "src/wallet/silentpayments.h",
      "position": null,
      "original_position": 111,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "de7dd3aaf64bc9812ac4c30994ee6fbb5695e953",
      "in_reply_to_id": null,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I'm too dumb to understand why do we need to return sum on input pubkeys together with the input hash. Does it have something to do with index and light clients?",
      "created_at": "2024-01-31T08:32:01Z",
      "updated_at": "2024-01-31T08:36:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1472466841",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1472466841"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 49,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1472650551",
      "pull_request_review_id": 1853449668,
      "id": 1472650551,
      "node_id": "PRRC_kwDOABII585Xxt03",
      "diff_hunk": "@@ -0,0 +1,178 @@\n+#ifndef BITCOIN_WALLET_SILENTPAYMENTS_H\n+#define BITCOIN_WALLET_SILENTPAYMENTS_H\n+\n+#include <addresstype.h>\n+#include <coins.h>\n+#include <key_io.h>\n+#include <undo.h>\n+\n+namespace wallet {\n+\n+/**\n+ * @brief Compute the ECDH public key for the shared secret.\n+ *\n+ * @param seckey      The private key. This private key is either the receiver's scan key or the\n+ *                    sum of the sender's input private keys (excluding inputs not eligible for\n+ *                    shared secret derivation).\n+ * @param pubkey      The public key. This public key is either the receiver's scan public key or the\n+ *                    sum of the sender's input public keys (excluding inputs not eligible for\n+ *                    shared secret derivation).\n+ * @param inputs_hash The tagged hash of hash of the smallest outpoint and sum of the eligible\n+ *                    input public keys.\n+ * @return CPubKey    The ECDH public key. This ECDH result is unhashed and should not be used\n+ *                    outside of silent payments.\n+ */\n+CPubKey ComputeECDH(const CKey& seckey, const CPubKey& pubkey, const uint256& inputs_hash);\n+\n+/**\n+ * @brief Compute the tagged hash of the smallest outpoint and the sum of the eligible input public keys.\n+ *\n+ * The \"Inputs Hash\" is used as a nonce to prevent the same outputs being generated when a sender\n+ * is reusing the same inputs in multiple payments to the same recipient. The smallest outpoint\n+ * works as a deterministic nonce because an outpoint uniquely identifies a UTXO and thus is unique\n+ * for each transaction.\n+ *\n+ * @param tx_outpoints      The transaction outpoints.\n+ * @param sum_input_pubkeys The sum of the eligible input public keys.\n+ * @return uint256          The computed hash value.\n+ *\n+ * @see ComputeInputsHash(const std::vector<COutPoint>& tx_outpoints, const CPubKey& sum_input_pubkeys);\n+ */\n+uint256 ComputeInputsHash(const std::vector<COutPoint>& tx_outpoints, const CPubKey& sum_input_pubkeys);\n+\n+/**\n+ * @brief Compute the shared secret tweak.\n+ *\n+ * In a single transaction, a sender can create multiple outputs for the same recipient. To prevent\n+ * needing to do an ECDH for each output, the ECDH public key is calculated once for the transaction\n+ * and then hashed with the counter k. The outputs must be created sequentially starting with `k=0`.\n+ *\n+ * @param ecdh_pubkey The ECDH public key.\n+ * @param k The output counter.\n+ * @return uint256 The shared secret tweak for output_k.\n+ */\n+uint256 ComputeSharedSecretTweak(const CPubKey& ecdh_pubkey, const uint32_t k);\n+\n+/**\n+ * @brief Compute the silent payment label tweak.\n+ *\n+ * The receiving wallet may hand out labeled silent payment addresses to determine the origin of a payment.\n+ * Labels are specified by hashing the receivers scan key with a counter m. `m=0` is reserved for generating\n+ * change outputs for the receiver. Additional labels can be specified starting from `m=1`. The counter m\n+ * is hashed with the secret scan key to prevent an external observer from learning anything about the\n+ * receiver's labels.\n+ *\n+ * It is strongly recommended labels be created sequentially starting from `m=1`. Doing so ensures that\n+ * label data is not critical for backups, as the receiving wallet can pregenerate labels starting from 1\n+ * up to some sufficiently large M when recovering from a backup.\n+ *\n+ * @param scan_key The secret scan key.\n+ * @param m Integer representing the \"m-th\" label. m=0 is reserved for the change output.\n+ * @return uint256 The computed silent payment label tweak.\n+ */\n+uint256 ComputeSilentPaymentLabelTweak(const CKey& scan_key, const int m);\n+\n+/**\n+ * @brief Generate a silent payment labeled address.\n+ *\n+ * @param receiver The receiver's silent payment destination (i.e. scan and spend public keys).\n+ * @param label The label tweak\n+ * @return V0SilentPaymentDestination The slient payment destination, with `B_spend -> B_spend + label * G`.\n+ *\n+ * @see ComputeSilentPaymentLabelTweak(const CKey& scan_key, const int m);\n+ */\n+V0SilentPaymentDestination GenerateSilentPaymentLabeledAddress(const V0SilentPaymentDestination& receiver, const uint256& label);\n+\n+/**\n+ * @brief Generate silent payment taproot destinations.\n+ *\n+ * Given a set of silent payment destinations, generate the requested number of outputs. If a silent payment\n+ * destination is repeated, this indicates multiple outputs are requested for the same recipient. The silent payment\n+ * desintaions are passed in map where the key indicates their desired position in the final tx.vout array.\n+ *\n+ * @param seckey      The private key. This private key is either the receiver's scan key or the\n+ *                    sum of the sender's input private keys (excluding inputs not eligible for\n+ *                    shared secret derivation).\n+ * @param inputs_hash The tagged hash of hash of the smallest outpoint and sum of the eligible\n+ *                    input public keys.\n+ * @param sp_dests    The silent payment destinations.\n+ * @return std::map<size_t, WitnessV1Taproot> The generated silent payment taproot destinations.\n+ *\n+ * @see ComputeInputsHash(const std::vector<COutPoint>& tx_outpoints, const CPubKey& sum_input_pubkeys);\n+ */\n+std::map<size_t, WitnessV1Taproot> GenerateSilentPaymentTaprootDestinations(const CKey& seckey, const uint256& inputs_hash, const std::map<size_t, V0SilentPaymentDestination>& sp_dests);\n+\n+/**\n+ * @brief Get silent payment tweak data from transaction inputs.\n+ *\n+ * Get the necessary data from the transaction inputs to be able to scan the transaction outputs for silent payment outputs.\n+ * This requires knowledge of the prevout scriptPubKey, which is passed via `coins`.\n+ *\n+ * If the transaction has silent payment eligible inputs, the public keys from these inputs are returned as a sum along with",
      "path": "src/wallet/silentpayments.h",
      "position": null,
      "original_position": 111,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "de7dd3aaf64bc9812ac4c30994ee6fbb5695e953",
      "in_reply_to_id": 1472466841,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Yep! There are two ways to use this data:\r\n\r\n1. Immediately, as `(b_scan * input_hash) * sum_input_pubkeys`. This is one scalar multiplication and one EC multiplication.\r\n2. Store it for later (either for wallet re-scans or to serve to light clients), as `input_hash * sum_input_pubkeys`. This is one EC multiplication and allows us to store all of the input data needed as 33 bytes.\r\n\r\nIf the function instead returned `input_hash * sum_input_pubkeys`, we would end up doing two EC multiplications for case 1 (i.e. `(input_hash * sum_input_pubkeys) * b_scan`)",
      "created_at": "2024-01-31T10:53:11Z",
      "updated_at": "2024-01-31T10:53:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1472650551",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1472650551"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 49,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1472778222",
      "pull_request_review_id": 1853655718,
      "id": 1472778222,
      "node_id": "PRRC_kwDOABII585XyM_u",
      "diff_hunk": "@@ -0,0 +1,178 @@\n+#ifndef BITCOIN_WALLET_SILENTPAYMENTS_H\n+#define BITCOIN_WALLET_SILENTPAYMENTS_H\n+\n+#include <addresstype.h>\n+#include <coins.h>\n+#include <key_io.h>\n+#include <undo.h>\n+\n+namespace wallet {\n+\n+/**\n+ * @brief Compute the ECDH public key for the shared secret.\n+ *\n+ * @param seckey      The private key. This private key is either the receiver's scan key or the\n+ *                    sum of the sender's input private keys (excluding inputs not eligible for\n+ *                    shared secret derivation).\n+ * @param pubkey      The public key. This public key is either the receiver's scan public key or the\n+ *                    sum of the sender's input public keys (excluding inputs not eligible for\n+ *                    shared secret derivation).\n+ * @param inputs_hash The tagged hash of hash of the smallest outpoint and sum of the eligible\n+ *                    input public keys.\n+ * @return CPubKey    The ECDH public key. This ECDH result is unhashed and should not be used\n+ *                    outside of silent payments.\n+ */\n+CPubKey ComputeECDH(const CKey& seckey, const CPubKey& pubkey, const uint256& inputs_hash);\n+\n+/**\n+ * @brief Compute the tagged hash of the smallest outpoint and the sum of the eligible input public keys.\n+ *\n+ * The \"Inputs Hash\" is used as a nonce to prevent the same outputs being generated when a sender\n+ * is reusing the same inputs in multiple payments to the same recipient. The smallest outpoint\n+ * works as a deterministic nonce because an outpoint uniquely identifies a UTXO and thus is unique\n+ * for each transaction.\n+ *\n+ * @param tx_outpoints      The transaction outpoints.\n+ * @param sum_input_pubkeys The sum of the eligible input public keys.\n+ * @return uint256          The computed hash value.\n+ *\n+ * @see ComputeInputsHash(const std::vector<COutPoint>& tx_outpoints, const CPubKey& sum_input_pubkeys);\n+ */\n+uint256 ComputeInputsHash(const std::vector<COutPoint>& tx_outpoints, const CPubKey& sum_input_pubkeys);\n+\n+/**\n+ * @brief Compute the shared secret tweak.\n+ *\n+ * In a single transaction, a sender can create multiple outputs for the same recipient. To prevent\n+ * needing to do an ECDH for each output, the ECDH public key is calculated once for the transaction\n+ * and then hashed with the counter k. The outputs must be created sequentially starting with `k=0`.\n+ *\n+ * @param ecdh_pubkey The ECDH public key.\n+ * @param k The output counter.\n+ * @return uint256 The shared secret tweak for output_k.\n+ */\n+uint256 ComputeSharedSecretTweak(const CPubKey& ecdh_pubkey, const uint32_t k);\n+\n+/**\n+ * @brief Compute the silent payment label tweak.\n+ *\n+ * The receiving wallet may hand out labeled silent payment addresses to determine the origin of a payment.\n+ * Labels are specified by hashing the receivers scan key with a counter m. `m=0` is reserved for generating\n+ * change outputs for the receiver. Additional labels can be specified starting from `m=1`. The counter m\n+ * is hashed with the secret scan key to prevent an external observer from learning anything about the\n+ * receiver's labels.\n+ *\n+ * It is strongly recommended labels be created sequentially starting from `m=1`. Doing so ensures that\n+ * label data is not critical for backups, as the receiving wallet can pregenerate labels starting from 1\n+ * up to some sufficiently large M when recovering from a backup.\n+ *\n+ * @param scan_key The secret scan key.\n+ * @param m Integer representing the \"m-th\" label. m=0 is reserved for the change output.\n+ * @return uint256 The computed silent payment label tweak.\n+ */\n+uint256 ComputeSilentPaymentLabelTweak(const CKey& scan_key, const int m);\n+\n+/**\n+ * @brief Generate a silent payment labeled address.\n+ *\n+ * @param receiver The receiver's silent payment destination (i.e. scan and spend public keys).\n+ * @param label The label tweak\n+ * @return V0SilentPaymentDestination The slient payment destination, with `B_spend -> B_spend + label * G`.\n+ *\n+ * @see ComputeSilentPaymentLabelTweak(const CKey& scan_key, const int m);\n+ */\n+V0SilentPaymentDestination GenerateSilentPaymentLabeledAddress(const V0SilentPaymentDestination& receiver, const uint256& label);\n+\n+/**\n+ * @brief Generate silent payment taproot destinations.\n+ *\n+ * Given a set of silent payment destinations, generate the requested number of outputs. If a silent payment\n+ * destination is repeated, this indicates multiple outputs are requested for the same recipient. The silent payment\n+ * desintaions are passed in map where the key indicates their desired position in the final tx.vout array.",
      "path": "src/wallet/silentpayments.h",
      "position": null,
      "original_position": 91,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "de7dd3aaf64bc9812ac4c30994ee6fbb5695e953",
      "in_reply_to_id": 1472465541,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Output calculation doesn't depend on the position, but using output position makes the implementation much simpler. I did try something similar to what you suggested but it ended up being really complicated to make sure I was matching up all the right amounts and was always _implicitly_ relying on output position. @achow101 pointed out it would be better and simpler to just use the output index explicitly.\r\n\r\nThis also doesn't create any dependence on output position. The user can still order the outputs however they want after generating the silent payment scriptPubKeys.",
      "created_at": "2024-01-31T12:50:17Z",
      "updated_at": "2024-01-31T12:50:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1472778222",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1472778222"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 30,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1495502646",
      "pull_request_review_id": 1889921832,
      "id": 1495502646,
      "node_id": "PRRC_kwDOABII585ZI482",
      "diff_hunk": "@@ -0,0 +1,93 @@\n+#ifndef BITCOIN_WALLET_SILENTPAYMENTS_H\n+#define BITCOIN_WALLET_SILENTPAYMENTS_H\n+\n+#include <addresstype.h>\n+#include <bip352.h>\n+#include <coins.h>\n+#include <key_io.h>\n+#include <undo.h>\n+\n+namespace wallet {\n+\n+using PubKey = std::variant<CPubKey, XOnlyPubKey>;\n+\n+/**\n+ * @brief Generate a silent payment labeled address.\n+ *\n+ * @param receiver The receiver's silent payment destination (i.e. scan and spend public keys).\n+ * @param label The label tweak\n+ * @return V0SilentPaymentDestination The silent payment destination, with `B_spend -> B_spend + label * G`.\n+ *\n+ * @see ComputeSilentPaymentLabelTweak(const CKey& scan_key, const int m);\n+ */\n+V0SilentPaymentDestination GenerateSilentPaymentLabeledAddress(const V0SilentPaymentDestination& receiver, const uint256& label);\n+\n+/**\n+ * @brief Generate silent payment taproot destinations.\n+ *\n+ * Given a set of silent payment destinations, generate the requested number of outputs. If a silent payment\n+ * destination is repeated, this indicates multiple outputs are requested for the same recipient. The silent payment\n+ * desintaions are passed in map where the key indicates their desired position in the final tx.vout array.\n+ *\n+ * @param priv_tweak_data                     The private tweak data. This is a pair containing a private key and input hash.\n+ *                                            The private key is either the receiver's scan key or the sum of the sender's\n+ *                                            input private keys (excluding inputs not eligible for shared secret derivation).\n+ *                                            The input hash is the tagged hash of hash of the smallest outpoint and sum\n+ *                                            of the eligible input public keys.\n+ * @param sp_dests                            The silent payment destinations.\n+ * @return std::map<size_t, WitnessV1Taproot> The generated silent payment taproot destinations.\n+ *\n+ */\n+std::map<size_t, WitnessV1Taproot> GenerateSilentPaymentTaprootDestinations(const BIP352::PrivTweakData& priv_tweak_data, const std::map<size_t, V0SilentPaymentDestination>& sp_dests);\n+\n+/**\n+ * @brief Get silent payment tweak data from transaction inputs.\n+ *\n+ * Get the necessary data from the transaction inputs to be able to scan the transaction outputs for silent payment outputs.\n+ * This requires knowledge of the prevout scriptPubKey, which is passed via `coins`.\n+ *\n+ * If the transaction has silent payment eligible inputs, the public keys from these inputs are returned as a sum along with\n+ * the transaction input hash. If there are no eligible inputs, nullopt is returned, indicating that this transaction does not\n+ * contain silent payment outputs.\n+ *\n+ * @param vin                                              The transaction inputs.\n+ * @param coins                                            The coins (potentially) spent in this transaction.\n+ * @return std::optional<std::pair<uint256, PubTweakData>> The silent payment tweak data, or nullopt if not found.\n+ */\n+std::optional<BIP352::PubTweakData> GetSilentPaymentTweakDataFromTxInputs(const std::vector<CTxIn>& vin, const std::map<COutPoint, Coin>& coins);",
      "path": "src/wallet/silentpayments.h",
      "position": null,
      "original_position": 57,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "b885ac0ddd49de760c21457801e403736908e1b2",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Assuming I still need this for the index #28241, I still prefer if this wasn't part of the wallet. Afaik nothing in this file has a dependency on the wallet, so the easiest change would to be move the file to `src/common`.",
      "created_at": "2024-02-20T09:30:44Z",
      "updated_at": "2024-02-20T09:30:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1495502646",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1495502646"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 57,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1495568944",
      "pull_request_review_id": 1890048273,
      "id": 1495568944,
      "node_id": "PRRC_kwDOABII585ZJJIw",
      "diff_hunk": "@@ -0,0 +1,93 @@\n+#ifndef BITCOIN_WALLET_SILENTPAYMENTS_H\n+#define BITCOIN_WALLET_SILENTPAYMENTS_H\n+\n+#include <addresstype.h>\n+#include <bip352.h>\n+#include <coins.h>\n+#include <key_io.h>\n+#include <undo.h>\n+\n+namespace wallet {\n+\n+using PubKey = std::variant<CPubKey, XOnlyPubKey>;\n+\n+/**\n+ * @brief Generate a silent payment labeled address.\n+ *\n+ * @param receiver The receiver's silent payment destination (i.e. scan and spend public keys).\n+ * @param label The label tweak\n+ * @return V0SilentPaymentDestination The silent payment destination, with `B_spend -> B_spend + label * G`.\n+ *\n+ * @see ComputeSilentPaymentLabelTweak(const CKey& scan_key, const int m);\n+ */\n+V0SilentPaymentDestination GenerateSilentPaymentLabeledAddress(const V0SilentPaymentDestination& receiver, const uint256& label);\n+\n+/**\n+ * @brief Generate silent payment taproot destinations.\n+ *\n+ * Given a set of silent payment destinations, generate the requested number of outputs. If a silent payment\n+ * destination is repeated, this indicates multiple outputs are requested for the same recipient. The silent payment\n+ * desintaions are passed in map where the key indicates their desired position in the final tx.vout array.\n+ *\n+ * @param priv_tweak_data                     The private tweak data. This is a pair containing a private key and input hash.\n+ *                                            The private key is either the receiver's scan key or the sum of the sender's\n+ *                                            input private keys (excluding inputs not eligible for shared secret derivation).\n+ *                                            The input hash is the tagged hash of hash of the smallest outpoint and sum\n+ *                                            of the eligible input public keys.\n+ * @param sp_dests                            The silent payment destinations.\n+ * @return std::map<size_t, WitnessV1Taproot> The generated silent payment taproot destinations.\n+ *\n+ */\n+std::map<size_t, WitnessV1Taproot> GenerateSilentPaymentTaprootDestinations(const BIP352::PrivTweakData& priv_tweak_data, const std::map<size_t, V0SilentPaymentDestination>& sp_dests);\n+\n+/**\n+ * @brief Get silent payment tweak data from transaction inputs.\n+ *\n+ * Get the necessary data from the transaction inputs to be able to scan the transaction outputs for silent payment outputs.\n+ * This requires knowledge of the prevout scriptPubKey, which is passed via `coins`.\n+ *\n+ * If the transaction has silent payment eligible inputs, the public keys from these inputs are returned as a sum along with\n+ * the transaction input hash. If there are no eligible inputs, nullopt is returned, indicating that this transaction does not\n+ * contain silent payment outputs.\n+ *\n+ * @param vin                                              The transaction inputs.\n+ * @param coins                                            The coins (potentially) spent in this transaction.\n+ * @return std::optional<std::pair<uint256, PubTweakData>> The silent payment tweak data, or nullopt if not found.\n+ */\n+std::optional<BIP352::PubTweakData> GetSilentPaymentTweakDataFromTxInputs(const std::vector<CTxIn>& vin, const std::map<COutPoint, Coin>& coins);",
      "path": "src/wallet/silentpayments.h",
      "position": null,
      "original_position": 57,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "b885ac0ddd49de760c21457801e403736908e1b2",
      "in_reply_to_id": 1495502646,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Now that we have `src/bip352.h`, it might make more sense to get rid of `src/wallet/silentpayents.h` and put everything in `src/bip352.h`. In the future, anything that is wallet specific can go in `src/wallet/silentpayments.h` and you'd have everything you need for an index in `src/bip352.h`. Thoughts?",
      "created_at": "2024-02-20T10:17:34Z",
      "updated_at": "2024-02-20T12:57:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1495568944",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1495568944"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 57,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1495894984",
      "pull_request_review_id": 1890543169,
      "id": 1495894984,
      "node_id": "PRRC_kwDOABII585ZKYvI",
      "diff_hunk": "@@ -0,0 +1,93 @@\n+#ifndef BITCOIN_WALLET_SILENTPAYMENTS_H\n+#define BITCOIN_WALLET_SILENTPAYMENTS_H\n+\n+#include <addresstype.h>\n+#include <bip352.h>\n+#include <coins.h>\n+#include <key_io.h>\n+#include <undo.h>\n+\n+namespace wallet {\n+\n+using PubKey = std::variant<CPubKey, XOnlyPubKey>;\n+\n+/**\n+ * @brief Generate a silent payment labeled address.\n+ *\n+ * @param receiver The receiver's silent payment destination (i.e. scan and spend public keys).\n+ * @param label The label tweak\n+ * @return V0SilentPaymentDestination The silent payment destination, with `B_spend -> B_spend + label * G`.\n+ *\n+ * @see ComputeSilentPaymentLabelTweak(const CKey& scan_key, const int m);\n+ */\n+V0SilentPaymentDestination GenerateSilentPaymentLabeledAddress(const V0SilentPaymentDestination& receiver, const uint256& label);\n+\n+/**\n+ * @brief Generate silent payment taproot destinations.\n+ *\n+ * Given a set of silent payment destinations, generate the requested number of outputs. If a silent payment\n+ * destination is repeated, this indicates multiple outputs are requested for the same recipient. The silent payment\n+ * desintaions are passed in map where the key indicates their desired position in the final tx.vout array.\n+ *\n+ * @param priv_tweak_data                     The private tweak data. This is a pair containing a private key and input hash.\n+ *                                            The private key is either the receiver's scan key or the sum of the sender's\n+ *                                            input private keys (excluding inputs not eligible for shared secret derivation).\n+ *                                            The input hash is the tagged hash of hash of the smallest outpoint and sum\n+ *                                            of the eligible input public keys.\n+ * @param sp_dests                            The silent payment destinations.\n+ * @return std::map<size_t, WitnessV1Taproot> The generated silent payment taproot destinations.\n+ *\n+ */\n+std::map<size_t, WitnessV1Taproot> GenerateSilentPaymentTaprootDestinations(const BIP352::PrivTweakData& priv_tweak_data, const std::map<size_t, V0SilentPaymentDestination>& sp_dests);\n+\n+/**\n+ * @brief Get silent payment tweak data from transaction inputs.\n+ *\n+ * Get the necessary data from the transaction inputs to be able to scan the transaction outputs for silent payment outputs.\n+ * This requires knowledge of the prevout scriptPubKey, which is passed via `coins`.\n+ *\n+ * If the transaction has silent payment eligible inputs, the public keys from these inputs are returned as a sum along with\n+ * the transaction input hash. If there are no eligible inputs, nullopt is returned, indicating that this transaction does not\n+ * contain silent payment outputs.\n+ *\n+ * @param vin                                              The transaction inputs.\n+ * @param coins                                            The coins (potentially) spent in this transaction.\n+ * @return std::optional<std::pair<uint256, PubTweakData>> The silent payment tweak data, or nullopt if not found.\n+ */\n+std::optional<BIP352::PubTweakData> GetSilentPaymentTweakDataFromTxInputs(const std::vector<CTxIn>& vin, const std::map<COutPoint, Coin>& coins);",
      "path": "src/wallet/silentpayments.h",
      "position": null,
      "original_position": 57,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "b885ac0ddd49de760c21457801e403736908e1b2",
      "in_reply_to_id": 1495502646,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Moving to `bip352.h` sounds good too.",
      "created_at": "2024-02-20T14:15:53Z",
      "updated_at": "2024-02-20T14:15:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1495894984",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1495894984"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 57,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1580842378",
      "pull_request_review_id": 2024741215,
      "id": 1580842378,
      "node_id": "PRRC_kwDOABII585eOb2K",
      "diff_hunk": "@@ -43,7 +44,10 @@ class COutPoint\n \n     friend bool operator<(const COutPoint& a, const COutPoint& b)\n     {\n-        return std::tie(a.hash, a.n) < std::tie(b.hash, b.n);\n+        DataStream ser_a, ser_b;\n+        ser_a << a;\n+        ser_b << b;\n+        return Span{ser_a} < Span{ser_b};",
      "path": "src/primitives/transaction.h",
      "position": null,
      "original_position": 16,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "7a27533332d14cf98f7e165f464142132e9f9d85",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "7a27533332d14cf98f7e165f464142132e9f9d85: if you're going to change this here instead of adding a custom sort for BIP352, then you should add a note that it's critical for BIP352.\r\n\r\nHowever I'm not sure if we should sort this way by default. If I wanted to list transaction outputs, I'd want to sorted by their integer output position.\r\n\r\nThat said, I don't know if we currently have any RPC where this sort order is exposed.",
      "created_at": "2024-04-26T10:34:35Z",
      "updated_at": "2024-04-26T10:35:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1580842378",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1580842378"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1580846838",
      "pull_request_review_id": 2024748212,
      "id": 1580846838,
      "node_id": "PRRC_kwDOABII585eOc72",
      "diff_hunk": "@@ -43,7 +44,10 @@ class COutPoint\n \n     friend bool operator<(const COutPoint& a, const COutPoint& b)\n     {\n-        return std::tie(a.hash, a.n) < std::tie(b.hash, b.n);\n+        DataStream ser_a, ser_b;\n+        ser_a << a;\n+        ser_b << b;\n+        return Span{ser_a} < Span{ser_b};",
      "path": "src/primitives/transaction.h",
      "position": null,
      "original_position": 16,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "7a27533332d14cf98f7e165f464142132e9f9d85",
      "in_reply_to_id": 1580842378,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "From what I could tell, we don’t expose this anywhere. I’m in favor of making this the default since we only ever really talk about outpoints in terms of their serialised encoding. Gonna give it some more thought, but I’m considering opening this commit as its own PR. It seems preferable to me to have one way of sorting outpoints vs creating a special case for silent payments, especially when there doesn’t seem to be any other “sort outpoints” use case (e.g. none of the tests failed when I made this change).",
      "created_at": "2024-04-26T10:38:49Z",
      "updated_at": "2024-04-26T10:39:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1580846838",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1580846838"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1580850619",
      "pull_request_review_id": 2024753907,
      "id": 1580850619,
      "node_id": "PRRC_kwDOABII585eOd27",
      "diff_hunk": "@@ -43,7 +44,10 @@ class COutPoint\n \n     friend bool operator<(const COutPoint& a, const COutPoint& b)\n     {\n-        return std::tie(a.hash, a.n) < std::tie(b.hash, b.n);\n+        DataStream ser_a, ser_b;\n+        ser_a << a;\n+        ser_b << b;\n+        return Span{ser_a} < Span{ser_b};",
      "path": "src/primitives/transaction.h",
      "position": null,
      "original_position": 16,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "7a27533332d14cf98f7e165f464142132e9f9d85",
      "in_reply_to_id": 1580842378,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "But still need to verify re: displayed in RPCs. At that point tho, we could just sort by `vout` and ignore the txid in the sort ",
      "created_at": "2024-04-26T10:42:34Z",
      "updated_at": "2024-04-26T10:42:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1580850619",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1580850619"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1580901500",
      "pull_request_review_id": 2024836386,
      "id": 1580901500,
      "node_id": "PRRC_kwDOABII585eOqR8",
      "diff_hunk": "@@ -43,7 +44,10 @@ class COutPoint\n \n     friend bool operator<(const COutPoint& a, const COutPoint& b)\n     {\n-        return std::tie(a.hash, a.n) < std::tie(b.hash, b.n);\n+        DataStream ser_a, ser_b;\n+        ser_a << a;\n+        ser_b << b;\n+        return Span{ser_a} < Span{ser_b};",
      "path": "src/primitives/transaction.h",
      "position": null,
      "original_position": 16,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "7a27533332d14cf98f7e165f464142132e9f9d85",
      "in_reply_to_id": 1580842378,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Separate PR sounds good to get more eyes on it. Meanwhile this is fine a temporary fix for this PR.",
      "created_at": "2024-04-26T11:34:59Z",
      "updated_at": "2024-04-26T11:34:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1580901500",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1580901500"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1590788176",
      "pull_request_review_id": 2040404646,
      "id": 1590788176,
      "node_id": "PRRC_kwDOABII585e0YBQ",
      "diff_hunk": "@@ -43,7 +44,10 @@ class COutPoint\n \n     friend bool operator<(const COutPoint& a, const COutPoint& b)\n     {\n-        return std::tie(a.hash, a.n) < std::tie(b.hash, b.n);\n+        DataStream ser_a, ser_b;\n+        ser_a << a;\n+        ser_b << b;\n+        return Span{ser_a} < Span{ser_b};",
      "path": "src/primitives/transaction.h",
      "position": null,
      "original_position": 16,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "7a27533332d14cf98f7e165f464142132e9f9d85",
      "in_reply_to_id": 1580842378,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "opened in https://github.com/bitcoin/bitcoin/pull/30046",
      "created_at": "2024-05-06T09:57:05Z",
      "updated_at": "2024-05-06T09:57:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1590788176",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1590788176"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1591254268",
      "pull_request_review_id": 2041183675,
      "id": 1591254268,
      "node_id": "PRRC_kwDOABII585e2Jz8",
      "diff_hunk": "@@ -43,7 +44,10 @@ class COutPoint\n \n     friend bool operator<(const COutPoint& a, const COutPoint& b)\n     {\n-        return std::tie(a.hash, a.n) < std::tie(b.hash, b.n);\n+        DataStream ser_a, ser_b;\n+        ser_a << a;\n+        ser_b << b;\n+        return Span{ser_a} < Span{ser_b};",
      "path": "src/primitives/transaction.h",
      "position": null,
      "original_position": 16,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "7a27533332d14cf98f7e165f464142132e9f9d85",
      "in_reply_to_id": 1580842378,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Closed #30046 :smile: ",
      "created_at": "2024-05-06T16:22:24Z",
      "updated_at": "2024-05-06T16:22:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1591254268",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1591254268"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 50,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1679647788",
      "pull_request_review_id": 2180643045,
      "id": 1679647788,
      "node_id": "PRRC_kwDOABII585kHWQs",
      "diff_hunk": "@@ -0,0 +1,358 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <addresstype.h>\n+#include <common/bip352.h>\n+#include <optional>\n+#include <primitives/transaction.h>\n+#include <secp256k1_extrakeys.h>\n+#include <pubkey.h>\n+#include <secp256k1.h>\n+#include <span.h>\n+\n+#include <secp256k1_silentpayments.h>\n+#include <streams.h>\n+#include <uint256.h>\n+#include <logging.h>\n+#include <policy/policy.h>\n+#include <script/sign.h>\n+#include <script/solver.h>\n+#include <script/script_error.h>\n+#include <util/check.h>\n+#include <util/strencodings.h>\n+\n+extern secp256k1_context* secp256k1_context_sign; // TODO: this is hacky, is there a better solution?\n+\n+namespace BIP352 {\n+\n+std::optional<PubKey> GetPubKeyFromInput(const CTxIn& txin, const CScript& spk)\n+{\n+    std::vector<std::vector<unsigned char>> solutions;\n+    TxoutType type = Solver(spk, solutions);\n+    PubKey pubkey;\n+    if (type == TxoutType::WITNESS_V1_TAPROOT) {\n+        // Check for H point in script path spend\n+        if (txin.scriptWitness.stack.size() > 1) {\n+            // Check for annex\n+            bool has_annex = txin.scriptWitness.stack.back()[0] == ANNEX_TAG;\n+            size_t post_annex_size = txin.scriptWitness.stack.size() - (has_annex ? 1 : 0);\n+            if (post_annex_size > 1) {\n+                // Actually a script path spend\n+                const std::vector<unsigned char>& control = txin.scriptWitness.stack.at(post_annex_size - 1);\n+                Assert(control.size() >= 33);\n+                if (std::equal(WitnessV1Taproot::NUMS_H.begin(), WitnessV1Taproot::NUMS_H.end(), control.begin() + 1)) {\n+                    // Skip script path with H internal key\n+                    return std::nullopt;\n+                }\n+            }\n+        }\n+\n+        pubkey = XOnlyPubKey{solutions[0]};\n+    } else if (type == TxoutType::WITNESS_V0_KEYHASH) {\n+        pubkey = CPubKey{txin.scriptWitness.stack.back()};\n+    } else if (type == TxoutType::PUBKEYHASH || type == TxoutType::SCRIPTHASH) {\n+        // Use the script interpreter to get the stack after executing the scriptSig\n+        std::vector<std::vector<unsigned char>> stack;\n+        ScriptError serror;\n+        Assert(EvalScript(stack, txin.scriptSig, MANDATORY_SCRIPT_VERIFY_FLAGS, DUMMY_CHECKER, SigVersion::BASE, &serror));\n+        if (type == TxoutType::PUBKEYHASH) {\n+            pubkey = CPubKey{stack.back()};\n+        } else if (type == TxoutType::SCRIPTHASH) {\n+            // Check if the redeemScript is P2WPKH\n+            CScript redeem_script{stack.back().begin(), stack.back().end()};\n+            TxoutType rs_type = Solver(redeem_script, solutions);\n+            if (rs_type == TxoutType::WITNESS_V0_KEYHASH) {\n+                pubkey = CPubKey{txin.scriptWitness.stack.back()};\n+            }\n+        }\n+    }\n+    if (std::holds_alternative<XOnlyPubKey>(pubkey)) return pubkey;\n+    if (auto compressed_pubkey = std::get_if<CPubKey>(&pubkey)) {\n+        if (compressed_pubkey->IsCompressed() && compressed_pubkey->IsValid()) return *compressed_pubkey;\n+    }\n+    return std::nullopt;\n+}\n+\n+std::optional<PubTweakData> CreateInputPubkeysTweak(\n+    const std::vector<CPubKey>& plain_pubkeys,\n+    const std::vector<XOnlyPubKey>& taproot_pubkeys,\n+    const COutPoint& smallest_outpoint)\n+{\n+    PubTweakData public_data;\n+    // TODO: see if there is a way to clean this up\n+    std::vector<secp256k1_pubkey> plain_pubkey_objs;\n+    std::vector<secp256k1_xonly_pubkey> taproot_pubkey_objs;\n+    std::vector<secp256k1_pubkey *> plain_pubkey_ptrs;\n+    std::vector<secp256k1_xonly_pubkey *> taproot_pubkey_ptrs;\n+    plain_pubkey_objs.reserve(plain_pubkeys.size());\n+    plain_pubkey_ptrs.reserve(plain_pubkeys.size());\n+    taproot_pubkey_objs.reserve(taproot_pubkeys.size());\n+    taproot_pubkey_ptrs.reserve(taproot_pubkeys.size());\n+\n+    for (const CPubKey& pubkey : plain_pubkeys) {\n+        secp256k1_pubkey parsed_pubkey;\n+        bool ret = secp256k1_ec_pubkey_parse(secp256k1_context_static, &parsed_pubkey,\n+            pubkey.data(), pubkey.size());\n+        assert(ret);\n+        plain_pubkey_objs.emplace_back(parsed_pubkey);\n+    }\n+    for (const XOnlyPubKey& pubkey : taproot_pubkeys) {\n+        secp256k1_xonly_pubkey parsed_xonly_pubkey;\n+        bool ret = secp256k1_xonly_pubkey_parse(secp256k1_context_static, &parsed_xonly_pubkey, pubkey.data());\n+        assert(ret);\n+        taproot_pubkey_objs.emplace_back(parsed_xonly_pubkey);\n+    }\n+    for (auto &p : plain_pubkey_objs) {\n+        plain_pubkey_ptrs.push_back(&p);\n+    }\n+    for (auto &t : taproot_pubkey_objs) {\n+        taproot_pubkey_ptrs.push_back(&t);\n+    }\n+\n+    std::vector<unsigned char> smallest_outpoint_ser;\n+    VectorWriter stream{smallest_outpoint_ser, 0};\n+    stream << smallest_outpoint;\n+    bool ret = secp256k1_silentpayments_recipient_public_data_create(secp256k1_context_static,\n+        &public_data,\n+        smallest_outpoint_ser.data(),\n+        taproot_pubkey_ptrs.data(), taproot_pubkey_ptrs.size(),\n+        plain_pubkey_ptrs.data(), plain_pubkey_ptrs.size()\n+    );\n+    if (!ret) return std::nullopt;\n+    return public_data;\n+}\n+\n+std::optional<PubTweakData> GetSilentPaymentsPublicData(const std::vector<CTxIn>& vin, const std::map<COutPoint, Coin>& coins)\n+{\n+    // Extract the keys from the inputs\n+    // or skip if no valid inputs\n+    std::vector<CPubKey> pubkeys;\n+    std::vector<XOnlyPubKey> xonly_pubkeys;\n+    std::vector<COutPoint> tx_outpoints;\n+    for (const CTxIn& txin : vin) {\n+        const Coin& coin = coins.at(txin.prevout);\n+        Assert(!coin.IsSpent());\n+        tx_outpoints.emplace_back(txin.prevout);\n+        auto pubkey = GetPubKeyFromInput(txin, coin.out.scriptPubKey);\n+        if (pubkey.has_value()) {\n+            std::visit([&pubkeys, &xonly_pubkeys](auto&& pubkey) {\n+                using T = std::decay_t<decltype(pubkey)>;\n+                if constexpr (std::is_same_v<T, CPubKey>) {\n+                    pubkeys.push_back(pubkey);\n+                } else if constexpr (std::is_same_v<T, XOnlyPubKey>) {\n+                    xonly_pubkeys.push_back(pubkey);\n+                }\n+            }, *pubkey);\n+        }\n+    }\n+    if (pubkeys.size() + xonly_pubkeys.size() == 0) return std::nullopt;\n+    auto smallest_outpoint = std::min_element(tx_outpoints.begin(), tx_outpoints.end());\n+    return CreateInputPubkeysTweak(pubkeys, xonly_pubkeys, *smallest_outpoint);\n+}\n+\n+std::optional<CPubKey> GetSerializedSilentPaymentsPublicData(const std::vector<CTxIn>& vin, const std::map<COutPoint, Coin>& coins)\n+{\n+    CPubKey serialized_public_data;\n+    bool ret;\n+    const auto& result = GetSilentPaymentsPublicData(vin, coins);\n+    if (!result.has_value()) return std::nullopt;\n+    secp256k1_silentpayments_public_data public_data = *result;\n+    ret = secp256k1_silentpayments_recipient_public_data_serialize(secp256k1_context_static, (unsigned char *)serialized_public_data.begin(), &public_data);\n+    assert(ret);\n+    return serialized_public_data;\n+}\n+\n+std::vector<secp256k1_xonly_pubkey> CreateOutputs(\n+    const std::vector<V0SilentPaymentDestination> recipients,\n+    const std::vector<CKey>& plain_keys,\n+    const std::vector<CKey>& taproot_keys,\n+    const COutPoint& smallest_outpoint\n+) {\n+    bool ret;\n+    std::vector<secp256k1_keypair> taproot_keypairs;\n+    std::vector<const secp256k1_keypair *> taproot_keypair_ptrs;\n+    std::vector<const unsigned char *> plain_key_ptrs;\n+    taproot_keypairs.reserve(taproot_keys.size());\n+    taproot_keypair_ptrs.reserve(taproot_keys.size());\n+    plain_key_ptrs.reserve(plain_keys.size());\n+\n+    std::vector<secp256k1_silentpayments_recipient> recipient_objs;\n+    std::vector<const secp256k1_silentpayments_recipient *> recipient_ptrs;\n+    recipient_objs.reserve(recipients.size());\n+    recipient_ptrs.reserve(recipients.size());\n+\n+    std::vector<secp256k1_xonly_pubkey> generated_outputs;\n+    std::vector<secp256k1_xonly_pubkey *> generated_output_ptrs;\n+    generated_outputs.reserve(recipients.size());\n+    generated_output_ptrs.reserve(recipients.size());\n+\n+    for (size_t i = 0; i < recipients.size(); i++) {\n+        secp256k1_silentpayments_recipient recipient_obj;\n+        ret = secp256k1_ec_pubkey_parse(secp256k1_context_static, &recipient_obj.scan_pubkey, recipients[i].m_scan_pubkey.data(), recipients[i].m_scan_pubkey.size());\n+        ret = secp256k1_ec_pubkey_parse(secp256k1_context_static, &recipient_obj.spend_pubkey, recipients[i].m_spend_pubkey.data(), recipients[i].m_spend_pubkey.size());\n+        assert(ret);\n+        recipient_obj.index = i;\n+        recipient_objs.push_back(recipient_obj);\n+        recipient_ptrs.push_back(&recipient_objs[i]);\n+\n+        secp256k1_xonly_pubkey generated_output{};\n+        generated_outputs.push_back(generated_output);\n+        generated_output_ptrs.push_back(&generated_outputs[i]);\n+    }\n+    for (const auto& key : plain_keys) {\n+        plain_key_ptrs.push_back(UCharCast(key.begin()));\n+    }\n+    for (size_t i = 0; i < taproot_keys.size(); i++) {\n+        secp256k1_keypair keypair;\n+        ret = secp256k1_keypair_create(secp256k1_context_sign, &keypair, UCharCast(taproot_keys[i].begin()));\n+        taproot_keypairs.push_back(keypair);\n+        taproot_keypair_ptrs.push_back(&taproot_keypairs[i]);\n+    }\n+\n+    // Serialize the outpoint\n+    std::vector<unsigned char> smallest_outpoint_ser;\n+    VectorWriter stream{smallest_outpoint_ser, 0};\n+    stream << smallest_outpoint;\n+\n+    ret = secp256k1_silentpayments_sender_create_outputs(secp256k1_context_sign,\n+        generated_output_ptrs.data(),\n+        recipient_ptrs.data(), recipient_ptrs.size(),\n+        smallest_outpoint_ser.data(),\n+        taproot_keypair_ptrs.data(), taproot_keypair_ptrs.size(),\n+        plain_key_ptrs.data(), plain_key_ptrs.size()\n+    );\n+    if (!ret) return {};\n+    return generated_outputs;\n+}\n+\n+std::optional<std::map<size_t, WitnessV1Taproot>> GenerateSilentPaymentTaprootDestinations(const std::map<size_t, V0SilentPaymentDestination>& sp_dests, const std::vector<CKey>& plain_keys, const std::vector<CKey>& taproot_keys, const COutPoint& smallest_outpoint)\n+{\n+    bool ret;\n+    std::map<size_t, WitnessV1Taproot> tr_dests;\n+    std::vector<V0SilentPaymentDestination> recipients;\n+    recipients.reserve(sp_dests.size());\n+    for (const auto& [_, addr] : sp_dests) {\n+        recipients.push_back(addr);\n+    }\n+    std::vector<secp256k1_xonly_pubkey> outputs = CreateOutputs(recipients, plain_keys, taproot_keys, smallest_outpoint);\n+    // This will only faily if the inputs were maliciously crafted to sum to zero\n+    if (outputs.empty()) return std::nullopt;\n+    for (size_t i = 0; i < outputs.size(); i++) {\n+        unsigned char xonly_pubkey_bytes[32];\n+        ret = secp256k1_xonly_pubkey_serialize(secp256k1_context_static, xonly_pubkey_bytes, &outputs[i]);\n+        assert(ret);\n+        tr_dests[i] = WitnessV1Taproot{XOnlyPubKey{xonly_pubkey_bytes}};\n+    }\n+    return tr_dests;\n+}\n+\n+const unsigned char* LabelLookupCallback(const unsigned char* key, const void* context) {\n+    auto label_context = static_cast<const std::map<CPubKey, uint256>*>(context);\n+    CPubKey label{key, key + CPubKey::COMPRESSED_SIZE};\n+    // Find the pubkey in the map\n+    auto it = label_context->find(label);\n+    if (it != label_context->end()) {\n+        // Return a pointer to the uint256 label tweak if found\n+        // so it can be added to t_k\n+        return it->second.begin();\n+    }\n+    return nullptr;\n+}\n+\n+std::pair<CPubKey, uint256> CreateLabelTweak(const CKey& scan_key, const int m) {\n+    secp256k1_pubkey label_obj;\n+    unsigned char label_tweak[32];\n+    bool ret = secp256k1_silentpayments_recipient_create_label_tweak(secp256k1_context_sign, &label_obj, label_tweak, UCharCast(scan_key.data()), m);\n+    assert(ret);\n+    CPubKey label;\n+    size_t pubkeylen = CPubKey::COMPRESSED_SIZE;\n+    ret = secp256k1_ec_pubkey_serialize(secp256k1_context_static, (unsigned char*)label.begin(), &pubkeylen, &label_obj, SECP256K1_EC_COMPRESSED);\n+    assert(ret);\n+    return {label, uint256{label_tweak}};\n+}\n+\n+CPubKey CreateLabelledSpendPubKey(const CPubKey& spend_pubkey, const CPubKey& label) {\n+    secp256k1_pubkey spend_obj, label_obj, labelled_spend_obj;\n+    bool ret = secp256k1_ec_pubkey_parse(secp256k1_context_static, &spend_obj, spend_pubkey.data(), spend_pubkey.size());\n+    assert(ret);\n+    ret = secp256k1_ec_pubkey_parse(secp256k1_context_static, &label_obj, label.data(), label.size());\n+    assert(ret);\n+    ret = secp256k1_silentpayments_recipient_create_labelled_spend_pubkey(secp256k1_context_static, &labelled_spend_obj, &spend_obj, &label_obj);\n+    assert(ret);\n+    size_t pubkeylen = CPubKey::COMPRESSED_SIZE;\n+    CPubKey labelled_spend_pubkey;\n+    ret = secp256k1_ec_pubkey_serialize(secp256k1_context_static, (unsigned char*)labelled_spend_pubkey.begin(), &pubkeylen, &labelled_spend_obj, SECP256K1_EC_COMPRESSED);\n+    return labelled_spend_pubkey;\n+}\n+\n+V0SilentPaymentDestination GenerateSilentPaymentLabelledAddress(const V0SilentPaymentDestination& recipient, const uint256& label)\n+{\n+    CKey label_key;\n+    label_key.Set(label.begin(), label.end(), true);\n+    CPubKey labelled_spend_pubkey = CreateLabelledSpendPubKey(recipient.m_spend_pubkey, label_key.GetPubKey());\n+    return V0SilentPaymentDestination{recipient.m_scan_pubkey, labelled_spend_pubkey};\n+}\n+\n+std::optional<std::vector<SilentPaymentOutput>> ScanForSilentPaymentOutputs(\n+    const CKey& scan_key,\n+    const PubTweakData& public_data,\n+    const CPubKey& recipient_spend_pubkey,\n+    const std::vector<XOnlyPubKey>& tx_outputs,\n+    const std::map<CPubKey, uint256>& labels\n+) {\n+    bool ret;\n+    secp256k1_pubkey spend_pubkey_obj;\n+    std::vector<secp256k1_silentpayments_found_output> found_output_objs;\n+    std::vector<secp256k1_silentpayments_found_output *> found_output_ptrs;\n+    std::vector<secp256k1_xonly_pubkey> tx_output_objs;\n+    std::vector<secp256k1_xonly_pubkey *> tx_output_ptrs;\n+    found_output_objs.reserve(tx_outputs.size());\n+    found_output_ptrs.reserve(tx_outputs.size());\n+    tx_output_objs.reserve(tx_outputs.size());\n+    tx_output_ptrs.reserve(tx_outputs.size());\n+\n+    for (size_t i = 0; i < tx_outputs.size(); i++) {\n+        secp256k1_silentpayments_found_output found_output{};\n+        secp256k1_xonly_pubkey tx_output_obj;\n+        found_output_objs.push_back(found_output);\n+        found_output_ptrs.push_back(&found_output_objs[i]);\n+        ret = secp256k1_xonly_pubkey_parse(secp256k1_context_static, &tx_output_obj, tx_outputs[i].data());\n+        assert(ret);",
      "path": "src/common/bip352.cpp",
      "position": 316,
      "original_position": 321,
      "commit_id": "9d78a2ce4ff908689d5d9acab964d1063082d5ca",
      "original_commit_id": "667e71e45638e860b4a6f51ea0c34eef1e28c81b",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "AFAICT this assert would lead to a crash if a tx is scanned with a taproot output where the x-only-pubkey is not on the curve (note that such outputs adhere to standardness rules, i.e. it's trivial to create such a tx, and probably there are already a good amount of them on mainnet). Proposed fix, not tested yet:\r\n```suggestion\r\n        if (!secp256k1_xonly_pubkey_parse(secp256k1_context_static, &tx_output_obj, txoutputs[i].data())) {\r\n            continue;\r\n        }\r\n```\r\nFor consistency reasons, the extension of the `found_output_{objs,ptrs}` vectors should happen after this part, so that all vectors end up with the same size.",
      "created_at": "2024-07-16T15:35:24Z",
      "updated_at": "2024-07-16T15:35:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28122#discussion_r1679647788",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1679647788"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28122"
        }
      },
      "start_line": 315,
      "original_start_line": 320,
      "start_side": "RIGHT",
      "line": 316,
      "original_line": 316,
      "side": "RIGHT"
    }
  ]
}