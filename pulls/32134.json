{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32134",
    "id": 2415889858,
    "node_id": "PR_kwDOABII586P_43C",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/32134",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/32134.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/32134.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32134",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32134/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32134/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32134/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/1e1f11e8946126180f4a93d6d99d5981ecfc7cd3",
    "number": 32134,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "descriptors: Multipath/PR 22838 follow-ups",
    "user": {
      "login": "hodlinator",
      "id": 172445034,
      "node_id": "U_kgDOCkdNag",
      "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hodlinator",
      "html_url": "https://github.com/hodlinator",
      "followers_url": "https://api.github.com/users/hodlinator/followers",
      "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
      "organizations_url": "https://api.github.com/users/hodlinator/orgs",
      "repos_url": "https://api.github.com/users/hodlinator/repos",
      "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/hodlinator/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "Follows up on unresolved suggestions from #22838. In order of priority:\r\n\r\n1. Fixes a couple of typos [^1][^2] and indentation to conform to Markdown.\r\n2. Solves `for`-loop nit [^3] and also limits variable scope.\r\n3. Clarifies data relationships [^4][^5] by introducing `struct` rather than comments.\r\n\r\n[^1]: https://github.com/bitcoin/bitcoin/pull/22838#discussion_r1713711352\r\n[^2]: https://github.com/bitcoin/bitcoin/pull/22838#discussion_r1735039600\r\n[^3]: https://github.com/bitcoin/bitcoin/pull/22838#discussion_r1735041704\r\n[^4]: https://github.com/bitcoin/bitcoin/pull/22838#discussion_r1715150336\r\n[^5]: https://github.com/bitcoin/bitcoin/pull/22838#discussion_r1715151078",
    "labels": [
      {
        "id": 1482182044,
        "node_id": "MDU6TGFiZWwxNDgyMTgyMDQ0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Descriptors",
        "name": "Descriptors",
        "description": "",
        "color": "e9f76c",
        "default": false
      }
    ],
    "created_at": "2025-03-25T08:10:46Z",
    "updated_at": "2025-03-25T20:44:27Z",
    "mergeable_state": "unknown",
    "merged": false,
    "merge_commit_sha": "057fe38f9872e75262f7a89e7f25e4c25dbd260a",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "hodlinator:2025/03/22838_follow_up",
      "ref": "2025/03/22838_follow_up",
      "sha": "1e1f11e8946126180f4a93d6d99d5981ecfc7cd3",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 813856282,
        "node_id": "R_kgDOMIJ2Gg",
        "name": "bitcoin",
        "full_name": "hodlinator/bitcoin",
        "owner": {
          "login": "hodlinator",
          "id": 172445034,
          "node_id": "U_kgDOCkdNag",
          "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/hodlinator",
          "html_url": "https://github.com/hodlinator",
          "followers_url": "https://api.github.com/users/hodlinator/followers",
          "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
          "organizations_url": "https://api.github.com/users/hodlinator/orgs",
          "repos_url": "https://api.github.com/users/hodlinator/repos",
          "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/hodlinator/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/hodlinator/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/hodlinator/bitcoin",
        "archive_url": "https://api.github.com/repos/hodlinator/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/hodlinator/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/hodlinator/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/hodlinator/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/hodlinator/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/hodlinator/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/hodlinator/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/hodlinator/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/hodlinator/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/hodlinator/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/hodlinator/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/hodlinator/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/hodlinator/bitcoin/events",
        "forks_url": "https://api.github.com/repos/hodlinator/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/hodlinator/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/hodlinator/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/hodlinator/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/hodlinator/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/hodlinator/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/hodlinator/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/hodlinator/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/hodlinator/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/hodlinator/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/hodlinator/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/hodlinator/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/hodlinator/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/hodlinator/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/hodlinator/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/hodlinator/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:hodlinator/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/hodlinator/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/hodlinator/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/hodlinator/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/hodlinator/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/hodlinator/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/hodlinator/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/hodlinator/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/hodlinator/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/hodlinator/bitcoin/hooks",
        "svn_url": "https://github.com/hodlinator/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 3,
        "watchers_count": 3,
        "size": 237484,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-03-25T20:36:22Z",
        "created_at": "2024-06-11T22:00:51Z",
        "updated_at": "2025-03-09T08:58:35Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "dfb7d58108daf3728f69292b9e6dba437bb79cc7",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36959,
        "stargazers_count": 82621,
        "watchers_count": 82621,
        "size": 278834,
        "default_branch": "master",
        "open_issues_count": 695,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-03-25T20:57:47Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-03-25T20:57:53Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32134"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 18,
    "deletions": 14,
    "changed_files": 2,
    "commits": 3,
    "review_comments": 10,
    "comments": 4
  },
  "events": [
    {
      "event": "commented",
      "id": 2750425827,
      "node_id": "IC_kwDOABII586j8Crj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2750425827",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-25T08:10:49Z",
      "updated_at": "2025-03-25T20:44:26Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32134.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Stale ACK | [l0rinc](https://github.com/bitcoin/bitcoin/pull/32134#issuecomment-2752494837) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32134#issuecomment-2750425827",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32134"
    },
    {
      "event": "labeled",
      "id": 16969549726,
      "node_id": "LE_lADOABII586vk1gEzwAAAAPzdsee",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16969549726",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-25T08:10:52Z",
      "label": {
        "name": "Descriptors",
        "color": "e9f76c"
      }
    },
    {
      "event": "commented",
      "id": 2750443435,
      "node_id": "IC_kwDOABII586j8G-r",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2750443435",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-25T08:18:24Z",
      "updated_at": "2025-03-25T08:18:24Z",
      "author_association": "CONTRIBUTOR",
      "body": "CC @glozow & @jonatack since these follow-ups are mostly based on your comments in the original PR (see references in PR description).\r\n\r\nI ran into the broken formatting and 2/3 typo while looking at another PR and traced them back to 22838. Don't feel strongly about the two refactoring commits. Fine with dropping either/both to not hold the doc-commit hostage.",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32134#issuecomment-2750443435",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32134"
    },
    {
      "event": "mentioned",
      "id": 16969666015,
      "node_id": "MEE_lADOABII586vk1gEzwAAAAPzeI3f",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16969666015",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-25T08:18:25Z"
    },
    {
      "event": "subscribed",
      "id": 16969666195,
      "node_id": "SE_lADOABII586vk1gEzwAAAAPzeI6T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16969666195",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-25T08:18:25Z"
    },
    {
      "event": "mentioned",
      "id": 16969666280,
      "node_id": "MEE_lADOABII586vk1gEzwAAAAPzeI7o",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16969666280",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-25T08:18:26Z"
    },
    {
      "event": "subscribed",
      "id": 16969666310,
      "node_id": "SE_lADOABII586vk1gEzwAAAAPzeI8G",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16969666310",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-25T08:18:26Z"
    },
    {
      "event": "reviewed",
      "id": 2713105661,
      "node_id": "PRR_kwDOABII586htrT9",
      "url": null,
      "actor": null,
      "commit_id": "a29e7bf0bd56daf777b4c4d4bab75b564f42c7b5",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Could we separate the concerns of `ParseKeyPath` (validation from parsing)?\r\nAnd I think there may be a typo in the doc.\r\n\r\n<details>\r\n<summary>Suggestions</summary>\r\n\r\n```patch\r\ndiff --git a/doc/descriptors.md b/doc/descriptors.md\r\nindex d5e845273a..60d3e0159f 100644\r\n--- a/doc/descriptors.md\r\n+++ b/doc/descriptors.md\r\n@@ -288,11 +288,11 @@ For example, a descriptor of the form:\r\n \r\n     multi(2,xpub.../<0;1;2>/0/*,xpub.../<2;3;4>/*)\r\n \r\n-will expand to the 3 descriptors\r\n+will expand to the following descriptors:\r\n \r\n     multi(2,xpub.../0/0/*,xpub.../2/*)\r\n     multi(2,xpub.../1/0/*,xpub.../3/*)\r\n-    multi(2,xpub.../2/0/*,xpub.../4*)\r\n+    multi(2,xpub.../2/0/*,xpub.../4/*)\r\n \r\n When this tuple contains only two elements, wallet implementations can use the\r\n first descriptor for receiving addresses and the second descriptor for change addresses.\r\ndiff --git a/src/script/descriptor.cpp b/src/script/descriptor.cpp\r\nindex d2224263d0..7a594f6e75 100644\r\n--- a/src/script/descriptor.cpp\r\n+++ b/src/script/descriptor.cpp\r\n@@ -1439,37 +1439,35 @@ std::optional<uint32_t> ParseKeyPathNum(std::span<const char> elem, bool& apostr\r\n  **/\r\n [[nodiscard]] bool ParseKeyPath(const std::vector<std::span<const char>>& split, std::vector<KeyPath>& out, bool& apostrophe, std::string& error, bool allow_multipath)\r\n {\r\n-    KeyPath path;\r\n-    struct Multipath {\r\n-        size_t segment_index;\r\n-        std::vector<uint32_t> values;\r\n-    };\r\n-    std::optional<Multipath> multipath;\r\n-\r\n-    for (size_t i = 1; i < split.size(); ++i) {\r\n-        const std::span<const char>& elem = split[i];\r\n-\r\n+    std::optional<std::pair<size_t, std::vector<std::span<const char>>>> multipath_data;\r\n+    for (size_t i{1}; i < split.size(); ++i) {\r\n         // Check if element contains multipath specifier\r\n-        if (!elem.empty() && elem.front() == '<' && elem.back() == '>') {\r\n+        if (const auto& elem{split[i]}; elem.size() >= 2 && elem.front() == '<' && elem.back() == '>') {\r\n             if (!allow_multipath) {\r\n                 error = strprintf(\"Key path value '%s' specifies multipath in a section where multipath is not allowed\", std::string(elem.begin(), elem.end()));\r\n                 return false;\r\n-            }\r\n-            if (multipath) {\r\n+            } else if (multipath_data) {\r\n                 error = \"Multiple multipath key path specifiers found\";\r\n                 return false;\r\n             }\r\n-\r\n-            // Parse each possible value\r\n-            std::vector<std::span<const char>> nums = Split(std::span(elem.begin()+1, elem.end()-1), \";\");\r\n-            if (nums.size() < 2) {\r\n+            auto spans{Split(std::span(elem.begin() + 1, elem.end() - 1), \";\")};\r\n+            if (spans.size() < 2) {\r\n                 error = \"Multipath key path specifiers must have at least two items\";\r\n                 return false;\r\n             }\r\n \r\n-            multipath.emplace();\r\n+            multipath_data = {i, spans};\r\n+        }\r\n+    }\r\n+\r\n+    KeyPath path;\r\n+    std::optional<size_t> multipath_segment_index;\r\n+    std::vector<uint32_t> multipath_values;\r\n+\r\n+    for (size_t i{1}; i < split.size(); ++i) {\r\n+        if (multipath_data && i == multipath_data->first) {\r\n             std::unordered_set<uint32_t> seen_multipath;\r\n-            for (const auto& num : nums) {\r\n+            for (const auto& num : multipath_data->second) {\r\n                 const auto& op_num = ParseKeyPathNum(num, apostrophe, error);\r\n                 if (!op_num) return false;\r\n                 auto [_, inserted] = seen_multipath.insert(*op_num);\r\n@@ -1477,25 +1475,25 @@ std::optional<uint32_t> ParseKeyPathNum(std::span<const char> elem, bool& apostr\r\n                     error = strprintf(\"Duplicated key path value %u in multipath specifier\", *op_num);\r\n                     return false;\r\n                 }\r\n-                multipath->values.emplace_back(*op_num);\r\n+                multipath_values.emplace_back(*op_num);\r\n             }\r\n \r\n             path.emplace_back(); // Placeholder for multipath segment\r\n-            multipath->segment_index = path.size()-1;\r\n+            multipath_segment_index = path.size() - 1;\r\n         } else {\r\n-            const auto& op_num = ParseKeyPathNum(elem, apostrophe, error);\r\n+            const auto& op_num = ParseKeyPathNum(split[i], apostrophe, error);\r\n             if (!op_num) return false;\r\n             path.emplace_back(*op_num);\r\n         }\r\n     }\r\n \r\n-    if (!multipath) {\r\n+    if (!multipath_segment_index) {\r\n         out.emplace_back(std::move(path));\r\n     } else {\r\n         // Replace the multipath placeholder with each value while generating paths\r\n-        for (auto value : multipath->values) {\r\n+        for (const auto& value : multipath_values) {\r\n             KeyPath branch_path = path;\r\n-            branch_path[multipath->segment_index] = value;\r\n+            branch_path[*multipath_segment_index] = value;\r\n             out.emplace_back(std::move(branch_path));\r\n         }\r\n     }\r\n```\r\n\r\n</details>",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32134#pullrequestreview-2713105661",
      "submitted_at": "2025-03-25T11:06:31Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32134"
    },
    {
      "event": "commented",
      "id": 2751133325,
      "node_id": "IC_kwDOABII586j-vaN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2751133325",
      "actor": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-25T12:42:18Z",
      "updated_at": "2025-03-25T12:42:18Z",
      "author_association": "CONTRIBUTOR",
      "body": "Re: https://github.com/bitcoin/bitcoin/pull/32134#pullrequestreview-2713105661\r\n\r\nIn the docs file, I would keep the `3` though. Explicitly stating the count of descriptors it will expand to is helpful.",
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32134#issuecomment-2751133325",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32134"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk5YTkyZWZkZDlkNGIyZDI3OGRlZmZlMzg0NTdhMGUxNWIxNDRjMGQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/99a92efdd9d4b2d278deffe38457a0e15b144c0d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/99a92efdd9d4b2d278deffe38457a0e15b144c0d",
      "tree": {
        "sha": "a96416a6651d969b804b87d3f611594360a72f28",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a96416a6651d969b804b87d3f611594360a72f28"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a96416a6651d969b804b87d3f611594360a72f28\nparent 2db00278ea571d0f734609f9fefecfa75c16ee34\nauthor Hodlinator <172445034+hodlinator@users.noreply.github.com> 1742634188 +0100\ncommitter Hodlinator <172445034+hodlinator@users.noreply.github.com> 1742933615 +0100\n\ndescriptors doc: Correct Markdown format + wording\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAg39Hzirivn9mM3G8qwAOGOKsmHT\ny2f/O2iDRQI8UxEyoAAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQOufdwgxmrWzC0ok4GxEVlga3VLRv5jHrDorMYqskQmiOQ++8kFTB/Hh7emgWgojj4\nqGVOUukCoW6eMaXI59MQc=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2db00278ea571d0f734609f9fefecfa75c16ee34",
          "sha": "2db00278ea571d0f734609f9fefecfa75c16ee34",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2db00278ea571d0f734609f9fefecfa75c16ee34"
        }
      ],
      "message": "descriptors doc: Correct Markdown format + wording",
      "committer": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-03-25T20:13:35Z"
      },
      "author": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-03-22T09:03:08Z"
      },
      "sha": "99a92efdd9d4b2d278deffe38457a0e15b144c0d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJkMzRjNjAwOGFhNDU1ZDViMjk0ZGI4OTc3YmU0NzFkMWJjODM3ZGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bd34c6008aa455d5b294db8977be471d1bc837df",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bd34c6008aa455d5b294db8977be471d1bc837df",
      "tree": {
        "sha": "f11a60528ecc06f737e9337012942477d217d852",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f11a60528ecc06f737e9337012942477d217d852"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree f11a60528ecc06f737e9337012942477d217d852\nparent 99a92efdd9d4b2d278deffe38457a0e15b144c0d\nauthor Hodlinator <172445034+hodlinator@users.noreply.github.com> 1742634200 +0100\ncommitter Hodlinator <172445034+hodlinator@users.noreply.github.com> 1742933654 +0100\n\ndescriptors refactor: Use range-for and limit scope of seen_multipath\n\nRange-for avoids ++i/i++ debate and decreases linecount.\nseen_multipath is only used if multipath_segment_index hasn't already been set.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAg39Hzirivn9mM3G8qwAOGOKsmHT\ny2f/O2iDRQI8UxEyoAAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQGF5vpC3AAPm4g2qOPhtsjDrYTA/UJb7j41OXStudrU42Fd7vbcwdexR7YkfWkqW5j\nUantsOnUSypkm3TDIn2gE=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/99a92efdd9d4b2d278deffe38457a0e15b144c0d",
          "sha": "99a92efdd9d4b2d278deffe38457a0e15b144c0d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/99a92efdd9d4b2d278deffe38457a0e15b144c0d"
        }
      ],
      "message": "descriptors refactor: Use range-for and limit scope of seen_multipath\n\nRange-for avoids ++i/i++ debate and decreases linecount.\nseen_multipath is only used if multipath_segment_index hasn't already been set.",
      "committer": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-03-25T20:14:14Z"
      },
      "author": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-03-22T09:03:20Z"
      },
      "sha": "bd34c6008aa455d5b294db8977be471d1bc837df"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDFlMWYxMWU4OTQ2MTI2MTgwZjRhOTNkNmQ5OWQ1OTgxZWNmYzdjZDM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1e1f11e8946126180f4a93d6d99d5981ecfc7cd3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1e1f11e8946126180f4a93d6d99d5981ecfc7cd3",
      "tree": {
        "sha": "fed1afe1b02ca6925d20687ff4b65b2f23398f30",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fed1afe1b02ca6925d20687ff4b65b2f23398f30"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree fed1afe1b02ca6925d20687ff4b65b2f23398f30\nparent bd34c6008aa455d5b294db8977be471d1bc837df\nauthor Hodlinator <172445034+hodlinator@users.noreply.github.com> 1742846462 +0100\ncommitter Hodlinator <172445034+hodlinator@users.noreply.github.com> 1742933670 +0100\n\ndescriptors refactor: Clarify multipath data relationships through local struct\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAg39Hzirivn9mM3G8qwAOGOKsmHT\ny2f/O2iDRQI8UxEyoAAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQNw7ohF7clC7L42b0ZMn2bMJWJMmgyrOCg6qSDaYtKKEeNCTuDUv1mzGQQSaiXZ0+A\nO6KUKILx9N8TJyhdIeIgY=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bd34c6008aa455d5b294db8977be471d1bc837df",
          "sha": "bd34c6008aa455d5b294db8977be471d1bc837df",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bd34c6008aa455d5b294db8977be471d1bc837df"
        }
      ],
      "message": "descriptors refactor: Clarify multipath data relationships through local struct",
      "committer": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-03-25T20:14:30Z"
      },
      "author": {
        "name": "Hodlinator",
        "email": "172445034+hodlinator@users.noreply.github.com",
        "date": "2025-03-24T20:01:02Z"
      },
      "sha": "1e1f11e8946126180f4a93d6d99d5981ecfc7cd3"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16981599468,
      "node_id": "HRFPE_lADOABII586vk1gEzwAAAAP0LqTs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16981599468",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "1e1f11e8946126180f4a93d6d99d5981ecfc7cd3",
      "commit_url": "https://api.github.com/repos/hodlinator/bitcoin/commits/1e1f11e8946126180f4a93d6d99d5981ecfc7cd3",
      "created_at": "2025-03-25T20:36:23Z"
    },
    {
      "event": "reviewed",
      "id": 2715093563,
      "node_id": "PRR_kwDOABII586h1Qo7",
      "url": null,
      "actor": null,
      "commit_id": "a29e7bf0bd56daf777b4c4d4bab75b564f42c7b5",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for reviewing! Pushed improvements based on feedback.",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32134#pullrequestreview-2715093563",
      "submitted_at": "2025-03-25T20:38:29Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32134"
    },
    {
      "event": "commented",
      "id": 2752494837,
      "node_id": "IC_kwDOABII586kD7z1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2752494837",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-25T20:44:23Z",
      "updated_at": "2025-03-25T20:44:23Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK bd34c6008aa455d5b294db8977be471d1bc837df - not yet sure about the last commit, let's see what others think",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32134#issuecomment-2752494837",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32134"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2011731171",
      "pull_request_review_id": 2713105661,
      "id": 2011731171,
      "node_id": "PRRC_kwDOABII58536JTj",
      "diff_hunk": "@@ -288,11 +288,11 @@ For example, a descriptor of the form:\n \n     multi(2,xpub.../<0;1;2>/0/*,xpub.../<2;3;4>/*)\n \n-will expand to the two descriptors\n+will expand to the 3 descriptors\n \n-   multi(2,xpub.../0/0/*,xpub.../2/*)\n-   multi(2,xpub.../1/0/*,xpub.../3/*)\n-   multi(2,xpub.../2/0/*,xpub.../4*)\n+    multi(2,xpub.../0/0/*,xpub.../2/*)\n+    multi(2,xpub.../1/0/*,xpub.../3/*)\n+    multi(2,xpub.../2/0/*,xpub.../4*)",
      "path": "doc/descriptors.md",
      "position": null,
      "original_position": 12,
      "commit_id": "1e1f11e8946126180f4a93d6d99d5981ecfc7cd3",
      "original_commit_id": "360f06ea1908248ef08a9b50901b4a76424d5795",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "shouldn't the wildcard have its own position in the hierarchy?\r\n```suggestion\r\n    multi(2,xpub.../2/0/*,xpub.../4/*)\r\n```",
      "created_at": "2025-03-25T09:54:54Z",
      "updated_at": "2025-03-25T11:06:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32134#discussion_r2011731171",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2011731171"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32134"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 295,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2011736752",
      "pull_request_review_id": 2713105661,
      "id": 2011736752,
      "node_id": "PRRC_kwDOABII58536Kqw",
      "diff_hunk": "@@ -1473,25 +1477,25 @@ std::optional<uint32_t> ParseKeyPathNum(std::span<const char> elem, bool& apostr\n                     error = strprintf(\"Duplicated key path value %u in multipath specifier\", *op_num);\n                     return false;\n                 }\n-                multipath_values.emplace_back(*op_num);\n+                multipath->values.emplace_back(*op_num);\n             }\n \n             path.emplace_back(); // Placeholder for multipath segment\n-            multipath_segment_index = path.size()-1;\n+            multipath->segment_index = path.size()-1;\n         } else {\n             const auto& op_num = ParseKeyPathNum(elem, apostrophe, error);\n             if (!op_num) return false;\n             path.emplace_back(*op_num);\n         }\n     }\n \n-    if (!multipath_segment_index) {\n+    if (!multipath) {\n         out.emplace_back(std::move(path));\n     } else {\n         // Replace the multipath placeholder with each value while generating paths\n-        for (auto value : multipath_values) {\n+        for (auto value : multipath->values) {",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 55,
      "commit_id": "1e1f11e8946126180f4a93d6d99d5981ecfc7cd3",
      "original_commit_id": "a29e7bf0bd56daf777b4c4d4bab75b564f42c7b5",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: I had to check the type of `value` to make sure this isn't needlessly copied - to make it slightly simpler to review, consider:\r\n```suggestion\r\n        for (const auto& value : multipath->values) {\r\n```",
      "created_at": "2025-03-25T09:57:42Z",
      "updated_at": "2025-03-25T11:06:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32134#discussion_r2011736752",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2011736752"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32134"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1496,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2011759617",
      "pull_request_review_id": 2713105661,
      "id": 2011759617,
      "node_id": "PRRC_kwDOABII58536QQB",
      "diff_hunk": "@@ -1464,6 +1467,7 @@ std::optional<uint32_t> ParseKeyPathNum(std::span<const char> elem, bool& apostr\n                 return false;\n             }\n \n+            multipath.emplace();",
      "path": "src/script/descriptor.cpp",
      "position": 32,
      "original_position": 27,
      "commit_id": "1e1f11e8946126180f4a93d6d99d5981ecfc7cd3",
      "original_commit_id": "a29e7bf0bd56daf777b4c4d4bab75b564f42c7b5",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I don't like this third commit (nor the original implementation), we're looping over the splits, assigning a multipath if found, checking if it was already found during previous iterations, setting errors to output parameters and returning early, if we didn't return we assume it was correct, etc - it's too stateful, we're mixing not-strictly-related operations in a single loop, i.e. validation with usage, we should be able to separate the two concerns (it's a tiny loop).\r\n",
      "created_at": "2025-03-25T10:11:05Z",
      "updated_at": "2025-03-25T11:06:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32134#discussion_r2011759617",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2011759617"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32134"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1470,
      "original_line": 1470,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2011851451",
      "pull_request_review_id": 2713105661,
      "id": 2011851451,
      "node_id": "PRRC_kwDOABII58536mq7",
      "diff_hunk": "@@ -1473,25 +1477,25 @@ std::optional<uint32_t> ParseKeyPathNum(std::span<const char> elem, bool& apostr\n                     error = strprintf(\"Duplicated key path value %u in multipath specifier\", *op_num);\n                     return false;\n                 }\n-                multipath_values.emplace_back(*op_num);\n+                multipath->values.emplace_back(*op_num);\n             }\n \n             path.emplace_back(); // Placeholder for multipath segment\n-            multipath_segment_index = path.size()-1;\n+            multipath->segment_index = path.size()-1;",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 41,
      "commit_id": "1e1f11e8946126180f4a93d6d99d5981ecfc7cd3",
      "original_commit_id": "a29e7bf0bd56daf777b4c4d4bab75b564f42c7b5",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: since we're already touching this line we might as well format it",
      "created_at": "2025-03-25T11:03:09Z",
      "updated_at": "2025-03-25T11:06:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32134#discussion_r2011851451",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2011851451"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32134"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1484,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2011902071",
      "pull_request_review_id": 2713391369,
      "id": 2011902071,
      "node_id": "PRRC_kwDOABII58536zB3",
      "diff_hunk": "@@ -288,11 +288,11 @@ For example, a descriptor of the form:\n \n     multi(2,xpub.../<0;1;2>/0/*,xpub.../<2;3;4>/*)\n \n-will expand to the two descriptors\n+will expand to the 3 descriptors\n \n-   multi(2,xpub.../0/0/*,xpub.../2/*)\n-   multi(2,xpub.../1/0/*,xpub.../3/*)\n-   multi(2,xpub.../2/0/*,xpub.../4*)\n+    multi(2,xpub.../0/0/*,xpub.../2/*)\n+    multi(2,xpub.../1/0/*,xpub.../3/*)\n+    multi(2,xpub.../2/0/*,xpub.../4*)",
      "path": "doc/descriptors.md",
      "position": null,
      "original_position": 12,
      "commit_id": "1e1f11e8946126180f4a93d6d99d5981ecfc7cd3",
      "original_commit_id": "360f06ea1908248ef08a9b50901b4a76424d5795",
      "in_reply_to_id": 2011731171,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Yes, I believe it should.",
      "created_at": "2025-03-25T11:34:18Z",
      "updated_at": "2025-03-25T11:34:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32134#discussion_r2011902071",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2011902071"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32134"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 295,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2012000014",
      "pull_request_review_id": 2713574077,
      "id": 2012000014,
      "node_id": "PRRC_kwDOABII58537K8O",
      "diff_hunk": "@@ -1464,6 +1467,7 @@ std::optional<uint32_t> ParseKeyPathNum(std::span<const char> elem, bool& apostr\n                 return false;\n             }\n \n+            multipath.emplace();",
      "path": "src/script/descriptor.cpp",
      "position": 32,
      "original_position": 27,
      "commit_id": "1e1f11e8946126180f4a93d6d99d5981ecfc7cd3",
      "original_commit_id": "a29e7bf0bd56daf777b4c4d4bab75b564f42c7b5",
      "in_reply_to_id": 2011759617,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I like the suggested change, it's cleaner and easier to follow. There's a bit of validation in the second loop as well but I guess there is no way to completely separate the validation from parsing. The alternative would be to parse the multipath nums in the first loop as well but I would prefer this implementation over that. ",
      "created_at": "2025-03-25T12:36:52Z",
      "updated_at": "2025-03-25T12:36:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32134#discussion_r2012000014",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2012000014"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32134"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1470,
      "original_line": 1470,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2012003697",
      "pull_request_review_id": 2713580864,
      "id": 2012003697,
      "node_id": "PRRC_kwDOABII58537L1x",
      "diff_hunk": "@@ -1464,6 +1467,7 @@ std::optional<uint32_t> ParseKeyPathNum(std::span<const char> elem, bool& apostr\n                 return false;\n             }\n \n+            multipath.emplace();",
      "path": "src/script/descriptor.cpp",
      "position": 32,
      "original_position": 27,
      "commit_id": "1e1f11e8946126180f4a93d6d99d5981ecfc7cd3",
      "original_commit_id": "a29e7bf0bd56daf777b4c4d4bab75b564f42c7b5",
      "in_reply_to_id": 2011759617,
      "user": {
        "login": "rkrux",
        "id": 5960750,
        "node_id": "MDQ6VXNlcjU5NjA3NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5960750?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkrux",
        "html_url": "https://github.com/rkrux",
        "followers_url": "https://api.github.com/users/rkrux/followers",
        "following_url": "https://api.github.com/users/rkrux/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rkrux/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rkrux/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rkrux/subscriptions",
        "organizations_url": "https://api.github.com/users/rkrux/orgs",
        "repos_url": "https://api.github.com/users/rkrux/repos",
        "events_url": "https://api.github.com/users/rkrux/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rkrux/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "A comment before the first loop would be nice stating `Validate multipath key path specifiers`",
      "created_at": "2025-03-25T12:39:12Z",
      "updated_at": "2025-03-25T12:39:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32134#discussion_r2012003697",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2012003697"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32134"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1470,
      "original_line": 1470,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2012885306",
      "pull_request_review_id": 2715093563,
      "id": 2012885306,
      "node_id": "PRRC_kwDOABII5853-jE6",
      "diff_hunk": "@@ -1464,6 +1467,7 @@ std::optional<uint32_t> ParseKeyPathNum(std::span<const char> elem, bool& apostr\n                 return false;\n             }\n \n+            multipath.emplace();",
      "path": "src/script/descriptor.cpp",
      "position": 32,
      "original_position": 27,
      "commit_id": "1e1f11e8946126180f4a93d6d99d5981ecfc7cd3",
      "original_commit_id": "a29e7bf0bd56daf777b4c4d4bab75b564f42c7b5",
      "in_reply_to_id": 2011759617,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thread https://github.com/bitcoin/bitcoin/pull/32134/files#r2011759617:\r\n\r\nSplitting validation from usage sounds good, but l0rincs version introduces more state and as rkrux mentioned still validates the parsing of the numbers in the \"non-validating\" loop. It's a bit more drastic than I was aiming for and still feels incomplete.\r\n\r\nThat version also undoes the move to keep the multipath data together towards the end, see list item 3 in the PR description. In the beginning it also uses `std::pair` with unnamed components instead of a `struct` with explanatory fields.",
      "created_at": "2025-03-25T20:27:09Z",
      "updated_at": "2025-03-25T20:38:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32134#discussion_r2012885306",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2012885306"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32134"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1470,
      "original_line": 1470,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2012886462",
      "pull_request_review_id": 2715093563,
      "id": 2012886462,
      "node_id": "PRRC_kwDOABII5853-jW-",
      "diff_hunk": "@@ -1473,25 +1477,25 @@ std::optional<uint32_t> ParseKeyPathNum(std::span<const char> elem, bool& apostr\n                     error = strprintf(\"Duplicated key path value %u in multipath specifier\", *op_num);\n                     return false;\n                 }\n-                multipath_values.emplace_back(*op_num);\n+                multipath->values.emplace_back(*op_num);\n             }\n \n             path.emplace_back(); // Placeholder for multipath segment\n-            multipath_segment_index = path.size()-1;\n+            multipath->segment_index = path.size()-1;\n         } else {\n             const auto& op_num = ParseKeyPathNum(elem, apostrophe, error);\n             if (!op_num) return false;\n             path.emplace_back(*op_num);\n         }\n     }\n \n-    if (!multipath_segment_index) {\n+    if (!multipath) {\n         out.emplace_back(std::move(path));\n     } else {\n         // Replace the multipath placeholder with each value while generating paths\n-        for (auto value : multipath_values) {\n+        for (auto value : multipath->values) {",
      "path": "src/script/descriptor.cpp",
      "position": null,
      "original_position": 55,
      "commit_id": "1e1f11e8946126180f4a93d6d99d5981ecfc7cd3",
      "original_commit_id": "a29e7bf0bd56daf777b4c4d4bab75b564f42c7b5",
      "in_reply_to_id": 2011736752,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thread https://github.com/bitcoin/bitcoin/pull/32134/files#r2011736752:\r\n\r\nGoing with this for now:\r\n```suggestion\r\n        for (uint32_t value : multipath->values) {\r\n```",
      "created_at": "2025-03-25T20:28:09Z",
      "updated_at": "2025-03-25T20:38:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32134#discussion_r2012886462",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2012886462"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32134"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1496,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2012887755",
      "pull_request_review_id": 2715093563,
      "id": 2012887755,
      "node_id": "PRRC_kwDOABII5853-jrL",
      "diff_hunk": "@@ -288,11 +288,11 @@ For example, a descriptor of the form:\n \n     multi(2,xpub.../<0;1;2>/0/*,xpub.../<2;3;4>/*)\n \n-will expand to the two descriptors\n+will expand to the 3 descriptors\n \n-   multi(2,xpub.../0/0/*,xpub.../2/*)\n-   multi(2,xpub.../1/0/*,xpub.../3/*)\n-   multi(2,xpub.../2/0/*,xpub.../4*)\n+    multi(2,xpub.../0/0/*,xpub.../2/*)\n+    multi(2,xpub.../1/0/*,xpub.../3/*)\n+    multi(2,xpub.../2/0/*,xpub.../4*)",
      "path": "doc/descriptors.md",
      "position": null,
      "original_position": 12,
      "commit_id": "1e1f11e8946126180f4a93d6d99d5981ecfc7cd3",
      "original_commit_id": "360f06ea1908248ef08a9b50901b4a76424d5795",
      "in_reply_to_id": 2011731171,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thread https://github.com/bitcoin/bitcoin/pull/32134/files#r2011731171:\r\n\r\nGood catch!",
      "created_at": "2025-03-25T20:29:21Z",
      "updated_at": "2025-03-25T20:38:29Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32134#discussion_r2012887755",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2012887755"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32134"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 295,
      "side": "RIGHT"
    }
  ]
}