{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33018",
    "id": 2679273445,
    "node_id": "PR_kwDOABII586fsnfl",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/33018",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/33018.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/33018.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33018",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33018/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33018/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33018/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/8eb06adaaae4534b31aba0a4d0e4862b72f5c310",
    "number": 33018,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "coins: remove SetFresh method from CCoinsCacheEntry",
    "user": {
      "login": "andrewtoth",
      "id": 237213,
      "node_id": "MDQ6VXNlcjIzNzIxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andrewtoth",
      "html_url": "https://github.com/andrewtoth",
      "followers_url": "https://api.github.com/users/andrewtoth/followers",
      "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
      "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
      "repos_url": "https://api.github.com/users/andrewtoth/repos",
      "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "There is plenty of test code that exercises the code path for FRESH-but-not-DIRTY coins in CCoinsViewCache. However, we can see there is only one place in production code where we call `SetFresh` that is not preceded by `SetDirty`. This is in `CCoinsViewCache::FetchCoin` and we can see that this is called if the coin retrieved from `base->GetCoin` is spent. The `base` in this case can be another `CCoinsViewCache` or a `CCoinsViewDB`. In `CCoinsViewCache::GetCoin` we can see that we do not return spent coins, and in `CCoinsViewDB` we don't ever store spent coins so there are none to return.\r\n\r\nThus, we can safely remove this dead code, and now we can see that there are never any calls to `SetFresh` not preceded by `SetDirty`. This PR removes this dead code and replaces `SetFresh` by passing a `fresh` boolean flag to `SetDirty`. This simplifies the logic of `CCoinsViewCache` and lets us remove test cases checking for FRESH-but-not-DIRTY coins. It removes the possibility of FRESH-but-not-DIRTY coins being called from any code path, so we can eliminate this state entirely and reduce the cognitive load of having to consider it.\r\n\r\nThis is pulled out from https://github.com/bitcoin/bitcoin/pull/30673 to make the change simpler.",
    "labels": [
      {
        "id": 97470796,
        "node_id": "MDU6TGFiZWw5NzQ3MDc5Ng==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/UTXO%20Db%20and%20Indexes",
        "name": "UTXO Db and Indexes",
        "color": "fbca04",
        "default": false
      }
    ],
    "created_at": "2025-07-19T19:21:35Z",
    "updated_at": "2025-07-20T18:17:13Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "e058fbce38ce0a3753a24de8669c444c1679e384",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "andrewtoth:remove-setfresh",
      "ref": "remove-setfresh",
      "sha": "8eb06adaaae4534b31aba0a4d0e4862b72f5c310",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 156145027,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNTYxNDUwMjc=",
        "name": "bitcoin",
        "full_name": "andrewtoth/bitcoin",
        "owner": {
          "login": "andrewtoth",
          "id": 237213,
          "node_id": "MDQ6VXNlcjIzNzIxMw==",
          "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/andrewtoth",
          "html_url": "https://github.com/andrewtoth",
          "followers_url": "https://api.github.com/users/andrewtoth/followers",
          "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
          "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
          "repos_url": "https://api.github.com/users/andrewtoth/repos",
          "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/andrewtoth/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/andrewtoth/bitcoin",
        "archive_url": "https://api.github.com/repos/andrewtoth/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/andrewtoth/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/andrewtoth/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/andrewtoth/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/andrewtoth/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/andrewtoth/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/andrewtoth/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/andrewtoth/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/andrewtoth/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/andrewtoth/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/andrewtoth/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/andrewtoth/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/andrewtoth/bitcoin/events",
        "forks_url": "https://api.github.com/repos/andrewtoth/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/andrewtoth/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/andrewtoth/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/andrewtoth/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/andrewtoth/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/andrewtoth/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/andrewtoth/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/andrewtoth/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/andrewtoth/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/andrewtoth/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/andrewtoth/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/andrewtoth/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/andrewtoth/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/andrewtoth/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/andrewtoth/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/andrewtoth/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:andrewtoth/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/andrewtoth/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/andrewtoth/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/andrewtoth/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/andrewtoth/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/andrewtoth/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/andrewtoth/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/andrewtoth/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/andrewtoth/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/andrewtoth/bitcoin/hooks",
        "svn_url": "https://github.com/andrewtoth/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 282362,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-07-20T18:17:12Z",
        "created_at": "2018-11-05T01:43:59Z",
        "updated_at": "2022-12-23T04:16:30Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "5878f35446ae260ccb0ab5051b795b4364f77951",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37546,
        "stargazers_count": 84651,
        "watchers_count": 84651,
        "size": 289329,
        "default_branch": "master",
        "open_issues_count": 762,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-07-19T05:17:27Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-07-20T17:53:05Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/33018"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 40,
    "deletions": 85,
    "changed_files": 6,
    "commits": 6,
    "review_comments": 0,
    "comments": 1
  },
  "events": [
    {
      "event": "labeled",
      "id": 18712832524,
      "node_id": "LE_lADOABII587Bc6GezwAAAARbXyoM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18712832524",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-19T19:21:38Z",
      "label": {
        "name": "UTXO Db and Indexes",
        "color": "fbca04"
      }
    },
    {
      "event": "commented",
      "id": 3092526814,
      "node_id": "IC_kwDOABII5864VDbe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3092526814",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-19T19:21:39Z",
      "updated_at": "2025-07-20T03:42:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33018.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#32313](https://github.com/bitcoin/bitcoin/pull/32313) (coins: fix `cachedCoinsUsage` accounting in `CCoinsViewCache` by l0rinc)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/33018#issuecomment-3092526814",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/33018"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGVlNTFlNTEyNDA3ZjhjN2QyOWRjZGMxNzQzYTkwOGExZjRmZjk0MTg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ee51e512407f8c7d29dcdc1743a908a1f4ff9418",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ee51e512407f8c7d29dcdc1743a908a1f4ff9418",
      "tree": {
        "sha": "d615b61849df10c567a37059668162329ba7a3e0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d615b61849df10c567a37059668162329ba7a3e0"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree d615b61849df10c567a37059668162329ba7a3e0\nparent 184159e4f30c6846cd0324ee07b59e7f8121a5ea\nauthor Andrew Toth <andrewstoth@gmail.com> 1752949714 -0400\ncommitter Andrew Toth <andrewstoth@gmail.com> 1753035426 -0400\n\ntest: coins returned from GetCoin cannot be spent\n\nThis is already not possible for any production GetCoin\nimplementation, so this aligns tests with production code.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmh9MqIACgkQYAB6/Ik4\nsBhMgg/9FhfQpuWX5HgWdkWzUYElDATdc4z5N1EfqLwTH/QYArhxFRfYkfXgYiAc\nfgbTW55XcEbHbfCKDovkFrL2iXA7h5Vxxzz1EV7UHFI/kXmFQDH+CfukQ76GRQ1c\nwL3EZ5ksDa0if3ec2qsG6rucCgvJUAW7mIhbpSThM7th7vq0btP11yvEp8p2V+sl\nkrxQfUSt9IfhxHos7bIzn66r7saqPbXgVVenDPM6O00g31mwpPGjGsqWRpUHHYmr\n5oIK23y2wrLjmIW2z5ehOakWwlbDBJjecuyvaC5z/CSrsk2KsGwPppSCMrrmbUEl\n8yZ/MSHNyoHjC0C+cIobeECkLK2FJb0N07jB4d/x7cdD9oXJa+/QeY1t9BoEQHrj\ns9Gom2GuMTIdH1wBiZqKNQMYSKTbNuOLZJazbhEORzPVkGVyb08hefbIcag9jPy7\nJHY8DCBQ+P0TUCGpGnXCm251XHA3n3bIvvyevZ3OYXEjkc5/R8w/4t9M1qVvn0yd\ngqe+vm3qbNNTNhxqZvAzcfsm4ie/D4T+J+b4k5We6LtjhO4l064A54bDOOW8zNQO\nxldLXG0rYCZHEZq3UXS5HhD7hdrcaCmK8Nz55nG/a74DPYA+zdWG0xb5oLNSFWgy\n1Ey85ESPNzfCNQwuAJZtL9dKkMayWgrNsrchDzITSzZLIwbj49g=\n=W28c\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/184159e4f30c6846cd0324ee07b59e7f8121a5ea",
          "sha": "184159e4f30c6846cd0324ee07b59e7f8121a5ea",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/184159e4f30c6846cd0324ee07b59e7f8121a5ea"
        }
      ],
      "message": "test: coins returned from GetCoin cannot be spent\n\nThis is already not possible for any production GetCoin\nimplementation, so this aligns tests with production code.",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-07-20T18:17:06Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-07-19T18:28:34Z"
      },
      "sha": "ee51e512407f8c7d29dcdc1743a908a1f4ff9418"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQ4YWI1ODJlM2E2MTM0YTJkNzMxYTQ2MjU0OWQ0YzUwYTJkMDYzZjA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d8ab582e3a6134a2d731a462549d4c50a2d063f0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d8ab582e3a6134a2d731a462549d4c50a2d063f0",
      "tree": {
        "sha": "fd4eea3996db8de613dc20425e6dffcd4a9af885",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fd4eea3996db8de613dc20425e6dffcd4a9af885"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree fd4eea3996db8de613dc20425e6dffcd4a9af885\nparent ee51e512407f8c7d29dcdc1743a908a1f4ff9418\nauthor Andrew Toth <andrewstoth@gmail.com> 1753033832 -0400\ncommitter Andrew Toth <andrewstoth@gmail.com> 1753035426 -0400\n\ncoins: remove SetFresh in FetchCoin\n\nThis is the only place in production code where SetFresh is called\nwhen not preceded by SetDirty.\nWe can see that coin is retrieved from base->GetCoin, and base can\nonly be another CCoinsViewCache or CCoinsViewDB.\nCCoinsViewCache::GetCoin does not return spent coins, and CCoinsViewDB\ndoes not store any spent coins to return.\nThus, we can conclude that this call to SetFresh is dead code and can\nbe safely removed.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmh9MqIACgkQYAB6/Ik4\nsBgitA/+OsUnDUlkALcaulL9M5rRCOpNhZSBgwEEKCpKPmsenvL6At3j9NK5mLSl\nwA5wxNsAqzu8DDOrOcIvjFJpJduVOSJT9HO5LGO/I0zC87Q+e6V+9CvylVCVYJ+K\n503rdFKecuCrdYD7gvQ99K+YVhF7mTZInnXuLtGHLY8TMMSoDdnKRW6i12hKrr/T\nKMnAHbydBDqC3AO2wyLXa1xPlRtQH88OgDuECrMkPQ2A4z4F1LPAStvkYnYL6aTI\nOdj9VDhdMG7uXxb0MpShT12BfBlbj3FUW3RcSzb8a+7G45JhLbQaLu3QCaNP8ZWJ\nZOB6CqFdelvobbkgfaxzlg8joumaEadeifuIOlZ343k+ndIoxAwhqKw0tSqfGnes\nOG5LKdGWLndrA1n0T10WNrezISwsoAWq5dcC4CaxQLvpgM5B37JRnRsLDAfexhqA\nx7laTwrzXu2MMUdxGAEz/8bmX1cFJnBK16c0VXPlkFy8BG4EI46g+zrR6ZaMgs8h\n7ljX0Lr7QwZDbFoEafVR0jzFFoI+9F4ZaJQW9KRnTz7wVvsMZYh7uAp/7fti0+u6\nYvPMYDVrMKjr2m5Ffdv54WI0+rS4pxKaRJvCqqWNRyRrcTAGlNV5HLbUf4xq6xAN\ntn8tUSolyW1sLzj22PvXj48ACg5d7xtgyrlXLaQZMmVcdwrDf3E=\n=GAXI\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ee51e512407f8c7d29dcdc1743a908a1f4ff9418",
          "sha": "ee51e512407f8c7d29dcdc1743a908a1f4ff9418",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ee51e512407f8c7d29dcdc1743a908a1f4ff9418"
        }
      ],
      "message": "coins: remove SetFresh in FetchCoin\n\nThis is the only place in production code where SetFresh is called\nwhen not preceded by SetDirty.\nWe can see that coin is retrieved from base->GetCoin, and base can\nonly be another CCoinsViewCache or CCoinsViewDB.\nCCoinsViewCache::GetCoin does not return spent coins, and CCoinsViewDB\ndoes not store any spent coins to return.\nThus, we can conclude that this call to SetFresh is dead code and can\nbe safely removed.",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-07-20T18:17:06Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-07-20T17:50:32Z"
      },
      "sha": "d8ab582e3a6134a2d731a462549d4c50a2d063f0"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQyZjQ1OWQzZTg1YWM1NmZjZGUwNTM1MmIxMjQ3ZDM2YWQ0ZDgxZDQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/42f459d3e85ac56fcde05352b1247d36ad4d81d4",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/42f459d3e85ac56fcde05352b1247d36ad4d81d4",
      "tree": {
        "sha": "18c51ef48d5d9c006e41ee424260b096673b2143",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/18c51ef48d5d9c006e41ee424260b096673b2143"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 18c51ef48d5d9c006e41ee424260b096673b2143\nparent d8ab582e3a6134a2d731a462549d4c50a2d063f0\nauthor Andrew Toth <andrewstoth@gmail.com> 1753033959 -0400\ncommitter Andrew Toth <andrewstoth@gmail.com> 1753035426 -0400\n\ntest: remove FRESH-but-not-DIRTY state from coins_tests\n\nThe FRESH-but-not-DIRTY state cannot occur in production code.\nThere are never any calls to SetFresh not preceded by SetDirty.\nWe should remove these test cases to simplify the test code and\nbetter align it with production code.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmh9MqIACgkQYAB6/Ik4\nsBgBww/9Hfra9kaob1J3RQa8nHzXMIxGx4eZVBhOrt0ci/e+IBpWr0AJ6/12NPOP\nkpd61+LqhC956O1pCOWNyJW/yttkRN8A06Q9Udcl1ialuzVfRXspC2yGbDWo3s+a\nqGt+CrLkjxR9r0J/av+FzCFv4YWqy3r/0e5BgQ9F/gA2py7Bbr13+elilVXGsqus\nZd1xZehj/6dzKpMyKDcCM27lbYeXR1Wh6kEw8at8jykF2TGaNu3Qg1IVZswwqP7M\nV8o4ShVC2mOrGO1KX5GbxDNzX3x8O5uTMAIwBKv/zYPgwS2QdvHjCXboGoBA+ePP\nUpq/mqdAKJZojTxZYu4Q2poV81A/FashZJ6GSkaCnfPkFHJaJxfcsV226di2vh5X\nEJVXkAlx7hiIiV5X2SQLxsdsDKu2fGbNRIL5HEbrHAYSsIxi7gAk5z5n+z7kQ5YF\nSLOpTtyVw0f61bSh861aYBoYf1ojw41tIfwJOFwk1/xKf6mfLAzhsJo1m9Xzfwo7\n1wpt+52/gu7WLHXY/jUq7rKixXVMjV2c7MnjAGdSR4VT6/Jq0vcNJnVHboXTuYJE\ns/WCYSrRC0nz+dOCQqt7vyDTC4N2yDL7cCyMZJAabDhs4mELiGSlkqZ5NbHZn6Rg\niPcmGAUUrLohHxit01Yle9C188ildgbUvzILevC3ENyda4ien4g=\n=lhV8\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d8ab582e3a6134a2d731a462549d4c50a2d063f0",
          "sha": "d8ab582e3a6134a2d731a462549d4c50a2d063f0",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d8ab582e3a6134a2d731a462549d4c50a2d063f0"
        }
      ],
      "message": "test: remove FRESH-but-not-DIRTY state from coins_tests\n\nThe FRESH-but-not-DIRTY state cannot occur in production code.\nThere are never any calls to SetFresh not preceded by SetDirty.\nWe should remove these test cases to simplify the test code and\nbetter align it with production code.",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-07-20T18:17:06Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-07-20T17:52:39Z"
      },
      "sha": "42f459d3e85ac56fcde05352b1247d36ad4d81d4"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGI2MGQ1NjNkMmE3MzM2MGZkMGVjODhhNWY2ZTA1NTJhNjIyMjE4MmY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b60d563d2a73360fd0ec88a5f6e0552a6222182f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b60d563d2a73360fd0ec88a5f6e0552a6222182f",
      "tree": {
        "sha": "b05e730af411940740d6c6356bc0222e4a33f34a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b05e730af411940740d6c6356bc0222e4a33f34a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree b05e730af411940740d6c6356bc0222e4a33f34a\nparent 42f459d3e85ac56fcde05352b1247d36ad4d81d4\nauthor Andrew Toth <andrewstoth@gmail.com> 1753034147 -0400\ncommitter Andrew Toth <andrewstoth@gmail.com> 1753035426 -0400\n\ntest: assert no FRESH-but-not-DIRTY coins can occur\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmh9MqIACgkQYAB6/Ik4\nsBihpg//YjAlT5ZFriu0no1I23X7WeQKupPwm4QSHhNYokZMGll+qSAFXpYIYv9/\nIn/4qhykTaWLuVOTJY/qq5LxpFNTo8Y0U9hGt/vHJDZmULeqxoENTRMdh8ckh65u\nLtVVkVoWZkbQc144nDk58EM1jMzLyJGRqsKux0c7L2IJWu/NVNh/Vl8u9VOm1g1H\nafSpADns8AqzEaHabBU46iY8FcOh1hE6Gnu5MZyABmsSZgJa+u93Fk/qpP1Y+pOx\n5YkMlkT6eMxXI59E7vJzeTh/CWAaOwGXAYptDvS/iGlHOwV4lqHdT2mDyv7SMyiS\n+sh+7S7chWkz05TrEFPbfzHEd9p80rEgHpcncFHqMHltFW+ocg+ZBl1B08cazG2o\ntQOlnnnxhozMc3JzCSrCkyM0LoHdXaPuO20/rtWT2pulHEN2/PZVf/sZd4+CLJQA\nbGGTScrQe7tVqPRwL66vee7B0RdMMxgYd/vsLRDvRY8kqan04qN89Yl1PRv+ZtV5\nWcbw3ImNmJkYUQm88ytiGluujBqspvVBNjHXEesOoMSSLjk6Ca8ZA7CNQm181gDa\nNtQ8wQQsafNzwxX2UcE9f1Ocjn+rwBvT0k8+eEjvThMxiB+hCjU+LekwYVoimHGn\nm95zhP6NxvUmw+Ywiux/3Ow3xLhZN7J7MrjnYTbA8RTGTIn4peM=\n=QjML\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/42f459d3e85ac56fcde05352b1247d36ad4d81d4",
          "sha": "42f459d3e85ac56fcde05352b1247d36ad4d81d4",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/42f459d3e85ac56fcde05352b1247d36ad4d81d4"
        }
      ],
      "message": "test: assert no FRESH-but-not-DIRTY coins can occur",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-07-20T18:17:06Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-07-20T17:55:47Z"
      },
      "sha": "b60d563d2a73360fd0ec88a5f6e0552a6222182f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZiYWJmNTZkZjNlNjMyMzAxZDJhMmE4ZjgxOTc1ZmE2NjU3OTc1ZWY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fbabf56df3e632301d2a2a8f81975fa6657975ef",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fbabf56df3e632301d2a2a8f81975fa6657975ef",
      "tree": {
        "sha": "3ebcd81cdb7b3970578d73d07276c96f0ccd09fa",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3ebcd81cdb7b3970578d73d07276c96f0ccd09fa"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 3ebcd81cdb7b3970578d73d07276c96f0ccd09fa\nparent b60d563d2a73360fd0ec88a5f6e0552a6222182f\nauthor Andrew Toth <andrewstoth@gmail.com> 1753034772 -0400\ncommitter Andrew Toth <andrewstoth@gmail.com> 1753035426 -0400\n\ncoins: remove SetFresh method from CCoinsCacheEntry\n\nThere are no instances where SetFresh is called without being\npreceded by SetDirty. This replaces SetFresh with a boolean flag\npassed to SetDirty to indicate whether the DIRTY coin should also\nbe set to FRESH. This removes the possibility of setting a\nFRESH-but-not-DIRTY cached coin state.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmh9MqIACgkQYAB6/Ik4\nsBiJ1Q//Ti0/ji2D/OK5Lffvj5GWsg51jfcjrT6kKqexu6B+vVsrjDgqItufkQkJ\n5SCoUeKkdrD5eyW9Z/GaFYJbzXXPPiqkcmQRneNxhvZsYBnJy+IF6DOHKVhCzmLY\nO9Nb6xSvDDEJxGvihICDo2gr8WxIdHz8a+o4J8jOlRSdqSHQWGlLkxriLbZDQSRg\nlSbyP2lgOHuKk4I6uzxEQxJ2um9R9j4mdQqPyAEK3RyVoHZeoFL6G9d0yk+59nnb\nL3hBXfpWuQsVY+rZgZYyWZK3K3MONJn3Wd7/xpcgueWHzOL+YbE8b68OcQPNBPH/\nPhmxlF/FJX7YNoyc5/eKVIXjr9BEisgGMYF8BrK2YAqJ4+t8BSbljfpIL+/dDAaW\nYY00wfPZws71Y6QUfbmi9wSpqHpLBVQHR4CXy6wU8nyWiVLMwOQ/OQex3ZIKbpVA\nBRhaX16RsOYt9NEKie9idEMjAsZW9yLcD92musbrxaRQpqRYJ1h5WXhxOH+RkYUf\n9Or05G1+xyoagrsD5kxrobu0AI4Ua8buAnkD531JPoH9V+/DkTrxSyh1Dawl7f/k\nwHmyQ00neu7FwJY3wTNbsyh8NHzNsApg/01MNzriGQs8US+M90ka1KNcdxkf0E5S\nSfZ3+3z2Ms+/QL8WVG9Fp3DqNRrb/wuUi5jwt5ymoI+gePVpqSc=\n=TBoB\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b60d563d2a73360fd0ec88a5f6e0552a6222182f",
          "sha": "b60d563d2a73360fd0ec88a5f6e0552a6222182f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b60d563d2a73360fd0ec88a5f6e0552a6222182f"
        }
      ],
      "message": "coins: remove SetFresh method from CCoinsCacheEntry\n\nThere are no instances where SetFresh is called without being\npreceded by SetDirty. This replaces SetFresh with a boolean flag\npassed to SetDirty to indicate whether the DIRTY coin should also\nbe set to FRESH. This removes the possibility of setting a\nFRESH-but-not-DIRTY cached coin state.",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-07-20T18:17:06Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-07-20T18:06:12Z"
      },
      "sha": "fbabf56df3e632301d2a2a8f81975fa6657975ef"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDhlYjA2YWRhYWFlNDUzNGIzMWFiYTBhNGQwZTQ4NjJiNzJmNWMzMTA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8eb06adaaae4534b31aba0a4d0e4862b72f5c310",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8eb06adaaae4534b31aba0a4d0e4862b72f5c310",
      "tree": {
        "sha": "8e5dcaec1bd4992dc88bf91c2c7c215c4204267b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8e5dcaec1bd4992dc88bf91c2c7c215c4204267b"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8e5dcaec1bd4992dc88bf91c2c7c215c4204267b\nparent fbabf56df3e632301d2a2a8f81975fa6657975ef\nauthor Andrew Toth <andrewstoth@gmail.com> 1753034941 -0400\ncommitter Andrew Toth <andrewstoth@gmail.com> 1753035426 -0400\n\ncoins: inline CCoinsViewCache::AddFlags into SetDirty\n\nThere is only one callsite now for AddFlags, so we can inline\nit into SetDirty.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEISytpz6vNK/yCogaYAB6/Ik4sBgFAmh9MqIACgkQYAB6/Ik4\nsBiopg/+NkA3tN7o1H4ZyvqKGswCdody1zTAXHNUSYDlxT4dJhLqZzht0mBsWKWC\n1cMyZUS4k8BV1m7wgWoKCiAkUpt5WdQlt/vBc9neiMS3+8bMi0kEsbVdkaPjT6//\nh2nowG2LdRl/9nQUHcR+vQZt29d0RkNZxyZVCUVOglUzSOv6Kff39XFhmupFOdG7\nIzVaGenbesvMg32lOzFLBSHCREL+em1zl9LS5DKZ0vXT7NQj7gK1RdD1DTQ2Aesv\np3vfn/vZP/h8FXN6N5Pyy01K/oeG52Hv3bRJ42r4wA8dNL0zYXc6O3zXBGS/YYdm\nAbvlaJTYDzNwH/wZjzOq/HE2VguxA3VEipz7LCEatzhxPWuloXRqRCkwkY6FhqrT\nDLVOc+on6Cllg7TpQYEIF0MiNDlnwWahKYJ1YMC/QeWd6T+RmjyQnjHVenjDU7nT\nAx9vxPfnyF/8A6AohMOKDOZTiIbXg2osCakF1xyhuPMwLrOIEsUqp/27zKZwoaXB\nEOi6penu077fkaUaPBJ/fIgs5l9/OD6mbX150Cd6k6G7RLzFSUvoPk0IzoyGr2K4\nbb+Nm9pqYO1JKcj39Q0ku5padgMHGkizHZBaT4wvQmebxAJw2/bWarQIFZVPWsjZ\nPb8QsvMRjb71kG60b7udjrYhRiVWMXeupWEDcJ8ixXCC0UvO70I=\n=PbXK\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fbabf56df3e632301d2a2a8f81975fa6657975ef",
          "sha": "fbabf56df3e632301d2a2a8f81975fa6657975ef",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fbabf56df3e632301d2a2a8f81975fa6657975ef"
        }
      ],
      "message": "coins: inline CCoinsViewCache::AddFlags into SetDirty\n\nThere is only one callsite now for AddFlags, so we can inline\nit into SetDirty.",
      "committer": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-07-20T18:17:06Z"
      },
      "author": {
        "name": "Andrew Toth",
        "email": "andrewstoth@gmail.com",
        "date": "2025-07-20T18:09:01Z"
      },
      "sha": "8eb06adaaae4534b31aba0a4d0e4862b72f5c310"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18717562758,
      "node_id": "HRFPE_lADOABII587Bc6GezwAAAARbp1eG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18717562758",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "8eb06adaaae4534b31aba0a4d0e4862b72f5c310",
      "commit_url": "https://api.github.com/repos/andrewtoth/bitcoin/commits/8eb06adaaae4534b31aba0a4d0e4862b72f5c310",
      "created_at": "2025-07-20T18:17:13Z"
    }
  ],
  "comments": []
}