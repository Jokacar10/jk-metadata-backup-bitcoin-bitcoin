{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241",
    "id": 1468239456,
    "node_id": "PR_kwDOABII585Xg45g",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/28241",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/28241.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/28241.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/f73566314581521e4739d447924e6ee138794a4f",
    "number": 28241,
    "state": "closed",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "Silent payment index (for light wallets and consistency check)",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "This PR adds an index with the silent payment tweak for every transaction. It builds on top of #28122. Supersedes #24897.\r\n\r\nUsage: `bitcoind -bip352index`\r\n\r\nThe index does not have wallet dependencies, so it can be built with `--disable-wallet`.\r\n\r\nIt also adds a `getsilentpaymentblockdata` RPC that returns an array of silent payment tweaked public keys, one for each qualifying transaction. \r\n\r\nThis index serves two purposes:\r\n1. Light client support, see [BIP 352](https://github.com/josibake/bips/blob/silent-payments-bip/bip-0352.mediawiki#user-content-Tweak_Data)\r\n2. A more thorough check than the test vectors; e.g. by comparing a checksum of the index for all of mainnet.\r\n\r\nTODO:\r\n- [x] check correctness against another implementation\r\n- [x] (maybe) implement cut-through (`-bip352ctindex`)",
    "labels": [
      {
        "id": 955867938,
        "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
        "name": "Needs rebase",
        "description": "",
        "color": "cccccc",
        "default": false
      },
      {
        "id": 5334691551,
        "node_id": "LA_kwDOABII588AAAABPfju3w",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
        "name": "CI failed",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2023-08-09T09:13:55Z",
    "updated_at": "2025-04-23T13:58:39Z",
    "closed_at": "2025-02-20T18:57:56Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merged": false,
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "Sjors:2023/08/silent-index",
      "ref": "2023/08/silent-index",
      "sha": "f73566314581521e4739d447924e6ee138794a4f",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 92390696,
        "node_id": "MDEwOlJlcG9zaXRvcnk5MjM5MDY5Ng==",
        "name": "bitcoin",
        "full_name": "Sjors/bitcoin",
        "owner": {
          "login": "Sjors",
          "id": 10217,
          "node_id": "MDQ6VXNlcjEwMjE3",
          "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/Sjors",
          "html_url": "https://github.com/Sjors",
          "followers_url": "https://api.github.com/users/Sjors/followers",
          "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
          "organizations_url": "https://api.github.com/users/Sjors/orgs",
          "repos_url": "https://api.github.com/users/Sjors/repos",
          "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/Sjors/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/Sjors/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/Sjors/bitcoin",
        "archive_url": "https://api.github.com/repos/Sjors/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/Sjors/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/Sjors/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/Sjors/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/Sjors/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/Sjors/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/Sjors/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/Sjors/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/Sjors/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/Sjors/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/Sjors/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/Sjors/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/Sjors/bitcoin/events",
        "forks_url": "https://api.github.com/repos/Sjors/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/Sjors/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/Sjors/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/Sjors/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/Sjors/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/Sjors/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/Sjors/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/Sjors/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/Sjors/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/Sjors/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/Sjors/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/Sjors/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/Sjors/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/Sjors/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/Sjors/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/Sjors/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:Sjors/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/Sjors/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/Sjors/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/Sjors/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/Sjors/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/Sjors/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/Sjors/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/Sjors/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/Sjors/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/Sjors/bitcoin/hooks",
        "svn_url": "https://github.com/Sjors/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 10,
        "stargazers_count": 13,
        "watchers_count": 13,
        "size": 262025,
        "default_branch": "sv2",
        "open_issues_count": 10,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": false,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-04-23T12:18:30Z",
        "created_at": "2017-05-25T10:05:54Z",
        "updated_at": "2025-04-15T13:48:55Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "1d24d383b45ec54b65da2c9ea86554f45a8f1b06",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37102,
        "stargazers_count": 83009,
        "watchers_count": 83009,
        "size": 280260,
        "default_branch": "master",
        "open_issues_count": 700,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-04-23T12:36:01Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-04-23T13:43:53Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
      }
    },
    "author_association": "MEMBER",
    "draft": true,
    "additions": 13912,
    "deletions": 90,
    "changed_files": 68,
    "commits": 22,
    "review_comments": 74,
    "comments": 105
  },
  "events": [
    {
      "event": "commented",
      "id": 1670962513,
      "node_id": "IC_kwDOABII585jmN1R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1670962513",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-09T09:13:58Z",
      "updated_at": "2024-08-02T09:28:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/28241).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#30562](https://github.com/bitcoin/bitcoin/pull/30562) (PayToAnchor(P2A) followups by instagibbs)\n* [#30546](https://github.com/bitcoin/bitcoin/pull/30546) (util: Use consteval checked format string in FatalErrorf by maflcko)\n* [#30409](https://github.com/bitcoin/bitcoin/pull/30409) (Introduce waitTipChanged() mining interface, replace RPCNotifyBlockChange and drop CRPCSignals by Sjors)\n* [#30364](https://github.com/bitcoin/bitcoin/pull/30364) (logging: Replace LogError and LogWarning with LogAlert by ryanofsky)\n* [#30352](https://github.com/bitcoin/bitcoin/pull/30352) (policy: Add PayToAnchor(P2A), `OP_1 <0x4e73>` as a standard output script for spending by instagibbs)\n* [#30051](https://github.com/bitcoin/bitcoin/pull/30051) (crypto, refactor: add new KeyPair class by josibake)\n* [#29468](https://github.com/bitcoin/bitcoin/pull/29468) (rpc: method removeprunedfunds should take an array of txids by araujo88)\n* [#29432](https://github.com/bitcoin/bitcoin/pull/29432) (Stratum v2 Template Provider (take 3) by Sjors)\n* [#29295](https://github.com/bitcoin/bitcoin/pull/29295) (CKey: add Serialize and Unserialize by Sjors)\n* [#28201](https://github.com/bitcoin/bitcoin/pull/28201) (Silent Payments: sending by josibake)\n* [#26966](https://github.com/bitcoin/bitcoin/pull/26966) (index: blockfilter initial sync speedup, parallelize process by furszy)\n* [#24539](https://github.com/bitcoin/bitcoin/pull/24539) (Add a \"tx output spender\" index by sstone)\n* [#24230](https://github.com/bitcoin/bitcoin/pull/24230) (indexes: Stop using node internal types and locking cs_main, improve sync logic by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1670962513",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 1670965334,
      "node_id": "IC_kwDOABII585jmOhW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1670965334",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-09T09:15:51Z",
      "updated_at": "2023-08-09T09:15:51Z",
      "author_association": "MEMBER",
      "body": "I'd like to keep this based on #28122 but that requires some refactoring there. See https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1670943979.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1670965334",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 1670999533,
      "node_id": "IC_kwDOABII585jmW3t",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1670999533",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-09T09:39:12Z",
      "updated_at": "2023-08-09T09:39:12Z",
      "author_association": "MEMBER",
      "body": "> I'd like to keep this based on #28122 but that requires some refactoring there. See [#28122 (comment)](https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1670943979).\r\n\r\nyou can also rebase on https://github.com/bitcoin/bitcoin/pull/27827 , which has everything, or just the receiving PR. Might be easier then to reason about which functions belong in which PRs if we can see it all together. I think the functions you need are introduced in the receiving PR (#28202)",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1670999533",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "labeled",
      "id": 10045294582,
      "node_id": "LE_lADOABII585t1ykOzwAAAAJWvwf2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10045294582",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-09T10:40:43Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1671166932,
      "node_id": "IC_kwDOABII585jm_vU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1671166932",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-09T11:40:04Z",
      "updated_at": "2023-08-09T11:40:04Z",
      "author_association": "MEMBER",
      "body": "I'll take a stab at rebasing on the bigger thing. It makes sense to do that and then unrebase / debase(?) it later.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1671166932",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10046449940,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAJW0KkU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10046449940",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "d589099893003ef85bd0a875c8801287fb291168",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/d589099893003ef85bd0a875c8801287fb291168",
      "created_at": "2023-08-09T12:40:51Z"
    },
    {
      "event": "commented",
      "id": 1671573912,
      "node_id": "IC_kwDOABII585jojGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1671573912",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-09T14:57:33Z",
      "updated_at": "2023-08-09T14:57:33Z",
      "author_association": "MEMBER",
      "body": "I ended up \"borrowing\" some code from the followup PRs, without having to rebase on them.\r\n\r\nThis code compiles and the index doesn't crash. That's about the extend of it though :-) For now.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1671573912",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10048816566,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAJW9MW2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10048816566",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "92897d6404405d82e8e07d893bd0ebf6a18986ce",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/92897d6404405d82e8e07d893bd0ebf6a18986ce",
      "created_at": "2023-08-09T14:57:37Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10218314474,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAJhDxrq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10218314474",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "ea825ae7b802cc95430c9d1784965dbee5344f99",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/ea825ae7b802cc95430c9d1784965dbee5344f99",
      "created_at": "2023-08-29T08:57:50Z"
    },
    {
      "event": "commented",
      "id": 1705177519,
      "node_id": "IC_kwDOABII585lovGv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1705177519",
      "actor": {
        "login": "Sosthene00",
        "id": 11726747,
        "node_id": "MDQ6VXNlcjExNzI2NzQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/11726747?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sosthene00",
        "html_url": "https://github.com/Sosthene00",
        "followers_url": "https://api.github.com/users/Sosthene00/followers",
        "following_url": "https://api.github.com/users/Sosthene00/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sosthene00/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sosthene00/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sosthene00/subscriptions",
        "organizations_url": "https://api.github.com/users/Sosthene00/orgs",
        "repos_url": "https://api.github.com/users/Sosthene00/repos",
        "events_url": "https://api.github.com/users/Sosthene00/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sosthene00/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-04T12:23:29Z",
      "updated_at": "2023-09-04T12:23:48Z",
      "author_association": "NONE",
      "body": "Hi, I have a little question about the motivation for making this index in Core. Afaiu, an implementation of electrum server (or any light client backend) could construct this index as easily, and I think it would be better separation of concerns to let them take responsibility for this instead of Core. Or maybe it's necessary for the consistency check you're mentioning? I'm not sure of what it is.",
      "user": {
        "login": "Sosthene00",
        "id": 11726747,
        "node_id": "MDQ6VXNlcjExNzI2NzQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/11726747?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sosthene00",
        "html_url": "https://github.com/Sosthene00",
        "followers_url": "https://api.github.com/users/Sosthene00/followers",
        "following_url": "https://api.github.com/users/Sosthene00/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sosthene00/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sosthene00/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sosthene00/subscriptions",
        "organizations_url": "https://api.github.com/users/Sosthene00/orgs",
        "repos_url": "https://api.github.com/users/Sosthene00/repos",
        "events_url": "https://api.github.com/users/Sosthene00/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sosthene00/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1705177519",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 1705381372,
      "node_id": "IC_kwDOABII585lpg38",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1705381372",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-04T14:39:54Z",
      "updated_at": "2023-09-04T14:40:32Z",
      "author_association": "MEMBER",
      "body": "@Sosthene00 I find it useful to have this index for developing and reviewing the silent payment implementation. But as you say, it may not be worth merging eventually. I'm not sure about that yet.\r\n\r\nThere's also the possibility of building something like this on top of the Kernel, when that project is a bit further along.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1705381372",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 10274895163,
      "node_id": "MEE_lADOABII585t1ykOzwAAAAJkbnU7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10274895163",
      "actor": {
        "login": "Sosthene00",
        "id": 11726747,
        "node_id": "MDQ6VXNlcjExNzI2NzQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/11726747?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sosthene00",
        "html_url": "https://github.com/Sosthene00",
        "followers_url": "https://api.github.com/users/Sosthene00/followers",
        "following_url": "https://api.github.com/users/Sosthene00/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sosthene00/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sosthene00/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sosthene00/subscriptions",
        "organizations_url": "https://api.github.com/users/Sosthene00/orgs",
        "repos_url": "https://api.github.com/users/Sosthene00/repos",
        "events_url": "https://api.github.com/users/Sosthene00/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sosthene00/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-04T14:39:54Z"
    },
    {
      "event": "subscribed",
      "id": 10274895180,
      "node_id": "SE_lADOABII585t1ykOzwAAAAJkbnVM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10274895180",
      "actor": {
        "login": "Sosthene00",
        "id": 11726747,
        "node_id": "MDQ6VXNlcjExNzI2NzQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/11726747?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sosthene00",
        "html_url": "https://github.com/Sosthene00",
        "followers_url": "https://api.github.com/users/Sosthene00/followers",
        "following_url": "https://api.github.com/users/Sosthene00/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sosthene00/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sosthene00/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sosthene00/subscriptions",
        "organizations_url": "https://api.github.com/users/Sosthene00/orgs",
        "repos_url": "https://api.github.com/users/Sosthene00/repos",
        "events_url": "https://api.github.com/users/Sosthene00/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sosthene00/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-04T14:39:55Z"
    },
    {
      "event": "labeled",
      "id": 10309279749,
      "node_id": "LE_lADOABII585t1ykOzwAAAAJmeyAF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10309279749",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-07T16:04:20Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10411596733,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAJslFu9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10411596733",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "4a7dccb488ac3e06d1c097b9093ab3b45585db03",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/4a7dccb488ac3e06d1c097b9093ab3b45585db03",
      "created_at": "2023-09-19T14:37:18Z"
    },
    {
      "event": "commented",
      "id": 1725798395,
      "node_id": "IC_kwDOABII585m3Zf7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1725798395",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-19T14:49:43Z",
      "updated_at": "2023-09-19T14:49:43Z",
      "author_association": "MEMBER",
      "body": "Rebased to use `GetSilentPaymentsTweakDataFromTxInputs`. Otherwise still WIP.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1725798395",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "unlabeled",
      "id": 10412468891,
      "node_id": "UNLE_lADOABII585t1ykOzwAAAAJsoaqb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10412468891",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-19T15:47:14Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1726028248,
      "node_id": "IC_kwDOABII585m4RnY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1726028248",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-19T16:20:50Z",
      "updated_at": "2023-09-19T16:20:50Z",
      "author_association": "MEMBER",
      "body": "Pushed a simple RPC method to get the tweaked public key for a given transaction. I'd like to sanity check it against some other implementation.\r\n\r\nSignet: [dacb55db5c506a34771bf8ac3664e2510c17e80ada81347300fb4223f2d6c545](https://mempool.space/signet/tx/dacb55db5c506a34771bf8ac3664e2510c17e80ada81347300fb4223f2d6c545)\r\n\r\n`getsilentpaymenttxdata` result: `03fc95cfeac43e9179c002d32a042626e5a2b289a8d7a4a0c88fbf81d570cef987`\r\n\r\n\r\n",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1726028248",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "labeled",
      "id": 10413897386,
      "node_id": "LE_lADOABII585t1ykOzwAAAAJst3aq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10413897386",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-19T18:10:01Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10421380531,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAJtKaWz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10421380531",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "8b63994eccf981e0d2cd907ed41b1633842d0a3f",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/8b63994eccf981e0d2cd907ed41b1633842d0a3f",
      "created_at": "2023-09-20T10:29:53Z"
    },
    {
      "event": "unlabeled",
      "id": 10421673191,
      "node_id": "UNLE_lADOABII585t1ykOzwAAAAJtLhzn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10421673191",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-20T10:58:34Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1635872510,
      "node_id": "PRR_kwDOABII585hgW7-",
      "url": null,
      "actor": null,
      "commit_id": "0235ff2891ec9573d2bdc67d0a08ba47040fd173",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#pullrequestreview-1635872510",
      "submitted_at": "2023-09-20T15:03:39Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10425221042,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAJtZD-y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10425221042",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "f41abe499ca38886178d052b25720c0873027f85",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/f41abe499ca38886178d052b25720c0873027f85",
      "created_at": "2023-09-20T16:05:08Z"
    },
    {
      "event": "commented",
      "id": 1728050950,
      "node_id": "IC_kwDOABII585m__cG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1728050950",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-20T16:13:16Z",
      "updated_at": "2023-09-20T16:13:16Z",
      "author_association": "MEMBER",
      "body": "@fjahr since you've been working on indexes, do you have any feedback on indexer best practices I should follow? ",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1728050950",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 10425306894,
      "node_id": "MEE_lADOABII585t1ykOzwAAAAJtZY8O",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10425306894",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-20T16:13:16Z"
    },
    {
      "event": "subscribed",
      "id": 10425306921,
      "node_id": "SE_lADOABII585t1ykOzwAAAAJtZY8p",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10425306921",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-20T16:13:16Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10425423481,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAJtZ1Z5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10425423481",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "91fd02f4474c1cfae2aaa5064866e9766dbd7379",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/91fd02f4474c1cfae2aaa5064866e9766dbd7379",
      "created_at": "2023-09-20T16:25:10Z"
    },
    {
      "event": "reviewed",
      "id": 1636074083,
      "node_id": "PRR_kwDOABII585hhIJj",
      "url": null,
      "actor": null,
      "commit_id": "91fd02f4474c1cfae2aaa5064866e9766dbd7379",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#pullrequestreview-1636074083",
      "submitted_at": "2023-09-20T16:30:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10426146122,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAJtcl1K",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10426146122",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "e25d4471884ff6d32ce13efcdb4414f17412556c",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/e25d4471884ff6d32ce13efcdb4414f17412556c",
      "created_at": "2023-09-20T17:44:28Z"
    },
    {
      "event": "commented",
      "id": 1729224452,
      "node_id": "IC_kwDOABII585nEd8E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1729224452",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-21T09:42:57Z",
      "updated_at": "2023-09-21T09:43:49Z",
      "author_association": "MEMBER",
      "body": "The index (as generated by 46b32b63d57a62466a2b2181e28bab477dc8de95) is 54GB on mainnet and took about 2 hours to generate (of which much time was wasted looping through pre-taproot blocks). Something like #26966 could make it even faster.\r\n\r\nI'd like to compare the results in this mainnet index to another implementation, if someone can point me to one.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1729224452",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10438309586,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAJuK_bS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10438309586",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "83e1755276f58be540253805e2889f77920da589",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/83e1755276f58be540253805e2889f77920da589",
      "created_at": "2023-09-21T17:07:40Z"
    },
    {
      "event": "commented",
      "id": 1738712806,
      "node_id": "IC_kwDOABII585noqbm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1738712806",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-28T08:34:23Z",
      "updated_at": "2023-09-28T08:34:23Z",
      "author_association": "MEMBER",
      "body": "@setavenger you mentioned using a light client in the tracking issue. Does that have an index or some other way to compare to this PR?",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1738712806",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 10496232762,
      "node_id": "MEE_lADOABII585t1ykOzwAAAAJxn806",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10496232762",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-28T08:34:24Z"
    },
    {
      "event": "subscribed",
      "id": 10496232780,
      "node_id": "SE_lADOABII585t1ykOzwAAAAJxn81M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10496232780",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-28T08:34:24Z"
    },
    {
      "event": "commented",
      "id": 1738949322,
      "node_id": "IC_kwDOABII585npkLK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1738949322",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-28T11:15:02Z",
      "updated_at": "2023-09-28T11:15:02Z",
      "author_association": "NONE",
      "body": "> @setavenger you mentioned using a light client in the tracking issue. Does that have an index or some other way to compare to this PR?\r\n\r\nHmm I don't think it matches exactly what you are doing here. My backend was built as a \"light client\" itself and with the assumption that it would only index forward looking from a certain activation point. It does create an index but it's not running a full node which means there's a lot of networking happening to services that offer prevout information per transacton. I would be surprised if it would take less than two hours to index the entire chain. Plus I would probably get rate limited before even being able to index the entire chain.\r\n\r\nThat being said I was thinking of upgrading my backend to using a fullnode I could give an update then.",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1738949322",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 10497957178,
      "node_id": "MEE_lADOABII585t1ykOzwAAAAJxuh06",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10497957178",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-28T11:15:02Z"
    },
    {
      "event": "subscribed",
      "id": 10497957193,
      "node_id": "SE_lADOABII585t1ykOzwAAAAJxuh1J",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10497957193",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-28T11:15:03Z"
    },
    {
      "event": "commented",
      "id": 1739195463,
      "node_id": "IC_kwDOABII585nqgRH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1739195463",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-28T13:33:28Z",
      "updated_at": "2023-09-28T13:33:28Z",
      "author_association": "MEMBER",
      "body": "I see. Even a few spot checks against what this index produces would be useful though.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1739195463",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 1739502295,
      "node_id": "IC_kwDOABII585nrrLX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1739502295",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-28T15:15:37Z",
      "updated_at": "2023-09-28T15:15:37Z",
      "author_association": "NONE",
      "body": "Yeah, we could do that perhaps for selected blocks. I just have to get the handling of P2PKH inputs in order, then I should be able to index any block from the chain.",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1739502295",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "reviewed",
      "id": 1649426783,
      "node_id": "PRR_kwDOABII585iUEFf",
      "url": null,
      "actor": null,
      "commit_id": "83e1755276f58be540253805e2889f77920da589",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Just a very rough first pass but I think you are going part of the way to treat this similar to the blockfiltertypes/blockfilterindexes but not fully, e.g. using \"0\" as the default but then not having an accompanying `SilentPaymentType` enum and something like `g_enabled_filter_types` in init. I think that is also why I currently have to set `-silentpaymentindex=0` explicitly if I don't want to activate it in this branch. \r\n\r\nI am not far enough down the Silent Payments rabbit hole to judge conceptually if we need different types but for blockfilterindexes there also was initially the idea that there would be many different types and that hasn't really played out in reality so far. So that would be question to discuss how likely it really is that users will use more than one index. Unless we are really sure users will want different ones we should probably keep it simple. So I would recommend also for this PR to just focus on having one type/index.\r\n\r\nOf course when we consider this more seriously it will need reorg robustness and tests.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#pullrequestreview-1649426783",
      "submitted_at": "2023-09-28T19:54:16Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
    },
    {
      "event": "commented",
      "id": 1740477714,
      "node_id": "IC_kwDOABII585nvZUS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1740477714",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T08:03:50Z",
      "updated_at": "2023-09-29T08:03:50Z",
      "author_association": "MEMBER",
      "body": "Silent Payments is built with versioning in mind. They're not types like with BIP157 filters, but rather ways to support transactions that have inputs with new script patterns.\r\n\r\nUnless there's no more soft forks, it's quite likely to actually need these new versions. E.g. any new taproot version will need a new silent payment version in order to be able to spend from it.\r\n\r\nThat said, I have not thought at all on how to handle such versioning. Although the `-silentpaymentindex` takes a version number, the index itself doesn't have versioning. I'll have to study the BIP more closely to figure out how versioning works.\r\n\r\nThe most simple solution is to just redesign and rebuild the index by the time that's needed. But if basic versioning can be supported with little code complexity and storage overhead, I would prefer that.\r\n\r\nAdded a note to the PR description to address this. \r\n\r\n> I currently have to set -silentpaymentindex=0 explicitly if I don't want to activate it in this branch\r\n\r\nWill look into that along with the above. The index should be off by default. I probably want the user to set the maximum supported silent paymnets version. That way they won't automatically upgrade later (which might involve increased storage requirements). But since the first version is `0` that's an ambiguous argument. Adding a `v` prefix would be an easy solution:\r\n\r\n* `-silentpaymentindex=0`: index is off (default)\r\n* `-silentpaymentindex=v0`: index version 0\r\n\r\nIn the future, either:\r\n* `-silentpaymentindex=v1`: index version 0 and 1; or\r\n* `-silentpaymentindex=v1`: index _only_ version 1 (makes no sense if the v1 index is a superset of v0, so I have to read up on this)\r\n\r\n> it will need reorg robustness\r\n\r\nThe index is stored and queried by block hash. Each entry is independent (nothing cumulative). So I think it's fine to keep reorged blocks around. But there should be a test to make sure the new block is added.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1740477714",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 1740482543,
      "node_id": "IC_kwDOABII585nvafv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1740482543",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T08:07:55Z",
      "updated_at": "2023-09-29T08:07:55Z",
      "author_association": "MEMBER",
      "body": "I posted a short wish list of helper functions on the base PR, to make the index a bit less aware of low level protocol details: https://github.com/bitcoin/bitcoin/pull/28122#issuecomment-1738728491",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1740482543",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 1741055405,
      "node_id": "IC_kwDOABII585nxmWt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1741055405",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T15:16:49Z",
      "updated_at": "2023-09-29T15:31:53Z",
      "author_association": "CONTRIBUTOR",
      "body": "I am still confused why we need to let users decide which version of the index they want to run. What is the motivation to let users run an older version of the index explicitly even though they have a newer version available in their node and the newer version isn't missing anything? I don't see a good reason for it aside from maybe storage space. So then I think the index should be either on or off and it will be updated with every softfork to accommodate for the new types once the softfork activates. That way there is also no reindex needed if users upgrade their nodes in time. We could do explicit versioning in this scenario if it helps to simplify things I am not sure it's even needed.\r\n\r\nAnd if the storage argument is really something that matters, then I don't see why we wouldn't treat it just like blockfilterstypes. It seems much simpler to have separate indexes for each of these new softforks/silentpayment versions rather than deal with all the compatibility stuff inside a single index. That would also make sense in light of the storage argument: If I am just starting to use silent payments with segwit v5 then I don't care about the silent payments that were maybe done before on older segwit versions and I could save a lot of space if I can just run `-siltentpaymentindex=5` or so.\r\n\r\nEDIT: Is it an issue with the second suggests path that senders can theoretically send to any version after taproot and the receiver can not control it? In that case I guess the first path makes even more sense because then there is really no reason for receivers to run with an older version of the index.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1741055405",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 1741188015,
      "node_id": "IC_kwDOABII585nyGuv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1741188015",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-29T16:36:51Z",
      "updated_at": "2023-09-29T16:36:51Z",
      "author_association": "MEMBER",
      "body": "> What is the motivation to let users run an older version of the index explicitly even though they have a newer version available in their node and the newer version isn't missing anything? I don't see a good reason for it aside from maybe storage space.\r\n\r\nStorage space would be the reason. Though in general I expect new soft forks to have low transaction counts and therefore not much extra storage. So maybe that's not a big deal.\r\n\r\nThe other question is how to serve older clients. That might involve keeping one version entry per block and then joining them as needed. But that doesn't require versioning at the `-silentpaymentindex` level.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1741188015",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11209334100,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAKcIN1U",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11209334100",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "176cae0a9a71048f734d8c242ed35e73b1f41960",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/176cae0a9a71048f734d8c242ed35e73b1f41960",
      "created_at": "2023-12-11T11:46:51Z"
    },
    {
      "event": "commented",
      "id": 1849912410,
      "node_id": "IC_kwDOABII585uQ2xa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1849912410",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-11T11:48:15Z",
      "updated_at": "2023-12-11T11:48:15Z",
      "author_association": "MEMBER",
      "body": "Rebased and added a simple functional test, which includes a (hopefully) deterministic tweak. ",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1849912410",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "labeled",
      "id": 11608788946,
      "node_id": "LE_lADOABII585t1ykOzwAAAAKz8A_S",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11608788946",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-26T13:13:21Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1912215341,
      "node_id": "IC_kwDOABII585x-hct",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1912215341",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-26T15:04:58Z",
      "updated_at": "2024-01-26T15:04:58Z",
      "author_association": "MEMBER",
      "body": "@Sjors I've made some on #28122 to reflect the changes in the BIP + a few naming cleanups on the functions. Should be good to go for a rebase here, if you're still working on this.",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1912215341",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 11609911849,
      "node_id": "MEE_lADOABII585t1ykOzwAAAAK0ATIp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11609911849",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-26T15:04:59Z"
    },
    {
      "event": "subscribed",
      "id": 11609911866,
      "node_id": "SE_lADOABII585t1ykOzwAAAAK0ATI6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11609911866",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-26T15:04:59Z"
    },
    {
      "event": "commented",
      "id": 1914312450,
      "node_id": "IC_kwDOABII585yGhcC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1914312450",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-29T09:39:55Z",
      "updated_at": "2024-01-29T09:39:55Z",
      "author_association": "MEMBER",
      "body": "Will do soon(tm)",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1914312450",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 1919780358,
      "node_id": "IC_kwDOABII585ybYYG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1919780358",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-31T19:24:14Z",
      "updated_at": "2024-01-31T19:24:14Z",
      "author_association": "MEMBER",
      "body": "I was tinkering around with this and had a few thoughts:\r\n\r\n* Being able to specify a `start_height` sounds like something that would be generally useful for all indexes, not just this one. I've been toying with the idea of what it would take to have a \"pruned\" txindex and I would need to be able to start from a specific height for that. @fjahr I took the branch you started and got it working with a little tinkering here: https://github.com/josibake/bitcoin/tree/add-start-height-to-base-index . With a little more work this could probably be it's own PR. Feel free to grab this branch, or I can open a PR if you're busy with other stuff!\r\n* I wanted to see how difficult it would be to make this as a new `BlockFilterType`, and it was way easier than I thought it would be. The blockfilterindex code is really well designed! I copied the SP logic from this PR and got a hacked together working branch here: https://github.com/josibake/bitcoin/tree/implement-bip352-blockfilterindex (this syncs on my laptop in < 1 hr on mainnet and ends up being around 1.5gb on disk)\r\n\r\nWith the `blockfilterindex`, all we would need to do is propose a new filter type BIP and everything Just Works (TM) for light clients that support BIP157. I don't see any easy way to \"prune\" this index to only have data for the UTXO set.. but I also don't see a way to easily do that with a general index like we have in this PR either. I'm also less convinced this matters (for right now), and more worried we might be prematurely optimizing at this stage.\r\n\r\n@Sjors brought up some good points about versioning, but I can see that working with a block filter index in that we would just propose a new filter type for new version types (fine, so long as we don't frequently update silent payments versions), or if we do find ourselves needing to frequently update the version we just build versioning into the encoded filter e.g. return data for all versions and let the clients figure it out, or split up the encoded filter into sections with version bytes? \r\n\r\nCurious what you guys think on how to proceed, @Sjors @fjahr. In my mind, it makes more sense to go with a custom index if we have a clean way to support pruning to the UTXO set, and we'd also need to think about how to make this index available to light clients. If instead we go the blockfilterindex route, we get all the infrastructure for supporting light clients for free (and fast wallet rescans), but probably more difficult to build in custom logic like SP versions and UTXO pruning, since the blockfilterindexes are somewhat rigid in how they are built.",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1919780358",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 11660331124,
      "node_id": "MEE_lADOABII585t1ykOzwAAAAK3Aoh0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11660331124",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-31T19:24:15Z"
    },
    {
      "event": "subscribed",
      "id": 11660331151,
      "node_id": "SE_lADOABII585t1ykOzwAAAAK3AoiP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11660331151",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-31T19:24:15Z"
    },
    {
      "event": "mentioned",
      "id": 11660331166,
      "node_id": "MEE_lADOABII585t1ykOzwAAAAK3Aoie",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11660331166",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-31T19:24:15Z"
    },
    {
      "event": "subscribed",
      "id": 11660331185,
      "node_id": "SE_lADOABII585t1ykOzwAAAAK3Aoix",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11660331185",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-31T19:24:15Z"
    },
    {
      "event": "commented",
      "id": 1921321547,
      "node_id": "IC_kwDOABII585yhQpL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1921321547",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-01T13:26:06Z",
      "updated_at": "2024-02-01T13:26:06Z",
      "author_association": "MEMBER",
      "body": "> With a little more work this could probably be it's own PR. Feel free to grab this branch, or I can open a PR if you're busy with other stuff!\r\n\r\nIf you're feeling momentum, best just open a new PR. I'll then close this one. I can always take back the baton and reopen. ",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1921321547",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 1921373748,
      "node_id": "IC_kwDOABII585yhdY0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1921373748",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-01T13:50:21Z",
      "updated_at": "2024-02-01T13:50:21Z",
      "author_association": "MEMBER",
      "body": "> > With a little more work this could probably be it's own PR. Feel free to grab this branch, or I can open a PR if you're busy with other stuff!\r\n> \r\n> If you're feeling momentum, best just open a new PR. I'll then close this one. I can always take back the baton and reopen.\r\n\r\nI was referring to opening a PR just for adding `start_height` to the indexes (the work that @fjahr had started), but I'm also happy to open a blockfilterindex PR! Although, curious if you had any thoughts regarding the rest of my comment re: pruning to the UTXO set and versioning?\r\n",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1921373748",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 11670427345,
      "node_id": "MEE_lADOABII585t1ykOzwAAAAK3nJbR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11670427345",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-01T13:50:22Z"
    },
    {
      "event": "subscribed",
      "id": 11670427369,
      "node_id": "SE_lADOABII585t1ykOzwAAAAK3nJbp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11670427369",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-01T13:50:22Z"
    },
    {
      "event": "commented",
      "id": 1921448658,
      "node_id": "IC_kwDOABII585yhvrS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1921448658",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-01T14:20:37Z",
      "updated_at": "2024-02-01T14:20:37Z",
      "author_association": "MEMBER",
      "body": "@josibake I'll get back to you on those later.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1921448658",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 11670867890,
      "node_id": "MEE_lADOABII585t1ykOzwAAAAK3o0-y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11670867890",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-01T14:20:39Z"
    },
    {
      "event": "subscribed",
      "id": 11670867916,
      "node_id": "SE_lADOABII585t1ykOzwAAAAK3o0_M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11670867916",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-01T14:20:39Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11773842224,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAK9xpMw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11773842224",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "ce0e59e4bcdec4a70787e221bfe89d7ad7a1d12c",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/ce0e59e4bcdec4a70787e221bfe89d7ad7a1d12c",
      "created_at": "2024-02-12T12:18:17Z"
    },
    {
      "event": "commented",
      "id": 1938574388,
      "node_id": "IC_kwDOABII585zjEw0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1938574388",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-12T12:19:31Z",
      "updated_at": "2024-02-12T12:19:31Z",
      "author_association": "MEMBER",
      "body": "Rebased.\r\n\r\nI agree adding `start_height` could be useful. I grabbed the commits and set start height to the taproot activation height. Will leave it up to someone else to make it a PR.\r\n\r\nLooks like I'm using it incorrectly though:\r\n\r\n```\r\n2024-02-12T12:17:04Z silentpaymentindex thread start\r\n2024-02-12T12:17:04Z Syncing silentpaymentindex with block chain from height 0\r\n2024-02-12T12:17:04Z ERROR: Commit: Failed to commit latest silentpaymentindex state\r\n2024-02-12T12:17:04Z ERROR: UndoReadFromDisk: no undo data available\r\n2024-02-12T12:17:04Z *** ThreadSync: Failed to write block 000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f to index database\r\n2024-02-12T12:17:04Z Error: A fatal internal error occurred, see debug.log for details\r\nError: A fatal internal error occurred, see debug.log for details\r\n```\r\n\r\nThe compiler is also warning about the block filter index:\r\n\r\n```\r\nIn file included from init.cpp:30:\r\n./index/blockfilterindex.h:32:15: warning: non-static data member 'm_start_height' of 'BlockFilterIndex' shadows member inherited from type 'BaseIndex' [-Wshadow-field]\r\n    const int m_start_height;\r\n              ^\r\n./index/base.h:110:15: note: declared here\r\n    const int m_start_height{0};\r\n              ^\r\n1 warning generated.\r\n```\r\n\r\n> If instead we go the blockfilterindex route, we get all the infrastructure for supporting light clients for free (and fast wallet rescans), but probably more difficult to build in custom logic like SP versions and UTXO pruning, since the blockfilterindexes are somewhat rigid in how they are built.\r\n\r\nNot sure about this either.\r\n",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1938574388",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 1938581651,
      "node_id": "IC_kwDOABII585zjGiT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1938581651",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-12T12:24:10Z",
      "updated_at": "2024-02-12T12:24:10Z",
      "author_association": "MEMBER",
      "body": "Interesting, your first error seems related to `UndoData`, which start height shouldn't affect?\r\n\r\n> The compiler is also warning about the block filter index:\r\n\r\nAh, this is a shadowing error, I can fix that. I think I'll go ahead and open a `start_height` index PR since this seems generally useful and I'll fix the error there. @fjahr adding you as co-author unless you have any objections?",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1938581651",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 11773903879,
      "node_id": "MEE_lADOABII585t1ykOzwAAAAK9x4QH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11773903879",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-12T12:24:11Z"
    },
    {
      "event": "subscribed",
      "id": 11773903893,
      "node_id": "SE_lADOABII585t1ykOzwAAAAK9x4QV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11773903893",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-12T12:24:11Z"
    },
    {
      "event": "commented",
      "id": 1938598929,
      "node_id": "IC_kwDOABII585zjKwR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1938598929",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-12T12:35:50Z",
      "updated_at": "2024-02-12T13:55:01Z",
      "author_association": "MEMBER",
      "body": "It's indeed a strange error. I nuked the existing silent payment index before running, so not sure what's going on here.\r\n\r\n(I'll take another look once you open the `start_height` PR)",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1938598929",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "unlabeled",
      "id": 11774133847,
      "node_id": "UNLE_lADOABII585t1ykOzwAAAAK9ywZX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11774133847",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-12T12:46:54Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1950323631,
      "node_id": "IC_kwDOABII5850P5Ov",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1950323631",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-17T20:58:49Z",
      "updated_at": "2024-02-18T00:38:38Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Being able to specify a start_height sounds like something that would be generally useful for all indexes, not just this one. I've been toying with the idea of what it would take to have a \"pruned\" txindex and I would need to be able to start from a specific height for that. @fjahr I took the branch you started and got it working with a little tinkering here: https://github.com/josibake/bitcoin/tree/add-start-height-to-base-index . With a little more work this could probably be its own PR. Feel free to grab this branch, or I can open a PR if you're busy with other stuff!\r\n\r\nHm, I don't think it's clear that it's generally useful. Not starting from the genesis block doesn't work for `coinstatsindex` because it's accumulating values from genesis on. I also don't think it works for the current `blockfilterindex` because the headers build a hashchain similar to block headers. `txindex` would work in theory but I think we would need to check everywhere where it's used to ensure error handling is consistent for this use case, because that would then mean just because a tx isn't in the index doesn't mean it doesn't exist which is probably implied right now.\r\n\r\nEach of these could be fixed if we had a way to get the starting point but I think it would be pretty intrusive also for `coinstatsindex` and `blockfilterindex` to handle not having values for certain blocks due to a specific start height.\r\n\r\nIn terms of usefulness for a next blockfilter type, I don't think it's a strong argument right now because nobody is proposing a new blockfilter type and if somebody proposes it, it's also possible that it might be interesting to have it from genesis. And then there are also conceptual questions: If we have a new filter type for a new type of script that is introduced in the future it makes sense to not have a filter but maybe we still want to have a header chain with empty filters up to the block where it starts to get interesting (for security reasons)?\r\n\r\nI would rather keep this scoped to silent payment index for now because there is a clear use case and I don't see any pitfalls like with the other indices. It can be a separate PR but I would suggest calling it a precursor to this PR.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1950323631",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 11837235418,
      "node_id": "MEE_lADOABII585t1ykOzwAAAALBjeDa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11837235418",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-17T20:58:50Z"
    },
    {
      "event": "subscribed",
      "id": 11837235419,
      "node_id": "SE_lADOABII585t1ykOzwAAAALBjeDb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11837235419",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-17T20:58:50Z"
    },
    {
      "event": "reviewed",
      "id": 1887029235,
      "node_id": "PRR_kwDOABII585wecfz",
      "url": null,
      "actor": null,
      "commit_id": "ce0e59e4bcdec4a70787e221bfe89d7ad7a1d12c",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#pullrequestreview-1887029235",
      "submitted_at": "2024-02-17T21:11:37Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
    },
    {
      "event": "reviewed",
      "id": 1887035555,
      "node_id": "PRR_kwDOABII585weeCj",
      "url": null,
      "actor": null,
      "commit_id": "ce0e59e4bcdec4a70787e221bfe89d7ad7a1d12c",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#pullrequestreview-1887035555",
      "submitted_at": "2024-02-17T21:58:58Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
    },
    {
      "event": "reviewed",
      "id": 1887051050,
      "node_id": "PRR_kwDOABII585weh0q",
      "url": null,
      "actor": null,
      "commit_id": "ce0e59e4bcdec4a70787e221bfe89d7ad7a1d12c",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#pullrequestreview-1887051050",
      "submitted_at": "2024-02-18T00:23:53Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
    },
    {
      "event": "commented",
      "id": 1950636630,
      "node_id": "IC_kwDOABII5850RFpW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1950636630",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-18T00:31:56Z",
      "updated_at": "2024-02-18T00:36:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "For me, the `silentpaymentindex` now synced fine from the Taproot start height when I applied the suggestion fixes and removed the `blockfilterindex` commit.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1950636630",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11846519211,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAALCG4mr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11846519211",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "6f576639ad0672be25ba1b956e37f35daeea2824",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/6f576639ad0672be25ba1b956e37f35daeea2824",
      "created_at": "2024-02-19T09:10:10Z"
    },
    {
      "event": "commented",
      "id": 1952006804,
      "node_id": "IC_kwDOABII5850WUKU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1952006804",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-19T09:12:58Z",
      "updated_at": "2024-02-19T10:27:10Z",
      "author_association": "MEMBER",
      "body": "Applied @fjahr's patches and running the indexer again...\r\n\r\nAs of block 831,110 the index is 1.7 GB (down from 54 GB https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1729224452)",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1952006804",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 11846553121,
      "node_id": "MEE_lADOABII585t1ykOzwAAAALCHA4h",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11846553121",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-19T09:12:59Z"
    },
    {
      "event": "subscribed",
      "id": 11846553144,
      "node_id": "SE_lADOABII585t1ykOzwAAAALCHA44",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11846553144",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-19T09:12:59Z"
    },
    {
      "event": "commented",
      "id": 1953738549,
      "node_id": "IC_kwDOABII5850c681",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1953738549",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-20T08:51:31Z",
      "updated_at": "2024-02-20T08:51:31Z",
      "author_association": "MEMBER",
      "body": "@josibake I'm trying to rebase, but I'm not sure how to change the following:\r\n\r\n```cpp\r\nconst auto tweak_data = wallet::GetSilentPaymentTweakDataFromTxInputs(tx->vin, coins);\r\n\r\n    if (!tweak_data) continue;\r\n\r\n    const uint256 outpoint_hash = tweak_data->first;\r\n    CPubKey tweaked_pub_key_sum = tweak_data->second;\r\n    if (!tweaked_pub_key_sum.TweakAdd(outpoint_hash.begin())) {\r\n```\r\n\r\nIt looks like `GetSilentPaymentTweakDataFromTxInputs` is only used by test code. Am I still supposed to use it, or is there a new approach?",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1953738549",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 11858505739,
      "node_id": "MEE_lADOABII585t1ykOzwAAAALC0nAL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11858505739",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-20T08:51:32Z"
    },
    {
      "event": "subscribed",
      "id": 11858505759,
      "node_id": "SE_lADOABII585t1ykOzwAAAALC0nAf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11858505759",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-20T08:51:32Z"
    },
    {
      "event": "commented",
      "id": 1953888046,
      "node_id": "IC_kwDOABII5850dfcu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1953888046",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-20T10:15:41Z",
      "updated_at": "2024-02-20T10:15:41Z",
      "author_association": "MEMBER",
      "body": "> Am I still supposed to use it\r\n\r\nYep, still the correct function. The return value has changed, and we've removed the `pubkey.TweakAdd` method in favor of a dedicated routine in `module/silentpayments`. I need to expose the routine for pubkey tweaking in `src/bip352.h` and then you should be good.",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1953888046",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "reviewed",
      "id": 1915594768,
      "node_id": "PRR_kwDOABII585yLagQ",
      "url": null,
      "actor": null,
      "commit_id": "6f576639ad0672be25ba1b956e37f35daeea2824",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#pullrequestreview-1915594768",
      "submitted_at": "2024-03-05T00:11:09Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
    },
    {
      "event": "commented",
      "id": 1979724552,
      "node_id": "IC_kwDOABII5852ADMI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1979724552",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-05T22:12:18Z",
      "updated_at": "2024-03-05T22:12:18Z",
      "author_association": "NONE",
      "body": "@Sjors I finally came around to upgrade my implementation for the tweak data. I have indexed a couple hundred blocks now which we could compare if that's still relevant for this PR.",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1979724552",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 12020202274,
      "node_id": "MEE_lADOABII585t1ykOzwAAAALMdbsi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12020202274",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-05T22:12:19Z"
    },
    {
      "event": "subscribed",
      "id": 12020202285,
      "node_id": "SE_lADOABII585t1ykOzwAAAALMdbst",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12020202285",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-05T22:12:19Z"
    },
    {
      "event": "commented",
      "id": 1983254935,
      "node_id": "IC_kwDOABII5852NhGX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1983254935",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-07T10:53:19Z",
      "updated_at": "2024-03-07T10:53:19Z",
      "author_association": "MEMBER",
      "body": "@setavenger yes that would be useful! However, I'm waiting (?) for @josibake to give me some helper methods so I can update this PR. Otherwise I don't think things wil match.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1983254935",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 12040389121,
      "node_id": "MEE_lADOABII585t1ykOzwAAAALNqcIB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12040389121",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-07T10:53:21Z"
    },
    {
      "event": "subscribed",
      "id": 12040389136,
      "node_id": "SE_lADOABII585t1ykOzwAAAALNqcIQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12040389136",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-07T10:53:21Z"
    },
    {
      "event": "mentioned",
      "id": 12040389157,
      "node_id": "MEE_lADOABII585t1ykOzwAAAALNqcIl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12040389157",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-07T10:53:21Z"
    },
    {
      "event": "subscribed",
      "id": 12040389167,
      "node_id": "SE_lADOABII585t1ykOzwAAAALNqcIv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12040389167",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-07T10:53:21Z"
    },
    {
      "event": "commented",
      "id": 1984547557,
      "node_id": "IC_kwDOABII5852Scrl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1984547557",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-07T21:39:43Z",
      "updated_at": "2024-03-08T14:07:33Z",
      "author_association": "NONE",
      "body": "Ok, in that case you can just ping me when your ready to compare.",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1984547557",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 1985759856,
      "node_id": "IC_kwDOABII5852XEpw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1985759856",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-08T14:07:23Z",
      "updated_at": "2024-03-08T14:07:23Z",
      "author_association": "NONE",
      "body": "@Sjors I was looking through your implementation of the index, I'm curious if there's a segment dedicated to [transaction cut-through](https://github.com/josibake/bips/blob/silent-payments-bip/bip-0352.mediawiki#transaction-cut-through). I couldn't spot anything. My implementation does remove obsolete tweaks as suggested in the Appendix. I guess that would be something we'd have to keep in mind when comparing the indices.",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1985759856",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 12056190001,
      "node_id": "MEE_lADOABII585t1ykOzwAAAALOmtwx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12056190001",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-08T14:07:24Z"
    },
    {
      "event": "subscribed",
      "id": 12056190026,
      "node_id": "SE_lADOABII585t1ykOzwAAAALOmtxK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12056190026",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-08T14:07:24Z"
    },
    {
      "event": "commented",
      "id": 1986192088,
      "node_id": "IC_kwDOABII5852YuLY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1986192088",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-08T18:23:17Z",
      "updated_at": "2024-03-08T18:24:40Z",
      "author_association": "MEMBER",
      "body": "I have not looked a transaction cut-through. This would heavily depend on how we (later on) serve the index over p2p. If we use a message pattern like BIP157, we could perhaps decide to restrict the query ranges that are allowed. E.g. only modulo 1000 blocks would be a valid start and stop. Then we can use that fact to cut-through the index itself. (and serve the last <1000 blocks without cut-through)\r\n\r\nWe should avoid calculating this at request time, as that would probably require too much CPU use.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1986192088",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 1986884015,
      "node_id": "IC_kwDOABII5852bXGv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1986884015",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-09T15:20:35Z",
      "updated_at": "2024-03-09T15:20:35Z",
      "author_association": "NONE",
      "body": "I'm not quite sure I'm understanding why one would keep the obsolete tweaks (even for the last <1000 blocks). I do agree that the overhead would be too much if computed at request time. In my implementation I throw out the obsolete tweaks during indexing. That way it's easy to serve the smallest possible array of tweaks to a light client for every block.",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1986884015",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 1987992694,
      "node_id": "IC_kwDOABII5852flx2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1987992694",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-11T09:41:53Z",
      "updated_at": "2024-03-11T09:41:53Z",
      "author_association": "MEMBER",
      "body": "> I throw out the obsolete tweaks during indexing\r\n\r\nThat might work, we'd have to keep an eye on how much extra disk I/O that is compared to only doing it every 1000 blocks. \r\n\r\nLooking at this again, doesn't cut-through remove transaction history? So then you'd need to keep two indexes, one for regular use and the other for a wallet that needs to rescan. Or is there another solution for that?",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1987992694",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 1988044568,
      "node_id": "IC_kwDOABII5852fycY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1988044568",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-11T10:09:17Z",
      "updated_at": "2024-03-11T10:09:17Z",
      "author_association": "NONE",
      "body": "> > I throw out the obsolete tweaks during indexing\r\n> \r\n> That might work, we'd have to keep an eye on how much extra disk I/O that is compared to only doing it every 1000 blocks.\r\n\r\nI can't really comment on the I/O implications, I haven't looked too much at those yet. Especially because I'm not running my implementation on the node itself.\r\n\r\n> Looking at this again, doesn't cut-through remove transaction history? So then you'd need to keep two indexes, one for regular use and the other for a wallet that needs to rescan. Or is there another solution for that?\r\n\r\nThe way I understood cut-through, is that once all taproot UTXOs for a given transaction are spent, the tweak for their transaction is removed from the index. This does mean that if a light client rescans, it will not find its own spent transactions. I remember there being a discussion some time ago, and I believe it was seen as a reasonable trade-off to not find ones own transaction history in favor of saving a lot on bandwidth and computation (maybe @josibake can chime in here). But yes, as far as I know, one would have to keep a full index in parallel or set a flag on spent tweaks in some way.\r\n\r\nAs a note to that. I have tested a bit with a mobile wallet and it's already very time consuming to do a full scan (and that was just signet). From what I've seen cutting out unnecessary tweaks where possible is very desirable for weaker devices.\r\n",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1988044568",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 12071127025,
      "node_id": "MEE_lADOABII585t1ykOzwAAAALPfsfx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12071127025",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-11T10:09:18Z"
    },
    {
      "event": "subscribed",
      "id": 12071127054,
      "node_id": "SE_lADOABII585t1ykOzwAAAALPfsgO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12071127054",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-11T10:09:18Z"
    },
    {
      "event": "commented",
      "id": 1988250383,
      "node_id": "IC_kwDOABII5852gksP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1988250383",
      "actor": {
        "login": "cygnet3",
        "id": 131168104,
        "node_id": "U_kgDOB9F3aA",
        "avatar_url": "https://avatars.githubusercontent.com/u/131168104?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cygnet3",
        "html_url": "https://github.com/cygnet3",
        "followers_url": "https://api.github.com/users/cygnet3/followers",
        "following_url": "https://api.github.com/users/cygnet3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cygnet3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cygnet3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cygnet3/subscriptions",
        "organizations_url": "https://api.github.com/users/cygnet3/orgs",
        "repos_url": "https://api.github.com/users/cygnet3/repos",
        "events_url": "https://api.github.com/users/cygnet3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cygnet3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-11T11:43:42Z",
      "updated_at": "2024-03-11T11:43:42Z",
      "author_association": "NONE",
      "body": "> The way I understood cut-through, is that once all taproot UTXOs for a given transaction are spent, the tweak for their transaction is removed from the index. This does mean that if a light client rescans, it will not find its own spent transactions. I remember there being a discussion some time ago, and I believe it was seen as a reasonable trade-off to not find ones own transaction history in favor of saving a lot on bandwidth and computation (maybe @josibake can chime in here). But yes, as far as I know, one would have to keep a full index in parallel or set a flag on spent tweaks in some way.\r\n\r\nIt should also be noted that some wallets may want to continue tracking the scriptpubkeys that were used for earlier transactions, in case users screw up and accidentally send to the same on-chain address twice. That is not part of the silent payments protocol, but it could occur if users are trying to re-send to an address that they see on a block explorer.\r\n\r\nSo if wallets want to track these scriptpubkeys, they would also need to be able to discover them even after they are spent.\r\n\r\nThen again, you could argue that this is a niche wallet recovery scenario, and if users want to do this, they shouldn't use a light wallet.",
      "user": {
        "login": "cygnet3",
        "id": 131168104,
        "node_id": "U_kgDOB9F3aA",
        "avatar_url": "https://avatars.githubusercontent.com/u/131168104?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cygnet3",
        "html_url": "https://github.com/cygnet3",
        "followers_url": "https://api.github.com/users/cygnet3/followers",
        "following_url": "https://api.github.com/users/cygnet3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cygnet3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cygnet3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cygnet3/subscriptions",
        "organizations_url": "https://api.github.com/users/cygnet3/orgs",
        "repos_url": "https://api.github.com/users/cygnet3/repos",
        "events_url": "https://api.github.com/users/cygnet3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cygnet3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1988250383",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 12072343507,
      "node_id": "MEE_lADOABII585t1ykOzwAAAALPkVfT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12072343507",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-11T11:43:44Z"
    },
    {
      "event": "subscribed",
      "id": 12072343536,
      "node_id": "SE_lADOABII585t1ykOzwAAAALPkVfw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12072343536",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-11T11:43:44Z"
    },
    {
      "event": "commented",
      "id": 1988269657,
      "node_id": "IC_kwDOABII5852gpZZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1988269657",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-11T11:55:12Z",
      "updated_at": "2024-03-11T11:55:12Z",
      "author_association": "MEMBER",
      "body": "> and if users want to do this, they shouldn't use a light wallet.\r\n\r\nIt's the recipient that uses a light wallet. They can't control mistakes by the sender.\r\n\r\nHowever this issue is not related to the index. The index just returns tweaks, the wallet then needs to generate the scriptpubkeys to monitor. For that it would use BIP158 \"neutrino\" filters. The wallet should never remove a _used_ address from such a filter. That means the filter will grow, but I don't think that becomes a practical issue (high false positive rate, more blocks to download) unless you receive tens of thousands of transactions - at which point you may want to switch wallets.\r\n\r\n(the spec should probably say something about this, if it doesn't already)",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1988269657",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 1988346866,
      "node_id": "IC_kwDOABII5852g8Py",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1988346866",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-11T12:38:35Z",
      "updated_at": "2024-03-11T12:38:35Z",
      "author_association": "NONE",
      "body": " > However this issue is not related to the index. The index just returns tweaks, the wallet then needs to generate the scriptpubkeys to monitor. For that it would use BIP158 \"neutrino\" filters. The wallet should never remove a _used_ address from such a filter. That means the filter will grow, but I don't think that becomes a practical issue (high false positive rate, more blocks to download) unless you receive tens of thousands of transactions - at which point you may want to switch wallets.\r\n> \r\n\r\nI guess it does become relevant if a tweak index implements cut-through. A light client that is completely restored from seed and has to do a complete rescan would be unable to find UTXOs that were re-sent to an address. The new tweak for that tx would not match the scriptPubKey, the old tweak would be gone and the scriptpubkey would go unnoticed because those would not be available in a recovery from seed.\r\n\r\nI agree that this case should be considered in the specification. Or at least a discussion for light clients would be good in order to think about these kinds of trade-offs and pitfalls. Has there been a discussion in this direction already?\r\n",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1988346866",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "labeled",
      "id": 12074738167,
      "node_id": "LE_lADOABII585t1ykOzwAAAALPteH3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12074738167",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-11T14:39:17Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1988758480,
      "node_id": "IC_kwDOABII5852igvQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1988758480",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-11T15:46:10Z",
      "updated_at": "2024-03-11T15:46:10Z",
      "author_association": "MEMBER",
      "body": "I think that for early development it makes most sense to have two indexes: one without cut-through (this PR) and one with cut-through (maybe a followup?).\r\n\r\nFor the purpose of testing equality, is it straight-forward for you to build an index without cut-through?\r\n\r\nThe recovery use case is less common, so in the long run it would be fine if e.g. most nodes run the cut-through index and only a few run the full one.\r\n\r\n",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1988758480",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 1988938472,
      "node_id": "IC_kwDOABII5852jMro",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1988938472",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-11T16:50:04Z",
      "updated_at": "2024-03-11T16:50:04Z",
      "author_association": "NONE",
      "body": "> I think that for early development it makes most sense to have two indexes: one without cut-through (this PR) and one with cut-through (maybe a followup?).\r\n>\r\nAgreed. I could do both as well. The extra work should be minimal.\r\n\r\n> For the purpose of testing equality, is it straight-forward for you to build an index without cut-through?\r\n> \r\nI think it should be quite straight-forward. My implementation might even benefit from having the two options available. Just to be sure and we get the same results, you are only collecting the actual 33byte tweaks per block/blockhash, correct?\r\n",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1988938472",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 1989009934,
      "node_id": "IC_kwDOABII5852jeIO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1989009934",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-11T17:20:14Z",
      "updated_at": "2024-03-11T17:20:14Z",
      "author_association": "MEMBER",
      "body": "> you are only collecting the actual 33byte tweaks per block/blockhash, correct\r\n\r\nWhat else would you have in mind?",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1989009934",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 1989202908,
      "node_id": "IC_kwDOABII5852kNPc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1989202908",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-11T18:51:50Z",
      "updated_at": "2024-03-11T18:51:50Z",
      "author_association": "NONE",
      "body": "> > you are only collecting the actual 33byte tweaks per block/blockhash, correct\r\n> \r\n> What else would you have in mind?\r\n>\r\nI'm not sure, was just thinking, because I'm collecting a bit of periphery for the tweaks (e.g. txids, and more) but I guess that's not really relevant here. \r\nThinking ahead though, how exactly would you want to compare the tweaks, sorted and hashed I presume? I have a feeling it will be easier to store the data already sorted instead of having to do that afterwards.",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1989202908",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 1989209985,
      "node_id": "IC_kwDOABII5852kO-B",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1989209985",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-11T18:55:25Z",
      "updated_at": "2024-03-11T18:55:42Z",
      "author_association": "MEMBER",
      "body": "I haven't studied this PR in a while (and my memory is terrible), but I believe we store one entry per block. The entry is an array with one element for transaction, which is either empty or a tweak. The RPC similarly asks for a block hash and returns an array where each element is either empty or a tweak.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1989209985",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 1989274432,
      "node_id": "IC_kwDOABII5852ketA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1989274432",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-11T19:31:50Z",
      "updated_at": "2024-03-11T19:31:50Z",
      "author_association": "NONE",
      "body": "In that case we could maybe just compare a hash of all tweaks per block, with the tweaks sorted lexicographically.",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1989274432",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 1991046311,
      "node_id": "IC_kwDOABII5852rPSn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1991046311",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-12T08:39:18Z",
      "updated_at": "2024-03-12T08:39:18Z",
      "author_association": "MEMBER",
      "body": "@setavenger it's much easier to debug if we just compare all tweaks individually.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1991046311",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 12085264502,
      "node_id": "MEE_lADOABII585t1ykOzwAAAALQVoB2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12085264502",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-12T08:39:19Z"
    },
    {
      "event": "subscribed",
      "id": 12085264524,
      "node_id": "SE_lADOABII585t1ykOzwAAAALQVoCM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12085264524",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-12T08:39:19Z"
    },
    {
      "event": "commented",
      "id": 1991159921,
      "node_id": "IC_kwDOABII5852rrBx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1991159921",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-12T09:31:45Z",
      "updated_at": "2024-03-12T09:31:45Z",
      "author_association": "NONE",
      "body": "> @setavenger it's much easier to debug if we just compare all tweaks individually.\r\n\r\nIn that case it could help having the corresponding txid for a tweak, what do you think? Or are you able to accurately track a tweak in a different way?",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1991159921",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 12086043477,
      "node_id": "MEE_lADOABII585t1ykOzwAAAALQYmNV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12086043477",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-12T09:31:47Z"
    },
    {
      "event": "subscribed",
      "id": 12086043505,
      "node_id": "SE_lADOABII585t1ykOzwAAAALQYmNx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12086043505",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-12T09:31:47Z"
    },
    {
      "event": "commented",
      "id": 1991262187,
      "node_id": "IC_kwDOABII5852sD_r",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1991262187",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-12T10:12:41Z",
      "updated_at": "2024-03-12T10:12:41Z",
      "author_association": "MEMBER",
      "body": "The RPC returns an array for each block with one entry per transaction. The entry is empty if there is no tweak. So the ordering is based on the order of transactions in a block.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1991262187",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 1992029420,
      "node_id": "IC_kwDOABII5852u_Ts",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1992029420",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-12T16:12:05Z",
      "updated_at": "2024-03-12T16:12:05Z",
      "author_association": "NONE",
      "body": "Ok, then I'll make sure my full index follows the same pattern.",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1992029420",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "unsubscribed",
      "id": 12092180174,
      "node_id": "UE_lADOABII585t1ykOzwAAAALQwAbO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12092180174",
      "actor": {
        "login": "Tinaochoa8462",
        "id": 74807266,
        "node_id": "MDQ6VXNlcjc0ODA3MjY2",
        "avatar_url": "https://avatars.githubusercontent.com/u/74807266?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Tinaochoa8462",
        "html_url": "https://github.com/Tinaochoa8462",
        "followers_url": "https://api.github.com/users/Tinaochoa8462/followers",
        "following_url": "https://api.github.com/users/Tinaochoa8462/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Tinaochoa8462/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Tinaochoa8462/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Tinaochoa8462/subscriptions",
        "organizations_url": "https://api.github.com/users/Tinaochoa8462/orgs",
        "repos_url": "https://api.github.com/users/Tinaochoa8462/repos",
        "events_url": "https://api.github.com/users/Tinaochoa8462/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Tinaochoa8462/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-12T16:39:26Z"
    },
    {
      "event": "commented",
      "id": 1997264125,
      "node_id": "IC_kwDOABII5853C9T9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1997264125",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-14T11:47:29Z",
      "updated_at": "2024-03-17T19:03:06Z",
      "author_association": "NONE",
      "body": "@Sjors I was able to run the full index but due to performance issues I couldn't keep the tweaks in order. I jotted down a couple notes regarding the tweak index, light client implementation etc. [here](https://github.com/setavenger/BIP0352-light-client-specification). This might be interesting for other implementations as well. I also published the index and some peripheral data there.\r\n\r\nA couple key stats:\r\n- index ranges from 709632 -> 834636\r\n- my full index is **1.7 GB** (https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1952006804) so we are in the same ballpark. I believe I'm using the same method to store the index data\r\n- cut-through leads to a reduction of roughly ~40% in the number of total tweaks\r\n\r\n",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-1997264125",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 12116950826,
      "node_id": "MEE_lADOABII585t1ykOzwAAAALSOf8q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12116950826",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-14T11:47:31Z"
    },
    {
      "event": "subscribed",
      "id": 12116950841,
      "node_id": "SE_lADOABII585t1ykOzwAAAALSOf85",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12116950841",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-14T11:47:31Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12504033666,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAALpTGmC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12504033666",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "23faf456575c3a64c20066c6809e3d24c501a692",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/23faf456575c3a64c20066c6809e3d24c501a692",
      "created_at": "2024-04-17T08:43:23Z"
    },
    {
      "event": "commented",
      "id": 2060724432,
      "node_id": "IC_kwDOABII58561CjQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2060724432",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-17T08:43:28Z",
      "updated_at": "2024-04-17T08:44:00Z",
      "author_association": "MEMBER",
      "body": "Rebased. It no longer has a wallet dependency, which is nice.\r\n\r\n> The RPC returns an array for each block with one entry per transaction. The entry is empty if there is no tweak. So the ordering is based on the order of transactions in a block.\r\n\r\nThe middle part here is wrong: when a transaction doesn't have a tweak it's simply skipped, there's no empty element. I could change that, but I don't think it's necessary for anything.\r\n\r\nHere's the tweaks I get on a recent signet block:\r\n\r\n<details>\r\n<summary>getsilentpaymentblockdata 0000007dd632616a4ca25072cd4160bf3a4df1ecfd99a3e06aefe054bc8f6ff9</summary>\r\n\r\n```json\r\n{\r\n  \"tweaks\": [\r\n    \"03dde7131aedd4ffb7f0c8190253c61d5c268d2d9bf495b3e8f70161c4a88748b1\",\r\n    \"02d69b26c5e219c13ba258600ce2d88adb604cf9e3dbec9a4cba3d79072fc35aec\",\r\n    \"03cf8f34abd0f4cc6e2804b2cf8afd564846433f135af3678c9d7bd03eacf12edc\",\r\n    \"025a08ce8e8d85765f91ad10af65755cf3c60dd770b3d72384786134765d69820b\",\r\n    \"02e3f1656ec39e4240fffa6f36ff2eb57f20e7f819340cf44317690990ddc98544\",\r\n    \"03e674eb283627a44cf4aab3ba50651d1093e732f94baaca2d74c96ccaa48ca8b2\",\r\n    \"026c0973324533bf2b9d60d6ff8ad133493ee8828462a476ab0c2df171bbd0c2b1\",\r\n    \"02199bca98e3da7687680d01ecfd9075db1e45d2a00a2a4c4981663a99e3b2ff10\",\r\n    \"03ef64b3387938515ac203493cebc5c21a62415e7bc987542fda269add11854713\",\r\n    \"0263e6534d7e3968d14dbb4d5710b7077902963e6f6b4138b4d7f1f611465132dd\",\r\n    \"02688fd83b707668c040d348dd64fed5a5000448bb00d57aafe5ee9b11f0447ffe\",\r\n    \"039d07d18475ae86ac8ac3c87fcf31bc4c254524fff840822b76eb1613e84db499\",\r\n    \"0202f81b34ba6a4898dd5095f3e9b9a7ed8fb88401834fab61b63a6bdc436887bb\",\r\n    \"02c0d7686d33428e67e0fbda243dfca566d6d5905b0ad08cf1d0d35fd084ea7773\",\r\n    \"03e3da7b3d62397a6b98fdd07590a0c846b13d5bfe314a8a077f3cd77f5c40a84b\",\r\n    \"03d7d59345bb9ec837014e52c4c9ef5fee1e3b33de5772e3fd20e186de977dc192\",\r\n    \"023a6cc21ae1fa66091d96629170b57cba644b10f192df85f879278f0d02fc3923\",\r\n    \"0370c79353f62462295b2493a0eadfa01204a64a03660731e937cc256cea041f49\",\r\n    \"02df8f5e4b7ef17de157523fd32c5cc48711f3b036dc3973b82c7c8fae24f96563\",\r\n    \"0200797c52d48f366ee4551428e353e3df3a9456bd957c534f7db11704ae35f0f3\",\r\n    \"036f6617e4e8e8336c3011611127fcf8bb59467af09ce03081b82b45bd522f7e88\",\r\n    \"03e8fb68156fc78a70c3895b1529625cfc8a8c93a7977701a6aca9051bf1215348\",\r\n    \"02664b42446ba19da313adc6a8319942edec22956d1ffe0d0f3753e26a94bcc06c\",\r\n    \"036eedc78d6eecbe2def9133b8ae233e72b511b55e98a6b045586e19412a1e718e\",\r\n    \"02f391d95a701cf916bd8902ce30bebf4b3517f32bc0adaf28ea7daaefa223a921\",\r\n    \"0229fcfc868dae34eb8cd6bf9401a5c5d6304e51e50c288a8923591e97bdcc0733\",\r\n    \"02dffebc4193b1e7a103abdc61d13af33a04330dc0d27eb9de5db6e2f3fa73cd8e\",\r\n    \"03d83568533fe290f056abb888594c53157233ff9cadda9b09704bbbc5474f8c54\",\r\n    \"033e1155156b29b10b3faef395bbc107df30a53d6d2e1945ad0e7f19fcbd7df133\",\r\n    \"021c51d6dbb9c5c3db635175d25967c09d6b8c94ba352d55655ead1a3ba5bad34d\",\r\n    \"02bad2eee846e43b1c3c0f0ada5ab2eb51b5b55f6445a627749d366a702323ae22\",\r\n    \"02df04c0be57db13589c2472abd61e3001ce2769ac839a32c3f76d0f66a5e10408\",\r\n    \"02665859519d38fe4e226839679c355b2ff2c2cf3c72c08e9fa35889dd66c9274e\",\r\n    \"02962c2eb048f47dda56a4c839199f2d1e567435fee68268372f6e4c01f8b7a86a\",\r\n    \"022184a3ce6d63dbce433bfca44a8596d7ed035b42afa3a1e9782396838cfa01de\",\r\n    \"03fd1043acf8a35297c204df2612d03843979cac685c5ac7ce53683fe554cb6879\",\r\n    \"02cb1a084af2690fd06cac6da519ed100a5c44c8af27ade9d2c7b37e900af3a948\",\r\n    \"03585571e85609eb1378ce53c517650c32635ee68685ce6ca62b98662ca7d97f1b\",\r\n    \"03d24b172c6a3be7b7bb0946c75703532a80adea7d94c9b605979efb9c6d3ef823\",\r\n    \"034b46840cbf6500d7a82d1bd397dbed098aa230fa1915e1b28921db967fe2334a\",\r\n    \"029d9176ea61a1c45d8560ce897f9f0b46d408096d46b2dcedad9c039824e1ad49\",\r\n    \"039419755c7f70a486e3a7470976f7a70cb77ba26620869501027484135ef6c48e\",\r\n    \"02f590d701a5559feb5d672d69f92789d3cd13304408b36f9686f44abe4256086d\",\r\n    \"02cd8c3a992fab9883ec88666d4c2232f2a3007c685393be23e7aa9fc58c3216e8\",\r\n    \"0388c4a9e53407470834ccfde64bb76345aa9bdf84c32da0b74b3ba8e390652ce0\",\r\n    \"0361aedc2bda5fd14ec038425980c69253624c733c4d99992eeb569bd1aa58c85d\",\r\n    \"0280473683c77bd3185585252125b8a9669741095e033eae1462d9f35e4667da27\",\r\n    \"03d387b416d93f0bb785e8ba31cb3053a587fa28be11ae44b5b065697e40417bef\",\r\n    \"03c45748c66ff5e76f27a9ccd17c1305c599266e36751fb8c44e1b1d6de1c947d0\",\r\n    \"02290446b0263057ac9fba6a277c4244a482b2238ba2c415b181975977cdd33281\",\r\n    \"02bdfd35682562719cb4a26428dbd9a38ec19cc659e280f33b565c4cc06f1f4224\",\r\n    \"026ffad185910b1e5e2e74320e5649a5ccec25807b20626d140a09ef87e8492f38\",\r\n    \"0328521c4b2363a64fd5679efd71fad2c7d857c34ae41b46c0230a0f9220e6b3f7\",\r\n    \"03a3dc0aff3941e2d7c7d3a69ca5ba2afc35fa28df2a17f3e7d35d19411dfddc55\",\r\n    \"0262b5193d4fb7470a065f1444979ca18c0b4ed6a8d730c852a4c6650c30850594\",\r\n    \"025c3c5602bb5d50c8fa1d287b9c6698b28f3c1697183377c3654985a931108cf1\",\r\n    \"03d3574d15a6b9a069cde1c570c93ee6d94eeacc63f1426434385b1319afaadaa8\",\r\n    \"020d1efc22d6aff6f49a02e2894cee64a6d03bbd804a89e0809eaf0a44f657b97b\",\r\n    \"02035b7e10e5062f1ff7ac98a5ad26ceb8854de45197fe429d61eb86d6db04f749\",\r\n    \"029bd0d8a9f3db6ed4e47a5b100b45e0373a988c5710d63fedfff68809c9c9ba30\",\r\n    \"02f221e959bbb5fed1f6a8cc55bec48bf1f0c398170954d2181cd0c3fb7080265e\",\r\n    \"025d70330b90e4da34e893bab4de988620393be736fe74d5a97fe7f296eb240299\",\r\n    \"02445cd8e53dc46e4c7dc04d9778376a153d57f27884efba7f7f034cad85544194\",\r\n    \"02fd9ede367839371a15ccb3933ba5717bca9b38e759bbf2952061d3a32bf254db\",\r\n    \"03a3fa126a9af15bc0354a6c87a453d42c77472f3bfd8d76d599e2ad4f1187f437\",\r\n    \"030c822f92dad97ef49af0383f492f1f79c9e7bb522f363e1de4b231fa36ee26d6\",\r\n    \"03cfa37488e3ec657cbaaa3be8802af238a1c827c9bbf61045aa45dbf4d00a2055\",\r\n    \"0356532eebb2bc3b764ee2a34d9ff4a1797b843ce1eb194fca7f3c6a1a60b26111\",\r\n    \"02d6e21027cec1e5eb4dac6b4be44f0601398886acd1a8ea3aa99d99bfef52d4d8\",\r\n    \"03bff341819a679295fc159c6d78d535f6d26e79ed28b6045979828449d3d81404\",\r\n    \"039f7ea2f399a9fdc4c9a5fdd99bd41285e829eb320088c18e565bff5bf7f490f2\",\r\n    \"02f977a4159d25d9c0197c614a653ef549a94088a12f49dd71c4fa32877287d65e\",\r\n    \"0398a9d825c49626dea0f4371863519b86e75f4c951aac87cb1f8c621ba23cfd38\",\r\n    \"028278c78676e88f13dfa7efe5351eb3951125313a0b7a6c18274a65e0b0f734b7\",\r\n    \"033ff8f7f4afeb45730a4ba47145b1d3f628179cae5d7c185cfad9971a82c1a08d\",\r\n    \"031405054061d9fb120a785e0dbbdb3bbf5353e99254e11a5e9ece6eca77393d88\",\r\n    \"034e27e90802aab13af0340246eec9a30337e50da8a59067371dd2362efbbc3ec2\",\r\n    \"032e19d8915d22d537ebe4c7ba5532a54ad68fbea0b9bcc7431892b0816abd91d7\",\r\n    \"03ade6ae261ba9e9f4bfb8e02f6b26e7d23b9d06e9f1423681c9117c034892187f\",\r\n    \"029dc032b8faabf9b3c7c54c83ca3c7f5f7be0a72b4f01e6b7c9de4796fd0af702\",\r\n    \"0302062e06ff2d1fc971c885d610c3c192053600e71ff04aedd79fd9b8462483a4\",\r\n    \"036d39837fa8f15fbd1f42a3041ffed5ddc18f5569cb4ab7de2acf338fba10badc\",\r\n    \"030997ee943e289f82e0b2a3cabfa5695e54c834886d336cb395dfce4222f24891\",\r\n    \"03c262abff0b89b764854e0ece12761bb728d4ec4d654535d1d0da5eb30733ca1e\",\r\n    \"02b80cc210cb9301d5b538262cc022d553b1eaf9f5324f1e77644960020ce8d47a\",\r\n    \"035abc895c2a93a0cff15b05f7700e8b966adc902a14f9c04d303d98e435a2e038\",\r\n    \"021e2831164d40726addfd1dbce18a45823a729ecb5de448173f2de7a972b3c699\",\r\n    \"030e9e9e650b663b45bc19bc919bbad47b27ee7517956fd3af91a5060ef18940c6\",\r\n    \"0383e6f14e9ce6fee2703dca908109222ac314ef55e10cd40225965e7834ef9ae3\",\r\n    \"02d3e54b107d61f41f7e075b42ea1f3cda346a9533b513d0ba7ae414340f6bbd2b\",\r\n    \"024b56519418825efce7e8461f1b89dea87512702fc1e7f20594410db2ab44e4b0\",\r\n    \"027ad45dfe13d32e6245d6ff5490388153be629c6ee54bb5b71803985465844aa5\",\r\n    \"027f9a01694a7db47a75e43900dd65a7864c3b221b723f3c26c072369a8a3e2bb7\",\r\n    \"028d3b965a00e51246f38f97a18d43ef72c6f514681efb2b8db41f675f0b39e6a4\",\r\n    \"02ea5eea75dc7fdcc09a09d18f4d2bad9b10143c74372731dc00ac4719271e3b9e\",\r\n    \"03ee4480f1457043cd79cd5e253ac44f2fe1b52fa6d7c327b9ff835ce543c3abf6\",\r\n    \"02bb886ae36426b0f7e0ef14aaba151a0f700652e3e21b7f57e74ff32536158d6f\",\r\n    \"022117a2ce70f9db5c4ac264f31fe344d1ba0a794c2bade8e9bc291dff2529845a\",\r\n    \"02e7ca97bfbeac1fbdef85e2610defddd6786f4eb58475e5ff0df095d2f4453ea6\",\r\n    \"0285f650d4fec806e6560926b5b164de6b129b79b489d6790cb3da42d325322783\",\r\n    \"03b21ff0d3fcefa6435a093c6932a1aac9cebb5118bc69865855d95ea293da829d\",\r\n    \"039d7c959a684a92117e8da302c3141a99ac942aea3cd2a99762ec00eaceeef8e7\",\r\n    \"0348759e66fc521108075043681fa0be4f5906ccaa18e4111a9bbea0f8aaf86159\",\r\n    \"03978a366bf1b745d1f9e6c7df10566439ee010542461356ac9f0833a3bf74851e\",\r\n    \"028e633daca005532b44df046bfded6a5e69eb06badcb609f990b9d2e3b0793c5a\",\r\n    \"0308708b9e27944d9de82ed9cfeac51681455f4f1584869c2cdb73ba1e0f71d0b1\",\r\n    \"02c7f36661ce2bb478ddbdeb927a56cff5628c4ab17280ddd8b0791c39067838f7\",\r\n    \"023b6de613085e662bdc681de94092704e6c114bcb08c628ac066b2ad8f34b186a\",\r\n    \"0322033f1a4dbedf951eec5454f9f18cedca7ff3c7823fca1203ebfb91a6b7cc06\",\r\n    \"02ebb434e8f8aba732b05023dcc5c13c04556febed25a5a6c5d7719c42da783b76\",\r\n    \"035a6bf473764fbc64767b27866e1ee82380247c197568ae52203266037049cc64\",\r\n    \"028a7e4a4684a3b264b5e339b5a7376ec5e0e2beaab7223bc926c6bd401f0f8a33\",\r\n    \"03bd2a3e364a767f89507392cf60f5bb7baf65df8c576dc745dce29449dbe69e7d\",\r\n    \"02100bf00d138aa9b0186a2bdc04b86f617b7db1c43ce4c6d98a6a73873909bdcf\",\r\n    \"025f663962346b24920d2046ebf6c7a6c59d62b6641b2d5f529a278463a01681e2\",\r\n    \"02cdee816b652c733ae7118760cddf5d6c224b4ddc2a60a94f9b63969f65fc8905\",\r\n    \"03e0111bfca7188a4ff597c2ab9762d40150e2d5eaa4d7b6ee0619c244f00f6e1d\",\r\n    \"03a362c507df74497a9a4c4ec1b96157c641067877448a961a2fd12fc12a57dc9f\",\r\n    \"0300f11a977e52d4b2df2f340dbb48939af569f80abcfb721d80bcaad241478dd8\",\r\n    \"0338941aca63e2e24a8ff823b9b82346c7d3b25e98a71f33c1f5aa2f44cc9456df\",\r\n    \"021bf9c708e836e05470ddaf418961e840b5bb1d5392e6cf7259cc0072a2ba8e33\",\r\n    \"039c3cd95ef1c859c27ed8c8ef0b74d362288eab068d7ed8aad38851a657dbc473\",\r\n    \"0373793ecc68a94acda07708dadf2082318f5c2586fabbacad7dadad55c87cf513\",\r\n    \"02e7436b58aab20271f0b5d5865921bfb4534b63c904034be995dfebe383184f1a\",\r\n    \"0287828b42211f00491b8c34c129e069e780c2e928800433b4753b2c82628818e1\",\r\n    \"0234400b2e0dfb8d0121c66315f210de41d989dcb8374f0649120e5206b9120d8c\",\r\n    \"02414187a6e41625c111411c3557c7c4cf79a77b7c2c90be290cb30468e21f04ad\",\r\n    \"0361aca306f5d7c3584d4554aae89fecc76886d09c87ca4ffaeb1ddcf1995f3ccd\",\r\n    \"0223d4a2975c7edc6d4ef9d0115ffc2ca301de8abc33b4e8f16c5ff6dcba68aba7\",\r\n    \"028ff059b5ead51d75905778d70505a9577c55f0dd13ba16b31c312952f794abca\",\r\n    \"03c8b14ebe61fa7f776919e4e1443558d8d453bc306728781d400f17d12d1d645e\",\r\n    \"02c4cfe62d07450117db533e8f781ccecc61fff6b3cdf4d7fd635407d0ea6104d0\",\r\n    \"025f303c19c542f50a535be71323403816950d535033b2bc7c2bbd468b95011eb9\",\r\n    \"02a2910f75512fc66310f6af63c36b5d70f9bec3b4a9502ef8021b8d0aca83a29a\",\r\n    \"02df7e5ef91d223bee7e4705e5fdd6767d259e5ee0b9b577add84c8485e59dc59f\",\r\n    \"02509825a12b1638e051903bb7bddd2e4e190595b73cc0330e6e510e2866b8d50d\",\r\n    \"0355135adc7b4cef16bbb6800bf993bf36538e823ea4f03a31e40c360e2bce52c1\",\r\n    \"03f5156fb6f04624941ba8621e889d440ff6861ad231a0979ee66f9df7c51f2dcf\",\r\n    \"0378996dd85f0c7cc2a804cc009b1b0f854df84a81510e1bd4019df0251c03c0d1\",\r\n    \"0277e0904ec2c6402843f5d6babc1f173436543ec89d1dfde7d0c104a6cd1c5273\",\r\n    \"021f10375da54be801d51be2233b1fcbd52340d08dc706a1b3e753033568767324\",\r\n    \"0262aecedfeaf0df822e019c124fd95e606ff775aa30f9a3e125a87b01b0f30eff\",\r\n    \"02d0bbb0aa14dc4f3ba2043de749ea1d63c105de0577b37f71ec9658f8a0e949c0\",\r\n    \"0325c11eaa27cb529a3392064cfb49ac1f999b5c8ff7f14917abcdad67be86ba60\",\r\n    \"02aabf4e66a7f218206975818264b946eadd3e4ff57ae41f49a4262e1b848945b6\",\r\n    \"03d2a22045b2026977059b2ec0b803d722592671e800a30c2ba47fe9c3f3705560\",\r\n    \"031f8ca3109d282190b1bd2610890a2ff13ca55710bc5596cc6ce27745f8c050ea\",\r\n    \"03288e9994b079988eb369083b3f5b4a6c31dcb90c2904d212c7d80fdbd4298b94\",\r\n    \"02aae19e60d90b9b9829b60dd851bc4c63c916a93d71f3cd709180862eab6de09f\",\r\n    \"02884c700c60d91413bdf1c8d901b876ec6b601cb13c08567e642881a7751fb6dd\",\r\n    \"02ba16b1174391da8e69038a99571afcd37821208cb1d0ca4bb8bfff4d38bac70a\",\r\n    \"032ee3d3257472b05e5b5898244db2770419be4a4fa6e0969bf5783d682ba3bb7a\",\r\n    \"022e9c923b710601c0a9e4b2f7c347c4c98daed810329722c760cfabfa3a16c79a\",\r\n    \"03f734f312f6be23104ceb723d65e157caa09506693be5e85fc590299f09461169\",\r\n    \"03312306b90116a7c6329f63a0bfda88ff75d3a707972cc1e0dfe4807189e05634\",\r\n    \"03987a966332397cc8e53afb797965a0add8745f8b3c1ee7a302b709be177b5e53\",\r\n    \"030532bd3bc68e4a433f5a2f328c0923dea81d1922a4c50cdbcfe4b98a2b7bd7de\",\r\n    \"027698978b34610a4479172849d5ee811928698572489b7f9732e4942ae3451189\",\r\n    \"0257332a323b92a04b4dea3449953bcaa0b27571fc20265a14476f64d0b5af2b9c\",\r\n    \"0354107b26fcbe2cdb69e92b454d19d3485d1d06005b3d819790504847c0e79813\",\r\n    \"036d9953598ed569e4030739bd61ef8b811c4fcd6c18377266653a2c1a46be24d0\",\r\n    \"02f66f188aa800651d8e11a8efaf3ff14606196ad26a4dbf5d020911a513186c41\",\r\n    \"023d47e6088ce2984f92752d1f3c796ff6a2d3c37419d2f0c199756bb9ecd7e02c\",\r\n    \"0384acb414a8fb2e61896018b26b0e25a73f304011bc5b6062a3e36bfb0e538cb9\",\r\n    \"02630235c2b85eb8dde983382ef0d57ae113efc555e5d5ff8dffea0ad23a4d686e\"\r\n  ]\r\n}\r\n\r\n```\r\n<details>",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2060724432",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "reviewed",
      "id": 2005416700,
      "node_id": "PRR_kwDOABII5853iDr8",
      "url": null,
      "actor": null,
      "commit_id": "4b4e99b1dafb139b6f004aa47cb5a59019f49971",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#pullrequestreview-2005416700",
      "submitted_at": "2024-04-17T08:46:26Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12504138212,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAALpTgHk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12504138212",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "3b52e4d2e6bc7f0e2b24eeed6478a719d54ac910",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/3b52e4d2e6bc7f0e2b24eeed6478a719d54ac910",
      "created_at": "2024-04-17T08:50:12Z"
    },
    {
      "event": "commented",
      "id": 2061378522,
      "node_id": "IC_kwDOABII58563iPa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2061378522",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-17T14:20:01Z",
      "updated_at": "2024-04-17T14:20:01Z",
      "author_association": "NONE",
      "body": " > Here's the tweaks I get on a recent signet block:\r\n> \r\nDo you have a mainnet block before height 834761 indexed, then we could compare. I don't have signet data available.\r\n\r\n",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2061378522",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 2063096725,
      "node_id": "IC_kwDOABII5856-FuV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2063096725",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-18T06:30:41Z",
      "updated_at": "2024-04-18T06:30:41Z",
      "author_association": "MEMBER",
      "body": "@setavenger here's one for height 727505:\r\n\r\n```\r\nsrc/bitcoin-cli getsilentpaymentblockdata 00000000000000000002d8cc04ec765eeeaaf4684f43c2ec28d81ad34436b1bc\r\n```\r\n```json\r\n{\r\n  \"tweaks\": [\r\n    \"03031f9711550ee688c52fe8635a1b122eb2744c362e19e6b2284dd69ab8d277b4\",\r\n    \"02be4494f8a62126483634f45192b189cd121bc037ba0b8f8f1ac4bd4e15135c94\",\r\n    \"03c22ca4a3d3d0e0fa8073fdc7d252f599726445a56fd61523c6f5150ed151a992\",\r\n    \"02adf5951aa06107d18f35e20d902b8b54c4e8ff82ddb91e7a265f7146c018ded6\",\r\n    \"03b953cbc7bf3e73a87c267a0b155666ff3e0d866a35975b850ed56a193ed416d1\",\r\n    \"0207a9a7ce03287d67984117a2301e4c6f3faf2e7559d1151fc3a22ea8ee897727\",\r\n    \"02a395fec36901fc8f3f386ae25832808f543e5591f54d8652def3db7e29ea4121\",\r\n    \"037d4ee4afe27b873f85930581927f0106ffda7b984c3e19ab457ce0ddfe753d86\",\r\n    \"024fe4fc3741862672359c6ac3924f641999d3bbaa0ec9ec3002675ad11b821cac\",\r\n    \"02bcc7a0f5d0ce462b7ad3fe92c7e1367ed8321b89c92bf97352c9662bc0aae721\",\r\n    \"03e2d7e33df03c6485cd97df98e74af9d64e7ef26768c01f42a5298e7bee97df13\",\r\n    \"0342cdf6ee793f46f54855441583cbbf3eb7745c49cb8c3dda095de0a83a6b73ab\",\r\n    \"03f1cddd05f526068bc2f4d39ea618daf546d1cb4eb7671554898596accd1f3c76\",\r\n    \"02b997fb340b5ea0599aebcba1c01ea7efaf4f60fb49a727e6400aee89947bda8b\",\r\n    \"024b75d6958cc6972b97d88319e5a14ccbc6b7dad8cb54bd0ff0e2d3fed8cc8863\",\r\n    \"02292c860c456731ccdab58fdc40e16a4c431680024ccbac2f5c32087fe7b851ca\",\r\n    \"021c31eaebf539ce61083717933885eef536577d6e441f94e6f7e7bfaa51f03fe8\",\r\n    \"026e8cd29797f659f13dcab968ed1be60591a1999723c1bf06daf453edf3af4f51\",\r\n    \"025a09b88764cd2a24162144c98d327b9ba34e4e4061531fe2abdeb2f8dded8053\",\r\n    \"02a67a08b1df9aa0f39e4d45c4c9d8d75267ec030099cf6c5694d840ba948d3af1\",\r\n    \"02cb9357c3d9ba8a0beb92acaf24761110cc09cb2a070bc5335668360cefe92f8a\"\r\n  ]\r\n}\r\n```",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2063096725",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 12518283865,
      "node_id": "MEE_lADOABII585t1ykOzwAAAALqJdpZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12518283865",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-18T06:30:42Z"
    },
    {
      "event": "subscribed",
      "id": 12518283879,
      "node_id": "SE_lADOABII585t1ykOzwAAAALqJdpn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12518283879",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-18T06:30:42Z"
    },
    {
      "event": "commented",
      "id": 2063145818,
      "node_id": "IC_kwDOABII5856-Rta",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2063145818",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-18T06:50:13Z",
      "updated_at": "2024-04-18T07:01:16Z",
      "author_association": "NONE",
      "body": "@Sjors Got the same results. As mentioned above I had to sort them in order to compare them.\r\n\r\nHow should we best go about comparing more blocks?\r\nI have linked the entire tweak index [here](https://github.com/setavenger/BIP0352-light-client-specification?tab=readme-ov-file#the-files-can-be-found-here). Maybe you could do something like that for a couple of blocks and we could compare the tweaks?\r\n\r\n```json\r\n[\r\n  \"0207a9a7ce03287d67984117a2301e4c6f3faf2e7559d1151fc3a22ea8ee897727\",\r\n  \"021c31eaebf539ce61083717933885eef536577d6e441f94e6f7e7bfaa51f03fe8\",\r\n  \"02292c860c456731ccdab58fdc40e16a4c431680024ccbac2f5c32087fe7b851ca\",\r\n  \"024b75d6958cc6972b97d88319e5a14ccbc6b7dad8cb54bd0ff0e2d3fed8cc8863\",\r\n  \"024fe4fc3741862672359c6ac3924f641999d3bbaa0ec9ec3002675ad11b821cac\",\r\n  \"025a09b88764cd2a24162144c98d327b9ba34e4e4061531fe2abdeb2f8dded8053\",\r\n  \"026e8cd29797f659f13dcab968ed1be60591a1999723c1bf06daf453edf3af4f51\",\r\n  \"02a395fec36901fc8f3f386ae25832808f543e5591f54d8652def3db7e29ea4121\",\r\n  \"02a67a08b1df9aa0f39e4d45c4c9d8d75267ec030099cf6c5694d840ba948d3af1\",\r\n  \"02adf5951aa06107d18f35e20d902b8b54c4e8ff82ddb91e7a265f7146c018ded6\",\r\n  \"02b997fb340b5ea0599aebcba1c01ea7efaf4f60fb49a727e6400aee89947bda8b\",\r\n  \"02bcc7a0f5d0ce462b7ad3fe92c7e1367ed8321b89c92bf97352c9662bc0aae721\",\r\n  \"02be4494f8a62126483634f45192b189cd121bc037ba0b8f8f1ac4bd4e15135c94\",\r\n  \"02cb9357c3d9ba8a0beb92acaf24761110cc09cb2a070bc5335668360cefe92f8a\",\r\n  \"03031f9711550ee688c52fe8635a1b122eb2744c362e19e6b2284dd69ab8d277b4\",\r\n  \"0342cdf6ee793f46f54855441583cbbf3eb7745c49cb8c3dda095de0a83a6b73ab\",\r\n  \"037d4ee4afe27b873f85930581927f0106ffda7b984c3e19ab457ce0ddfe753d86\",\r\n  \"03b953cbc7bf3e73a87c267a0b155666ff3e0d866a35975b850ed56a193ed416d1\",\r\n  \"03c22ca4a3d3d0e0fa8073fdc7d252f599726445a56fd61523c6f5150ed151a992\",\r\n  \"03e2d7e33df03c6485cd97df98e74af9d64e7ef26768c01f42a5298e7bee97df13\",\r\n  \"03f1cddd05f526068bc2f4d39ea618daf546d1cb4eb7671554898596accd1f3c76\"\r\n]\r\n```",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2063145818",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 12518626505,
      "node_id": "MEE_lADOABII585t1ykOzwAAAALqKxTJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12518626505",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-18T07:01:17Z"
    },
    {
      "event": "subscribed",
      "id": 12518626516,
      "node_id": "SE_lADOABII585t1ykOzwAAAALqKxTU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12518626516",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-18T07:01:17Z"
    },
    {
      "event": "commented",
      "id": 2063985018,
      "node_id": "IC_kwDOABII5857Bel6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2063985018",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-18T14:17:14Z",
      "updated_at": "2024-04-18T14:17:14Z",
      "author_association": "MEMBER",
      "body": "Either you could generate the mainnet index using the code in this pull request, and then compare it. Or I can take your list and compare it to my result. Whoever gets around to it first :-)",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2063985018",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 2068972677,
      "node_id": "IC_kwDOABII5857UgSF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2068972677",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-22T09:54:05Z",
      "updated_at": "2024-04-22T09:54:05Z",
      "author_association": "NONE",
      "body": "Is there an easy way to run this pull-request version without compromising my existing full-node data and needing to resync everything? Then I could probably get to a comparison in the next days.",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2068972677",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 2069017109,
      "node_id": "IC_kwDOABII5857UrIV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2069017109",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-22T10:15:51Z",
      "updated_at": "2024-04-22T10:15:51Z",
      "author_association": "MEMBER",
      "body": "@setavenger this PR should not break your node. It just creates an `indexes/silent_payments` directory in your data dir, which you can safely delete later.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2069017109",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 12557463857,
      "node_id": "MEE_lADOABII585t1ykOzwAAAALse7Ex",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12557463857",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-22T10:15:53Z"
    },
    {
      "event": "subscribed",
      "id": 12557463884,
      "node_id": "SE_lADOABII585t1ykOzwAAAALse7FM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12557463884",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-22T10:15:53Z"
    },
    {
      "event": "commented",
      "id": 2069108058,
      "node_id": "IC_kwDOABII5857VBVa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2069108058",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-22T11:04:20Z",
      "updated_at": "2024-04-22T11:04:20Z",
      "author_association": "NONE",
      "body": "Ok, I see. Then I'll be able to get to this a bit faster.",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2069108058",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 2076895408,
      "node_id": "IC_kwDOABII5857yuiw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2076895408",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-25T10:47:14Z",
      "updated_at": "2024-04-25T10:47:14Z",
      "author_association": "MEMBER",
      "body": "@setavenger I built your index and then ran the following comparison script:\r\n\r\n```sh\r\n#!/bin/bash\r\nset -e\r\nTIP=`bitcoin-cli getblockcount`\r\nfor height in $(seq 709632 $TIP); do\r\n  if [ $((height % 10000)) -eq 0 ]; then\r\n    echo \"$height...\"\r\n  fi\r\n  HASH=`bitcoin-cli getblockhash $height`\r\n  diff <(curl -s localhost:8000/tweak-index/$height | jq 'sort') <(bitcoin-cli getsilentpaymentblockdata $HASH | jq '.tweaks | sort') || (echo $height; exit 1)\r\ndone\r\n```\r\n\r\nThe need for `sort` is a bit annoying, but not a big deal. Unfortunately it does find a difference at height 716,120.\r\n\r\nThis is what the RPC finds:\r\n\r\n```json\r\n[\r\n  \"0323fefb4e4bf637d7819c2030996dbe88d97c6a2f5708841df0e65fafd32c5a0a\",\r\n  \"03cdc8c9f07d9917ed05d20231c63cac058b54a4095f6cc2fc53fc876e1226b44b\",\r\n  \"031799df7770cfdabe460e47f4571fe4ded7d7a7922afa0f5ad91753473269cdbb\",\r\n  \"03b2bda3a513123fe810cb1e65cd8a71a2495ea9229c50e4acc8d4b5baa51b4147\"\r\n]\r\n```\r\n\r\nVersus your indexer:\r\n\r\n```json\r\n[\r\n  \"031799df7770cfdabe460e47f4571fe4ded7d7a7922afa0f5ad91753473269cdbb\",\r\n  \"03b2bda3a513123fe810cb1e65cd8a71a2495ea9229c50e4acc8d4b5baa51b4147\",\r\n  \"030acf723f1e3bfb392ccbe0460e28be1ac13cce512c3cfe618cce839aac6212bb\",\r\n  \"03cdc8c9f07d9917ed05d20231c63cac058b54a4095f6cc2fc53fc876e1226b44b\"\r\n]\r\n```",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2076895408",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 12606210139,
      "node_id": "MEE_lADOABII585t1ykOzwAAAALvY4Bb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12606210139",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-25T10:47:16Z"
    },
    {
      "event": "subscribed",
      "id": 12606210161,
      "node_id": "SE_lADOABII585t1ykOzwAAAALvY4Bx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12606210161",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-25T10:47:16Z"
    },
    {
      "event": "commented",
      "id": 2076903047,
      "node_id": "IC_kwDOABII5857ywaH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2076903047",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-25T10:51:45Z",
      "updated_at": "2024-04-25T10:51:54Z",
      "author_association": "NONE",
      "body": "> The need for `sort` is a bit annoying, but not a big deal. Unfortunately it does find a difference at height 716,120.\r\n\r\nIs that a difference so far or the only one found? I'll investigate that block. Thanks for raising this to my attention.\r\n",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2076903047",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 2076930535,
      "node_id": "IC_kwDOABII5857y3Hn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2076930535",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-25T11:07:44Z",
      "updated_at": "2024-04-25T11:08:00Z",
      "author_association": "MEMBER",
      "body": "@setavenger it's the first one - will run the script again once it's clarified (the mistake can be on our side too!).",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2076930535",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 12606493722,
      "node_id": "MEE_lADOABII585t1ykOzwAAAALvZ9Qa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12606493722",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-25T11:07:44Z"
    },
    {
      "event": "subscribed",
      "id": 12606493736,
      "node_id": "SE_lADOABII585t1ykOzwAAAALvZ9Qo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12606493736",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-25T11:07:45Z"
    },
    {
      "event": "commented",
      "id": 2076943704,
      "node_id": "IC_kwDOABII5857y6VY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2076943704",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-25T11:15:47Z",
      "updated_at": "2024-04-25T11:24:44Z",
      "author_association": "NONE",
      "body": "I believe the transaction in question is this one [here](https://mempool.space/tx/e37ecd93f347f39e2fa28f592ed6586316c86cdd06bafef36da08c53c2b013c9). There are 6 pretty standard P2SH-P2WPKH inputs. These should be the public keys extracted for that transaction:\r\n```json\r\n[\r\n  \"031ad46f7f9242b605df6345afadd92a36c4fc4db4b393d7a55601f5b36e3bff30\",\r\n  \"02a1321db69985d13433830274b4d3fbe00192d90edab0b3297e15319d849dc13a\",\r\n  \"03c65b9db60d7b60b90a89bea66096d787f93f67fe3f5d8716b06a0f84835fcd66\",\r\n  \"02461af18902a1500606d0a5a83055307c7b54d4937b65d6959ee4535173ebc79d\",\r\n  \"0258096406d177d5d782ae27aee741cdb39d180a3dccf9ab6ecd0073e2333f8cfe\",\r\n  \"02890ed13719a603473460914e9f55998f229dee6c5bfcf862af463deba37c6b71\"\r\n]\r\n```",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2076943704",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 2076970523,
      "node_id": "IC_kwDOABII5857zA4b",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2076970523",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-25T11:32:50Z",
      "updated_at": "2024-04-25T11:32:50Z",
      "author_association": "MEMBER",
      "body": "I'll rebase on this https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1575031937 just to make sure and will re-generate the Bitcoin Core index and then try again.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2076970523",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12606941309,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAALvbqh9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12606941309",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "2bd8e9b991aebdc89ba1fc9a84334b924f090ca7",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/2bd8e9b991aebdc89ba1fc9a84334b924f090ca7",
      "created_at": "2024-04-25T11:40:15Z"
    },
    {
      "event": "unlabeled",
      "id": 12607884698,
      "node_id": "UNLE_lADOABII585t1ykOzwAAAALvfQ2a",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12607884698",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-25T12:45:05Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2077236613,
      "node_id": "IC_kwDOABII58570B2F",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2077236613",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-25T13:46:58Z",
      "updated_at": "2024-04-25T13:46:58Z",
      "author_association": "MEMBER",
      "body": "Unfortunately that didn't help, so the mystery remains.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2077236613",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 2077253080,
      "node_id": "IC_kwDOABII58570F3Y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2077253080",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-25T13:54:21Z",
      "updated_at": "2024-04-25T13:54:21Z",
      "author_association": "NONE",
      "body": "Just curious. Does the index use [this](https://github.com/bitcoin/bitcoin/blob/0eb1459efa91c6a3bc2964007057cef2f7280a57/src/primitives/transaction.h#L46) to compare outpoints? Does it do (txid, vout) or (txid||vout)?",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2077253080",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 2077270747,
      "node_id": "IC_kwDOABII58570KLb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2077270747",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-25T14:00:52Z",
      "updated_at": "2024-04-25T14:00:52Z",
      "author_association": "MEMBER",
      "body": "@setavenger paging @josibake.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2077270747",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 12609180092,
      "node_id": "MEE_lADOABII585t1ykOzwAAAALvkNG8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12609180092",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-25T14:00:54Z"
    },
    {
      "event": "subscribed",
      "id": 12609180125,
      "node_id": "SE_lADOABII585t1ykOzwAAAALvkNHd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12609180125",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-25T14:00:54Z"
    },
    {
      "event": "mentioned",
      "id": 12609180152,
      "node_id": "MEE_lADOABII585t1ykOzwAAAALvkNH4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12609180152",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-25T14:00:54Z"
    },
    {
      "event": "subscribed",
      "id": 12609180175,
      "node_id": "SE_lADOABII585t1ykOzwAAAALvkNIP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12609180175",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-25T14:00:54Z"
    },
    {
      "event": "commented",
      "id": 2077317678,
      "node_id": "IC_kwDOABII58570Vou",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2077317678",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-25T14:16:43Z",
      "updated_at": "2024-04-25T14:25:05Z",
      "author_association": "NONE",
      "body": "I don't think extracting the public keys is the issue as they are pretty standard. So I think it has to be the input_hash. I don't know C++ but I suspect that the linked part does (txid, vout_as_int) and compares the txid and then the vouts but as integers. The transaction in question has 4 outpoints for the lowest txid. And the vouts are 136, 202, 204 and 383. As bytes (LE) they are 0x88000000, 0xca000000, 0xcc000000 and 0x7f010000. Lexicographically sorted: 0x7f010000<0x88000000 but sorted as int one gets 136 < 383.\r\n\r\nI just checked and if I manually change the smallest outpoint from using 383 to 136 I get the tweak that you gave above `0323fefb4e4bf637d7819c2030996dbe88d97c6a2f5708841df0e65fafd32c5a0a` and with 383 I get `030acf723f1e3bfb392ccbe0460e28be1ac13cce512c3cfe618cce839aac6212bb`.",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2077317678",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 2077460938,
      "node_id": "IC_kwDOABII585704nK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2077460938",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-25T14:58:16Z",
      "updated_at": "2024-04-25T14:58:16Z",
      "author_association": "MEMBER",
      "body": "Sounds like a bug on our end then. The BIP says:\r\n\r\n> outpoint (36 bytes): the `COutPoint` of an input (32-byte txid, least significant byte first || 4-byte vout, least significant byte first)\r\n\r\nAnd there's a footnote saying \"Why are outpoints little-endian\".\r\n\r\nhttps://github.com/bitcoin/bips/blob/57c89ae162b4dab971dc6061ba6acf7d676781ea/bip-0352.mediawiki#cite_ref-why_little_endian_8-0\r\n\r\nWe should probably have a BIP352 specific `COutPoint` sorter, and a test vector.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2077460938",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 2077491415,
      "node_id": "IC_kwDOABII58571ADX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2077491415",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-25T15:05:58Z",
      "updated_at": "2024-04-25T15:05:58Z",
      "author_association": "NONE",
      "body": "> We should probably have a BIP352 specific `COutPoint` sorter, and a test vector.\r\n\r\nYeah, I'm working on a test vector that incorporates this kind of scenario.",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2077491415",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "labeled",
      "id": 12614075192,
      "node_id": "LE_lADOABII585t1ykOzwAAAALv24M4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12614075192",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-25T19:04:19Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2079095313,
      "node_id": "IC_kwDOABII58577HoR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2079095313",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-26T10:18:30Z",
      "updated_at": "2024-04-26T10:18:30Z",
      "author_association": "MEMBER",
      "body": "@Sjors I've updated #28122 to sort outpoints lexicographically and added @setavenger 's test case. This should fix the discrepancy between your two indexes. Thanks again for testing this! Really glad we caught this one. ",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2079095313",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 12621825586,
      "node_id": "MEE_lADOABII585t1ykOzwAAAALwUcYy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12621825586",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-26T10:18:32Z"
    },
    {
      "event": "subscribed",
      "id": 12621825652,
      "node_id": "SE_lADOABII585t1ykOzwAAAALwUcZ0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12621825652",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-26T10:18:32Z"
    },
    {
      "event": "mentioned",
      "id": 12621825713,
      "node_id": "MEE_lADOABII585t1ykOzwAAAALwUcax",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12621825713",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-26T10:18:32Z"
    },
    {
      "event": "subscribed",
      "id": 12621825744,
      "node_id": "SE_lADOABII585t1ykOzwAAAALwUcbQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12621825744",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-26T10:18:32Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12621993070,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAALwVFRu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12621993070",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "66d2db92856400425f46d5035b44806c28ccfd98",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/66d2db92856400425f46d5035b44806c28ccfd98",
      "created_at": "2024-04-26T10:26:06Z"
    },
    {
      "event": "commented",
      "id": 2079270744,
      "node_id": "IC_kwDOABII58577ydY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2079270744",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-26T12:14:54Z",
      "updated_at": "2024-04-26T12:19:10Z",
      "author_association": "MEMBER",
      "body": "Indexes match! If there's other implementations out there, we should do the same comparison.\r\n\r\n@setavenger are you sorting transactions by their position in the block? That seems like the most logical canonical ordering to encourage.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2079270744",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 12623116153,
      "node_id": "MEE_lADOABII585t1ykOzwAAAALwZXd5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12623116153",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-26T12:18:46Z"
    },
    {
      "event": "subscribed",
      "id": 12623116171,
      "node_id": "SE_lADOABII585t1ykOzwAAAALwZXeL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12623116171",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-26T12:18:46Z"
    },
    {
      "event": "commented",
      "id": 2079450470,
      "node_id": "IC_kwDOABII58578eVm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2079450470",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-26T13:57:26Z",
      "updated_at": "2024-04-26T13:58:16Z",
      "author_association": "NONE",
      "body": "Great to hear that, thanks for running the comparison! I currently don’t sort or actually the ordering gets messed up due to parallel processing. I will probably include the possibility to sort the tweaks in the array. \r\n\r\nThe cut-through tweak index stores the txid for every tweak, so sorting them might not be that necessary. The cut through index also includes metadata like a dust indicator. ",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2079450470",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 2079540754,
      "node_id": "IC_kwDOABII585780YS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2079540754",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-26T14:46:35Z",
      "updated_at": "2024-04-26T14:46:35Z",
      "author_association": "MEMBER",
      "body": "> Indexes match! If there's other implementations out there, we should do the same comparison.\r\n\r\nOnly other one I’m aware of is the cakewallet electrs fork, but they are using rust-silentpayments, which I veried is doing the outpoint sorting correctly (and passes @setavenger ’s new test case)",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2079540754",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 12624873963,
      "node_id": "MEE_lADOABII585t1ykOzwAAAALwgEnr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12624873963",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-26T14:46:37Z"
    },
    {
      "event": "subscribed",
      "id": 12624873984,
      "node_id": "SE_lADOABII585t1ykOzwAAAALwgEoA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12624873984",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-26T14:46:37Z"
    },
    {
      "event": "commented",
      "id": 2079619223,
      "node_id": "IC_kwDOABII58579HiX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2079619223",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-26T15:29:33Z",
      "updated_at": "2024-04-26T20:12:21Z",
      "author_association": "MEMBER",
      "body": "I'm not a Rust guru, but if someone can write a quick script to make `rust-silentpayments` spit out the tweaks per block, I can compare it with our index.\r\n\r\ncc @cygnet3",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2079619223",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 12628081575,
      "node_id": "MEE_lADOABII585t1ykOzwAAAALwsTun",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12628081575",
      "actor": {
        "login": "cygnet3",
        "id": 131168104,
        "node_id": "U_kgDOB9F3aA",
        "avatar_url": "https://avatars.githubusercontent.com/u/131168104?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cygnet3",
        "html_url": "https://github.com/cygnet3",
        "followers_url": "https://api.github.com/users/cygnet3/followers",
        "following_url": "https://api.github.com/users/cygnet3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cygnet3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cygnet3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cygnet3/subscriptions",
        "organizations_url": "https://api.github.com/users/cygnet3/orgs",
        "repos_url": "https://api.github.com/users/cygnet3/repos",
        "events_url": "https://api.github.com/users/cygnet3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cygnet3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-26T20:12:22Z"
    },
    {
      "event": "subscribed",
      "id": 12628081593,
      "node_id": "SE_lADOABII585t1ykOzwAAAALwsTu5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12628081593",
      "actor": {
        "login": "cygnet3",
        "id": 131168104,
        "node_id": "U_kgDOB9F3aA",
        "avatar_url": "https://avatars.githubusercontent.com/u/131168104?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cygnet3",
        "html_url": "https://github.com/cygnet3",
        "followers_url": "https://api.github.com/users/cygnet3/followers",
        "following_url": "https://api.github.com/users/cygnet3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cygnet3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cygnet3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cygnet3/subscriptions",
        "organizations_url": "https://api.github.com/users/cygnet3/orgs",
        "repos_url": "https://api.github.com/users/cygnet3/repos",
        "events_url": "https://api.github.com/users/cygnet3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cygnet3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-26T20:12:22Z"
    },
    {
      "event": "commented",
      "id": 2090551114,
      "node_id": "IC_kwDOABII5858m0dK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2090551114",
      "actor": {
        "login": "cygnet3",
        "id": 131168104,
        "node_id": "U_kgDOB9F3aA",
        "avatar_url": "https://avatars.githubusercontent.com/u/131168104?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cygnet3",
        "html_url": "https://github.com/cygnet3",
        "followers_url": "https://api.github.com/users/cygnet3/followers",
        "following_url": "https://api.github.com/users/cygnet3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cygnet3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cygnet3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cygnet3/subscriptions",
        "organizations_url": "https://api.github.com/users/cygnet3/orgs",
        "repos_url": "https://api.github.com/users/cygnet3/repos",
        "events_url": "https://api.github.com/users/cygnet3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cygnet3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-02T13:49:41Z",
      "updated_at": "2024-05-04T10:59:18Z",
      "author_association": "NONE",
      "body": "Quickly made a tool to get the tweaks for a block using block height or block hash [here](https://github.com/cygnet3/sp-scan-block) (using rust-silentpayments)\r\n\r\n`$ cargo run --release -- --blkheight 800000`\r\n```json\r\n[\r\n    \"02740690cbe477ffcd2cf84a7bcb65a41adce26436758b00a58f3901605c3376eb\",\r\n    \"03f8470afaceb6946f3a01a37ecade692e8370f5cc9b2d1ff2edb7a3b01e857a3e\",\r\n    \"...\"\r\n]\r\n```",
      "user": {
        "login": "cygnet3",
        "id": 131168104,
        "node_id": "U_kgDOB9F3aA",
        "avatar_url": "https://avatars.githubusercontent.com/u/131168104?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cygnet3",
        "html_url": "https://github.com/cygnet3",
        "followers_url": "https://api.github.com/users/cygnet3/followers",
        "following_url": "https://api.github.com/users/cygnet3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cygnet3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cygnet3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cygnet3/subscriptions",
        "organizations_url": "https://api.github.com/users/cygnet3/orgs",
        "repos_url": "https://api.github.com/users/cygnet3/repos",
        "events_url": "https://api.github.com/users/cygnet3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cygnet3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2090551114",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "comment_deleted",
      "id": 12703659880,
      "node_id": "CDE_lADOABII585t1ykOzwAAAAL1Mndo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12703659880",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-04T08:12:45Z"
    },
    {
      "event": "commented",
      "id": 2094145823,
      "node_id": "IC_kwDOABII58580iEf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2094145823",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-04T12:25:08Z",
      "updated_at": "2024-05-04T12:25:46Z",
      "author_association": "MEMBER",
      "body": "Took two days, but everything matches! (and we have the same sort)\r\n\r\nBest to run this script in a few parallel windows, because after block 790K or so it gets extremely slow.\r\n\r\n```sh\r\n./compare.sh 709632 790000\r\n```\r\n\r\n```sh\r\n./compare.sh 790000 800000\r\n```\r\n\r\netc\r\n\r\n```sh\r\n#!/bin/bash\r\n# Taproot activation: 709632\r\nset -e\r\nTIP=`bitcoin-cli getblockcount`\r\nfor height in $(seq $1 $2); do\r\n  if [ $height -eq $TIP ]; then\r\n    echo \"Reached the tip at $height\"\r\n    exit 0\r\n  fi\r\n  if [ $((height % 1000)) -eq 0 ]; then\r\n    echo \"$height...\"\r\n  fi\r\n  HASH=`bitcoin-cli getblockhash $height`\r\n  diff <(cargo run --release --quiet -- --blkheight $height | jq) <(bitcoin-cli getsilentpaymentblockdata $HASH | jq '.tweaks') || (echo \"$height: $HASH\"; exit 1)\r\ndone\r\n```",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2094145823",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12767415328,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAL4_0wg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12767415328",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "69b066a0eeef6e856c3665bbafe3f6f8eed7722a",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/69b066a0eeef6e856c3665bbafe3f6f8eed7722a",
      "created_at": "2024-05-10T09:18:58Z"
    },
    {
      "event": "commented",
      "id": 2104258773,
      "node_id": "IC_kwDOABII5859bHDV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2104258773",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-10T09:19:00Z",
      "updated_at": "2024-05-10T09:24:25Z",
      "author_association": "MEMBER",
      "body": "Rebased (on #28122) and renamed to `-bip352index` (stored in `indexes/bip352`). Presumably a future version will have its own BIP number, and by default get a fresh index. By that time we can figure out if it's better to expand the existing index or have two separate non-overlapping indexes.\r\n\r\nThe index functions `GetSilentPaymentKeys` and `FindSilentPayment` are kept generic, so we have the option of subclassing the index.\r\n\r\nI kept the `getsilentpaymentblockdata` RPC name generic, but renamed to `tweaks` to `bip352_tweaks` in the response.\r\n\r\nI also added a MaySilentPayment helper in 24d0105aa78f48c1536c9daaef9e2ea6e8327801. @josibake feel free to pull that into the base PR.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2104258773",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 12767415813,
      "node_id": "MEE_lADOABII585t1ykOzwAAAAL4_04F",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12767415813",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-10T09:19:01Z"
    },
    {
      "event": "subscribed",
      "id": 12767415827,
      "node_id": "SE_lADOABII585t1ykOzwAAAAL4_04T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12767415827",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-10T09:19:01Z"
    },
    {
      "event": "commented",
      "id": 2104281397,
      "node_id": "IC_kwDOABII5859bMk1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2104281397",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-10T09:33:39Z",
      "updated_at": "2024-05-10T09:33:39Z",
      "author_association": "MEMBER",
      "body": "> Rebased (on https://github.com/bitcoin/bitcoin/pull/28122) and renamed to -bip352index (stored in indexes/bip352).\r\n\r\nNice! Worth mentioning that now the indexes can be built without needing the wallet to be compiled.",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2104281397",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12768381561,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAL5Dgp5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12768381561",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "04286c492dc033ff363f27848ebe6f2c5f593f7b",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/04286c492dc033ff363f27848ebe6f2c5f593f7b",
      "created_at": "2024-05-10T10:57:49Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12769658041,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAL5IYS5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12769658041",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "62c557b5970106e1da8808ce496ecad8698c57da",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/62c557b5970106e1da8808ce496ecad8698c57da",
      "created_at": "2024-05-10T13:13:02Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12769662674,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAL5IZbS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12769662674",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "145e3e7665d4a66943dcd7ef54f4f3f6f6c584e5",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/145e3e7665d4a66943dcd7ef54f4f3f6f6c584e5",
      "created_at": "2024-05-10T13:13:29Z"
    },
    {
      "event": "commented",
      "id": 2104594682,
      "node_id": "IC_kwDOABII5859cZD6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2104594682",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-10T13:17:12Z",
      "updated_at": "2024-05-10T13:19:01Z",
      "author_association": "MEMBER",
      "body": "Added some scaffolding code for an index with cut-through: `-bip352ctindex`\r\n\r\nI'm not sure yet how to actually implement this. The benefit of cut-through is that it's smaller on disk and results in less data to download for light clients. But I suspect it will involve a _lot_ more disk I/O to generate and maintain it.\r\n\r\nHaving both options make it easier to compare these trade-offs. It also gives users the option to serve the bigger index for light clients that need to recover their transaction history. ",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2104594682",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12770603822,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAL5L_Mu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12770603822",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "4368de0471d6b47fe9ff8b0143f028eba7fd82e7",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/4368de0471d6b47fe9ff8b0143f028eba7fd82e7",
      "created_at": "2024-05-10T14:36:16Z"
    },
    {
      "event": "commented",
      "id": 2104736197,
      "node_id": "IC_kwDOABII5859c7nF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2104736197",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-10T14:43:22Z",
      "updated_at": "2024-05-10T16:48:57Z",
      "author_association": "MEMBER",
      "body": "Comparison at height 831,370:\r\n\r\n* without cut-through: 2.2 GB \r\n* with cut-through: 1.4 GB\r\n\r\nA 35% reduction, slightly less than the 40% @setavenger found two months ago.\r\n\r\nNext step is to (occasionally) prune the cut-through index.\r\n\r\nI suspect the easiest way to is just to build a new index in the background, shut both the new and old indexes down, delete the old index and move the new one in place, and then turn it on again.\r\n\r\nAnother approach would be to override its contents block by block. If LevelDB handles resulting fragmentation in a sane way, this approach seems better.\r\n\r\nIn either case, something needs to trigger this process. Could be a timer, a fixed block interval or it could be an RPC call.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2104736197",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 12771947861,
      "node_id": "MEE_lADOABII585t1ykOzwAAAAL5RHVV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12771947861",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-10T16:48:57Z"
    },
    {
      "event": "subscribed",
      "id": 12771947870,
      "node_id": "SE_lADOABII585t1ykOzwAAAAL5RHVe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12771947870",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-10T16:48:57Z"
    },
    {
      "event": "commented",
      "id": 2105053007,
      "node_id": "IC_kwDOABII5859eI9P",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2105053007",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-10T18:05:19Z",
      "updated_at": "2024-05-10T18:05:19Z",
      "author_association": "MEMBER",
      "body": "> and results in less data to download for light clients\r\n\r\nThis is really the crucial benefit: if the index does not implement cut-through, clients will download data that is not relevant to them.\r\n\r\nSomething that will also likely cut the index down by a lot is a \"dust filter,\" i.e. prune transactions that have zero unspent taproot outputs _above the dust filter_. Something like 1000 sats, to give it some padding? The motivation here is a light client wont be able to spend these outputs anyways as they are uneconomical to spend and this can help protect light clients from \"dusting attacks.\"",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2105053007",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 2105076296,
      "node_id": "IC_kwDOABII5859eOpI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2105076296",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-10T18:24:06Z",
      "updated_at": "2024-05-10T18:24:06Z",
      "author_association": "NONE",
      "body": "> Something that will also likely cut the index down by a lot is a \"dust filter,\"\r\n\r\nI have some preliminary numbers [here](https://github.com/setavenger/BIP0352-light-client-specification/?tab=readme-ov-file#dust-limits). They are in the same ballpark as another analysis. Next step would be to see how this reduced UTXO set will actually affect the number of tweaks. Specifically, I'd like to find out to which degree we can actually reduce the set of tweaks based on how dust UTXOs are clustered per transaction.",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2105076296",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12772964662,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAL5U_k2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12772964662",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "afb2cb9600769a656236b0bba9bd86e73cac1a07",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/afb2cb9600769a656236b0bba9bd86e73cac1a07",
      "created_at": "2024-05-10T18:50:11Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12773013406,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAL5VLee",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12773013406",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "created_at": "2024-05-10T18:53:24Z"
    },
    {
      "event": "commented",
      "id": 2105116651,
      "node_id": "IC_kwDOABII5859eYfr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2105116651",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-10T18:54:46Z",
      "updated_at": "2024-05-10T20:29:47Z",
      "author_association": "MEMBER",
      "body": "Alright, let's see how it goes with dust limit 1000.\r\n\r\n---\r\n\r\n20ee76a1ef6eec43b5ceed123f6d5ad388185cd9 cuts it down to 300 MB. Assuming I implemented it correctly, that's pretty nice!",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2105116651",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "reviewed",
      "id": 2050697185,
      "node_id": "PRR_kwDOABII5856Oyfh",
      "url": null,
      "actor": null,
      "commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#pullrequestreview-2050697185",
      "submitted_at": "2024-05-10T18:56:46Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12786526250,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAL6Iugq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12786526250",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "063b262af35ceb84d44dcce2d574ca7738355298",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/063b262af35ceb84d44dcce2d574ca7738355298",
      "created_at": "2024-05-13T12:26:45Z"
    },
    {
      "event": "commented",
      "id": 2107449866,
      "node_id": "IC_kwDOABII5859nSIK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2107449866",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-13T12:30:19Z",
      "updated_at": "2024-05-13T12:30:19Z",
      "author_association": "MEMBER",
      "body": "I added the highest output amount for each transaction to the index, which the new `dust` argument for `getsilentpaymentblockdata` can use to filter.\r\n\r\nThe amount is right shifted by 4 and stored as a single byte. This lets us track a useful range (0 - 4080 sat) with only ~5% overhead.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2107449866",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "reviewed",
      "id": 2071128284,
      "node_id": "PRR_kwDOABII5857cujc",
      "url": null,
      "actor": null,
      "commit_id": "835dd4ba1ca4cc1abfd338e6bc38e25a116f5f8b",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#pullrequestreview-2071128284",
      "submitted_at": "2024-05-22T13:00:23Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12894306093,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAMAj38t",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12894306093",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "c81801bd00d7fa1d9576453aa1db00118e0ff9ce",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/c81801bd00d7fa1d9576453aa1db00118e0ff9ce",
      "created_at": "2024-05-22T13:11:48Z"
    },
    {
      "event": "reviewed",
      "id": 2071171651,
      "node_id": "PRR_kwDOABII5857c5JD",
      "url": null,
      "actor": null,
      "commit_id": "c81801bd00d7fa1d9576453aa1db00118e0ff9ce",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#pullrequestreview-2071171651",
      "submitted_at": "2024-05-22T13:23:35Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12895769220,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAMApdKE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12895769220",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "58872bd41fc5d4a68226ef16983b51060d12d1d7",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/58872bd41fc5d4a68226ef16983b51060d12d1d7",
      "created_at": "2024-05-22T14:38:46Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12895780507,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAMApf6b",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12895780507",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "473f11c967a8fa0147e2d3b7c7428448ce92fbaf",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/473f11c967a8fa0147e2d3b7c7428448ce92fbaf",
      "created_at": "2024-05-22T14:39:26Z"
    },
    {
      "event": "reviewed",
      "id": 2091892696,
      "node_id": "PRR_kwDOABII5858r7_Y",
      "url": null,
      "actor": null,
      "commit_id": "5b06ccf1dc63f56dbc35368a37b9a72af671f15f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#pullrequestreview-2091892696",
      "submitted_at": "2024-06-01T00:33:03Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDVhMGIyN2NmM2MxMjJlZjliOWNhZWE1NzI3YmVhZWEyYTkxNzI0NDI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5a0b27cf3c122ef9b9caea5727beaea2a9172442",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5a0b27cf3c122ef9b9caea5727beaea2a9172442",
      "tree": {
        "sha": "3f885da658853ba95504dc2fc8e5f242ab38817d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3f885da658853ba95504dc2fc8e5f242ab38817d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1408944d2ec9f78e62bf91a5e5a50317ba3060c5",
          "sha": "1408944d2ec9f78e62bf91a5e5a50317ba3060c5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1408944d2ec9f78e62bf91a5e5a50317ba3060c5"
        }
      ],
      "message": "Squashed 'src/secp256k1/' changes from 4af241b320..00b0cb19a9\n\n00b0cb19a9 docs: update README\n54b8bc8ec6 ci: enable silentpayments module\n96bd71fb8a tests: add BIP-352 test vectors\nc30bc013fe silentpayments: add benchmark for `scan_outputs`\n91b1b3365b silentpayments: add examples/silentpayments.c\nb4475ea80c silentpayments: receiving\n23c7aead63 silentpayments: recipient label support\n79562d0cd1 silentpayments: sending\n35f91359b8 build: add skeleton for new silentpayments (BIP352) module\n0055b86780 Merge bitcoin-core/secp256k1#1551: Add ellswift usage example\nea2d5f0f17 Merge bitcoin-core/secp256k1#1563: doc: Add convention for defaults\nca06e58b2c Merge bitcoin-core/secp256k1#1564: build, ci: Adjust the default size of the precomputed table for signing\ne2af491263 ci: Switch to the new default value of the precomputed table for signing\nd94a9273f8 build: Adjust the default size of the precomputed table for signing\nfcc5d7381b Merge bitcoin-core/secp256k1#1565: cmake: Bump CMake minimum required version up to 3.16\n9420eece24 cmake: Bump CMake minimum required version up to 3.16\n16685649d2 doc: Add convention for defaults\na5269373fa Merge bitcoin-core/secp256k1#1555: Fixed O3 replacement\nb8fe33332b cmake: Fixed O3 replacement\n31f84595c4 Add ellswift usage example\nfe4fbaa7f3 examples: fix case typos in secret clearing paragraphs (s/, Or/, or/)\n\ngit-subtree-dir: src/secp256k1\ngit-subtree-split: 00b0cb19a97718dfaab70aa7505ff157f22a31bd",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-07-15T05:45:02Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-07-15T05:45:02Z"
      },
      "sha": "5a0b27cf3c122ef9b9caea5727beaea2a9172442"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZkZGJmZWZjZWU1OGRhNzg4OWVmZWNkOTgyZjM4YjFlNzhlZWY1Yzg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6ddbfefcee58da7889efecd982f38b1e78eef5c8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6ddbfefcee58da7889efecd982f38b1e78eef5c8",
      "tree": {
        "sha": "6a1d4f55be3c970ac0e94e65d51be7006698fb80",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6a1d4f55be3c970ac0e94e65d51be7006698fb80"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6a1d4f55be3c970ac0e94e65d51be7006698fb80\nparent ff100bb549f21dc0136af9241fd2de6daffb19a2\nparent 5a0b27cf3c122ef9b9caea5727beaea2a9172442\nauthor josibake <josibake@protonmail.com> 1721022302 +0200\ncommitter josibake <josibake@protonmail.com> 1721022302 +0200\n\nMerge commit '5a0b27cf3c122ef9b9caea5727beaea2a9172442' into refresh-secp256k1\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmaUt2IACgkQity1WMTz\nPWW+RQ/9HOIi2mL3txIAjyNu+y/xyluoirP52nXHxnJ1kGVu+dJ23kI2mXlk/7E1\n6fqTfYMF2OPxihAj+D68NY4U3vz3Z7xfcBt+rRVNe7iDVP93IjOx7bQ97zK/FR5k\nx2u6aM/E8fuc3Crl1rIWE9KphN52/uz1qXjbdIpV/LdnG8/n0COa8/44gESNsE2E\nR7IKIDFlhd3Cgk6P9udqwAsubtNY2zQlX5luG9/2llQj/3VPMB/WHAFfVqL1rOjn\nkWQ+z6G9/KNqVNs0cnCU82asVCfk31Xzw+JzfCayQMekinq1wh4qPuaFOyYJpb9u\nIiHMfdnkjiKFLbQ7v8P5EmoMCTPAnazBIvRC8TJxP9jEOISknXU0tmXzGsN4Fzr7\nBwumBYB3na5ACrBTjBLWDoBPDV1Bsi6Mz2b8d9iPhX0xxCzL2k6gqaPY6mtYTuKe\n2fHG6ZMhMtroOmIgHUwizEU5Wr50o7pYF0hAqzeZRqynHlOuQxZ4LSNhrIpyh+hq\n87m6vuR+f+R/0UFR1JwkxelEnU5LTkvOYqOg2vaIj5ReUf+QBG9E3syHEpQsvJgh\no3w1S6ffLADmw8QAhJw69XzftK/Oxeyls4qY5SUi6Py26XanmLeCuIW89pju1iEn\nzJx+Ejwk12mDY4L/vVjYtk4EkSbKjA3r8Aw1fpbdAaTfWJdgi4M=\n=HS7o\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ff100bb549f21dc0136af9241fd2de6daffb19a2",
          "sha": "ff100bb549f21dc0136af9241fd2de6daffb19a2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ff100bb549f21dc0136af9241fd2de6daffb19a2"
        },
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5a0b27cf3c122ef9b9caea5727beaea2a9172442",
          "sha": "5a0b27cf3c122ef9b9caea5727beaea2a9172442",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5a0b27cf3c122ef9b9caea5727beaea2a9172442"
        }
      ],
      "message": "Merge commit '5a0b27cf3c122ef9b9caea5727beaea2a9172442' into refresh-secp256k1",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-07-15T05:45:02Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-07-15T05:45:02Z"
      },
      "sha": "6ddbfefcee58da7889efecd982f38b1e78eef5c8"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJmOGQ3MThkYjg4YjlhNjI5NWE1M2YyYzkzYzM1NWFmZmJiYzA3ODE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bf8d718db88b9a6295a53f2c93c355affbbc0781",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bf8d718db88b9a6295a53f2c93c355affbbc0781",
      "tree": {
        "sha": "93399f874a7885a23f5cd4fdf451b594a7a86881",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/93399f874a7885a23f5cd4fdf451b594a7a86881"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 93399f874a7885a23f5cd4fdf451b594a7a86881\nparent 6ddbfefcee58da7889efecd982f38b1e78eef5c8\nauthor josibake <josibake@protonmail.com> 1690121692 +0200\ncommitter josibake <josibake@protonmail.com> 1721024046 +0200\n\ncrypto: Add a KeyPair wrapper class\n\nThe wallet returns an untweaked internal key for taproot outputs. If the\noutput commits to a tree of scripts, this key needs to be tweaked with\nthe merkle root. Even if the output does not commit to a tree of\nscripts, BIP341/342 recommend commiting to a hash of the public key.\n\nPreviously, this logic for applying the taptweak was implemented in the\n::SignSchnorr method.\n\nMove this tweaking and signing logic to a new class, KeyPair, and add\na method to CKey for computing a KeyPair, CKey::ComputeKeyPair. This\nclass is a wrapper for the `secp256k1_keypair` type.\n\nThe motivation is to be able to use the the tweaked internal key outside\nof signing, e.g. in silent payments when retreiving the private key before\nECDH. Having the KeyPair class is also a general improvement in that we\nalmost always convert to `secp256k1_keypair` objects when using taproot\nprivate keys with libsecp256k1.\n\nCo-authored-by: Cory Fields <cory-nospam-@coryfields.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmaUvi4ACgkQity1WMTz\nPWXBFBAAn3CxueHK2YKV9EzYqJUbYziqZf8+dDNXVREfrhSwZ1zUYTwSKCANFJcn\n1JAjXu7pWaec3EoWcFvB5eVydWrvzB5gqJsnUMfoNre/AgiJ9/QzNXGcj6cZu67B\n5bcZJzaLhCQ9k9Fc5LJ0AqDg7+CYLpUzEqixQAhV/SnISwWW0iOAPW1AvU0Qd982\nRgMrd+QsdsTMsMrcqspIssSy5vXAVaAFkLxI4jOAtOo6rhSLyuqScNSHpSgYQ6UC\no2o8IG4nxYKW92EwDzGoJk+x7fJZRscoJz1uzNzIapGndr+rz3bItHwYvMgNYBgj\nJ7ce5N4XsclX0tbocffpGcBflmEvSo5Pv1jzcm6f400SizVT3NjgvRZg9Jl8JSZC\ndk1Ve+j4wtncSYWf1sXyMMf+hw2kw6YIHBOra8tAB9wKGbtchXRfalj+D+MWv1An\nlN215QF9MFave0TxcgEI7Px6THgysKho3PcyBmp0kGyaQdLbhIZT/VZke7CdQT8u\n0PMU+weGNCr7ubfroUsrgORBbu8O65B50kggYDTQ3ftjvMPSjPj6f7818685W1Ik\nMwYx2fLxYPGSMN16oF9u5GbI28ZI8YKQBgn0Bl7hPHFDph0ROFmw0rbj007VTOKi\nBWE0rSKrsnNbWAjMgrlnizSQSTzy2CokMg642+ZSa1bt5OXyrII=\n=g9Iv\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6ddbfefcee58da7889efecd982f38b1e78eef5c8",
          "sha": "6ddbfefcee58da7889efecd982f38b1e78eef5c8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6ddbfefcee58da7889efecd982f38b1e78eef5c8"
        }
      ],
      "message": "crypto: Add a KeyPair wrapper class\n\nThe wallet returns an untweaked internal key for taproot outputs. If the\noutput commits to a tree of scripts, this key needs to be tweaked with\nthe merkle root. Even if the output does not commit to a tree of\nscripts, BIP341/342 recommend commiting to a hash of the public key.\n\nPreviously, this logic for applying the taptweak was implemented in the\n::SignSchnorr method.\n\nMove this tweaking and signing logic to a new class, KeyPair, and add\na method to CKey for computing a KeyPair, CKey::ComputeKeyPair. This\nclass is a wrapper for the `secp256k1_keypair` type.\n\nThe motivation is to be able to use the the tweaked internal key outside\nof signing, e.g. in silent payments when retreiving the private key before\nECDH. Having the KeyPair class is also a general improvement in that we\nalmost always convert to `secp256k1_keypair` objects when using taproot\nprivate keys with libsecp256k1.\n\nCo-authored-by: Cory Fields <cory-nospam-@coryfields.com>",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-07-15T06:14:06Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-07-23T14:14:52Z"
      },
      "sha": "bf8d718db88b9a6295a53f2c93c355affbbc0781"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDdlYTA1ZDA1MDI1MjhmOWM2MmM5NmY5YWI4MDMxMjdiZTIxYTFhODk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7ea05d0502528f9c62c96f9ab803127be21a1a89",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7ea05d0502528f9c62c96f9ab803127be21a1a89",
      "tree": {
        "sha": "4ed4e1c5b878166e59ea38b1e46aa5f6d5b4b544",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4ed4e1c5b878166e59ea38b1e46aa5f6d5b4b544"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 4ed4e1c5b878166e59ea38b1e46aa5f6d5b4b544\nparent bf8d718db88b9a6295a53f2c93c355affbbc0781\nauthor josibake <josibake@protonmail.com> 1715356718 +0200\ncommitter josibake <josibake@protonmail.com> 1721024051 +0200\n\ntests: add test for KeyPair\n\nReuse existing bip340 test vectors.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmaUvjMACgkQity1WMTz\nPWUZnBAAlixBSJEWiNNaGDQMY6OUJxNZ/kEI5v7eiXKAinC7Pmy8ZnJVqelRG/8z\nPruZUhVqL5CFQLYq1GyU/+8iMwp7Kl9WvByv+Z2EvYu/dp/n14son3ztg75GZ8TT\nV6jQdsykkrxz5tBv2Zfux7huoPbGuyNKw3wuI5UprxpmYela7WuJA6rM53p+TnDJ\ny94HAJzO8PfY+4BvgVrPJGrY7gBGZgoLfZ5F1qcPaT4wkiXklnhVWfckXK7tTYGE\n8tksdsl2/8oekmZOx8/hV3pqS/QojILaKFvpF+SviF8kfo5uggrjRGw0eUIjywbM\nbu2pBsJdQOSsdd53sCDIYquNmmE0YzG9KKv6sOnGYjs325FNcd0pTWMQI/gCIFRB\ngpaJB9w3D1TAB5rY4cewqr+5KKtbrk2E46cH2jdJQQrbT8v+6CRsy6LU+wC0wIlo\niZaH6g0UBHrrJZN20cyZw5ynQ8kyhGIv50kCa72zSCVBLtjnf1OELun8lsoTUzza\nQpd8rwt/ocQP0ShzJf2zpd7Ab8DOQIAS6mgpItmGEFFfR1OkCcyAhpt0vsIW4FaV\nX+OLwPbEyqmr6I+Se+24aYS7u/GmbLShKIemXwKBRpSPab3YLnNwyu53V5NACx/H\nDki2oSCCBz98SwKTM0aE9kL3q6g6f1UZMorzg1FBIZcnQ/8tvhE=\n=bx4g\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bf8d718db88b9a6295a53f2c93c355affbbc0781",
          "sha": "bf8d718db88b9a6295a53f2c93c355affbbc0781",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bf8d718db88b9a6295a53f2c93c355affbbc0781"
        }
      ],
      "message": "tests: add test for KeyPair\n\nReuse existing bip340 test vectors.",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-07-15T06:14:11Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-05-10T15:58:38Z"
      },
      "sha": "7ea05d0502528f9c62c96f9ab803127be21a1a89"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDFjYTljZTEzZGE3MTc4OWIyZjJjNWIwNmRiY2FhOGZlYmU4OGRlZmM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1ca9ce13da71789b2f2c5b06dbcaa8febe88defc",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1ca9ce13da71789b2f2c5b06dbcaa8febe88defc",
      "tree": {
        "sha": "5dc207e4651be4fa9d8417180c2f6249ff0b8171",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5dc207e4651be4fa9d8417180c2f6249ff0b8171"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 5dc207e4651be4fa9d8417180c2f6249ff0b8171\nparent 7ea05d0502528f9c62c96f9ab803127be21a1a89\nauthor w0xlt <woltx@protonmail.com> 1665719290 -0300\ncommitter josibake <josibake@protonmail.com> 1721041260 +0200\n\nconf: add ECDH,SILENTPAYMENTS secp256k1 modules\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmaVAWwACgkQity1WMTz\nPWUyaQ/+LiUWtD6Pb8aGLtfb6GXc8+mUq/uLkmCoj9YuWcjlhvPv5ADLZlHb1Fa+\ngeZvs6SJcHLVl+CCcv/RHRyjG1Nj/ah7BOpv/SOU5VjCsEaFJXB99J5B8qacFPUs\njuvLoy3seluTm3nI2qvXPhBaNkZcwQFzXWx8IEqzDjZF4ngI88KKU5rLHe/twi9e\nF67blzSdu4FBXiaz22liIVyxd7QvbzU+bw1KrWctJFG8jyDgKBgOMlK78ESF6Nbp\nUku0jMQJeTpn4iARsmqSPQ8VsQ+T0ltmyzbnMRwlltuNP/7mToVdwU+lDDaHpurw\nmnNEtg8ErY3HaJCIUu2ks0cOLh//X7mdwfg+AV1CgUD7v/NdTXRePjm9OR7zULeb\nr6DrEdIuhuO05arvCDqAjePlOeeypZ42Gwj51yngk9zFO4eLEYxMZEnWpavofq+f\nFEDuo8+q+0aOzUtd8xL+hZq5/W07dV7w/5pAhAk4fySEoX9Rg+bz8zzDr/mf2+F1\nOKqyzuUTAmUr41qJDp5Jp/eTGSCPYpgM0Tw6iS9zlkkZrErCy+t/5UZFpVhEng9P\nrAFHRKM9ed5kOOoZy7ZxoeDI11tzXJO7tBw9PORO1gA+IM+O6jSKhmcl+d58AkxK\nFcUmjNbA+bmOX2vkt91eh+9zR7ibU318kCIajeSrg0gsQEME94g=\n=ww0i\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7ea05d0502528f9c62c96f9ab803127be21a1a89",
          "sha": "7ea05d0502528f9c62c96f9ab803127be21a1a89",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7ea05d0502528f9c62c96f9ab803127be21a1a89"
        }
      ],
      "message": "conf: add ECDH,SILENTPAYMENTS secp256k1 modules",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-07-15T11:01:00Z"
      },
      "author": {
        "name": "w0xlt",
        "email": "woltx@protonmail.com",
        "date": "2022-10-14T03:48:10Z"
      },
      "sha": "1ca9ce13da71789b2f2c5b06dbcaa8febe88defc"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDkyYTRjOGE0MDEyZWYxYzgwMGM5NDIxZWUwZjA5MDVmMDM1MWFhMjU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/92a4c8a4012ef1c800c9421ee0f0905f0351aa25",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/92a4c8a4012ef1c800c9421ee0f0905f0351aa25",
      "tree": {
        "sha": "86bed14b9391584a97e9b1f6093ae7fcf73d709f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/86bed14b9391584a97e9b1f6093ae7fcf73d709f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 86bed14b9391584a97e9b1f6093ae7fcf73d709f\nparent 1ca9ce13da71789b2f2c5b06dbcaa8febe88defc\nauthor josibake <josibake@protonmail.com> 1689711791 +0200\ncommitter josibake <josibake@protonmail.com> 1721041261 +0200\n\nAdd \"sp\" HRP\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmaVAW0ACgkQity1WMTz\nPWVbfw//QPvhmagwc+IRODhjdvOUgAoEqjBZns5d5cJ1+YsyLNme7n/ZQxDA0fEL\n3pFl+TTpv+boBalqJGdfKREWnFwTfz1bmh5deicCgbnSXct+uqIRAKDy+UMmjxt5\nKutAVl0Cl3B0BmsJs8qj84LiHqcPfN+HeLvv04/XJK8UL94/gYbgT8GC/pwnrohu\nO3p+i/m+NbF0iCk+OGxBwZzJI7IWLJs1w9lo92LlGe2X263l20UENdpWfE6pgXAL\nZauJuhUml6x/L1DF0EKPllsll/VdMAyuSpBL1sQLaxDnyBt0nt+KVuVLo8NnoOOn\nVtoi7MwIGTp9iJc4sV96OXDPdJq4W2hqrS/phYcse79f8PJ1Goy0CDKKFURT3a10\njSNn5H2gu+V95lGkk2bAjGFoPq3+N6x+sSW8sHMsGZMv8jtVwZBl48Q11E00Iujw\n+qolRJgV4lhuOq69wfCizGHTx6QRVXpte8osVAWfdxWhjWD6IrOPjtDHlp3xAczW\nWxiYyBmVFKpiq3bYx5vNMlj3o/TnpyPryPG+4soD5Mal3E/ovxU7Y2SKx5K2jG8X\nZZEo5VyKMiq/V7JyqMZwktBrGGjNPeOPQMaw2m8LBJsUjtEAOsM0ZyRak52GcuAs\nIQnfEcUDarPVlMDhK8eVUPlUKo0yLc+c03uTLgqvTt+Vy1RxSdo=\n=8gLq\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1ca9ce13da71789b2f2c5b06dbcaa8febe88defc",
          "sha": "1ca9ce13da71789b2f2c5b06dbcaa8febe88defc",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1ca9ce13da71789b2f2c5b06dbcaa8febe88defc"
        }
      ],
      "message": "Add \"sp\" HRP",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-07-15T11:01:01Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-07-18T20:23:11Z"
      },
      "sha": "92a4c8a4012ef1c800c9421ee0f0905f0351aa25"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDEwZmI3ZTBkZWZkNTliMTU4NzVhMTY4NWJkNzlkNTJjNWY4ZTk1Yjg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/10fb7e0defd59b15875a1685bd79d52c5f8e95b8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/10fb7e0defd59b15875a1685bd79d52c5f8e95b8",
      "tree": {
        "sha": "b5a64179cfbdf6b19461a068018b920485705fca",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b5a64179cfbdf6b19461a068018b920485705fca"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree b5a64179cfbdf6b19461a068018b920485705fca\nparent 92a4c8a4012ef1c800c9421ee0f0905f0351aa25\nauthor josibake <josibake@protonmail.com> 1691675009 +0200\ncommitter josibake <josibake@protonmail.com> 1721041261 +0200\n\nAdd V0SilentPaymentDestination address type\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmaVAW0ACgkQity1WMTz\nPWWxJRAAlmtlY2u0JnUoXZWfRaoRWCUgJPAjYEGOjveGNZpxg/U26IKBdUSASv3B\nqmH0f8wcreY6fSlFJ8mTMJBeZ8+yIIYqw/iqy4BuzumJk9V2lNUDrg/1dZcf0XHY\nY+aw6gSksRVRKQ4v2fKmpLEVtL+WvN8l6LsrCKUuMHTT8BOCdoMDpSVgBGlTxvGh\nCqkykEVx6YxDWPmZrufV0lUKnHcysTVXhYEVwDs2cphtruKb58yFPWlUgbKpvoLg\nA4tztEn62FhV7q8mQlbBA713nyD147FGZkrkmR1UG269C7PtWePrPWLyw3TB3D/k\n4i72SOz4fUPnbaa9il2TK3joRELatTzgNXQ+DU3zujK2+Ir70pmPRjfPo5tSEgnB\nIdpopx8SxouNpcxlV02cs0JqFKXPz2rk759IHQR42R55/xT8CjStK9N3awpjUJS9\nHlKq+i4hqJWC7V8zbnG7OJ5XRsqCVpUoh2PqcxCalJUUaALLRU+tzQAQv9xPjiWS\nNrnQlyx8pFpepyF1J6YKqQAOEQ7xMRXD78j/C1ST7N/B127tXWTVBbARAGj8Bsiq\n4lFiNUEV4a9vG0vPSCyZ4/5virjQRBoPK26OYlXePQ6d8K2DGH+6gNamYUeQwnpm\nXvIcs+DDbnm9199+XnQPBFmVuiPfnMNT+Ay87/CKTyzD0q2Dltg=\n=JpVX\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/92a4c8a4012ef1c800c9421ee0f0905f0351aa25",
          "sha": "92a4c8a4012ef1c800c9421ee0f0905f0351aa25",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/92a4c8a4012ef1c800c9421ee0f0905f0351aa25"
        }
      ],
      "message": "Add V0SilentPaymentDestination address type",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-07-15T11:01:01Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-08-10T13:43:29Z"
      },
      "sha": "10fb7e0defd59b15875a1685bd79d52c5f8e95b8"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY2N2U3MWU0NTYzOGU4NjBiNGE2ZjUxZWEwYzM0ZWVmMWUyOGM4MWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/667e71e45638e860b4a6f51ea0c34eef1e28c81b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/667e71e45638e860b4a6f51ea0c34eef1e28c81b",
      "tree": {
        "sha": "8867bdd0535a56f5e6cf563b03dc6ec0e354090b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8867bdd0535a56f5e6cf563b03dc6ec0e354090b"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8867bdd0535a56f5e6cf563b03dc6ec0e354090b\nparent 10fb7e0defd59b15875a1685bd79d52c5f8e95b8\nauthor josibake <josibake@protonmail.com> 1707319694 +0100\ncommitter josibake <josibake@protonmail.com> 1721041261 +0200\n\ncommon: add bip352.{h,cpp} secp256k1 module\n\nWrap the silentpayments module from libsecp256k1. This is placed in\ncommon as it is intended to be used by:\n\n  * RPCs: for parsing addresses\n  * Wallet: for sending, receiving, spending silent payment outputs\n  * Node: for creating silent payment indexes for light clients\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmaVAW0ACgkQity1WMTz\nPWUtwQ//d5cLAberW05kMPNADfDDBHC874/E92kB6LeK3Rdyw7g2ZzYW3D6MHYTn\nWpERUt7kcwLQkTQPSm5HQfervFuOWMCaHTQqmFNJMyG3gXJij7EyIcfsXWqaCLD0\nRY2PUE2N7WhHYdQxFfSh9Xoo6OI1bS/aqsBgtR2u9w5rKS51e5iAYWsGYua8k5E5\n6BaxfjZR9kloG2/7y/DO5pb5av8rCSxQ9rsKegsPt/k5rNqIwRtzB68XJC1N46XC\nT8hRJ83sIdc4RXdO7Lavd3+KS/zxIeKLmlo9v2/hiFyGNPvrzFrn+K4N5EuzbwPA\npo7FnovAhEKH0OnvCl/uD5bKpL5qeROt498KSpH2/jlya9OwU3jxQjXf5cdytd38\ncgf6xsd7sHjnr8w7FtPXnZggCegmBixSgjYRVZ4sQaCoVU03bP50avSUQDj+Vt9B\nJ5cCv9+9XgYWqsar9mJZTANbVMdMpTOzitR09pSJgklJ6RGJ5a8pMnaXaXSROLKE\nmQtK2L7FMvEcD1jCONiTh/b0fEIaC/r2P2l2cnig4GeoBQ4y4o65NSz7B1iFD/wW\n0hdbirv2HQQb4IY88AY8wGWXOsuN0l7FrmX3Lkghaqqq3Z3LEpWbKsr6R7bY4nrD\nAdcZuxm4xF2oV1rbNDc4A1A8PImi3T1P+meGqcDN9VdVwe/OOVA=\n=8h81\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/10fb7e0defd59b15875a1685bd79d52c5f8e95b8",
          "sha": "10fb7e0defd59b15875a1685bd79d52c5f8e95b8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/10fb7e0defd59b15875a1685bd79d52c5f8e95b8"
        }
      ],
      "message": "common: add bip352.{h,cpp} secp256k1 module\n\nWrap the silentpayments module from libsecp256k1. This is placed in\ncommon as it is intended to be used by:\n\n  * RPCs: for parsing addresses\n  * Wallet: for sending, receiving, spending silent payment outputs\n  * Node: for creating silent payment indexes for light clients",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-07-15T11:01:01Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-02-07T15:28:14Z"
      },
      "sha": "667e71e45638e860b4a6f51ea0c34eef1e28c81b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDIxYjYwOTMwMTcyZWJjMWFkOGI4YTNlMmI2NGUzZWYwM2JmZDU4YTc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/21b60930172ebc1ad8b8a3e2b64e3ef03bfd58a7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/21b60930172ebc1ad8b8a3e2b64e3ef03bfd58a7",
      "tree": {
        "sha": "a950fe78ceb18cc2ae02f0a6e257109fe91ee4e5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a950fe78ceb18cc2ae02f0a6e257109fe91ee4e5"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a950fe78ceb18cc2ae02f0a6e257109fe91ee4e5\nparent 667e71e45638e860b4a6f51ea0c34eef1e28c81b\nauthor josibake <josibake@protonmail.com> 1694507187 +0200\ncommitter josibake <josibake@protonmail.com> 1721041261 +0200\n\nwallet: disable sending to silent payment address\n\nHave `IsValidDestination` return false for silent payment destinations\nand set an error string when decoding a silent payment address.\n\nThis prevents anyone from sending to a silent payment address before\nsending is implemented in the wallet, but also allows the functions to\nbe used in the unit testing famework.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmaVAW0ACgkQity1WMTz\nPWUN9BAAgQWyWFybIwZt8s59AD3IiS6wx8XNkTfoWFxlck74LMz1gzltlF0jzxzT\nGS331Nh1jjO0uhLP30OgdhMF2reodTbCr9rsxlOMwCPYkI3n3FCjIcatoaO/gm32\n45gMm1D6oVRzyrbBBFAzRHF+EAVOwAODvvDBcvZTLQBHdwJQbclIkL5J0GCaTCV7\nR+V4QlkP91nXX76G+5ZlwPXVC5CjMcBaCPcaKrS9l9qx6DJHW9WBoO5qQ3kLDI3l\nzVD4L/fw9BU/Qq7FA8b8QcHr6ieLfLgxtBe415fFMn706X0yc1avb8Q6B/e2GQuD\nqEuSzu9dmXSb1vu86X7iZMJCsRIOmJXP09bxARvWD97kfecRrB+OXRlIP0naiPqV\nfZzCaWfXkrdmIHp5j7VC6uj0xuneotGj3ZB2438ymOmTMxUfN21Jy6zlPaIloKaL\nOCo/EyTY4u6lqcdEkTJ6uI4ZuklzMg2AW/3kcFFO4N6PWtfrpGCkX5Ox/7NxShCX\ndUFJf95QcYsQlGovZS3Q1pO75bD/WvIfj5/LzALaTXShN4ydg77yc7u406vASWsU\n01sraDWoofgzf1Zb7v3OZ4XGqs5H+j8pMegyb2EmFq5/bF7RzvJ7UmzJfzpKaA7G\nJdFUOJTe+VRBrgxRfR3xD/+BjdQXVOPBpakoMmsuSJ4Cj8SGwSI=\n=gLCj\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/667e71e45638e860b4a6f51ea0c34eef1e28c81b",
          "sha": "667e71e45638e860b4a6f51ea0c34eef1e28c81b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/667e71e45638e860b4a6f51ea0c34eef1e28c81b"
        }
      ],
      "message": "wallet: disable sending to silent payment address\n\nHave `IsValidDestination` return false for silent payment destinations\nand set an error string when decoding a silent payment address.\n\nThis prevents anyone from sending to a silent payment address before\nsending is implemented in the wallet, but also allows the functions to\nbe used in the unit testing famework.",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-07-15T11:01:01Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-09-12T08:26:27Z"
      },
      "sha": "21b60930172ebc1ad8b8a3e2b64e3ef03bfd58a7"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDIxMWRjYTExOTA0YmQxMzFjYzA2ODAyNTMwYTk3Y2IxZWIxNDEzM2M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/211dca11904bd131cc06802530a97cb1eb14133c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/211dca11904bd131cc06802530a97cb1eb14133c",
      "tree": {
        "sha": "984bda54a2d6d129098743093f7885740a5e9463",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/984bda54a2d6d129098743093f7885740a5e9463"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 984bda54a2d6d129098743093f7885740a5e9463\nparent 21b60930172ebc1ad8b8a3e2b64e3ef03bfd58a7\nauthor josibake <josibake@protonmail.com> 1714906399 +0200\ncommitter josibake <josibake@protonmail.com> 1721041261 +0200\n\ntests: add BIP352 test vectors as unit tests\n\nUse the test vectors to test sending and receiving. A few cases are not\ncovered here, namely anything that requires testing specific to the\nwallet. For example:\n\n* Taproot script path spending is not tested, as that is better tested in\n  a wallets coin selection / signing logic\n* Re-computing outputs during RBF is not tested, as that is better\n  tested in a wallets RBF logic\n\nThe unit tests are written in such a way that adding new test cases is\nas easy as updating the JSON file\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmaVAW0ACgkQity1WMTz\nPWXbrxAAvb4PKr/xjS4NG/2qqG5+cX4jZV/ocFFAjJJ66fxhmEZBkuSfKI3eini3\n5v4B+jY4F+qc3XULIDqhP5GhkPMgEAcY18ll/KoH0G4v/+0BGTJwcCDL4Eo0Kwyh\n/+8vvdkQ2bT4o96m/MfIeg59Q7sgCW9tgUi3Y3D1UPSbTCZED5C9p8fBHnwkuyaf\nBLjVNDLlU1YKuZTXALXpcPodrEcZfYquD/mI9JdlO8R3Wlk7PQ/OsSm/NshQOtMG\nvbEUlug7Cfb3I4V9hdjo/XqJ18lz09Q4JZh9rUvTNnfMORw20cWR3Bakw+wTAp4k\nENgcX+kkr/GNjRgJg6i9zxzu7wKD8e7ALhMAWh36vy6p9s6l6obze8BNQGuHnqEu\nW/rh9suTEq2PnTZctfiU11Tn4w2CvhxYh96E+x8YOcSuUoZXMhhoxzbBlwuvd8Jo\nruhCxcTG36Ss9uchCL4aJSkmETYQinkpQEpISji9mv2IdPxpjC6S+/7sBic4VymA\npXaWdq8eukk6TT7ysxPK4xaBJv4d0xnT/lGDo3MkIfBSfl9XHW0Fszggc2rzlXhD\n6a6E8O9pR5xIz0WFLmu9isjHUAayQwwB+gCFN2owmwRsqyFCGJVi4YJPtXFTymA5\nYfDsQmV8w3JQI/TD93DXk1eTi58vyO9UAU7hEgYuneAqHPmWY5U=\n=YvoB\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/21b60930172ebc1ad8b8a3e2b64e3ef03bfd58a7",
          "sha": "21b60930172ebc1ad8b8a3e2b64e3ef03bfd58a7",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/21b60930172ebc1ad8b8a3e2b64e3ef03bfd58a7"
        }
      ],
      "message": "tests: add BIP352 test vectors as unit tests\n\nUse the test vectors to test sending and receiving. A few cases are not\ncovered here, namely anything that requires testing specific to the\nwallet. For example:\n\n* Taproot script path spending is not tested, as that is better tested in\n  a wallets coin selection / signing logic\n* Re-computing outputs during RBF is not tested, as that is better\n  tested in a wallets RBF logic\n\nThe unit tests are written in such a way that adding new test cases is\nas easy as updating the JSON file",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-07-15T11:01:01Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-05-05T10:53:19Z"
      },
      "sha": "211dca11904bd131cc06802530a97cb1eb14133c"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13518504224,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAMlxAEg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13518504224",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "905ba04a03ed3a9523233f3da9ef3b777548e204",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/905ba04a03ed3a9523233f3da9ef3b777548e204",
      "created_at": "2024-07-16T10:08:31Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13518641717,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAMlxho1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13518641717",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "58d4bb85f1dcd4b3163f59c1c5c8887eeeef5871",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/58d4bb85f1dcd4b3163f59c1c5c8887eeeef5871",
      "created_at": "2024-07-16T10:19:19Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13520210649,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAMl3grZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13520210649",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "5e924bb95c403b7d1ce3fe2037aa952644d1927b",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/5e924bb95c403b7d1ce3fe2037aa952644d1927b",
      "created_at": "2024-07-16T12:33:00Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13520306787,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAMl34Jj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13520306787",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "d0019f290ab67ab4190274bb325bfc29bbfcea56",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/d0019f290ab67ab4190274bb325bfc29bbfcea56",
      "created_at": "2024-07-16T12:40:19Z"
    },
    {
      "event": "unlabeled",
      "id": 13521655911,
      "node_id": "UNLE_lADOABII585t1ykOzwAAAAMl9Bhn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13521655911",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-16T14:07:12Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2231054406,
      "node_id": "IC_kwDOABII586E-zBG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2231054406",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-16T14:23:46Z",
      "updated_at": "2024-07-16T14:31:12Z",
      "author_association": "MEMBER",
      "body": "Getting a mismatch again. This time for block 716120 (00000000000000000009bc9db59a266e367f54fdd4cda7b5ddb31f6ae9723083).\r\n\r\n```\r\nbitcoin-cli getsilentpaymentblockdata 00000000000000000009bc9db59a266e367f54fdd4cda7b5ddb31f6ae9723083  | jq '.bip352_tweaks | sort'\r\n[\r\n  \"031799df7770cfdabe460e47f4571fe4ded7d7a7922afa0f5ad91753473269cdbb\",\r\n  \"0323fefb4e4bf637d7819c2030996dbe88d97c6a2f5708841df0e65fafd32c5a0a\",\r\n  \"03b2bda3a513123fe810cb1e65cd8a71a2495ea9229c50e4acc8d4b5baa51b4147\",\r\n  \"03cdc8c9f07d9917ed05d20231c63cac058b54a4095f6cc2fc53fc876e1226b44b\"\r\n]\r\n```\r\n\r\nVersus BlindBit:\r\n\r\n```\r\ncurl -s localhost:8000/tweak-index/716120 | jq 'sort'\r\n[\r\n  \"030acf723f1e3bfb392ccbe0460e28be1ac13cce512c3cfe618cce839aac6212bb\",\r\n  \"031799df7770cfdabe460e47f4571fe4ded7d7a7922afa0f5ad91753473269cdbb\",\r\n  \"03b2bda3a513123fe810cb1e65cd8a71a2495ea9229c50e4acc8d4b5baa51b4147\",\r\n  \"03cdc8c9f07d9917ed05d20231c63cac058b54a4095f6cc2fc53fc876e1226b44b\"\r\n]\r\n```\r\n\r\nThe second tweak is different.\r\n\r\nThe blindbit main branch hasn't changed since late may, last commit is  d7e22cc26dd2898509e0d71bc9fee1c4baf33165. So unless the spec changed, the bug is probably on our side.\r\n\r\nI did notice a new (seemingly unrelated) commit on master, so let me recompile and rebuild the index just in case...",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2231054406",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13522781494,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAMmBUU2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13522781494",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "dacd87f2c014ed64d837207173ba434e61490869",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/dacd87f2c014ed64d837207173ba434e61490869",
      "created_at": "2024-07-16T15:05:35Z"
    },
    {
      "event": "commented",
      "id": 2231180251,
      "node_id": "IC_kwDOABII586E_Rvb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2231180251",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-16T15:11:48Z",
      "updated_at": "2024-07-16T15:17:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Getting a mismatch again. This time for block 716120 (00000000000000000009bc9db59a266e367f54fdd4cda7b5ddb31f6ae9723083).\r\n\r\nIs there some easy way to find out the exact txs for which the tweak mismatches happen? (`getsilentpaymentblockdata` doesn't seem to return txids...) Would be interesting to see if there is anything special/different in those (e.g. uncommon spending types).",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2231180251",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 2231192536,
      "node_id": "IC_kwDOABII586E_UvY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2231192536",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-16T15:14:57Z",
      "updated_at": "2024-07-16T17:59:18Z",
      "author_association": "MEMBER",
      "body": "Recompiling BlindBit had no effect. Pushed some fixes for various CI failures, but that also doesn't impact the above mismatch.\r\n\r\n@theStack that would be useful. Our index doesn't store it (since that would double the size). We could add an optional `list_txid` option to the RPC that reprocesses the block. The RPC result would then be a map of txid -> tweak.\r\n\r\nOr better: a `verbose` argument that also shows `GetPubKeyFromInput` for every input. Might be useful for wallet debugging.\r\n\r\n(I won't get to this anytime soon, but something to cherry-pick is welcome)",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2231192536",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 13523006102,
      "node_id": "MEE_lADOABII585t1ykOzwAAAAMmCLKW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13523006102",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-16T15:14:59Z"
    },
    {
      "event": "subscribed",
      "id": 13523006132,
      "node_id": "SE_lADOABII585t1ykOzwAAAAMmCLK0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13523006132",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-16T15:14:59Z"
    },
    {
      "event": "commented",
      "id": 2231387636,
      "node_id": "IC_kwDOABII586FAEX0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2231387636",
      "actor": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-16T16:49:21Z",
      "updated_at": "2024-07-16T16:56:10Z",
      "author_association": "NONE",
      "body": "> Getting a mismatch again. This time for block 716120 (00000000000000000009bc9db59a266e367f54fdd4cda7b5ddb31f6ae9723083).\r\n\r\nWe had an issue with that very block before as well. https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2076895408\r\nIs it possible that you reverted the fix for that issue somehow? The tweaks seem to be the same as back then.\r\n\r\nAlso FYI, I implemented sorting in blindbit. Tweaks should be sorted according to their appearance in the block.",
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2231387636",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 2231392644,
      "node_id": "IC_kwDOABII586FAFmE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2231392644",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-16T16:52:32Z",
      "updated_at": "2024-07-16T16:52:32Z",
      "author_association": "MEMBER",
      "body": "This is quite weird. @josibake added a test case for this: https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2079095313",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2231392644",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 13524308786,
      "node_id": "MEE_lADOABII585t1ykOzwAAAAMmHJMy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13524308786",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-16T16:52:32Z"
    },
    {
      "event": "subscribed",
      "id": 13524308804,
      "node_id": "SE_lADOABII585t1ykOzwAAAAMmHJNE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13524308804",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-16T16:52:33Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGNmMTMzYzkzY2E1YTY1MTI4OTc2NmNmNjA1ZGNlNzI2NDNiNzZlMDE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cf133c93ca5a651289766cf605dce72643b76e01",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/cf133c93ca5a651289766cf605dce72643b76e01",
      "tree": {
        "sha": "afb962dfc3182bf1a0eda95e75be21257c43453c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/afb962dfc3182bf1a0eda95e75be21257c43453c"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree afb962dfc3182bf1a0eda95e75be21257c43453c\nparent 211dca11904bd131cc06802530a97cb1eb14133c\nauthor josibake <josibake@protonmail.com> 1714126059 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1721150291 +0200\n\nCompare COutPoints lexicographically\n\nComparing outpoints lexicographically is required for BIP352, but also\ngenerally a less ambigious way to compare outpoints considering this\nwill match any orderings applied to the serialized transaction.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmaWq1MACgkQV/+b28ww\nEAlTCA/+PRUexGxE8GXKT2J6YjZfLO7+7rgTXiEX/sITfc2jQZMA8vnWZRhp9EN7\nkGXr6MlE6IcHbFb7TxBAR7pnuz8IXXuP3X+jUssaOrxyMFW9Lc9IgJ992HjE4+Ro\nMkklW4Aso9/JRUlkXDIwKwabPQ04X9IAjRjNTzrslIHbMHXJaB8TGkUZrIF6ggpd\nPA/jVC354sAxNG6Wwcmn5uI9NlmdVrUTqg4CDUcBL5kkPQJHrPCOg6GfU0rCb0ma\nn46PH2wvTpUhkg6EAVWVAC69xquytzPSx/jFWuFCoIORhySOV8zLmlB+RzJ5BdR+\nDWEVDkyk5u9uLpc4APY9kdGvUNMBe8s5tb07pa9BlPHaNHrWCEMld5c0QAS4ge1K\naV9P4yy0T1qrxJhykvBHl+SXsJC79rKSw922ifS9FN9rQE5N41PPAqmJx9vcrfJE\nuD1c30JfqB38WdCs7hVu2Djaq+Qz5rl86oMlnPffUEBDRv1Z4qgQ9MqKmntX2Dos\nLYmrNcQELZIWesab3Spjnvca82OV8dM7LC3efd7xeEX3fkghFae010KwzmxQk/YO\nnobUFSp5wxKEQYdLv+RU1POiFrJ3/3SyYewOaiM6BKAFimfeqrw9LHWbi8wjH38O\nlFK0BoGkMGHJBxoYAphUln383BL0QL7BcYIW4ptHWiuz0vgnGVo=\n=DkDl\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/211dca11904bd131cc06802530a97cb1eb14133c",
          "sha": "211dca11904bd131cc06802530a97cb1eb14133c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/211dca11904bd131cc06802530a97cb1eb14133c"
        }
      ],
      "message": "Compare COutPoints lexicographically\n\nComparing outpoints lexicographically is required for BIP352, but also\ngenerally a less ambigious way to compare outpoints considering this\nwill match any orderings applied to the serialized transaction.",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-07-16T17:18:11Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-04-26T10:07:39Z"
      },
      "sha": "cf133c93ca5a651289766cf605dce72643b76e01"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDhkYzdlMjM5YzA4OGU1MTZkYTgyNDczYmEyNjMwZjVkMTFkMTYzNjg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8dc7e239c088e516da82473ba2630f5d11d16368",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8dc7e239c088e516da82473ba2630f5d11d16368",
      "tree": {
        "sha": "628a967f9f5a7fef3eb168f96b81898602d32752",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/628a967f9f5a7fef3eb168f96b81898602d32752"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 628a967f9f5a7fef3eb168f96b81898602d32752\nparent cf133c93ca5a651289766cf605dce72643b76e01\nauthor Sjors Provoost <sjors@sprovoost.nl> 1716388570 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1721150291 +0200\n\nAdd CScript::IsPayToTaproot()\n\nCo-authored-by: Sebastian Falbesoner <sebastian.falbesoner@gmail.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmaWq1MACgkQV/+b28ww\nEAn16hAAhHHmf+Md1Yd3tEtyMJkNyw7YgtcxQ3e6RJdhSu2O5uH3dMrURduMauis\nKXWwxE1FDsgPVHI06Y97rgMIY6sWpVA6DY/PQx+gZX9tmKHKUpDnxsOFa+1XWrNN\nRfjLKidtswkuHkUtCiz8yt8owgmdxxCsAd2xTVeEjV6Iso2Ptx3Z7qFrJiS69pAe\nud5Yg/61hXAmyBkdnnV8wf8VoDpUz9+KR1zsX5Ts0stW+7tJL+Da45K5Tv8wfh8p\nIF9QQOB7wzdquef/piEho3Fa32UUjeoAgarfl88MAHDbN6/7JzEwjaAz2T6shf0A\nLIcyQNdk5lRG157OSPqLecSeFmY9OgQCB3Y+EBaQMAKkWyC/b9xQICw8sVbTu5e9\ndQbBL2+4z2xaW1Nl6gzGo3Z58TXDEq5IOQvmO6qy8pk4g6YsCHFjs2nK1Wg2e7ij\nYxAyAfuXPhFw27uckVml+GJugkHtzypRqI+aYTmmybjPo5QqC+Y0lz2aEDhJp/2H\njPYV6ilPT7nizj3SGM81am6eEnF4NrQV58P4Gf6qxCq2oncRrVsLG0IOeLBf60fy\n/od4beDjSTMVrID9AE5yqP8h29F3FV1ERCGjXszSjCZfVmW/JazgCftl1tVXxGyE\nzoWX3+V2JQ9hqm0XAVGqiCbCfgh7R2WhwdwPokF5mSY/3iBiTnE=\n=g08H\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cf133c93ca5a651289766cf605dce72643b76e01",
          "sha": "cf133c93ca5a651289766cf605dce72643b76e01",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/cf133c93ca5a651289766cf605dce72643b76e01"
        }
      ],
      "message": "Add CScript::IsPayToTaproot()\n\nCo-authored-by: Sebastian Falbesoner <sebastian.falbesoner@gmail.com>",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-07-16T17:18:11Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-05-22T14:36:10Z"
      },
      "sha": "8dc7e239c088e516da82473ba2630f5d11d16368"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZjZjlmMjI4ODUwMGQ1YjRhYzBmYTg4YmVmZGM5MWE1ZmM4NWUyYmY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6cf9f2288500d5b4ac0fa88befdc91a5fc85e2bf",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6cf9f2288500d5b4ac0fa88befdc91a5fc85e2bf",
      "tree": {
        "sha": "ea582716c9cff591dea47f9fe330bf25e8278785",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ea582716c9cff591dea47f9fe330bf25e8278785"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree ea582716c9cff591dea47f9fe330bf25e8278785\nparent 8dc7e239c088e516da82473ba2630f5d11d16368\nauthor Sjors Provoost <sjors@sprovoost.nl> 1715329965 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1721150292 +0200\n\nAdd MaybeSilentPayment helper\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmaWq1QACgkQV/+b28ww\nEAkhOxAAqwzeyrQctFflXVD5iaOTchmztF+yc8NNmhiy1SqtcQNxE2wLvxGIGmGZ\nxegd7kYA37ZI2xERmK0rZ8wC3LxrxjZFyn2YeaAq+LrJvsmKkCVUxu/vjA8tejIU\nwexhS564Cv927x/qnLcBKp8qDMjqOmfe0uTi4pRQXOZREuFrBEE+PE78Wl9RYOQF\nao5a4TAbCWnzwIyoNsQsZni3sh4jFwaI/ufgdyzRpo8j8E8DGMtwE37IpLhIfLm3\neZsNwJkT1lIrHAC0Li+YUHZ/ZokLJNh3xbI3IjqQNfZ2m1w/vaxnNnv8UWSw1RuN\npEAuBHSXEjqeysO+JnSj9TkuUnxQdvhQbOp04KmF24TnRGHThb9w15t3UlYbMrsF\ne0iuzcA7AXs8ME68k3LNLL/EMF1bLA/InaWKGIWmlf4X8EzEYfC1Ro1xrylQaCWM\nkiPkmENuGe4gZdL1UATaMPXqvWMFRyq33ZYLMBGWTC0LHimHQFt0tR7qXP83b9ZO\n/j7elIvgcIIhSdHAcXp9bxGqby9piLyp8I8B8oJIUzhVwDzhvd0JvTxdAV5+cAZ0\nzk4BS1t4c4LoGGnjdLIBYcuXclo5b16EKgU4x7jaewWxiCpBKTB1Es/4wU35HCYp\nwQomEWi/Ajv8mu78aPtMgvrXK1m0TB0GCLqonGFnZXT4+TOQlJU=\n=ncRo\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8dc7e239c088e516da82473ba2630f5d11d16368",
          "sha": "8dc7e239c088e516da82473ba2630f5d11d16368",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8dc7e239c088e516da82473ba2630f5d11d16368"
        }
      ],
      "message": "Add MaybeSilentPayment helper",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-07-16T17:18:12Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-05-10T08:32:45Z"
      },
      "sha": "6cf9f2288500d5b4ac0fa88befdc91a5fc85e2bf"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGI0NmI4MGNiNTdiZDI1OGVkM2RjYmU4YTg1ODdkMTJhZGEwNzZkZTM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b46b80cb57bd258ed3dcbe8a8587d12ada076de3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b46b80cb57bd258ed3dcbe8a8587d12ada076de3",
      "tree": {
        "sha": "ef2ad01416aa9f53aaee171895b40ca088c98693",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ef2ad01416aa9f53aaee171895b40ca088c98693"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree ef2ad01416aa9f53aaee171895b40ca088c98693\nparent 6cf9f2288500d5b4ac0fa88befdc91a5fc85e2bf\nauthor Sjors Provoost <sjors@sprovoost.nl> 1715341521 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1721150292 +0200\n\nindex: make FatalErrorf protected\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmaWq1QACgkQV/+b28ww\nEAlX/Q/8Co3IKrl0Nwal80p1QufmFGWGSiMNHD/KsFxRiGeDnCDeaPgyvHKgrv93\nZ94DbrwjqNHLOuox/f9ozrl43Nk5fkRhAOY3KhQyeBkXt5fDwGwQEmrNEMJicG5O\n9wAQFWKNBBoh2QHmrskLJY9LgKwTGa8gvkY1Vzm1q3d/t5w3K0iBqAqobBeqM6Bq\nVH9R+K+S9M9aXHLz6ioBfT2ezTZbiZl6OW0AQtyBW1WWyZon1qnco5RxG63sEONj\nSNJRX/OsJpOCYupozqvsiFTgd0KZeBNT/jqmMrjzg3zKbTXUKqU3arYwhzPuxsI+\ntn11M1HFZ5YTUbGMWuhuijiLKXfZ42Gy8sJ6UZAZcmJhJ+VvFoXrBOq0bKc18pYT\nRrnjAjhcLSAzOKdbDUo1F7AHOCl/m4x7en+OH1An8fZhkPw1yvdjJWieIeu5fxhm\n1GmcYDuP2dnVcWqiSYG4Ujh5FFs0hgSqqhT9sw8T824hsxD3WfpmImx8VnXaZlHv\nwomqpQEl/IjVpIoFnUj4TanraaX9czqis4XdZayIDw3XvlJaeE8HfiwLdtfwGpGn\n59qp5VQv8iu5MRKJ0Uk6NerEEDTOkppovB2RjL8Dp2KWYPCXP8gmyjlOZ31PLk2M\noIJgGrIHWwZZ2H/tc+hAEujXaSgSxVkCKEGrYiNuw15ZCPQU8qA=\n=7sax\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6cf9f2288500d5b4ac0fa88befdc91a5fc85e2bf",
          "sha": "6cf9f2288500d5b4ac0fa88befdc91a5fc85e2bf",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6cf9f2288500d5b4ac0fa88befdc91a5fc85e2bf"
        }
      ],
      "message": "index: make FatalErrorf protected",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-07-16T17:18:12Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-05-10T11:45:21Z"
      },
      "sha": "b46b80cb57bd258ed3dcbe8a8587d12ada076de3"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDc4MTBmN2U2MzM2MjhhNGFhMzg4NDE2YjAxMmQwZjljZDQ5ZGM2MDM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7810f7e633628a4aa388416b012d0f9cd49dc603",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7810f7e633628a4aa388416b012d0f9cd49dc603",
      "tree": {
        "sha": "65ce57ea71a1e1f674d304527930b222fb4c5ca4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/65ce57ea71a1e1f674d304527930b222fb4c5ca4"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 65ce57ea71a1e1f674d304527930b222fb4c5ca4\nparent b46b80cb57bd258ed3dcbe8a8587d12ada076de3\nauthor Sjors Provoost <sjors@sprovoost.nl> 1715341643 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1721150292 +0200\n\nClean up index logging\n\n* don't log function name\n* take into account that GetName() always ends with \" index\"\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmaWq1QACgkQV/+b28ww\nEAnm0hAApua/uyfzUH5xMQC9TSpCfutJ4Oq6cUkE/qwPRXkl5KrCgUtknGh8G2Ex\nzz015UuakMgoVEwGfINmvsXAXPs1XNNQBJhaqnxDfUXq7j5cH4L/6B3azVGcmkdp\nSsAEk+Se5YBmATtqw0AEBgo3vMpURj+hqD7prpwX+zHgv8IDI6tHn5rnn07rX/Ue\nK5tx9hOs3cmwfMupZ6rfhTFRBOdKITm/wOCzO7r7ruiraDglqjO9K2jaGJdFngv4\nXxJdKzyavW6Grsxr8HK7mVl5pwtsbCPrmlsrOgGHS738pG3Ls19KaEi4TDBGG994\nYbJFKrgSNrTQ4GDZZByQCeMydfNoACDi3jqWsyOm6KP5l2GjOWthUv2VFYVK+iYP\n27nwmixcCJwQ/bYMy5Y8wumWf5LHZPdVWb52yG7qzMyuvVeWqPVBHEmnam5M2sV0\nZoFt/CbSdXEs7FhgHLN5m4916EaYLnlvd+hXcIAOcBu3bEfT4g1Zz1U5IsNlGmVd\nKxhkXd+tw1s44lkButUrqbAfmAL0ZQ0b8ZXuSqdbC7kRZbbHfPZtAygZDd0Be33G\nMLTG6y6lIvYpo0PYWGc4tEX720snrq+O5NWMM156slFXJUkMoXFNjsbJ//GFMKPQ\ntc0QT5LO/mH+IeQt5DltTKr4USVzb9/gNtjXKtfzkVQ9wLJ3F+o=\n=u3aT\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b46b80cb57bd258ed3dcbe8a8587d12ada076de3",
          "sha": "b46b80cb57bd258ed3dcbe8a8587d12ada076de3",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b46b80cb57bd258ed3dcbe8a8587d12ada076de3"
        }
      ],
      "message": "Clean up index logging\n\n* don't log function name\n* take into account that GetName() always ends with \" index\"",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-07-16T17:18:12Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-05-10T11:47:23Z"
      },
      "sha": "7810f7e633628a4aa388416b012d0f9cd49dc603"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGYwMGQzOGFkZDcyN2QxNDM2YzhkZTNjYmMzNmVjNjdhN2EzOWU4NzU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f00d38add727d1436c8de3cbc36ec67a7a39e875",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f00d38add727d1436c8de3cbc36ec67a7a39e875",
      "tree": {
        "sha": "5e8ccf6ee112bccdf0a87eb1b265e9d7a18bd8f0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5e8ccf6ee112bccdf0a87eb1b265e9d7a18bd8f0"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 5e8ccf6ee112bccdf0a87eb1b265e9d7a18bd8f0\nparent 7810f7e633628a4aa388416b012d0f9cd49dc603\nauthor josibake <josibake@protonmail.com> 1706712057 +0100\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1721150292 +0200\n\nindex: add start_height to base index\n\nThis allows indexing to start from a specified start_height (default 0).\nThis is particularly useful for blockfilter indexes in that a new filter type could\nbe defined where the filter is only relevant after a certain block height (e.g.\na filter for only taproot scriptPubKeys).\n\nAlthough this is currently not possible, start_height would also be needed if we wanted\nto enable an index in pruned mode (e.g. having a txindex for recent blocks).\n\nCo-Authored-by: Fabian Jahr <fjahr@protonmail.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmaWq1QACgkQV/+b28ww\nEAlnlw/+JuA31LTelZnCfZomCcnGm6dNsNwffgAt0D1jcPnI0RGJoTRsqaRs0z9o\nnUo0s/pgTmb1O23MyLtA0GLHrucjyvbEQ2C/S1uvKO0X+SvZzbvCRIwPxdYoRkV/\nTgSI5UUNCnvoZtXN4IbFv2uu85i4Axf6SMMrAVYFsz8vpxc++SPD2AqpGZj1ukxq\njcmZo6kv88tiGlsmyhucXGXzXbtrxR8Te7Kh7BZ0i9Cdj6uUZZVULf0gDfoyCF5+\nMha/qaY6ONM01zikRTEgrgOOY1vrkgwMGGt3YIxYWLqp4afxjx6A7W8hQus5qMOh\ncz15edlxaGhxN9Hkx8CNwwEW/5yB9UM9Mwm5rQdy6ggBJ/5JESy564kaeUR/xz0h\nOw3w39liOzrdWKmpBst19fYMfGlQ8Zy9EOrryE7carqlNq1z49txdkRsxBiIjUNo\nOFREy/gU9y/OFRzZf8OpvhXXLT6Z6kkTE2CVTga2fsW7I1TPeH9X9QgUrbj4ybTf\nGDtGvLEL1caNXglM3c4Cg91ISXMhw2WHGlZHyhWfp3e1NLTcvnHF9twHvZ1Yhlwq\ny3glHbBsSZb65tGBevqBIBOev6TBTHu9/kgQ7xftk8IJV51JRQ7fubYsA/8AxSuU\nLDKGlVrCGsUdKlJTe1fpvIGy5lrnOPBK0ewJK5spjYaEJuWbgco=\n=qZUL\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7810f7e633628a4aa388416b012d0f9cd49dc603",
          "sha": "7810f7e633628a4aa388416b012d0f9cd49dc603",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7810f7e633628a4aa388416b012d0f9cd49dc603"
        }
      ],
      "message": "index: add start_height to base index\n\nThis allows indexing to start from a specified start_height (default 0).\nThis is particularly useful for blockfilter indexes in that a new filter type could\nbe defined where the filter is only relevant after a certain block height (e.g.\na filter for only taproot scriptPubKeys).\n\nAlthough this is currently not possible, start_height would also be needed if we wanted\nto enable an index in pruned mode (e.g. having a txindex for recent blocks).\n\nCo-Authored-by: Fabian Jahr <fjahr@protonmail.com>",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-07-16T17:18:12Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-01-31T14:40:57Z"
      },
      "sha": "f00d38add727d1436c8de3cbc36ec67a7a39e875"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg0MDk5MjYyMzdkNTI4NDg1NmIwYmYxNmZkMjllY2M3NzViNjIxYzk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8409926237d5284856b0bf16fd29ecc775b621c9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8409926237d5284856b0bf16fd29ecc775b621c9",
      "tree": {
        "sha": "b440eea6dec52a51027045e630273578d918dbb9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b440eea6dec52a51027045e630273578d918dbb9"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree b440eea6dec52a51027045e630273578d918dbb9\nparent f00d38add727d1436c8de3cbc36ec67a7a39e875\nauthor Sjors Provoost <sjors@sprovoost.nl> 1695133956 +0000\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1721150293 +0200\n\nAdd the silent payment index\n\nCo-Authored-By: w0xlt <94266259+w0xlt@users.noreply.github.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmaWq1UACgkQV/+b28ww\nEAmOlQ/9EKOpPYyTyhaRfgKc2Y5oAZcqOFHP4YiE4sBKn1FaVy7KL54yIhY6VR5w\nLikomC3iUPVtsJ9Nnm1AHQSuqijSk5kfHGZYcf7QVEyH/j1gVrRA7PBkqMD5i2YU\nKWurNt1exQpOlSuIx7KtmeALKz7gcLSVfCC67vpNH9Pr8wQjHfYKbDjCUEoms+Mu\njZ66HG9D32Ac1TriT6pVp1XaId944DYu18z0c1QZ1W7oOsBJ4O3vls3Q/Ub+jwiy\nUHa1lotM9BxhVjeT93kscNCGWZZyhxFhFFGpSY/2FkJWLyK+MBXvzbRdqXDiElkB\ne8ewG7muz7n0v5Ighj9kNaoK/iY2LO5Tkb5YjIXn9pxhTsdJn4xYhTtIZe67gO3O\njLPOY/92LNLsIjOQ+OPhp/WVyIDf74y6ablRgJK1qYPh/VaqBf7iN/FmDoWfLZyd\nhBpLzJX0WAL6cUIsHEDAP+QhvZkZYTallx8psLtT/2eumy+ItnWQ+W0vstku00Ze\nzLP7UulODdWZ7pekmhz2iahze1MvhHknK/0O4SGa+Qvc+umTvp1a7+lb5JMUJWv+\ntU6qkEd3uirCUnvrINKj/K3ZGjHbve+GITyFIC0fPkW333cqJzLp4ffSFCaNVwEL\nO2gGdrDpA1l/GS7FWgh+9a/PFGDl3WVOKdPRehAY8bVtQBz/+9s=\n=dLFA\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f00d38add727d1436c8de3cbc36ec67a7a39e875",
          "sha": "f00d38add727d1436c8de3cbc36ec67a7a39e875",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f00d38add727d1436c8de3cbc36ec67a7a39e875"
        }
      ],
      "message": "Add the silent payment index\n\nCo-Authored-By: w0xlt <94266259+w0xlt@users.noreply.github.com>",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-07-16T17:18:13Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2023-09-19T14:32:36Z"
      },
      "sha": "8409926237d5284856b0bf16fd29ecc775b621c9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZiNTZmNjJhNzM2Y2JlNmY0YzgxZjljNWM5MmFlODQwMGNhMDg5NGI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fb56f62a736cbe6f4c81f9c5c92ae8400ca0894b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fb56f62a736cbe6f4c81f9c5c92ae8400ca0894b",
      "tree": {
        "sha": "43f47c39dc4f9dd08d97608e1bd9235785a9ac54",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/43f47c39dc4f9dd08d97608e1bd9235785a9ac54"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 43f47c39dc4f9dd08d97608e1bd9235785a9ac54\nparent 8409926237d5284856b0bf16fd29ecc775b621c9\nauthor Sjors Provoost <sjors@sprovoost.nl> 1715346016 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1721150293 +0200\n\nAdd cut-through index scaffold\n\nAdds an index identical to -bip352index that can be enabled with -bip352ctindex.\n\nActual cut-through functionality is added in the next commit.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmaWq1UACgkQV/+b28ww\nEAkUSw/9E2Lhx0BTBNc1nRARSyxxtxqJIgax2gqsew2K6xuXzlQMeBnReGCJvrUu\nDosR+jUT3+1G+aavCTVeDVpL8y2KsG8JESH2fHbbiF60naHBO/rNEZtP5ESKzEfD\nFi8mt1AZjxYwIWFxo9BAB/FPM+jqbw5oDhuEuAIj+Hg3cTY4U1UQsJmGqMapAEZt\nDmtEfKYsqWqXdAFT1lwNQaKdnz1cCwE0tQ/OeiYqzj8BMG+i8RkrH6HpTkTEAwcf\nN8b/tvKrqLZnl48dPGjd17eX4I23P1LJz/e8rqSSSyWSqMBHAuzvT/16EaYrELn6\nGEAq3YHFEpe+t6Z1ey30t8jifx2REmuLOu4Eam3Hg+1PCfW8i/qQ3nCAKNnYExQE\ns7qk3e3Bo322jnQ+t+q1THxxin8VB1dzxIxCZB47SsbDWI37CiZMHvBqiMZwXT4+\n5qCXXgOsakxcQSUHGf63lBwzw7fQ130BrW3/8sSUJ6ZCfkiJmIhlInBNEATalL7W\nmkJ+AZRtTi6ZKu5VcR4VVHlsX/U6ZRCTX9qyGXd+Zdu6YO9ic+WBNeEn6S/utSvZ\n+bBl556cLVc70Qi4gT1E99VA341CVJv58QChz9m0ohK1vbviVHnDRN1sVxx0qqX1\nlciJ0g4VRzYOVZq7U27QxgC/InA6pJyYkbc08QYfkpDEgsZLuNs=\n=/DDZ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8409926237d5284856b0bf16fd29ecc775b621c9",
          "sha": "8409926237d5284856b0bf16fd29ecc775b621c9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8409926237d5284856b0bf16fd29ecc775b621c9"
        }
      ],
      "message": "Add cut-through index scaffold\n\nAdds an index identical to -bip352index that can be enabled with -bip352ctindex.\n\nActual cut-through functionality is added in the next commit.",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-07-16T17:18:13Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-05-10T13:00:16Z"
      },
      "sha": "fb56f62a736cbe6f4c81f9c5c92ae8400ca0894b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg3MzMwODdkNjA3YmVmNTczZDk5NDk1NjJiMDdiMGYzMmUwZWE5MTE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8733087d607bef573d9949562b07b0f32e0ea911",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8733087d607bef573d9949562b07b0f32e0ea911",
      "tree": {
        "sha": "dabe5148ed2715db4b87cc7c60f2e2fe4db1e617",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dabe5148ed2715db4b87cc7c60f2e2fe4db1e617"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree dabe5148ed2715db4b87cc7c60f2e2fe4db1e617\nparent fb56f62a736cbe6f4c81f9c5c92ae8400ca0894b\nauthor Sjors Provoost <sjors@sprovoost.nl> 1715351579 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1721150293 +0200\n\nImplement cut-through\n\nExisting index are not updated, so in order to advantage of cut-through for new blocks, it needs to be occasionally deleted and rebuilt.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmaWq1UACgkQV/+b28ww\nEAlA2BAAmWBBUHJQd7RzTi+pRKs+Gfm60w2ik+xQlvgTkfw83jn8jG6GArokxngh\nAuZMfceYwywD2ZYHn5cYMe6x16qySgSJC83VICts/hlvLeS042KRgw5OgY9+iuUZ\nJfLGRE3OWZXse79js45f++kFFvd5AbXtS2xJkJGzBVoYw4IYhdE/j9JZigEXhM2v\ni5MYXCjMc0T+9bGWGqEHwI8DhtCDjgGrWNSuCJVvDUenAsMj6Vtta3GjN7kQeLEV\niCs2bmBBHY4WSgTc6N5XexrQajnHOZPc/XHNgjUxKEWhZMvV0yFdVFelC/tlFl6R\nJAviytUcE5NYBdljvMkbCFd1gt/0dcAhFvx1wU4kv+kiafGYT0M49XGRa4WIBf7U\nYizcvQmv12pM6ujZ+LTRjvaLVYGUG5nEKcvXD7N9B0pkcHg1jz8FXIWtVWahpOig\nTq4I8DIsCImjMlHNlYct9TYQw/GAKmR3PlruVwNEtODx6vzceUwthfX2YZbzHs21\ngYEvIDesbanr+GqTy79ZSGGLbWcLc9js9/5qje+2x8X0EiQuxGPellpUyaZ2TyaU\nJOzl4lyvlOvfutf/DoTAPEySVGnWJrgFp0+FTipQzJp12HOw7xlNMLJN0AdRbG9T\nfz1aYiw8WFUrEgj3EIQIpyMpYrL04WN6K8XA7cB1sqsK0G2339I=\n=KRy2\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fb56f62a736cbe6f4c81f9c5c92ae8400ca0894b",
          "sha": "fb56f62a736cbe6f4c81f9c5c92ae8400ca0894b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fb56f62a736cbe6f4c81f9c5c92ae8400ca0894b"
        }
      ],
      "message": "Implement cut-through\n\nExisting index are not updated, so in order to advantage of cut-through for new blocks, it needs to be occasionally deleted and rebuilt.",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-07-16T17:18:13Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-05-10T14:32:59Z"
      },
      "sha": "8733087d607bef573d9949562b07b0f32e0ea911"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13524620397,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAMmIVRt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13524620397",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "93ca70cdf07baed0a8451d7c40afab2137b7b583",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/93ca70cdf07baed0a8451d7c40afab2137b7b583",
      "created_at": "2024-07-16T17:19:03Z"
    },
    {
      "event": "commented",
      "id": 2231438781,
      "node_id": "IC_kwDOABII586FAQ29",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2231438781",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-16T17:20:11Z",
      "updated_at": "2024-07-16T17:20:11Z",
      "author_association": "MEMBER",
      "body": "I added e11d764a6ce72cd571ad9cf818c6918dd16b02f6 which seems to fix the mismatch. Comparing the rest now.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2231438781",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg5ZjdlZjAzYjkxOWIzMjU5NjkzMTBhNDliMmZmYjVmMDYxNDgzNTk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/89f7ef03b919b325969310a49b2ffb5f06148359",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/89f7ef03b919b325969310a49b2ffb5f06148359",
      "tree": {
        "sha": "26a95d468b066c8beb52e4c9905f0b7c812348fd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/26a95d468b066c8beb52e4c9905f0b7c812348fd"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 26a95d468b066c8beb52e4c9905f0b7c812348fd\nparent 8733087d607bef573d9949562b07b0f32e0ea911\nauthor Sjors Provoost <sjors@sprovoost.nl> 1715332563 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1721155190 +0200\n\nrpc: add getsilentpaymentblockdata\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmaWvncACgkQV/+b28ww\nEAl75BAAhRIaoUOocv2rwjD557Gpt2oLGm7F+HtAA7v7T0Dkdb6OXaZUJE4XdPyR\nTdRbzAOhi85ORtDG3rfrw7R81CARufttlsyHwIMjdxXY327ZbySOZazicevN8/+c\no6Bev+sl638ZjptJTMVGwZ6urXoRve0crDkTO1/Ht8O62vBZvMIqBGVh7o+g/Rp6\n7Ojdl6pBBClVKDzAaQpPK/CYuPb1x9bFAmkjytleQ1Guj3hVQ0ySasRfFJzlowA3\n2Fyhj3mswgp7MvhtV6Y8BIToBwvx6jhjvRWR3Bz7dPOYOJyIthcyRK+UgUVHZ/dG\nG0PJNUDXic8I4u3GG6vag3C2B1FGTrqZqgAwJjt/vvKCXc78qm/CMw79onTfSoU/\n9SX9VazBqw1XIAqPW6HBRCrahn32YzZtMHMOZ9l3L4qjcML2I4T4fUpovJ0eIeU/\nWCO25cmjplW2wzZPvaN5zvL77/n47SaxNuKRp4GJQvgaqTUHjzFjx6dc71SHxy3A\nMl0J63nZL6P+4udqHqz2D+xqOrDhPzUijw+dNJvm7Xc2C9+uQXDgvAqSH/EQ5ODb\nn3e0wggO4adW3+TY1XP3vu1E4su0UWJvqoxKRRTGcma9Qejc411n/gHVT58wFR8A\nzVAMXMV4iyot7pJ9KFQrhb7jwPC8uyA25VE7Kq85bNuOGblAGsY=\n=35uX\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8733087d607bef573d9949562b07b0f32e0ea911",
          "sha": "8733087d607bef573d9949562b07b0f32e0ea911",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8733087d607bef573d9949562b07b0f32e0ea911"
        }
      ],
      "message": "rpc: add getsilentpaymentblockdata",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-07-16T18:39:50Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-05-10T09:16:03Z"
      },
      "sha": "89f7ef03b919b325969310a49b2ffb5f06148359"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQyZDQ4MjBkZjc0ZmY1MTU5MmYxYzBiNjRiNjYwM2VmOGJhNTc1YzI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d2d4820df74ff51592f1c0b64b6603ef8ba575c2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d2d4820df74ff51592f1c0b64b6603ef8ba575c2",
      "tree": {
        "sha": "c9a32fddfafc34ef7b069a3f382eb57f1bd0762c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c9a32fddfafc34ef7b069a3f382eb57f1bd0762c"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree c9a32fddfafc34ef7b069a3f382eb57f1bd0762c\nparent 89f7ef03b919b325969310a49b2ffb5f06148359\nauthor Sjors Provoost <sjors@sprovoost.nl> 1715603068 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1721155530 +0200\n\nbip352: index highest output amount\n\nThis enables dust filtering. It has very little overhead.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmaWv8oACgkQV/+b28ww\nEAkGVA/+MajKyPQglrpp67ERVocxJy+yFcLD1MtIt2+5kbKPXJdrizFrSeUdjzQ9\nj0LSb4hdcJbbALKsfCpbdOj8baJtkq1yOEtoGCJC3DV2hVQ0pMGuPm016dAfbmPg\nAJ/G/20SBtj6fwdy9vfXV3a21kY+iesXdLe42s6vrmES9OiwHlsw8LKSiAgZPY/A\n1R1U+RQZjQP2MW5FsWiTmAn80w8b4rKET1CG9dY871bVOPWRFTbzakgbw3yBIvNp\n1JQsScyHXa9DMZyyaFvDVdznDKHEAkTVG3rchNrP3o8gAQ90mPInYCK/EWqDf0QS\nTLTLggXyBpxQx5ajoPhDQNOyf9KXJWhdQoK00cUkh7LlEoUludExmf+mq5a7Srdv\n4kAXybgsgArB7p3TCK3gCECAyrTDzQA+auC828OZSSJSbD/BMOj6UqfmxZe9d7JD\n+dYnad2zJniwf4OjANnpph5qs7P/jVUvzmPFVn8l+RCCorKz3keE7BGJHm3b8vfV\nYyzVP+LsFg8s3wZDAm3mbj3OVbiu/VB1ulS7JLb+Y9WWIxCeygjRjBNIDawABNhW\n8gR8UeoB9NT9vi0VNkT60iftUgHQ3Zr5oA86m6i0KalE/LpoW8Kglct4yqgVNf2Y\ncrPf7MTo7jG1vQpL3mzWguClNZHXH4gZoxnCSnKnkxxqRasrNLk=\n=/XzN\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/89f7ef03b919b325969310a49b2ffb5f06148359",
          "sha": "89f7ef03b919b325969310a49b2ffb5f06148359",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/89f7ef03b919b325969310a49b2ffb5f06148359"
        }
      ],
      "message": "bip352: index highest output amount\n\nThis enables dust filtering. It has very little overhead.",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-07-16T18:45:30Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-05-13T12:24:28Z"
      },
      "sha": "d2d4820df74ff51592f1c0b64b6603ef8ba575c2"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGY3MzU2NjMxNDU4MTUyMWU0NzM5ZDQ0NzkyNGU2ZWUxMzg3OTRhNGY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f73566314581521e4739d447924e6ee138794a4f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f73566314581521e4739d447924e6ee138794a4f",
      "tree": {
        "sha": "09e38da331223fbaadae21d8d115ccfc7e98a641",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/09e38da331223fbaadae21d8d115ccfc7e98a641"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 09e38da331223fbaadae21d8d115ccfc7e98a641\nparent d2d4820df74ff51592f1c0b64b6603ef8ba575c2\nauthor Sjors Provoost <sjors@sprovoost.nl> 1715603092 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1721155531 +0200\n\nrpc: add dust arg to getsilentpaymentblockdata\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmaWv8sACgkQV/+b28ww\nEAm8kA/+I7VtNKRP5oDjLJvP9C5c+cK06rwtRy5Nbk3HfMQSsG980AuBieBQ8LO5\n+oBxUBT8dCJ2OxeVQI5yglxZXlIhfYjc82ya8WpGPNZ3txpbpWpdrG5vpbVjhIFf\nyq8KlZ/P/pdfKq3isYkUo2Y5Kjrij83UuR9OxqSkl84PEMsRWHlTdSknrfKed/hH\nxOicgajH7N3yxnaWJFV++NYWiBMIQg6KGhlTjJ1eCvxvFiEHsLhPxnNfKnIt2Q1j\ncnwfBpL6avdGk1aggrRf9dPlsS6c89aZAgQHT3SxBKJ2gmIKL27p0IE6ZCrFA/5c\nYqBINsbM62Rqsjp4uC7JtXBHA6YOmtCpzBAy6UCWMusDggTaOKD1QX2IlAHy2mhS\niW218C+17QHzYLbXkuKZeoaqYKZdJKUfIGDZBzatqK5OCAgI5i2IM4P+Gv7AXNxn\nSMRFRhMF/7Y+GCiH8hzeuFDaGjUKk+MC2x00AtiNuHHgL/U+1opZYnyYGgsYp2NR\nMXZKEqM7TTgRI+tMOhvT6cuZqn3p38K3vJoVAHVSMY6EnQ6FSewMPmSh/Pjm79Rq\nKvsAwVRQBSA25Rs+lV/kzOcd38QXvsJ6mJnCxcGTnvkpBCODJ7ye+PQkkzAp0ZTg\npEIwJ6xLag9xXgTXYhf1V77Dkqlbf8CeAdiJ0sX7omVH+FPBF7Y=\n=VLU6\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d2d4820df74ff51592f1c0b64b6603ef8ba575c2",
          "sha": "d2d4820df74ff51592f1c0b64b6603ef8ba575c2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d2d4820df74ff51592f1c0b64b6603ef8ba575c2"
        }
      ],
      "message": "rpc: add dust arg to getsilentpaymentblockdata",
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-07-16T18:45:31Z"
      },
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2024-05-13T12:24:52Z"
      },
      "sha": "f73566314581521e4739d447924e6ee138794a4f"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13525635703,
      "node_id": "HRFPE_lADOABII585t1ykOzwAAAAMmMNJ3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13525635703",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "commit_url": "https://api.github.com/repos/Sjors/bitcoin/commits/f73566314581521e4739d447924e6ee138794a4f",
      "created_at": "2024-07-16T18:46:30Z"
    },
    {
      "event": "commented",
      "id": 2231592557,
      "node_id": "IC_kwDOABII586FA2Zt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2231592557",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-16T18:46:34Z",
      "updated_at": "2024-07-16T18:46:34Z",
      "author_association": "MEMBER",
      "body": "Matches!",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2231592557",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "unlabeled",
      "id": 13527953940,
      "node_id": "UNLE_lADOABII585t1ykOzwAAAAMmVDIU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13527953940",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-16T23:12:22Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2254628015,
      "node_id": "IC_kwDOABII586GYuSv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2254628015",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-28T19:59:19Z",
      "updated_at": "2024-07-28T19:59:19Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n🚧 At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/27526127118</sub>\n\n<details><summary>Hints</summary>\n\nMake sure to run all tests locally, according to the documentation.\n\nThe failure may happen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2254628015",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "labeled",
      "id": 13672039948,
      "node_id": "LE_lADOABII585t1ykOzwAAAAMu6sYM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13672039948",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-28T19:59:19Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2265884106,
      "node_id": "IC_kwDOABII586HDqXK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2265884106",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-02T17:58:55Z",
      "updated_at": "2024-08-02T17:58:55Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\n🐙 This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2265884106",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "labeled",
      "id": 13745108446,
      "node_id": "LE_lADOABII585t1ykOzwAAAAMzRbXe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13745108446",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-02T17:58:55Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2320425579,
      "node_id": "IC_kwDOABII586KTuJr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2320425579",
      "actor": {
        "login": "thisIsNotTheFoxUrLookingFor",
        "id": 155745095,
        "node_id": "U_kgDOCUh7Rw",
        "avatar_url": "https://avatars.githubusercontent.com/u/155745095?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/thisIsNotTheFoxUrLookingFor",
        "html_url": "https://github.com/thisIsNotTheFoxUrLookingFor",
        "followers_url": "https://api.github.com/users/thisIsNotTheFoxUrLookingFor/followers",
        "following_url": "https://api.github.com/users/thisIsNotTheFoxUrLookingFor/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/thisIsNotTheFoxUrLookingFor/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/thisIsNotTheFoxUrLookingFor/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/thisIsNotTheFoxUrLookingFor/subscriptions",
        "organizations_url": "https://api.github.com/users/thisIsNotTheFoxUrLookingFor/orgs",
        "repos_url": "https://api.github.com/users/thisIsNotTheFoxUrLookingFor/repos",
        "events_url": "https://api.github.com/users/thisIsNotTheFoxUrLookingFor/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/thisIsNotTheFoxUrLookingFor/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-30T08:06:34Z",
      "updated_at": "2024-08-30T08:07:28Z",
      "author_association": "NONE",
      "body": "> Hi, I have a little question about the motivation for making this index in Core. Afaiu, an implementation of electrum server (or any light client backend) could construct this index as easily, and I think it would be better separation of concerns to let them take responsibility for this instead of Core. Or maybe it's necessary for the consistency check you're mentioning? I'm not sure of what it is.\r\n\r\nPersonally I think Electrum is for SPV wallet things. Silent Payments would be considered part of a full node and not just an SPV thing. That is why I would think it makes it worthy of being in bitcoind. ",
      "user": {
        "login": "thisIsNotTheFoxUrLookingFor",
        "id": 155745095,
        "node_id": "U_kgDOCUh7Rw",
        "avatar_url": "https://avatars.githubusercontent.com/u/155745095?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/thisIsNotTheFoxUrLookingFor",
        "html_url": "https://github.com/thisIsNotTheFoxUrLookingFor",
        "followers_url": "https://api.github.com/users/thisIsNotTheFoxUrLookingFor/followers",
        "following_url": "https://api.github.com/users/thisIsNotTheFoxUrLookingFor/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/thisIsNotTheFoxUrLookingFor/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/thisIsNotTheFoxUrLookingFor/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/thisIsNotTheFoxUrLookingFor/subscriptions",
        "organizations_url": "https://api.github.com/users/thisIsNotTheFoxUrLookingFor/orgs",
        "repos_url": "https://api.github.com/users/thisIsNotTheFoxUrLookingFor/repos",
        "events_url": "https://api.github.com/users/thisIsNotTheFoxUrLookingFor/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/thisIsNotTheFoxUrLookingFor/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2320425579",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "reviewed",
      "id": 2271725612,
      "node_id": "PRR_kwDOABII586HZ8gs",
      "url": null,
      "actor": null,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#pullrequestreview-2271725612",
      "submitted_at": "2024-08-30T09:25:37Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
    },
    {
      "event": "reviewed",
      "id": 2271752123,
      "node_id": "PRR_kwDOABII586HaC-7",
      "url": null,
      "actor": null,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#pullrequestreview-2271752123",
      "submitted_at": "2024-08-30T09:35:56Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
    },
    {
      "event": "reviewed",
      "id": 2271753107,
      "node_id": "PRR_kwDOABII586HaDOT",
      "url": null,
      "actor": null,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#pullrequestreview-2271753107",
      "submitted_at": "2024-08-30T09:36:21Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
    },
    {
      "event": "reviewed",
      "id": 2271754521,
      "node_id": "PRR_kwDOABII586HaDkZ",
      "url": null,
      "actor": null,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#pullrequestreview-2271754521",
      "submitted_at": "2024-08-30T09:36:56Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
    },
    {
      "event": "reviewed",
      "id": 2271755953,
      "node_id": "PRR_kwDOABII586HaD6x",
      "url": null,
      "actor": null,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#pullrequestreview-2271755953",
      "submitted_at": "2024-08-30T09:37:32Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
    },
    {
      "event": "reviewed",
      "id": 2271758930,
      "node_id": "PRR_kwDOABII586HaEpS",
      "url": null,
      "actor": null,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#pullrequestreview-2271758930",
      "submitted_at": "2024-08-30T09:38:43Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
    },
    {
      "event": "reviewed",
      "id": 2271761191,
      "node_id": "PRR_kwDOABII586HaFMn",
      "url": null,
      "actor": null,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#pullrequestreview-2271761191",
      "submitted_at": "2024-08-30T09:39:42Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
    },
    {
      "event": "reviewed",
      "id": 2271764234,
      "node_id": "PRR_kwDOABII586HaF8K",
      "url": null,
      "actor": null,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#pullrequestreview-2271764234",
      "submitted_at": "2024-08-30T09:41:02Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
    },
    {
      "event": "reviewed",
      "id": 2271769015,
      "node_id": "PRR_kwDOABII586HaHG3",
      "url": null,
      "actor": null,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "commit_url": null,
      "created_at": null,
      "author_association": "NONE",
      "user": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#pullrequestreview-2271769015",
      "submitted_at": "2024-08-30T09:42:52Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
    },
    {
      "event": "commented",
      "id": 2320724095,
      "node_id": "IC_kwDOABII586KU3B_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2320724095",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-30T10:01:32Z",
      "updated_at": "2024-08-30T10:02:01Z",
      "author_association": "MEMBER",
      "body": "@cculianu thanks for reviewing the code. However many of your comments refer to #28122 (which this pull request builds on top of), so it's better comment there. Paging @josibake to take a look though.\r\n\r\nI'll look at the comments for `src/index` when I next rebase.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2320724095",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 14078650981,
      "node_id": "MEE_lADOABII585t1ykOzwAAAANHJypl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14078650981",
      "actor": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-30T10:01:33Z"
    },
    {
      "event": "subscribed",
      "id": 14078651016,
      "node_id": "SE_lADOABII585t1ykOzwAAAANHJyqI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14078651016",
      "actor": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-30T10:01:33Z"
    },
    {
      "event": "mentioned",
      "id": 14078651041,
      "node_id": "MEE_lADOABII585t1ykOzwAAAANHJyqh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14078651041",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-30T10:01:33Z"
    },
    {
      "event": "subscribed",
      "id": 14078651059,
      "node_id": "SE_lADOABII585t1ykOzwAAAANHJyqz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14078651059",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-30T10:01:34Z"
    },
    {
      "event": "commented",
      "id": 2320749813,
      "node_id": "IC_kwDOABII586KU9T1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2320749813",
      "actor": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-30T10:11:33Z",
      "updated_at": "2024-08-30T10:11:33Z",
      "author_association": "NONE",
      "body": "> @cculianu thanks for reviewing the code. However many of your comments refer to #28122 (which this pull request builds on top of), so it's better comment there. Paging @josibake to take a look though.\r\n> \r\n> I'll look at the comments for `src/index` when I next rebase.\r\n\r\nAh ok I can review/comment there too. Thanks for the tip.",
      "user": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2320749813",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 14078785814,
      "node_id": "MEE_lADOABII585t1ykOzwAAAANHKTkW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14078785814",
      "actor": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-30T10:11:34Z"
    },
    {
      "event": "subscribed",
      "id": 14078785838,
      "node_id": "SE_lADOABII585t1ykOzwAAAANHKTku",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14078785838",
      "actor": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-30T10:11:34Z"
    },
    {
      "event": "mentioned",
      "id": 14078785859,
      "node_id": "MEE_lADOABII585t1ykOzwAAAANHKTlD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14078785859",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-30T10:11:34Z"
    },
    {
      "event": "subscribed",
      "id": 14078785872,
      "node_id": "SE_lADOABII585t1ykOzwAAAANHKTlQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14078785872",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-30T10:11:34Z"
    },
    {
      "event": "subscribed",
      "id": 14606038407,
      "node_id": "SE_lADOABII585t1ykOzwAAAANmlnWH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14606038407",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-11T09:43:15Z"
    },
    {
      "event": "commented",
      "id": 2502394741,
      "node_id": "IC_kwDOABII586VJ4N1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2502394741",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-27T01:13:05Z",
      "updated_at": "2024-11-27T01:13:05Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--13523179cfe9479db18ec6c5d236f789-->\n⌛ There hasn't been much activity lately and the patch still needs rebase. What is the status here?\n\n* Is it still relevant? ➡️ Please solve the conflicts to make it ready for review and to ensure the CI passes.\n* Is it no longer relevant? ➡️ Please close.\n* Did the author lose interest or time to work on this? ➡️ Please close it and mark it 'Up for grabs' with the label, so that it can be picked up in the future.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2502394741",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "commented",
      "id": 2672407221,
      "node_id": "IC_kwDOABII586fSbK1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2672407221",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-20T18:57:56Z",
      "updated_at": "2025-02-20T18:57:56Z",
      "author_association": "MEMBER",
      "body": "Closing this for now, given after a year and a half it's still a draft, based on a draft, based on another PR that is still being worked on. Maybe a new PR can be opened in future.",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2672407221",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "closed",
      "id": 16387690140,
      "node_id": "CE_lADOABII585t1ykOzwAAAAPQyE6c",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16387690140",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-20T18:57:56Z"
    },
    {
      "event": "commented",
      "id": 2824109607,
      "node_id": "IC_kwDOABII586oVH4n",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2824109607",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-23T12:22:53Z",
      "updated_at": "2025-04-23T13:58:38Z",
      "author_association": "MEMBER",
      "body": "Opened a PR on my own fork for this: https://github.com/Sjors/bitcoin/pull/86\r\n\r\nIt's a new branch based on this one, rebased on the latest #28122, and fixes conflicts with #28358, #31483, #31490 and the introduction of CMake.\r\n\r\nI also applied most of @cculianu's suggestions there (not pushed yet).",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2824109607",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28241"
    },
    {
      "event": "mentioned",
      "id": 17371836452,
      "node_id": "MEE_lADOABII585t1ykOzwAAAAQLcTAk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17371836452",
      "actor": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-23T13:58:58Z"
    },
    {
      "event": "subscribed",
      "id": 17371836493,
      "node_id": "SE_lADOABII585t1ykOzwAAAAQLcTBN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17371836493",
      "actor": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-23T13:58:58Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1331775156",
      "pull_request_review_id": 1635872510,
      "id": 1331775156,
      "node_id": "PRRC_kwDOABII585PYUa0",
      "diff_hunk": "@@ -0,0 +1,135 @@\n+#include <index/silentpaymentindex.h>\n+\n+#include <chainparams.h>\n+#include <coins.h>\n+#include <common/args.h>\n+#include <index/disktxpos.h>\n+#include <node/blockstorage.h>\n+#include <pubkey.h>\n+#include <primitives/transaction.h>\n+// TODO: move GetSilentPaymentsTweakDataFromTxInputs out of wallet?\n+#include <wallet/silentpayments.h>\n+#include <undo.h>\n+#include <validation.h>\n+\n+#include <dbwrapper.h>\n+#include <hash.h>\n+\n+constexpr uint8_t DB_SILENT_PAYMENT_INDEX{'s'};\n+\n+std::unique_ptr<SilentPaymentIndex> g_silent_payment_index;\n+\n+/** Access to the silent payment index database (indexes/silentpaymentindex/) */\n+class SilentPaymentIndex::DB : public BaseIndex::DB\n+{\n+public:\n+    explicit DB(size_t n_cache_size, bool f_memory = false, bool f_wipe = false);\n+\n+    bool WriteSilentPayments(const std::vector<std::pair<uint256, CPubKey>>& items);\n+};\n+\n+SilentPaymentIndex::DB::DB(size_t n_cache_size, bool f_memory, bool f_wipe) :\n+    BaseIndex::DB(gArgs.GetDataDirNet() / \"indexes\" / \"silentpaymentindex\", n_cache_size, f_memory, f_wipe)\n+{}\n+\n+bool SilentPaymentIndex::DB::WriteSilentPayments(const std::vector<std::pair<uint256, CPubKey>>& items)\n+{\n+    CDBBatch batch(*this);\n+    for (const auto& tuple : items) {\n+        batch.Write(std::make_pair(DB_SILENT_PAYMENT_INDEX, tuple.first), tuple.second);\n+    }\n+    return WriteBatch(batch);\n+}\n+\n+SilentPaymentIndex::SilentPaymentIndex(std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n+    : BaseIndex(std::move(chain), \"silentpaymentindex\"), m_db(std::make_unique<SilentPaymentIndex::DB>(n_cache_size, f_memory, f_wipe))\n+{}\n+\n+SilentPaymentIndex::~SilentPaymentIndex() {}\n+\n+// TODO: it's more efficient to do this per block\n+bool SilentPaymentIndex::GetSilentPaymentKey(const CTransactionRef& tx, const CBlockIndex& blockindex, CPubKey& tweakedPubKeySum)\n+{\n+    if (tx->IsCoinBase()) {\n+        return false;\n+    }\n+\n+    for (auto& vout : tx->vout) {\n+        std::vector<std::vector<unsigned char>> solutions;\n+        TxoutType whichType = Solver(vout.scriptPubKey, solutions);\n+\n+        if (whichType != TxoutType::WITNESS_V1_TAPROOT) {\n+            return false;\n+        }\n+    }",
      "path": "src/index/silentpaymentindex.cpp",
      "position": null,
      "original_position": 64,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "0235ff2891ec9573d2bdc67d0a08ba47040fd173",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think this logic doesn't match the BIP, as it currently implements \"all outputs have to be taproot outputs\" rather than \"at least _one_ output has to be a taproot output\"? Could use `std::none_of` to achieve the latter (https://en.cppreference.com/w/cpp/algorithm/all_any_none_of).\r\n\r\nSomething like\r\n```\r\n    if (std::none_of(tx.vout.begin(), tx.vout.end(), [](const TxOut& txout) {\r\n            std::vector<std::vector<unsigned char>> solutions;\r\n            return Solver(vout.scriptPubKey, solutions) == TxoutType::WITNESS_V1_TAPROOT;\r\n        }) {\r\n        return false;\r\n    }\r\n```\r\n(untested)",
      "created_at": "2023-09-20T15:03:39Z",
      "updated_at": "2023-09-20T15:03:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1331775156",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1331775156"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": 57,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 64,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1331881346",
      "pull_request_review_id": 1636035765,
      "id": 1331881346,
      "node_id": "PRRC_kwDOABII585PYuWC",
      "diff_hunk": "@@ -0,0 +1,135 @@\n+#include <index/silentpaymentindex.h>\n+\n+#include <chainparams.h>\n+#include <coins.h>\n+#include <common/args.h>\n+#include <index/disktxpos.h>\n+#include <node/blockstorage.h>\n+#include <pubkey.h>\n+#include <primitives/transaction.h>\n+// TODO: move GetSilentPaymentsTweakDataFromTxInputs out of wallet?\n+#include <wallet/silentpayments.h>\n+#include <undo.h>\n+#include <validation.h>\n+\n+#include <dbwrapper.h>\n+#include <hash.h>\n+\n+constexpr uint8_t DB_SILENT_PAYMENT_INDEX{'s'};\n+\n+std::unique_ptr<SilentPaymentIndex> g_silent_payment_index;\n+\n+/** Access to the silent payment index database (indexes/silentpaymentindex/) */\n+class SilentPaymentIndex::DB : public BaseIndex::DB\n+{\n+public:\n+    explicit DB(size_t n_cache_size, bool f_memory = false, bool f_wipe = false);\n+\n+    bool WriteSilentPayments(const std::vector<std::pair<uint256, CPubKey>>& items);\n+};\n+\n+SilentPaymentIndex::DB::DB(size_t n_cache_size, bool f_memory, bool f_wipe) :\n+    BaseIndex::DB(gArgs.GetDataDirNet() / \"indexes\" / \"silentpaymentindex\", n_cache_size, f_memory, f_wipe)\n+{}\n+\n+bool SilentPaymentIndex::DB::WriteSilentPayments(const std::vector<std::pair<uint256, CPubKey>>& items)\n+{\n+    CDBBatch batch(*this);\n+    for (const auto& tuple : items) {\n+        batch.Write(std::make_pair(DB_SILENT_PAYMENT_INDEX, tuple.first), tuple.second);\n+    }\n+    return WriteBatch(batch);\n+}\n+\n+SilentPaymentIndex::SilentPaymentIndex(std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n+    : BaseIndex(std::move(chain), \"silentpaymentindex\"), m_db(std::make_unique<SilentPaymentIndex::DB>(n_cache_size, f_memory, f_wipe))\n+{}\n+\n+SilentPaymentIndex::~SilentPaymentIndex() {}\n+\n+// TODO: it's more efficient to do this per block\n+bool SilentPaymentIndex::GetSilentPaymentKey(const CTransactionRef& tx, const CBlockIndex& blockindex, CPubKey& tweakedPubKeySum)\n+{\n+    if (tx->IsCoinBase()) {\n+        return false;\n+    }\n+\n+    for (auto& vout : tx->vout) {\n+        std::vector<std::vector<unsigned char>> solutions;\n+        TxoutType whichType = Solver(vout.scriptPubKey, solutions);\n+\n+        if (whichType != TxoutType::WITNESS_V1_TAPROOT) {\n+            return false;\n+        }\n+    }",
      "path": "src/index/silentpaymentindex.cpp",
      "position": null,
      "original_position": 64,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "0235ff2891ec9573d2bdc67d0a08ba47040fd173",
      "in_reply_to_id": 1331775156,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "@josibake it sounds like this should be another helper function. The index shouldn't be too far in the weeds of the BIP rules.\r\n\r\nHowever, I'll look into fixing this.",
      "created_at": "2023-09-20T16:09:49Z",
      "updated_at": "2023-09-20T16:09:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1331881346",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1331881346"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": 57,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 64,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1331900870",
      "pull_request_review_id": 1636065708,
      "id": 1331900870,
      "node_id": "PRRC_kwDOABII585PYzHG",
      "diff_hunk": "@@ -0,0 +1,135 @@\n+#include <index/silentpaymentindex.h>\n+\n+#include <chainparams.h>\n+#include <coins.h>\n+#include <common/args.h>\n+#include <index/disktxpos.h>\n+#include <node/blockstorage.h>\n+#include <pubkey.h>\n+#include <primitives/transaction.h>\n+// TODO: move GetSilentPaymentsTweakDataFromTxInputs out of wallet?\n+#include <wallet/silentpayments.h>\n+#include <undo.h>\n+#include <validation.h>\n+\n+#include <dbwrapper.h>\n+#include <hash.h>\n+\n+constexpr uint8_t DB_SILENT_PAYMENT_INDEX{'s'};\n+\n+std::unique_ptr<SilentPaymentIndex> g_silent_payment_index;\n+\n+/** Access to the silent payment index database (indexes/silentpaymentindex/) */\n+class SilentPaymentIndex::DB : public BaseIndex::DB\n+{\n+public:\n+    explicit DB(size_t n_cache_size, bool f_memory = false, bool f_wipe = false);\n+\n+    bool WriteSilentPayments(const std::vector<std::pair<uint256, CPubKey>>& items);\n+};\n+\n+SilentPaymentIndex::DB::DB(size_t n_cache_size, bool f_memory, bool f_wipe) :\n+    BaseIndex::DB(gArgs.GetDataDirNet() / \"indexes\" / \"silentpaymentindex\", n_cache_size, f_memory, f_wipe)\n+{}\n+\n+bool SilentPaymentIndex::DB::WriteSilentPayments(const std::vector<std::pair<uint256, CPubKey>>& items)\n+{\n+    CDBBatch batch(*this);\n+    for (const auto& tuple : items) {\n+        batch.Write(std::make_pair(DB_SILENT_PAYMENT_INDEX, tuple.first), tuple.second);\n+    }\n+    return WriteBatch(batch);\n+}\n+\n+SilentPaymentIndex::SilentPaymentIndex(std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n+    : BaseIndex(std::move(chain), \"silentpaymentindex\"), m_db(std::make_unique<SilentPaymentIndex::DB>(n_cache_size, f_memory, f_wipe))\n+{}\n+\n+SilentPaymentIndex::~SilentPaymentIndex() {}\n+\n+// TODO: it's more efficient to do this per block\n+bool SilentPaymentIndex::GetSilentPaymentKey(const CTransactionRef& tx, const CBlockIndex& blockindex, CPubKey& tweakedPubKeySum)\n+{\n+    if (tx->IsCoinBase()) {\n+        return false;\n+    }\n+\n+    for (auto& vout : tx->vout) {\n+        std::vector<std::vector<unsigned char>> solutions;\n+        TxoutType whichType = Solver(vout.scriptPubKey, solutions);\n+\n+        if (whichType != TxoutType::WITNESS_V1_TAPROOT) {\n+            return false;\n+        }\n+    }",
      "path": "src/index/silentpaymentindex.cpp",
      "position": null,
      "original_position": 64,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "0235ff2891ec9573d2bdc67d0a08ba47040fd173",
      "in_reply_to_id": 1331775156,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Should be fixed now.",
      "created_at": "2023-09-20T16:26:14Z",
      "updated_at": "2023-09-20T16:26:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1331900870",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1331900870"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": 57,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 64,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1331905745",
      "pull_request_review_id": 1636074083,
      "id": 1331905745,
      "node_id": "PRRC_kwDOABII585PY0TR",
      "diff_hunk": "@@ -0,0 +1,134 @@\n+#include <index/silentpaymentindex.h>\n+\n+#include <chainparams.h>\n+#include <coins.h>\n+#include <common/args.h>\n+#include <index/disktxpos.h>\n+#include <node/blockstorage.h>\n+#include <pubkey.h>\n+#include <primitives/transaction.h>\n+// TODO: move GetSilentPaymentsTweakDataFromTxInputs out of wallet?\n+#include <wallet/silentpayments.h>\n+#include <undo.h>\n+#include <validation.h>\n+\n+#include <dbwrapper.h>\n+#include <hash.h>\n+\n+constexpr uint8_t DB_SILENT_PAYMENT_INDEX{'s'};\n+\n+std::unique_ptr<SilentPaymentIndex> g_silent_payment_index;\n+\n+/** Access to the silent payment index database (indexes/silentpaymentindex/) */\n+class SilentPaymentIndex::DB : public BaseIndex::DB\n+{\n+public:\n+    explicit DB(size_t n_cache_size, bool f_memory = false, bool f_wipe = false);\n+\n+    bool WriteSilentPayments(const std::pair<uint256, std::vector<CPubKey>>& tweaks);\n+};\n+\n+SilentPaymentIndex::DB::DB(size_t n_cache_size, bool f_memory, bool f_wipe) :\n+    BaseIndex::DB(gArgs.GetDataDirNet() / \"indexes\" / \"silentpaymentindex\", n_cache_size, f_memory, f_wipe)\n+{}\n+\n+bool SilentPaymentIndex::DB::WriteSilentPayments(const std::pair<uint256, std::vector<CPubKey>>& tweaks)\n+{\n+    CDBBatch batch(*this);\n+    batch.Write(std::make_pair(DB_SILENT_PAYMENT_INDEX, tweaks.first), tweaks.second);\n+    return WriteBatch(batch);\n+}\n+\n+SilentPaymentIndex::SilentPaymentIndex(std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n+    : BaseIndex(std::move(chain), \"silentpaymentindex\"), m_db(std::make_unique<SilentPaymentIndex::DB>(n_cache_size, f_memory, f_wipe))\n+{}\n+\n+SilentPaymentIndex::~SilentPaymentIndex() {}\n+\n+bool SilentPaymentIndex::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockUndo& block_undo, std::vector<CPubKey>& tweaked_pub_key_sums)\n+{\n+    assert(txs.size() - 1 == block_undo.vtxundo.size());\n+\n+    for (uint32_t i=0; i < txs.size(); i++) {\n+        auto& tx = txs.at(i);\n+\n+        if (tx->IsCoinBase()) {\n+            continue;\n+        }\n+\n+        for (auto& vout : tx->vout) {\n+            if (std::none_of(tx->vout.begin(), tx->vout.end(), [vout](const CTxOut& txout) {\n+                std::vector<std::vector<unsigned char>> solutions;\n+                return Solver(vout.scriptPubKey, solutions) == TxoutType::WITNESS_V1_TAPROOT;\n+            })) {\n+                continue;\n+            }\n+        }\n+\n+        // -1 as blockundo does not have coinbase tx\n+        CTxUndo undoTX{block_undo.vtxundo.at(i - 1)};\n+        std::map<COutPoint, Coin> coins;\n+\n+        for (uint32_t j = 0; j < tx->vin.size(); j++) {\n+            coins[tx->vin.at(j).prevout] = undoTX.vprevout.at(j);\n+        }\n+\n+        const auto tweak_data = wallet::GetSilentPaymentsTweakDataFromTxInputs(tx->vin, coins);\n+\n+        if (!tweak_data) continue;\n+\n+        const uint256 outpoint_hash = tweak_data->first;\n+        CPubKey tweaked_pub_key_sum = tweak_data->second;\n+        if (!tweaked_pub_key_sum.TweakAdd(outpoint_hash.begin())) {\n+            // TODO: Is this bad??\n+            continue;\n+        }\n+        assert(tweaked_pub_key_sum.IsFullyValid());\n+        tweaked_pub_key_sums.emplace_back(tweaked_pub_key_sum);\n+    }\n+\n+    // TODO: so this can never fail?\n+    return true;\n+\n+\n+}\n+\n+bool SilentPaymentIndex::CustomAppend(const interfaces::BlockInfo& block)\n+{\n+    // Exclude genesis block transaction because outputs are not spendable.\n+    if (block.height == 0) return true;\n+\n+    assert(block.data);\n+\n+    Consensus::Params consensus = Params().GetConsensus();\n+\n+    if (block.height < consensus.vDeployments[Consensus::DEPLOYMENT_TAPROOT].min_activation_height) {",
      "path": "src/index/silentpaymentindex.cpp",
      "position": null,
      "original_position": 105,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "91fd02f4474c1cfae2aaa5064866e9766dbd7379",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "It might be nice if the indexer base class can skip ahead to a minimum height, as it takes a bunch of time to go through all the blocks.",
      "created_at": "2023-09-20T16:30:17Z",
      "updated_at": "2023-09-20T16:30:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1331905745",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1331905745"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 103,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1331983796",
      "pull_request_review_id": 1636196767,
      "id": 1331983796,
      "node_id": "PRRC_kwDOABII585PZHW0",
      "diff_hunk": "@@ -0,0 +1,135 @@\n+#include <index/silentpaymentindex.h>\n+\n+#include <chainparams.h>\n+#include <coins.h>\n+#include <common/args.h>\n+#include <index/disktxpos.h>\n+#include <node/blockstorage.h>\n+#include <pubkey.h>\n+#include <primitives/transaction.h>\n+// TODO: move GetSilentPaymentsTweakDataFromTxInputs out of wallet?\n+#include <wallet/silentpayments.h>\n+#include <undo.h>\n+#include <validation.h>\n+\n+#include <dbwrapper.h>\n+#include <hash.h>\n+\n+constexpr uint8_t DB_SILENT_PAYMENT_INDEX{'s'};\n+\n+std::unique_ptr<SilentPaymentIndex> g_silent_payment_index;\n+\n+/** Access to the silent payment index database (indexes/silentpaymentindex/) */\n+class SilentPaymentIndex::DB : public BaseIndex::DB\n+{\n+public:\n+    explicit DB(size_t n_cache_size, bool f_memory = false, bool f_wipe = false);\n+\n+    bool WriteSilentPayments(const std::vector<std::pair<uint256, CPubKey>>& items);\n+};\n+\n+SilentPaymentIndex::DB::DB(size_t n_cache_size, bool f_memory, bool f_wipe) :\n+    BaseIndex::DB(gArgs.GetDataDirNet() / \"indexes\" / \"silentpaymentindex\", n_cache_size, f_memory, f_wipe)\n+{}\n+\n+bool SilentPaymentIndex::DB::WriteSilentPayments(const std::vector<std::pair<uint256, CPubKey>>& items)\n+{\n+    CDBBatch batch(*this);\n+    for (const auto& tuple : items) {\n+        batch.Write(std::make_pair(DB_SILENT_PAYMENT_INDEX, tuple.first), tuple.second);\n+    }\n+    return WriteBatch(batch);\n+}\n+\n+SilentPaymentIndex::SilentPaymentIndex(std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n+    : BaseIndex(std::move(chain), \"silentpaymentindex\"), m_db(std::make_unique<SilentPaymentIndex::DB>(n_cache_size, f_memory, f_wipe))\n+{}\n+\n+SilentPaymentIndex::~SilentPaymentIndex() {}\n+\n+// TODO: it's more efficient to do this per block\n+bool SilentPaymentIndex::GetSilentPaymentKey(const CTransactionRef& tx, const CBlockIndex& blockindex, CPubKey& tweakedPubKeySum)\n+{\n+    if (tx->IsCoinBase()) {\n+        return false;\n+    }\n+\n+    for (auto& vout : tx->vout) {\n+        std::vector<std::vector<unsigned char>> solutions;\n+        TxoutType whichType = Solver(vout.scriptPubKey, solutions);\n+\n+        if (whichType != TxoutType::WITNESS_V1_TAPROOT) {\n+            return false;\n+        }\n+    }",
      "path": "src/index/silentpaymentindex.cpp",
      "position": null,
      "original_position": 64,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "0235ff2891ec9573d2bdc67d0a08ba47040fd173",
      "in_reply_to_id": 1331775156,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Oops, pushing new fix.",
      "created_at": "2023-09-20T17:42:45Z",
      "updated_at": "2023-09-20T17:42:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1331983796",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1331983796"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": 57,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 64,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1340496572",
      "pull_request_review_id": 1649426783,
      "id": 1340496572,
      "node_id": "PRRC_kwDOABII585P5lq8",
      "diff_hunk": "@@ -905,6 +917,8 @@ bool AppInitParameterInteraction(const ArgsManager& args)\n     if (args.GetIntArg(\"-prune\", 0)) {\n         if (args.GetBoolArg(\"-txindex\", DEFAULT_TXINDEX))\n             return InitError(_(\"Prune mode is incompatible with -txindex.\"));\n+        if (args.GetBoolArg(\"-silentpaymentindex\", DEFAULT_SILENT_PAYMENT_INDEX))\n+            return InitError(_(\"Prune mode is incompatible with -txospenderindex.\"));",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 45,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "432b7a235a2972b5c0064ab9eca44606760aa9b8",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "`silentpaymentindex`?",
      "created_at": "2023-09-28T17:54:18Z",
      "updated_at": "2023-09-28T19:54:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1340496572",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1340496572"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 958,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1340671534",
      "pull_request_review_id": 1649715687,
      "id": 1340671534,
      "node_id": "PRRC_kwDOABII585P6QYu",
      "diff_hunk": "@@ -0,0 +1,134 @@\n+#include <index/silentpaymentindex.h>\n+\n+#include <chainparams.h>\n+#include <coins.h>\n+#include <common/args.h>\n+#include <index/disktxpos.h>\n+#include <node/blockstorage.h>\n+#include <pubkey.h>\n+#include <primitives/transaction.h>\n+// TODO: move GetSilentPaymentsTweakDataFromTxInputs out of wallet?\n+#include <wallet/silentpayments.h>\n+#include <undo.h>\n+#include <validation.h>\n+\n+#include <dbwrapper.h>\n+#include <hash.h>\n+\n+constexpr uint8_t DB_SILENT_PAYMENT_INDEX{'s'};\n+\n+std::unique_ptr<SilentPaymentIndex> g_silent_payment_index;\n+\n+/** Access to the silent payment index database (indexes/silentpaymentindex/) */\n+class SilentPaymentIndex::DB : public BaseIndex::DB\n+{\n+public:\n+    explicit DB(size_t n_cache_size, bool f_memory = false, bool f_wipe = false);\n+\n+    bool WriteSilentPayments(const std::pair<uint256, std::vector<CPubKey>>& tweaks);\n+};\n+\n+SilentPaymentIndex::DB::DB(size_t n_cache_size, bool f_memory, bool f_wipe) :\n+    BaseIndex::DB(gArgs.GetDataDirNet() / \"indexes\" / \"silentpaymentindex\", n_cache_size, f_memory, f_wipe)\n+{}\n+\n+bool SilentPaymentIndex::DB::WriteSilentPayments(const std::pair<uint256, std::vector<CPubKey>>& tweaks)\n+{\n+    CDBBatch batch(*this);\n+    batch.Write(std::make_pair(DB_SILENT_PAYMENT_INDEX, tweaks.first), tweaks.second);\n+    return WriteBatch(batch);\n+}\n+\n+SilentPaymentIndex::SilentPaymentIndex(std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n+    : BaseIndex(std::move(chain), \"silentpaymentindex\"), m_db(std::make_unique<SilentPaymentIndex::DB>(n_cache_size, f_memory, f_wipe))\n+{}\n+\n+SilentPaymentIndex::~SilentPaymentIndex() {}\n+\n+bool SilentPaymentIndex::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockUndo& block_undo, std::vector<CPubKey>& tweaked_pub_key_sums)\n+{\n+    assert(txs.size() - 1 == block_undo.vtxundo.size());\n+\n+    for (uint32_t i=0; i < txs.size(); i++) {\n+        auto& tx = txs.at(i);\n+\n+        if (tx->IsCoinBase()) {\n+            continue;\n+        }\n+\n+        for (auto& vout : tx->vout) {\n+            if (std::none_of(tx->vout.begin(), tx->vout.end(), [vout](const CTxOut& txout) {\n+                std::vector<std::vector<unsigned char>> solutions;\n+                return Solver(vout.scriptPubKey, solutions) == TxoutType::WITNESS_V1_TAPROOT;\n+            })) {\n+                continue;\n+            }\n+        }\n+\n+        // -1 as blockundo does not have coinbase tx\n+        CTxUndo undoTX{block_undo.vtxundo.at(i - 1)};\n+        std::map<COutPoint, Coin> coins;\n+\n+        for (uint32_t j = 0; j < tx->vin.size(); j++) {\n+            coins[tx->vin.at(j).prevout] = undoTX.vprevout.at(j);\n+        }\n+\n+        const auto tweak_data = wallet::GetSilentPaymentsTweakDataFromTxInputs(tx->vin, coins);\n+\n+        if (!tweak_data) continue;\n+\n+        const uint256 outpoint_hash = tweak_data->first;\n+        CPubKey tweaked_pub_key_sum = tweak_data->second;\n+        if (!tweaked_pub_key_sum.TweakAdd(outpoint_hash.begin())) {\n+            // TODO: Is this bad??\n+            continue;\n+        }\n+        assert(tweaked_pub_key_sum.IsFullyValid());\n+        tweaked_pub_key_sums.emplace_back(tweaked_pub_key_sum);\n+    }\n+\n+    // TODO: so this can never fail?\n+    return true;\n+\n+\n+}\n+\n+bool SilentPaymentIndex::CustomAppend(const interfaces::BlockInfo& block)\n+{\n+    // Exclude genesis block transaction because outputs are not spendable.\n+    if (block.height == 0) return true;\n+\n+    assert(block.data);\n+\n+    Consensus::Params consensus = Params().GetConsensus();\n+\n+    if (block.height < consensus.vDeployments[Consensus::DEPLOYMENT_TAPROOT].min_activation_height) {",
      "path": "src/index/silentpaymentindex.cpp",
      "position": null,
      "original_position": 105,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "91fd02f4474c1cfae2aaa5064866e9766dbd7379",
      "in_reply_to_id": 1331905745,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Yeah, we don't have the possibility to skip blocks yet, so I think we would need to add it as a feature on base index, I have started drafting it here, though it's not functional yet: https://github.com/fjahr/bitcoin/commit/cd7bf1249765a011210653c393b3a0fdb7106d55\r\n\r\nBut I also guess 2h doesn't sound extremely bad, we might want more than one silentpaymentindex to motivate something like this.",
      "created_at": "2023-09-28T21:09:42Z",
      "updated_at": "2023-09-28T21:09:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1340671534",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1340671534"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 103,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341036797",
      "pull_request_review_id": 1650257409,
      "id": 1341036797,
      "node_id": "PRRC_kwDOABII585P7pj9",
      "diff_hunk": "@@ -905,6 +917,8 @@ bool AppInitParameterInteraction(const ArgsManager& args)\n     if (args.GetIntArg(\"-prune\", 0)) {\n         if (args.GetBoolArg(\"-txindex\", DEFAULT_TXINDEX))\n             return InitError(_(\"Prune mode is incompatible with -txindex.\"));\n+        if (args.GetBoolArg(\"-silentpaymentindex\", DEFAULT_SILENT_PAYMENT_INDEX))\n+            return InitError(_(\"Prune mode is incompatible with -txospenderindex.\"));",
      "path": "src/init.cpp",
      "position": null,
      "original_position": 45,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "432b7a235a2972b5c0064ab9eca44606760aa9b8",
      "in_reply_to_id": 1340496572,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I should probably get rid of this error, since the entry for each block is independent, pruning shouldn't be a problem.",
      "created_at": "2023-09-29T07:54:56Z",
      "updated_at": "2023-09-29T07:54:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1341036797",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1341036797"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 958,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1493405713",
      "pull_request_review_id": 1887029235,
      "id": 1493405713,
      "node_id": "PRRC_kwDOABII585ZA5AR",
      "diff_hunk": "@@ -16,6 +16,7 @@\n #include <hash.h>\n \n constexpr uint8_t DB_SILENT_PAYMENT_INDEX{'s'};\n+const int TAPROOT_MAINNET_ACTIVATION_HEIGHT{709632};",
      "path": "src/index/silentpaymentindex.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "ce0e59e4bcdec4a70787e221bfe89d7ad7a1d12c",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Why hardcode this value here when we can get it from chain params?",
      "created_at": "2024-02-17T21:11:37Z",
      "updated_at": "2024-02-17T21:11:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1493405713",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1493405713"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1493429857",
      "pull_request_review_id": 1887035555,
      "id": 1493429857,
      "node_id": "PRRC_kwDOABII585ZA-5h",
      "diff_hunk": "@@ -93,17 +95,11 @@ bool SilentPaymentIndex::GetSilentPaymentKeys(std::vector<CTransactionRef> txs,\n \n bool SilentPaymentIndex::CustomAppend(const interfaces::BlockInfo& block)\n {\n-    // Exclude genesis block transaction because outputs are not spendable.\n-    if (block.height == 0) return true;",
      "path": "src/index/silentpaymentindex.cpp",
      "position": null,
      "original_position": 42,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "ce0e59e4bcdec4a70787e221bfe89d7ad7a1d12c",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Removing this is causing an error on all non-mainnet chains now because m_start_height is 0 by default, which is the genesis block and it needs to be skipped because it's unspendable and has no undo data.",
      "created_at": "2024-02-17T21:58:58Z",
      "updated_at": "2024-02-17T21:58:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1493429857",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1493429857"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 97,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1493494203",
      "pull_request_review_id": 1887051050,
      "id": 1493494203,
      "node_id": "PRRC_kwDOABII585ZBOm7",
      "diff_hunk": "@@ -28,8 +29,9 @@ class SilentPaymentIndex::DB : public BaseIndex::DB\n     bool WriteSilentPayments(const std::pair<uint256, std::vector<CPubKey>>& tweaks);\n };\n \n+// TODO: check if we're on mainnet, otherwise start_height=0\n SilentPaymentIndex::DB::DB(size_t n_cache_size, bool f_memory, bool f_wipe) :\n-    BaseIndex::DB(gArgs.GetDataDirNet() / \"indexes\" / \"silentpaymentindex\", n_cache_size, f_memory, f_wipe)\n+    BaseIndex::DB(gArgs.GetDataDirNet() / \"indexes\" / \"silentpaymentindex\", n_cache_size, f_memory, f_wipe, /*start_height=*/TAPROOT_MAINNET_ACTIVATION_HEIGHT)",
      "path": "src/index/silentpaymentindex.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "ce0e59e4bcdec4a70787e221bfe89d7ad7a1d12c",
      "in_reply_to_id": null,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This isn't the right place to pass the `start_height`, this is actually setting the obfuscate option of the DB that is constructed here.",
      "created_at": "2024-02-18T00:23:53Z",
      "updated_at": "2024-02-18T00:23:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1493494203",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1493494203"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1493495599",
      "pull_request_review_id": 1887051295,
      "id": 1493495599,
      "node_id": "PRRC_kwDOABII585ZBO8v",
      "diff_hunk": "@@ -28,8 +29,9 @@ class SilentPaymentIndex::DB : public BaseIndex::DB\n     bool WriteSilentPayments(const std::pair<uint256, std::vector<CPubKey>>& tweaks);\n };\n \n+// TODO: check if we're on mainnet, otherwise start_height=0\n SilentPaymentIndex::DB::DB(size_t n_cache_size, bool f_memory, bool f_wipe) :\n-    BaseIndex::DB(gArgs.GetDataDirNet() / \"indexes\" / \"silentpaymentindex\", n_cache_size, f_memory, f_wipe)\n+    BaseIndex::DB(gArgs.GetDataDirNet() / \"indexes\" / \"silentpaymentindex\", n_cache_size, f_memory, f_wipe, /*start_height=*/TAPROOT_MAINNET_ACTIVATION_HEIGHT)",
      "path": "src/index/silentpaymentindex.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "ce0e59e4bcdec4a70787e221bfe89d7ad7a1d12c",
      "in_reply_to_id": 1493494203,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The `start height` goes into the `BaseIndex` constructor on line 45 below:\r\n\r\n```\r\nSilentPaymentIndex::SilentPaymentIndex(std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\r\n    : BaseIndex(std::move(chain), \"silentpaymentindex\", /*start_height=*/TAPROOT_MAINNET_ACTIVATION_HEIGHT), m_db(std::make_unique<SilentPaymentIndex::DB>(n_cache_size, f_memory, f_wipe))\r\n{}\r\n```",
      "created_at": "2024-02-18T00:27:35Z",
      "updated_at": "2024-02-18T00:35:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1493495599",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1493495599"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1494191408",
      "pull_request_review_id": 1887852035,
      "id": 1494191408,
      "node_id": "PRRC_kwDOABII585ZD40w",
      "diff_hunk": "@@ -16,6 +16,7 @@\n #include <hash.h>\n \n constexpr uint8_t DB_SILENT_PAYMENT_INDEX{'s'};\n+const int TAPROOT_MAINNET_ACTIVATION_HEIGHT{709632};",
      "path": "src/index/silentpaymentindex.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "ce0e59e4bcdec4a70787e221bfe89d7ad7a1d12c",
      "in_reply_to_id": 1493405713,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Because I want to drop that in #26201. Though perhaps Silent Payments itself is a reason to keep it. But we could still demote it to a regular constant rather than consensus.",
      "created_at": "2024-02-19T08:45:49Z",
      "updated_at": "2024-02-19T08:46:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1494191408",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1494191408"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1494213677",
      "pull_request_review_id": 1887887077,
      "id": 1494213677,
      "node_id": "PRRC_kwDOABII585ZD-Qt",
      "diff_hunk": "@@ -16,6 +16,7 @@\n #include <hash.h>\n \n constexpr uint8_t DB_SILENT_PAYMENT_INDEX{'s'};\n+const int TAPROOT_MAINNET_ACTIVATION_HEIGHT{709632};",
      "path": "src/index/silentpaymentindex.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "ce0e59e4bcdec4a70787e221bfe89d7ad7a1d12c",
      "in_reply_to_id": 1493405713,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "(though I think the specific reason here was because I was in a hurry)",
      "created_at": "2024-02-19T09:02:11Z",
      "updated_at": "2024-02-19T09:02:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1494213677",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1494213677"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1494217939",
      "pull_request_review_id": 1887893992,
      "id": 1494217939,
      "node_id": "PRRC_kwDOABII585ZD_TT",
      "diff_hunk": "@@ -93,17 +95,11 @@ bool SilentPaymentIndex::GetSilentPaymentKeys(std::vector<CTransactionRef> txs,\n \n bool SilentPaymentIndex::CustomAppend(const interfaces::BlockInfo& block)\n {\n-    // Exclude genesis block transaction because outputs are not spendable.\n-    if (block.height == 0) return true;",
      "path": "src/index/silentpaymentindex.cpp",
      "position": null,
      "original_position": 42,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "ce0e59e4bcdec4a70787e221bfe89d7ad7a1d12c",
      "in_reply_to_id": 1493429857,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Brought it back.",
      "created_at": "2024-02-19T09:05:34Z",
      "updated_at": "2024-02-19T09:05:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1494217939",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1494217939"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 97,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1494226737",
      "pull_request_review_id": 1887908292,
      "id": 1494226737,
      "node_id": "PRRC_kwDOABII585ZEBcx",
      "diff_hunk": "@@ -28,8 +29,9 @@ class SilentPaymentIndex::DB : public BaseIndex::DB\n     bool WriteSilentPayments(const std::pair<uint256, std::vector<CPubKey>>& tweaks);\n };\n \n+// TODO: check if we're on mainnet, otherwise start_height=0\n SilentPaymentIndex::DB::DB(size_t n_cache_size, bool f_memory, bool f_wipe) :\n-    BaseIndex::DB(gArgs.GetDataDirNet() / \"indexes\" / \"silentpaymentindex\", n_cache_size, f_memory, f_wipe)\n+    BaseIndex::DB(gArgs.GetDataDirNet() / \"indexes\" / \"silentpaymentindex\", n_cache_size, f_memory, f_wipe, /*start_height=*/TAPROOT_MAINNET_ACTIVATION_HEIGHT)",
      "path": "src/index/silentpaymentindex.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "ce0e59e4bcdec4a70787e221bfe89d7ad7a1d12c",
      "in_reply_to_id": 1493494203,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2024-02-19T09:12:20Z",
      "updated_at": "2024-02-19T09:12:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1494226737",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1494226737"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1494466102",
      "pull_request_review_id": 1888284913,
      "id": 1494466102,
      "node_id": "PRRC_kwDOABII585ZE742",
      "diff_hunk": "@@ -16,6 +16,7 @@\n #include <hash.h>\n \n constexpr uint8_t DB_SILENT_PAYMENT_INDEX{'s'};\n+const int TAPROOT_MAINNET_ACTIVATION_HEIGHT{709632};",
      "path": "src/index/silentpaymentindex.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "ce0e59e4bcdec4a70787e221bfe89d7ad7a1d12c",
      "in_reply_to_id": 1493405713,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Ok, I see. If the taproot activation height is removed we might decide not to use that specific height at all but rather one that is around the time the BIP was proposed or even to some time around now? The specifics of the approach have been changed a lot and so even if someone already has experimented with it in the last few months the current iteration likely won't work for them to be able to spend their funds, no @josibake ? Had we discussed adding the start height as a parameter? That may be another option, though raising the complexity quite a bit...",
      "created_at": "2024-02-19T12:20:53Z",
      "updated_at": "2024-02-19T12:27:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1494466102",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1494466102"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1511956337",
      "pull_request_review_id": 1915594768,
      "id": 1511956337,
      "node_id": "PRRC_kwDOABII585aHp9x",
      "diff_hunk": "@@ -0,0 +1,132 @@\n+#include <index/silentpaymentindex.h>\n+\n+#include <chainparams.h>\n+#include <coins.h>\n+#include <common/args.h>\n+#include <index/disktxpos.h>\n+#include <node/blockstorage.h>\n+#include <pubkey.h>\n+#include <primitives/transaction.h>\n+// TODO: move GetSilentPaymentsTweakDataFromTxInputs out of wallet?\n+#include <wallet/silentpayments.h>\n+#include <undo.h>\n+#include <validation.h>\n+\n+#include <dbwrapper.h>\n+#include <hash.h>\n+\n+constexpr uint8_t DB_SILENT_PAYMENT_INDEX{'s'};\n+\n+std::unique_ptr<SilentPaymentIndex> g_silent_payment_index;\n+\n+/** Access to the silent payment index database (indexes/silentpaymentindex/) */\n+class SilentPaymentIndex::DB : public BaseIndex::DB\n+{\n+public:\n+    explicit DB(size_t n_cache_size, bool f_memory = false, bool f_wipe = false);\n+\n+    bool WriteSilentPayments(const std::pair<uint256, std::vector<CPubKey>>& tweaks);\n+};\n+\n+SilentPaymentIndex::DB::DB(size_t n_cache_size, bool f_memory, bool f_wipe) :\n+    BaseIndex::DB(gArgs.GetDataDirNet() / \"indexes\" / \"silentpaymentindex\", n_cache_size, f_memory, f_wipe)\n+{}\n+\n+bool SilentPaymentIndex::DB::WriteSilentPayments(const std::pair<uint256, std::vector<CPubKey>>& tweaks)\n+{\n+    CDBBatch batch(*this);\n+    batch.Write(std::make_pair(DB_SILENT_PAYMENT_INDEX, tweaks.first), tweaks.second);\n+    return WriteBatch(batch);\n+}\n+\n+SilentPaymentIndex::SilentPaymentIndex(std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n+    : BaseIndex(std::move(chain), \"silentpaymentindex\"), m_db(std::make_unique<SilentPaymentIndex::DB>(n_cache_size, f_memory, f_wipe))\n+{}\n+\n+SilentPaymentIndex::~SilentPaymentIndex() {}\n+\n+bool SilentPaymentIndex::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockUndo& block_undo, std::vector<CPubKey>& tweaked_pub_key_sums)\n+{\n+    assert(txs.size() - 1 == block_undo.vtxundo.size());\n+\n+    for (uint32_t i=0; i < txs.size(); i++) {\n+        auto& tx = txs.at(i);\n+\n+        if (tx->IsCoinBase()) {\n+            continue;\n+        }\n+\n+        if (std::none_of(tx->vout.begin(), tx->vout.end(), [](const CTxOut& txout) {\n+            std::vector<std::vector<unsigned char>> solutions;\n+            return Solver(txout.scriptPubKey, solutions) == TxoutType::WITNESS_V1_TAPROOT;",
      "path": "src/index/silentpaymentindex.cpp",
      "position": null,
      "original_position": 61,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "16cf1d4d49e4e7d911b3de958fb215ec3b7a46cb",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Considering that we only want to check if one of the outputs is P2TR, using Solver in this situation seems to be a potentially expensive tool (it does the matching for all standard output types and returns data that we never need). Thinking of e.g. txs that have dozens or hundreds of bare multisig outputs, this could be much slower. I'd suggest to use a simple fast-test here instead, e.g.:\r\n```suggestion\r\n            const CScript& spk = txout.scriptPubKey;\r\n            return spk.size() == 34 && spk[0] == OP_1 && spk[1] == 0x20;\r\n```\r\n(could introduce this as `CScript` method `IsPayToTaproot`, very similar to the already existing [`IsPayToWitnessScriptHash`](https://github.com/bitcoin/bitcoin/blob/98005b6a17907c4f7bdcf802ee96c274492f902a/src/script/script.cpp#L216-L222))",
      "created_at": "2024-03-04T23:59:53Z",
      "updated_at": "2024-03-05T00:11:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1511956337",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1511956337"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": 60,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 67,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1512361897",
      "pull_request_review_id": 1916251906,
      "id": 1512361897,
      "node_id": "PRRC_kwDOABII585aJM-p",
      "diff_hunk": "@@ -0,0 +1,132 @@\n+#include <index/silentpaymentindex.h>\n+\n+#include <chainparams.h>\n+#include <coins.h>\n+#include <common/args.h>\n+#include <index/disktxpos.h>\n+#include <node/blockstorage.h>\n+#include <pubkey.h>\n+#include <primitives/transaction.h>\n+// TODO: move GetSilentPaymentsTweakDataFromTxInputs out of wallet?\n+#include <wallet/silentpayments.h>\n+#include <undo.h>\n+#include <validation.h>\n+\n+#include <dbwrapper.h>\n+#include <hash.h>\n+\n+constexpr uint8_t DB_SILENT_PAYMENT_INDEX{'s'};\n+\n+std::unique_ptr<SilentPaymentIndex> g_silent_payment_index;\n+\n+/** Access to the silent payment index database (indexes/silentpaymentindex/) */\n+class SilentPaymentIndex::DB : public BaseIndex::DB\n+{\n+public:\n+    explicit DB(size_t n_cache_size, bool f_memory = false, bool f_wipe = false);\n+\n+    bool WriteSilentPayments(const std::pair<uint256, std::vector<CPubKey>>& tweaks);\n+};\n+\n+SilentPaymentIndex::DB::DB(size_t n_cache_size, bool f_memory, bool f_wipe) :\n+    BaseIndex::DB(gArgs.GetDataDirNet() / \"indexes\" / \"silentpaymentindex\", n_cache_size, f_memory, f_wipe)\n+{}\n+\n+bool SilentPaymentIndex::DB::WriteSilentPayments(const std::pair<uint256, std::vector<CPubKey>>& tweaks)\n+{\n+    CDBBatch batch(*this);\n+    batch.Write(std::make_pair(DB_SILENT_PAYMENT_INDEX, tweaks.first), tweaks.second);\n+    return WriteBatch(batch);\n+}\n+\n+SilentPaymentIndex::SilentPaymentIndex(std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n+    : BaseIndex(std::move(chain), \"silentpaymentindex\"), m_db(std::make_unique<SilentPaymentIndex::DB>(n_cache_size, f_memory, f_wipe))\n+{}\n+\n+SilentPaymentIndex::~SilentPaymentIndex() {}\n+\n+bool SilentPaymentIndex::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockUndo& block_undo, std::vector<CPubKey>& tweaked_pub_key_sums)\n+{\n+    assert(txs.size() - 1 == block_undo.vtxundo.size());\n+\n+    for (uint32_t i=0; i < txs.size(); i++) {\n+        auto& tx = txs.at(i);\n+\n+        if (tx->IsCoinBase()) {\n+            continue;\n+        }\n+\n+        if (std::none_of(tx->vout.begin(), tx->vout.end(), [](const CTxOut& txout) {\n+            std::vector<std::vector<unsigned char>> solutions;\n+            return Solver(txout.scriptPubKey, solutions) == TxoutType::WITNESS_V1_TAPROOT;",
      "path": "src/index/silentpaymentindex.cpp",
      "position": null,
      "original_position": 61,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "16cf1d4d49e4e7d911b3de958fb215ec3b7a46cb",
      "in_reply_to_id": 1511956337,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Would be nice to have this as a helper method, as imo it's too low level for an indexer.",
      "created_at": "2024-03-05T08:42:13Z",
      "updated_at": "2024-03-05T08:42:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1512361897",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1512361897"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": 60,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 67,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1568462751",
      "pull_request_review_id": 2005416700,
      "id": 1568462751,
      "node_id": "PRRC_kwDOABII585dfNef",
      "diff_hunk": "@@ -0,0 +1,134 @@\n+#include <index/silentpaymentindex.h>\n+\n+#include <bip352.h>\n+#include <chainparams.h>\n+#include <coins.h>\n+#include <common/args.h>\n+#include <index/disktxpos.h>\n+#include <node/blockstorage.h>\n+#include <pubkey.h>\n+#include <primitives/transaction.h>\n+// TODO: get rid of this\n+#include <secp256k1.h>\n+\n+#include <undo.h>\n+#include <validation.h>\n+\n+#include <dbwrapper.h>\n+#include <hash.h>\n+\n+constexpr uint8_t DB_SILENT_PAYMENT_INDEX{'s'};\n+/* Save space on mainnet by starting the index at Taproot activation.\n+ * Copying the height here assuming DEPLOYMENT_TAPROOT will be dropped:\n+ * https://github.com/bitcoin/bitcoin/pull/26201/\n+ * Only apply this storage optimization on mainnet.\n+ */\n+const int TAPROOT_MAINNET_ACTIVATION_HEIGHT{709632};\n+\n+std::unique_ptr<SilentPaymentIndex> g_silent_payment_index;\n+\n+/** Access to the silent payment index database (indexes/silentpaymentindex/) */\n+class SilentPaymentIndex::DB : public BaseIndex::DB\n+{\n+public:\n+    explicit DB(size_t n_cache_size, bool f_memory = false, bool f_wipe = false);\n+\n+    bool WriteSilentPayments(const std::pair<uint256, std::vector<CPubKey>>& tweaks);\n+};\n+\n+SilentPaymentIndex::DB::DB(size_t n_cache_size, bool f_memory, bool f_wipe) :\n+    BaseIndex::DB(gArgs.GetDataDirNet() / \"indexes\" / \"silentpaymentindex\", n_cache_size, f_memory, f_wipe)\n+{}\n+\n+bool SilentPaymentIndex::DB::WriteSilentPayments(const std::pair<uint256, std::vector<CPubKey>>& tweaks)\n+{\n+    CDBBatch batch(*this);\n+    batch.Write(std::make_pair(DB_SILENT_PAYMENT_INDEX, tweaks.first), tweaks.second);\n+    return WriteBatch(batch);\n+}\n+\n+SilentPaymentIndex::SilentPaymentIndex(std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n+    : BaseIndex(std::move(chain), \"silentpaymentindex\", /*start_height=*/Params().IsTestChain() ? 0 : TAPROOT_MAINNET_ACTIVATION_HEIGHT), m_db(std::make_unique<SilentPaymentIndex::DB>(n_cache_size, f_memory, f_wipe))\n+{}\n+\n+SilentPaymentIndex::~SilentPaymentIndex() {}\n+\n+bool SilentPaymentIndex::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockUndo& block_undo, std::vector<CPubKey>& tweaked_pub_key_sums)\n+{\n+    assert(txs.size() - 1 == block_undo.vtxundo.size());\n+\n+    for (uint32_t i=0; i < txs.size(); i++) {\n+        auto& tx = txs.at(i);\n+\n+        if (tx->IsCoinBase()) {\n+            continue;\n+        }\n+\n+        if (std::none_of(tx->vout.begin(), tx->vout.end(), [](const CTxOut& txout) {\n+            std::vector<std::vector<unsigned char>> solutions;\n+            return Solver(txout.scriptPubKey, solutions) == TxoutType::WITNESS_V1_TAPROOT;\n+        })) {\n+            continue;\n+        }\n+\n+        // -1 as blockundo does not have coinbase tx\n+        CTxUndo undoTX{block_undo.vtxundo.at(i - 1)};\n+        std::map<COutPoint, Coin> coins;\n+\n+        for (uint32_t j = 0; j < tx->vin.size(); j++) {\n+            coins[tx->vin.at(j).prevout] = undoTX.vprevout.at(j);\n+        }\n+\n+        std::optional<BIP352::PubTweakData> tweak_data = BIP352::GetSilentPaymentTweakDataFromTxInputs(tx->vin, coins, /*combined=*/true);\n+\n+        if (!tweak_data) continue;\n+\n+        // TODO: friends don't make friends do low level libsecp stuff on return values...",
      "path": "src/index/silentpaymentindex.cpp",
      "position": null,
      "original_position": 86,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "4b4e99b1dafb139b6f004aa47cb5a59019f49971",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "@josibake can you make `GetSilentPaymentTweakDataFromTxInputs` return a `CPub` (or `uint256`) rather than this low level secp thing?",
      "created_at": "2024-04-17T08:46:26Z",
      "updated_at": "2024-04-17T08:46:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1568462751",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1568462751"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 86,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1575031937",
      "pull_request_review_id": 2015248254,
      "id": 1575031937,
      "node_id": "PRRC_kwDOABII585d4RSB",
      "diff_hunk": "@@ -0,0 +1,134 @@\n+#include <index/silentpaymentindex.h>\n+\n+#include <bip352.h>\n+#include <chainparams.h>\n+#include <coins.h>\n+#include <common/args.h>\n+#include <index/disktxpos.h>\n+#include <node/blockstorage.h>\n+#include <pubkey.h>\n+#include <primitives/transaction.h>\n+// TODO: get rid of this\n+#include <secp256k1.h>\n+\n+#include <undo.h>\n+#include <validation.h>\n+\n+#include <dbwrapper.h>\n+#include <hash.h>\n+\n+constexpr uint8_t DB_SILENT_PAYMENT_INDEX{'s'};\n+/* Save space on mainnet by starting the index at Taproot activation.\n+ * Copying the height here assuming DEPLOYMENT_TAPROOT will be dropped:\n+ * https://github.com/bitcoin/bitcoin/pull/26201/\n+ * Only apply this storage optimization on mainnet.\n+ */\n+const int TAPROOT_MAINNET_ACTIVATION_HEIGHT{709632};\n+\n+std::unique_ptr<SilentPaymentIndex> g_silent_payment_index;\n+\n+/** Access to the silent payment index database (indexes/silentpaymentindex/) */\n+class SilentPaymentIndex::DB : public BaseIndex::DB\n+{\n+public:\n+    explicit DB(size_t n_cache_size, bool f_memory = false, bool f_wipe = false);\n+\n+    bool WriteSilentPayments(const std::pair<uint256, std::vector<CPubKey>>& tweaks);\n+};\n+\n+SilentPaymentIndex::DB::DB(size_t n_cache_size, bool f_memory, bool f_wipe) :\n+    BaseIndex::DB(gArgs.GetDataDirNet() / \"indexes\" / \"silentpaymentindex\", n_cache_size, f_memory, f_wipe)\n+{}\n+\n+bool SilentPaymentIndex::DB::WriteSilentPayments(const std::pair<uint256, std::vector<CPubKey>>& tweaks)\n+{\n+    CDBBatch batch(*this);\n+    batch.Write(std::make_pair(DB_SILENT_PAYMENT_INDEX, tweaks.first), tweaks.second);\n+    return WriteBatch(batch);\n+}\n+\n+SilentPaymentIndex::SilentPaymentIndex(std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n+    : BaseIndex(std::move(chain), \"silentpaymentindex\", /*start_height=*/Params().IsTestChain() ? 0 : TAPROOT_MAINNET_ACTIVATION_HEIGHT), m_db(std::make_unique<SilentPaymentIndex::DB>(n_cache_size, f_memory, f_wipe))\n+{}\n+\n+SilentPaymentIndex::~SilentPaymentIndex() {}\n+\n+bool SilentPaymentIndex::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockUndo& block_undo, std::vector<CPubKey>& tweaked_pub_key_sums)\n+{\n+    assert(txs.size() - 1 == block_undo.vtxundo.size());\n+\n+    for (uint32_t i=0; i < txs.size(); i++) {\n+        auto& tx = txs.at(i);\n+\n+        if (tx->IsCoinBase()) {\n+            continue;\n+        }\n+\n+        if (std::none_of(tx->vout.begin(), tx->vout.end(), [](const CTxOut& txout) {\n+            std::vector<std::vector<unsigned char>> solutions;\n+            return Solver(txout.scriptPubKey, solutions) == TxoutType::WITNESS_V1_TAPROOT;\n+        })) {\n+            continue;\n+        }\n+\n+        // -1 as blockundo does not have coinbase tx\n+        CTxUndo undoTX{block_undo.vtxundo.at(i - 1)};\n+        std::map<COutPoint, Coin> coins;\n+\n+        for (uint32_t j = 0; j < tx->vin.size(); j++) {\n+            coins[tx->vin.at(j).prevout] = undoTX.vprevout.at(j);\n+        }\n+\n+        std::optional<BIP352::PubTweakData> tweak_data = BIP352::GetSilentPaymentTweakDataFromTxInputs(tx->vin, coins, /*combined=*/true);\n+\n+        if (!tweak_data) continue;\n+\n+        // TODO: friends don't make friends do low level libsecp stuff on return values...",
      "path": "src/index/silentpaymentindex.cpp",
      "position": null,
      "original_position": 86,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "4b4e99b1dafb139b6f004aa47cb5a59019f49971",
      "in_reply_to_id": 1568462751,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Added a new function `GetSerializedSilentPaymentsPublicData` that returns a `CPubKey`. ",
      "created_at": "2024-04-22T16:17:26Z",
      "updated_at": "2024-04-22T16:17:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1575031937",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1575031937"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 86,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1575032154",
      "pull_request_review_id": 2015248630,
      "id": 1575032154,
      "node_id": "PRRC_kwDOABII585d4RVa",
      "diff_hunk": "@@ -0,0 +1,134 @@\n+#include <index/silentpaymentindex.h>\n+\n+#include <bip352.h>\n+#include <chainparams.h>\n+#include <coins.h>\n+#include <common/args.h>\n+#include <index/disktxpos.h>\n+#include <node/blockstorage.h>\n+#include <pubkey.h>\n+#include <primitives/transaction.h>\n+// TODO: get rid of this\n+#include <secp256k1.h>\n+\n+#include <undo.h>\n+#include <validation.h>\n+\n+#include <dbwrapper.h>\n+#include <hash.h>\n+\n+constexpr uint8_t DB_SILENT_PAYMENT_INDEX{'s'};\n+/* Save space on mainnet by starting the index at Taproot activation.\n+ * Copying the height here assuming DEPLOYMENT_TAPROOT will be dropped:\n+ * https://github.com/bitcoin/bitcoin/pull/26201/\n+ * Only apply this storage optimization on mainnet.\n+ */\n+const int TAPROOT_MAINNET_ACTIVATION_HEIGHT{709632};\n+\n+std::unique_ptr<SilentPaymentIndex> g_silent_payment_index;\n+\n+/** Access to the silent payment index database (indexes/silentpaymentindex/) */\n+class SilentPaymentIndex::DB : public BaseIndex::DB\n+{\n+public:\n+    explicit DB(size_t n_cache_size, bool f_memory = false, bool f_wipe = false);\n+\n+    bool WriteSilentPayments(const std::pair<uint256, std::vector<CPubKey>>& tweaks);\n+};\n+\n+SilentPaymentIndex::DB::DB(size_t n_cache_size, bool f_memory, bool f_wipe) :\n+    BaseIndex::DB(gArgs.GetDataDirNet() / \"indexes\" / \"silentpaymentindex\", n_cache_size, f_memory, f_wipe)\n+{}\n+\n+bool SilentPaymentIndex::DB::WriteSilentPayments(const std::pair<uint256, std::vector<CPubKey>>& tweaks)\n+{\n+    CDBBatch batch(*this);\n+    batch.Write(std::make_pair(DB_SILENT_PAYMENT_INDEX, tweaks.first), tweaks.second);\n+    return WriteBatch(batch);\n+}\n+\n+SilentPaymentIndex::SilentPaymentIndex(std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n+    : BaseIndex(std::move(chain), \"silentpaymentindex\", /*start_height=*/Params().IsTestChain() ? 0 : TAPROOT_MAINNET_ACTIVATION_HEIGHT), m_db(std::make_unique<SilentPaymentIndex::DB>(n_cache_size, f_memory, f_wipe))\n+{}\n+\n+SilentPaymentIndex::~SilentPaymentIndex() {}\n+\n+bool SilentPaymentIndex::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockUndo& block_undo, std::vector<CPubKey>& tweaked_pub_key_sums)\n+{\n+    assert(txs.size() - 1 == block_undo.vtxundo.size());\n+\n+    for (uint32_t i=0; i < txs.size(); i++) {\n+        auto& tx = txs.at(i);\n+\n+        if (tx->IsCoinBase()) {\n+            continue;\n+        }\n+\n+        if (std::none_of(tx->vout.begin(), tx->vout.end(), [](const CTxOut& txout) {\n+            std::vector<std::vector<unsigned char>> solutions;\n+            return Solver(txout.scriptPubKey, solutions) == TxoutType::WITNESS_V1_TAPROOT;\n+        })) {\n+            continue;\n+        }\n+\n+        // -1 as blockundo does not have coinbase tx\n+        CTxUndo undoTX{block_undo.vtxundo.at(i - 1)};\n+        std::map<COutPoint, Coin> coins;\n+\n+        for (uint32_t j = 0; j < tx->vin.size(); j++) {\n+            coins[tx->vin.at(j).prevout] = undoTX.vprevout.at(j);\n+        }\n+\n+        std::optional<BIP352::PubTweakData> tweak_data = BIP352::GetSilentPaymentTweakDataFromTxInputs(tx->vin, coins, /*combined=*/true);\n+\n+        if (!tweak_data) continue;\n+\n+        // TODO: friends don't make friends do low level libsecp stuff on return values...",
      "path": "src/index/silentpaymentindex.cpp",
      "position": null,
      "original_position": 86,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "4b4e99b1dafb139b6f004aa47cb5a59019f49971",
      "in_reply_to_id": 1568462751,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "also lol at the `// TODO` comment",
      "created_at": "2024-04-22T16:17:38Z",
      "updated_at": "2024-04-22T16:17:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1575032154",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1575032154"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 86,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1579531159",
      "pull_request_review_id": 2022600529,
      "id": 1579531159,
      "node_id": "PRRC_kwDOABII585eJbuX",
      "diff_hunk": "@@ -0,0 +1,132 @@\n+#include <index/silentpaymentindex.h>\n+\n+#include <chainparams.h>\n+#include <coins.h>\n+#include <common/args.h>\n+#include <index/disktxpos.h>\n+#include <node/blockstorage.h>\n+#include <pubkey.h>\n+#include <primitives/transaction.h>\n+// TODO: move GetSilentPaymentsTweakDataFromTxInputs out of wallet?\n+#include <wallet/silentpayments.h>\n+#include <undo.h>\n+#include <validation.h>\n+\n+#include <dbwrapper.h>\n+#include <hash.h>\n+\n+constexpr uint8_t DB_SILENT_PAYMENT_INDEX{'s'};\n+\n+std::unique_ptr<SilentPaymentIndex> g_silent_payment_index;\n+\n+/** Access to the silent payment index database (indexes/silentpaymentindex/) */\n+class SilentPaymentIndex::DB : public BaseIndex::DB\n+{\n+public:\n+    explicit DB(size_t n_cache_size, bool f_memory = false, bool f_wipe = false);\n+\n+    bool WriteSilentPayments(const std::pair<uint256, std::vector<CPubKey>>& tweaks);\n+};\n+\n+SilentPaymentIndex::DB::DB(size_t n_cache_size, bool f_memory, bool f_wipe) :\n+    BaseIndex::DB(gArgs.GetDataDirNet() / \"indexes\" / \"silentpaymentindex\", n_cache_size, f_memory, f_wipe)\n+{}\n+\n+bool SilentPaymentIndex::DB::WriteSilentPayments(const std::pair<uint256, std::vector<CPubKey>>& tweaks)\n+{\n+    CDBBatch batch(*this);\n+    batch.Write(std::make_pair(DB_SILENT_PAYMENT_INDEX, tweaks.first), tweaks.second);\n+    return WriteBatch(batch);\n+}\n+\n+SilentPaymentIndex::SilentPaymentIndex(std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n+    : BaseIndex(std::move(chain), \"silentpaymentindex\"), m_db(std::make_unique<SilentPaymentIndex::DB>(n_cache_size, f_memory, f_wipe))\n+{}\n+\n+SilentPaymentIndex::~SilentPaymentIndex() {}\n+\n+bool SilentPaymentIndex::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockUndo& block_undo, std::vector<CPubKey>& tweaked_pub_key_sums)\n+{\n+    assert(txs.size() - 1 == block_undo.vtxundo.size());\n+\n+    for (uint32_t i=0; i < txs.size(); i++) {\n+        auto& tx = txs.at(i);\n+\n+        if (tx->IsCoinBase()) {\n+            continue;\n+        }\n+\n+        if (std::none_of(tx->vout.begin(), tx->vout.end(), [](const CTxOut& txout) {\n+            std::vector<std::vector<unsigned char>> solutions;\n+            return Solver(txout.scriptPubKey, solutions) == TxoutType::WITNESS_V1_TAPROOT;",
      "path": "src/index/silentpaymentindex.cpp",
      "position": null,
      "original_position": 61,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "16cf1d4d49e4e7d911b3de958fb215ec3b7a46cb",
      "in_reply_to_id": 1511956337,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "@josibake can I get a helper function along the lines of:\r\n\r\n```cpp\r\nbool MaybeSilentPayment(CTransactionRef tx);\r\n```",
      "created_at": "2024-04-25T14:00:12Z",
      "updated_at": "2024-04-25T14:00:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1579531159",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1579531159"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": 60,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 67,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597120404",
      "pull_request_review_id": 2050697185,
      "id": 1597120404,
      "node_id": "PRRC_kwDOABII585fMh-U",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Note that if we serve this via a BIP157 style p2p \"filter\", the cut-through variant is going to be indeterministic. Same if people pick a different dust limit. This seems hard to avoid in any case, because the entire filter chain potentially changes with each new block that comes in.",
      "created_at": "2024-05-10T18:56:46Z",
      "updated_at": "2024-05-10T18:57:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1597120404",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597120404"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597413689",
      "pull_request_review_id": 2051169131,
      "id": 1597413689,
      "node_id": "PRRC_kwDOABII585fNpk5",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Yeah, with cut-through and a dust filter, this starts to feel like not a good fit for a BIP157 style filter, only because we'd basically have to get rid of the filter chain and hashes to avoid making the server constantly recalculate. Another thing about dust filters is we could make it client query param, i.e. the server still keeps everything and then the client says \"only send me stuff where the UTXOs have a value of >= X\". More storage space for the server, but clients then only download tweak data that they *actually* intend to spend. The nice thing about this model is the client can always query with a lower dust limit at any point to get everything else.\r\n\r\nGot a few ideas on how we could make this work with a BIP157, but need to give it some more thought. It might also be case of trying to fit a square peg into a round hole, so maybe its better to start thinking from scratch on the protocol for serving the data.\r\n\r\n(one obvious answer is we just keep the index in core and expose it via RPC, and then the exact p2p details are handled by something which uses core as a backend, e.g. electrumX).",
      "created_at": "2024-05-11T10:01:11Z",
      "updated_at": "2024-05-11T10:01:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1597413689",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597413689"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597984017",
      "pull_request_review_id": 2051882176,
      "id": 1597984017,
      "node_id": "PRRC_kwDOABII585fP00R",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> only send me stuff where the UTXOs have a value of >= X\r\n\r\nSo now we need an index and efficient >= filtering. (the latter isn't too hard)\r\n\r\n> It might also be case of trying to fit a square peg into a round hole\r\n\r\nFor the index without cut-through I think BIP157 is fine. But to get the extra bandwidth savings of cut-through and a (custom) dust limit, it indeed seems we need something else. But ideally that shouldn't block shipping something that works, even if it uses a bit more bandwidth that we'd like.\r\n\r\nIt's worth considering at least adding the 546 sat dust limit to BIP352. Or at the very minimum exclude 0 sat outputs. I'll re-run the normal index to see the effect.\r\n",
      "created_at": "2024-05-13T07:15:43Z",
      "updated_at": "2024-05-13T07:17:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1597984017",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597984017"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598018340",
      "pull_request_review_id": 2051938107,
      "id": 1598018340,
      "node_id": "PRRC_kwDOABII585fP9Mk",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> For the index without cut-through I think BIP157 is fine\r\n\r\nAgree.\r\n\r\n> It's worth considering at least adding the 546 sat dust limit to BIP352\r\n\r\nI'd argue these are all implementation details/optimizations. The BIP itself should be reserved for describing the protocol. There also might be use cases where where the value of the output is not the primary concern.",
      "created_at": "2024-05-13T07:44:54Z",
      "updated_at": "2024-05-13T07:44:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1598018340",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598018340"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598090674",
      "pull_request_review_id": 2052054091,
      "id": 1598090674,
      "node_id": "PRRC_kwDOABII585fQO2y",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I just checked two things:\r\n\r\n1. LevelDB does not support indexes. It also does not support SQL queries.\r\n\r\nIf we were to store the amount (of the largest taproot output) in the index, any value filtering has to be done at the time we query the index. Worst case 9000 entries per block (a 1 input 1 output taproot transaction is 111 vbyte). That might be fine, you'd have to benchmark.\r\n\r\nIf it _is_ a bottleneck, then we could refactor the base index to allow sqlite3 as a backend.\r\n\r\n2. The only way to update an entry is to `Delete(key)` and `Put(key)`. I currently use block hash as the key, so the ordering wouldn't change. But what happens to the rest of the index file as you do this?\r\n\r\nAccording to `leveldb/doc/impl.md`:\r\n\r\n> When the size of level L exceeds its limit, we compact it in a background\r\nthread. \r\n\r\n> Compactions drop overwritten values. They also drop deletion markers if there\r\nare no higher numbered levels that contain a file whose range overlaps the\r\ncurrent key.\r\n\r\nSo if we (occasionally) override a block entry to update its cut-through, LevelDB should take care of defragging it (\"compaction\"). We should keep an eye on the resource usage there.",
      "created_at": "2024-05-13T08:39:31Z",
      "updated_at": "2024-05-13T08:39:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1598090674",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598090674"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598210040",
      "pull_request_review_id": 2052245244,
      "id": 1598210040,
      "node_id": "PRRC_kwDOABII585fQr_4",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Filtering < 546 dust makes no difference on the regular index size (unless I did something wrong in https://github.com/bitcoin/bitcoin/commit/411f035f0e09142311b6a829490f175582b07096)",
      "created_at": "2024-05-13T09:59:53Z",
      "updated_at": "2024-05-13T10:00:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1598210040",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598210040"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598216013",
      "pull_request_review_id": 2052255228,
      "id": 1598216013,
      "node_id": "PRRC_kwDOABII585fQtdN",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> Filtering < 546 dust makes no difference on the regular index size (unless I did something wrong in [411f035](https://github.com/bitcoin/bitcoin/commit/411f035f0e09142311b6a829490f175582b07096))\r\n\r\nThat's interesting you could compare with [Blindbit Oracle](https://github.com/setavenger/blindbit-oracle). There is an exposed endpoint that filters based on a defined dust limit. There definitely is a difference at ~1000. I'm not sure whether I've tested <546 yet.",
      "created_at": "2024-05-13T10:04:52Z",
      "updated_at": "2024-05-13T10:04:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1598216013",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598216013"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598222539",
      "pull_request_review_id": 2052265924,
      "id": 1598222539,
      "node_id": "PRRC_kwDOABII585fQvDL",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Not super surprising since this is a standardness limit, no? I don't think you can broadcast transactions without the output amount being greater than the dust limit (unless it is an `OP_RETURN`).",
      "created_at": "2024-05-13T10:10:23Z",
      "updated_at": "2024-05-13T10:10:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1598222539",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598222539"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598234205",
      "pull_request_review_id": 2052286489,
      "id": 1598234205,
      "node_id": "PRRC_kwDOABII585fQx5d",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I did an [analysis](https://github.com/setavenger/BIP0352-light-client-specification?tab=readme-ov-file#dust-limits) a while back which revealed that 10% of taproot UTXOs are <= 330. I'm not sure about the details but I believe it was the entire UTXO set collected by the indexer up to 834761. At the time it collected the entire set and not only SP-eligible UTXOs.\r\n\r\nI guess it's technically possible that either none of those 10% were in eligible transactions and/or they were combined with a bigger non-dust taproot UTXO.",
      "created_at": "2024-05-13T10:19:48Z",
      "updated_at": "2024-05-13T10:19:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1598234205",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598234205"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598416494",
      "pull_request_review_id": 2052595649,
      "id": 1598416494,
      "node_id": "PRRC_kwDOABII585fReZu",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> Filtering < 546 dust\r\n\r\nI should add that I was using `IsDust()` with `DUST_RELAY_TX_FEE`, which takes SegWit into account to decide the exact dust limit (apparently that's 330). Note that dust uses `<`, not `<=`.\r\n\r\n> 10% of taproot UTXOs\r\n\r\nI looked at the largest output, not all outputs.",
      "created_at": "2024-05-13T12:44:44Z",
      "updated_at": "2024-05-13T12:46:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1598416494",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598416494"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598499179",
      "pull_request_review_id": 2052743497,
      "id": 1598499179,
      "node_id": "PRRC_kwDOABII585fRylr",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> \r\n> I should add that I was using `IsDust()` with `DUST_RELAY_TX_FEE`, which takes SegWit into account to decide the exact dust limit.\r\n> \r\n\r\nAh I'm not sure how this should affect the results tbh. In my index I just looked at the UTXO value, no modifications.\r\n\r\n> \r\n> I looked at the largest output, not all outputs.\r\n\r\nYeah but my current understanding is that in order to see no difference on the index size at all, all of those UTXOs must have been in combination with bigger UTXOs, not eligible at all or somehow affected by the `DUST_RELAY_TX_FEE` modification (not sure how that exactly works). \r\nHow are the dust limits stored in the index? If they are based on the normal UTXO values we could do the same comparison as before https://github.com/bitcoin/bitcoin/pull/28241#issuecomment-2076895408",
      "created_at": "2024-05-13T13:41:00Z",
      "updated_at": "2024-05-13T13:41:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1598499179",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598499179"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598508290",
      "pull_request_review_id": 2052759250,
      "id": 1598508290,
      "node_id": "PRRC_kwDOABII585fR00C",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Dust limits are not stored in the index. https://github.com/bitcoin/bitcoin/pull/28241/commits/835dd4ba1ca4cc1abfd338e6bc38e25a116f5f8b stores the maximum output amount for each transaction. You can then use the RPC with any dust limit value you like.",
      "created_at": "2024-05-13T13:46:28Z",
      "updated_at": "2024-05-13T13:46:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1598508290",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598508290"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598514498",
      "pull_request_review_id": 2052769732,
      "id": 1598514498,
      "node_id": "PRRC_kwDOABII585fR2VC",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "My bad, that's what I meant. So you can just say give me everything where at least one UTXO exists above that threshold value. That's what my implementation does as well. Should be comparable then.",
      "created_at": "2024-05-13T13:50:41Z",
      "updated_at": "2024-05-13T13:50:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1598514498",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598514498"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598714122",
      "pull_request_review_id": 2053110397,
      "id": 1598714122,
      "node_id": "PRRC_kwDOABII585fSnEK",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Exactly, with the caveat that you can use multiples of 16. How do I make the comparison in your script?",
      "created_at": "2024-05-13T16:01:10Z",
      "updated_at": "2024-05-13T16:01:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1598714122",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598714122"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598724027",
      "pull_request_review_id": 2053133246,
      "id": 1598724027,
      "node_id": "PRRC_kwDOABII585fSpe7",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The [tweaks endpoint](https://github.com/setavenger/blindbit-oracle?tab=readme-ov-file#endpoints) with the `dustLimit` parameter. Any value should work I believe.",
      "created_at": "2024-05-13T16:09:44Z",
      "updated_at": "2024-05-13T16:09:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1598724027",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598724027"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598741307",
      "pull_request_review_id": 2053166781,
      "id": 1598741307,
      "node_id": "PRRC_kwDOABII585fSts7",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I'll try that with 992 once I rebuilt the database. Is `dustLimit` `>= 992` or `> 992`?",
      "created_at": "2024-05-13T16:24:22Z",
      "updated_at": "2024-05-13T16:24:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1598741307",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598741307"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598792320",
      "pull_request_review_id": 2053255500,
      "id": 1598792320,
      "node_id": "PRRC_kwDOABII585fS6KA",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "it's `>= 992`. That index also implements cut-through btw.",
      "created_at": "2024-05-13T17:08:41Z",
      "updated_at": "2024-05-13T17:10:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1598792320",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598792320"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598896733",
      "pull_request_review_id": 2053445940,
      "id": 1598896733,
      "node_id": "PRRC_kwDOABII585fTTpd",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Oh but I don't want to use cut-through; that can only be compared when I generate the index at exactly the same height.",
      "created_at": "2024-05-13T18:44:17Z",
      "updated_at": "2024-05-13T18:44:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1598896733",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598896733"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598938018",
      "pull_request_review_id": 2053521575,
      "id": 1598938018,
      "node_id": "PRRC_kwDOABII585fTdui",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "hmm that's true, maybe I can quickly hack something together. It's probably better to compare the base index anyways.",
      "created_at": "2024-05-13T19:03:55Z",
      "updated_at": "2024-05-13T19:03:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1598938018",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1598938018"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1600219420",
      "pull_request_review_id": 2055708966,
      "id": 1600219420,
      "node_id": "PRRC_kwDOABII585fYWkc",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Took a bit longer than I expected. I've pushed to the [dev branch](https://github.com/setavenger/blindbit-oracle/tree/dev). It seems to be working as intended. No cut-through and you can choose any value you like for a dustLimit. The request looks like this `\"localhost:8000/tweak-index/840000?dustLimit=546\"` (`tweak-index` then only returns tweaks where the highest value is `>= 546`)",
      "created_at": "2024-05-14T15:11:16Z",
      "updated_at": "2024-05-14T15:11:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1600219420",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1600219420"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1609746833",
      "pull_request_review_id": 2070856799,
      "id": 1609746833,
      "node_id": "PRRC_kwDOABII585f8smR",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "```\r\ncurl -s localhost:8000/tweak-index/709632?dustLimit=992 | jq\r\n{\r\n  \"error\": \"Server does not allow dustLimits\"\r\n}\r\n```\r\n\r\nDo I need to add a setting or rebuild the index?\r\n",
      "created_at": "2024-05-22T10:57:47Z",
      "updated_at": "2024-05-22T10:57:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1609746833",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1609746833"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1609750350",
      "pull_request_review_id": 2070862574,
      "id": 1609750350,
      "node_id": "PRRC_kwDOABII585f8tdO",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Restarting with `tweaks_full_with_dust_filter = 1`",
      "created_at": "2024-05-22T11:00:42Z",
      "updated_at": "2024-05-22T11:00:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1609750350",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1609750350"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1609801566",
      "pull_request_review_id": 2070950604,
      "id": 1609801566,
      "node_id": "PRRC_kwDOABII585f859e",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Sorry, should have mentioned that before. Yes, that flag/setting is required.",
      "created_at": "2024-05-22T11:43:03Z",
      "updated_at": "2024-05-22T11:43:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1609801566",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1609801566"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1609899492",
      "pull_request_review_id": 2071111308,
      "id": 1609899492,
      "node_id": "PRRC_kwDOABII585f9R3k",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Getting a mismatch on the first block:\r\n\r\n```sh\r\ncurl -s localhost:8000/tweak-index/709632?dustLimit=992 | jq\r\n```\r\n\r\n```json\r\n[\r\n  \"0282559668ac461407e39d78b0d604e19c88ec7d1b4eb1b07636a2fe10a00f9a74\",\r\n  \"0360b336c0121e9a1f64e5644a0519f2f6fd37ae28bc6558c604a63b1aac251a7c\",\r\n  \"03a1fbba688d7d1940910d2a40fdb08fa6c03e56ae3f1484941ae2b9451aa9672b\",\r\n  \"03e0b6b04bc4529c376dd8215dac77bb4d7696df34e097b28a7948686c2bc70b4c\",\r\n  \"02266e6da2790ffa1e47640eca18735281177b75e3435df731f41c42cc9646bdc0\",\r\n  \"03c4633c48038d5137eb4371707eed608ae6226c9aedf8d8ee1764b01d72561ac2\"\r\n]\r\n```\r\n\r\n```sh\r\nbitcoin-cli getsilentpaymentblockdata  0000000000000000000687bca986194dc2c1f949318629b44bb54ec0a94d8244 992\r\n```\r\n\r\n```json\r\n{\r\n  \"bip352_tweaks\": [\r\n    \"03a1fbba688d7d1940910d2a40fdb08fa6c03e56ae3f1484941ae2b9451aa9672b\",\r\n    \"03e0b6b04bc4529c376dd8215dac77bb4d7696df34e097b28a7948686c2bc70b4c\",\r\n    \"02266e6da2790ffa1e47640eca18735281177b75e3435df731f41c42cc9646bdc0\",\r\n    \"03c4633c48038d5137eb4371707eed608ae6226c9aedf8d8ee1764b01d72561ac2\"\r\n  ]\r\n}\r\n```\r\n\r\nBitcoin Core excludes 0282559668ac461407e39d78b0d604e19c88ec7d1b4eb1b07636a2fe10a00f9a74 and 0360b336c0121e9a1f64e5644a0519f2f6fd37ae28bc6558c604a63b1aac251a7c. Without knowing which transactions those map too, I don't know which side is wrong.",
      "created_at": "2024-05-22T12:53:30Z",
      "updated_at": "2024-05-22T12:53:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1609899492",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1609899492"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1609910257",
      "pull_request_review_id": 2071128284,
      "id": 1609910257,
      "node_id": "PRRC_kwDOABII585f9Ufx",
      "diff_hunk": "@@ -74,6 +74,14 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n \n         std::optional<CPubKey> tweaked_pk = BIP352::GetSerializedSilentPaymentsPublicData(tx->vin, coins);\n         if (tweaked_pk) {\n+            // Used to filter dust. To keep the index small we use only one byte\n+            // and measure in hexasats.\n+            uint8_t max_output_amount = UINT8_MAX; // 4080 sat\n+            for (const CTxOut& out : tx->vout) {\n+                // TODO: only consider Taproot outputs\n+                max_output_amount = std::min(out.nValue, CAmount(max_output_amount) << dust_shift) >> dust_shift;",
      "path": "src/index/bip352.cpp",
      "position": null,
      "original_position": 39,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "835dd4ba1ca4cc1abfd338e6bc38e25a116f5f8b",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "835dd4ba1ca4cc1abfd338e6bc38e25a116f5f8b: oh this is wrong, it finds the _lowest_ output amount, oops.",
      "created_at": "2024-05-22T13:00:23Z",
      "updated_at": "2024-05-22T13:00:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1609910257",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1609910257"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 82,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1609915406",
      "pull_request_review_id": 2071136579,
      "id": 1609915406,
      "node_id": "PRRC_kwDOABII585f9VwO",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This branch should have a sorted index. We can now find the txid a lot easier, I think.",
      "created_at": "2024-05-22T13:03:46Z",
      "updated_at": "2024-05-22T13:03:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1609915406",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1609915406"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1609932428",
      "pull_request_review_id": 2071164767,
      "id": 1609932428,
      "node_id": "PRRC_kwDOABII585f9Z6M",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I added a fix for https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1609910257 and rebuilding the index now.",
      "created_at": "2024-05-22T13:14:47Z",
      "updated_at": "2024-05-22T13:15:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1609932428",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1609932428"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1609936760",
      "pull_request_review_id": 2071171651,
      "id": 1609936760,
      "node_id": "PRRC_kwDOABII585f9a94",
      "diff_hunk": "@@ -74,6 +74,14 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n \n         std::optional<CPubKey> tweaked_pk = BIP352::GetSerializedSilentPaymentsPublicData(tx->vin, coins);\n         if (tweaked_pk) {\n+            // Used to filter dust. To keep the index small we use only one byte\n+            // and measure in hexasats.\n+            uint8_t max_output_amount = 0;\n+            for (const CTxOut& txout : tx->vout) {\n+                if (!BIP352::MaybeSilentPaymentOutput(txout)) continue;\n+                max_output_amount = std::max(txout.nValue, CAmount(max_output_amount) << dust_shift) >> dust_shift;",
      "path": "src/index/bip352.cpp",
      "position": null,
      "original_position": 39,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "337471e4acff439100488c16876d9f110ef04ef7",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Isn't there some kind of special handling needed for large values that don't fit into a byte after the shift (i.e. if txout.nValue >4080 sats)?",
      "created_at": "2024-05-22T13:17:26Z",
      "updated_at": "2024-05-22T13:23:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1609936760",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1609936760"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 82,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1609948787",
      "pull_request_review_id": 2071171651,
      "id": 1609948787,
      "node_id": "PRRC_kwDOABII585f9d5z",
      "diff_hunk": "@@ -73,6 +73,24 @@ std::optional<PubKey> GetPubKeyFromInput(const CTxIn& txin, const CScript& spk)\n     return std::nullopt;\n }\n \n+\n+bool MaybeSilentPaymentOutput(const CTxOut& txout) {\n+    std::vector<std::vector<unsigned char>> solutions;\n+    return Solver(txout.scriptPubKey, solutions) == TxoutType::WITNESS_V1_TAPROOT;\n+}",
      "path": "src/common/bip352.cpp",
      "position": null,
      "original_position": 8,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "3a34abecd40cd66445072a2be0708fce51f752fd",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I'd suggest to introduce a fast `CScript::IsPayToTaproot` helper. It can be used both in `MaybeSilentPayment` and directly in the loop for finding the largest output amount (commit 337471e4acff439100488c16876d9f110ef04ef7), without the need to involve `Solver`:\r\n\r\n<details>\r\n<summary>patch to add `CScript::IsPayToTaproot()`</summary>\r\n\r\n```diff\r\ndiff --git a/src/script/script.cpp b/src/script/script.cpp\r\nindex 80e8d26bcf..d0e677aaa4 100644\r\n--- a/src/script/script.cpp\r\n+++ b/src/script/script.cpp\r\n@@ -221,6 +221,14 @@ bool CScript::IsPayToWitnessScriptHash() const\r\n             (*this)[1] == 0x20);\r\n }\r\n \r\n+bool CScript::IsPayToTaproot() const\r\n+{\r\n+    // Extra-fast test for pay-to-taproot CScripts:\r\n+    return (this->size() == 34 &&\r\n+            (*this)[0] == OP_1 &&\r\n+            (*this)[1] == 0x20);\r\n+}\r\n+\r\n // A witness program is any valid CScript that consists of a 1-byte push opcode\r\n // followed by a data push between 2 and 40 bytes.\r\n bool CScript::IsWitnessProgram(int& version, std::vector<unsigned char>& program) const\r\ndiff --git a/src/script/script.h b/src/script/script.h\r\nindex 66d63fae89..283e8ff4de 100644\r\n--- a/src/script/script.h\r\n+++ b/src/script/script.h\r\n@@ -535,6 +535,7 @@ public:\r\n \r\n     bool IsPayToScriptHash() const;\r\n     bool IsPayToWitnessScriptHash() const;\r\n+    bool IsPayToTaproot() const;\r\n     bool IsWitnessProgram(int& version, std::vector<unsigned char>& program) const;\r\n \r\n     /** Called by IsStandardTx and P2SH/BIP62 VerifyScript (which makes it consensus-critical). */\r\n\r\n```\r\n\r\n</details>",
      "created_at": "2024-05-22T13:23:20Z",
      "updated_at": "2024-05-22T13:23:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1609948787",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1609948787"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": 77,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 80,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1610124181",
      "pull_request_review_id": 2071487138,
      "id": 1610124181,
      "node_id": "PRRC_kwDOABII585f-IuV",
      "diff_hunk": "@@ -73,6 +73,24 @@ std::optional<PubKey> GetPubKeyFromInput(const CTxIn& txin, const CScript& spk)\n     return std::nullopt;\n }\n \n+\n+bool MaybeSilentPaymentOutput(const CTxOut& txout) {\n+    std::vector<std::vector<unsigned char>> solutions;\n+    return Solver(txout.scriptPubKey, solutions) == TxoutType::WITNESS_V1_TAPROOT;\n+}",
      "path": "src/common/bip352.cpp",
      "position": null,
      "original_position": 8,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "3a34abecd40cd66445072a2be0708fce51f752fd",
      "in_reply_to_id": 1609948787,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Added in b2322fc476dc983b91492768d2054c2a3966afdd",
      "created_at": "2024-05-22T14:40:07Z",
      "updated_at": "2024-05-22T14:40:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1610124181",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1610124181"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": 77,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 80,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1610124223",
      "pull_request_review_id": 2071487198,
      "id": 1610124223,
      "node_id": "PRRC_kwDOABII585f-Iu_",
      "diff_hunk": "@@ -74,6 +74,14 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n \n         std::optional<CPubKey> tweaked_pk = BIP352::GetSerializedSilentPaymentsPublicData(tx->vin, coins);\n         if (tweaked_pk) {\n+            // Used to filter dust. To keep the index small we use only one byte\n+            // and measure in hexasats.\n+            uint8_t max_output_amount = 0;\n+            for (const CTxOut& txout : tx->vout) {\n+                if (!BIP352::MaybeSilentPaymentOutput(txout)) continue;\n+                max_output_amount = std::max(txout.nValue, CAmount(max_output_amount) << dust_shift) >> dust_shift;",
      "path": "src/index/bip352.cpp",
      "position": null,
      "original_position": 39,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "337471e4acff439100488c16876d9f110ef04ef7",
      "in_reply_to_id": 1609936760,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks, fixed in 0f4ddfa43749266960a5d05693ed0cdc993328d6.",
      "created_at": "2024-05-22T14:40:08Z",
      "updated_at": "2024-05-22T14:40:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1610124223",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1610124223"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 82,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1610397733",
      "pull_request_review_id": 2071931343,
      "id": 1610397733,
      "node_id": "PRRC_kwDOABII585f_Lgl",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "After my fix I found another inconsistency, at block [709,640](https://mempool.space/block/0000000000000000000a3a458944554e24d1ef8d3ef8707067b01dcaf71526cd?page=39) and dust limit 992 your index finds 3 while Bitcoin Core finds 2.\r\n\r\nI manually looked up the eligible transactions:\r\n1. https://mempool.space/tx/350f06dff749f910b0ad8d918496850c676c22854e24a046304e73bdfe399a02\r\n2. https://mempool.space/tx/0fdda311049e8a1450ef08bab4076c0e00f8e8334c861ed441f24980b8ac6a90\r\n3. https://mempool.space/tx/73d535f1384c6b43280dc1974b3bcace1940a54c2ea675bad386923ec1e95007\r\n\r\nTransaction (1) has one P2TR output of 897, which should get filtered. The second output of 1500 shouldn't count, because it's not taproot.\r\n\r\nSo I think the bug is on your end this time @setavenger :-)\r\n\r\n",
      "created_at": "2024-05-22T17:37:31Z",
      "updated_at": "2024-05-22T17:37:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1610397733",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1610397733"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1622010745",
      "pull_request_review_id": 2090244698,
      "id": 1622010745,
      "node_id": "PRRC_kwDOABII585gret5",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Wow completely missed the messages here. Yeah, was able to recreate the issue. I'll figure out what the issue is and come back to you after I've got a fix for the problem.",
      "created_at": "2024-05-31T09:00:02Z",
      "updated_at": "2024-05-31T09:00:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1622010745",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1622010745"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1622171433",
      "pull_request_review_id": 2090449760,
      "id": 1622171433,
      "node_id": "PRRC_kwDOABII585gsF8p",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "@Sjors it's fixed https://github.com/setavenger/blindbit-oracle/pull/14 now. There was no taproot filter on the biggest utxo selection.",
      "created_at": "2024-05-31T10:09:24Z",
      "updated_at": "2024-05-31T10:09:24Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1622171433",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1622171433"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1622190959",
      "pull_request_review_id": 2090475849,
      "id": 1622190959,
      "node_id": "PRRC_kwDOABII585gsKtv",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks, trying again...",
      "created_at": "2024-05-31T10:24:41Z",
      "updated_at": "2024-05-31T10:24:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1622190959",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1622190959"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1622453453",
      "pull_request_review_id": 2090892867,
      "id": 1622453453,
      "node_id": "PRRC_kwDOABII585gtKzN",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Matches!",
      "created_at": "2024-05-31T13:52:30Z",
      "updated_at": "2024-05-31T13:52:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1622453453",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1622453453"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1622550401",
      "pull_request_review_id": 2091063201,
      "id": 1622550401,
      "node_id": "PRRC_kwDOABII585gtieB",
      "diff_hunk": "@@ -84,15 +84,21 @@ bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockU\n                 LOCK(cs_main);\n                 const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n \n-                uint32_t spent{0};\n+                uint32_t discarded{0};\n                 for (uint32_t i{0}; i < tx->vout.size(); i++) {\n                     COutPoint outpoint(tx->GetHash(), i);\n+                    // Discard dust\n+                    if (tx->vout.at(i).nValue < 1000) {\n+                        discarded++;\n+                        continue;\n+                    }\n+\n                     // Many new blocks may be processed while generating the index,\n                     // in between HaveCoin calls. This is not a problem, because\n                     // the cut-through index can safely have false positives.",
      "path": "src/index/bip352.cpp",
      "position": 101,
      "original_position": 16,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "20ee76a1ef6eec43b5ceed123f6d5ad388185cd9",
      "in_reply_to_id": 1597120404,
      "user": {
        "login": "setavenger",
        "id": 34041358,
        "node_id": "MDQ6VXNlcjM0MDQxMzU4",
        "avatar_url": "https://avatars.githubusercontent.com/u/34041358?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/setavenger",
        "html_url": "https://github.com/setavenger",
        "followers_url": "https://api.github.com/users/setavenger/followers",
        "following_url": "https://api.github.com/users/setavenger/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/setavenger/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/setavenger/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/setavenger/subscriptions",
        "organizations_url": "https://api.github.com/users/setavenger/orgs",
        "repos_url": "https://api.github.com/users/setavenger/repos",
        "events_url": "https://api.github.com/users/setavenger/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/setavenger/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Cool! Would you mind sharing the current disk usage here https://github.com/setavenger/blindbit-oracle/issues/15\r\nit's been a while since I've done a full mainnet sync.",
      "created_at": "2024-05-31T14:56:04Z",
      "updated_at": "2024-05-31T14:56:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1622550401",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1622550401"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 101,
      "original_line": 101,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1623063336",
      "pull_request_review_id": 2091892696,
      "id": 1623063336,
      "node_id": "PRRC_kwDOABII585gvfso",
      "diff_hunk": "@@ -0,0 +1,359 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <addresstype.h>\n+#include <common/bip352.h>\n+#include <primitives/transaction.h>\n+#include <secp256k1_extrakeys.h>\n+#include <pubkey.h>\n+#include <secp256k1.h>\n+#include <span.h>\n+\n+#include <secp256k1_silentpayments.h>\n+#include <streams.h>\n+#include <uint256.h>\n+#include <logging.h>\n+#include <policy/policy.h>\n+#include <script/sign.h>\n+#include <script/solver.h>\n+#include <script/script_error.h>\n+#include <util/check.h>\n+#include <util/strencodings.h>\n+\n+extern secp256k1_context* secp256k1_context_sign; // TODO: this is hacky, is there a better solution?\n+\n+namespace BIP352 {\n+\n+std::optional<PubKey> GetPubKeyFromInput(const CTxIn& txin, const CScript& spk)\n+{\n+    std::vector<std::vector<unsigned char>> solutions;\n+    TxoutType type = Solver(spk, solutions);\n+    PubKey pubkey;\n+    if (type == TxoutType::WITNESS_V1_TAPROOT) {\n+        // Check for H point in script path spend\n+        if (txin.scriptWitness.stack.size() > 1) {\n+            // Check for annex\n+            bool has_annex = txin.scriptWitness.stack.back()[0] == ANNEX_TAG;\n+            size_t post_annex_size = txin.scriptWitness.stack.size() - (has_annex ? 1 : 0);\n+            if (post_annex_size > 1) {\n+                // Actually a script path spend\n+                const std::vector<unsigned char>& control = txin.scriptWitness.stack.at(post_annex_size - 1);\n+                Assert(control.size() >= 33);\n+                if (std::equal(NUMS_H.begin(), NUMS_H.end(), control.begin() + 1)) {\n+                    // Skip script path with H internal key\n+                    return std::nullopt;\n+                }\n+            }\n+        }\n+\n+        pubkey = XOnlyPubKey{solutions[0]};\n+    } else if (type == TxoutType::WITNESS_V0_KEYHASH) {\n+        pubkey = CPubKey{txin.scriptWitness.stack.back()};\n+    } else if (type == TxoutType::PUBKEYHASH || type == TxoutType::SCRIPTHASH) {\n+        // Use the script interpreter to get the stack after executing the scriptSig\n+        std::vector<std::vector<unsigned char>> stack;\n+        ScriptError serror;\n+        Assert(EvalScript(stack, txin.scriptSig, MANDATORY_SCRIPT_VERIFY_FLAGS, DUMMY_CHECKER, SigVersion::BASE, &serror));\n+        if (type == TxoutType::PUBKEYHASH) {\n+            pubkey = CPubKey{stack.back()};\n+        } else if (type == TxoutType::SCRIPTHASH) {\n+            // Check if the redeemScript is P2WPKH\n+            CScript redeem_script{stack.back().begin(), stack.back().end()};\n+            TxoutType rs_type = Solver(redeem_script, solutions);\n+            if (rs_type == TxoutType::WITNESS_V0_KEYHASH) {\n+                pubkey = CPubKey{txin.scriptWitness.stack.back()};\n+            }\n+        }\n+    }\n+    if (std::holds_alternative<XOnlyPubKey>(pubkey)) return pubkey;\n+    if (auto compressed_pubkey = std::get_if<CPubKey>(&pubkey)) {\n+        if (compressed_pubkey->IsCompressed() && compressed_pubkey->IsValid()) return *compressed_pubkey;\n+    }\n+    return std::nullopt;\n+}\n+\n+PubTweakData CreateInputPubkeysTweak(\n+    const std::vector<CPubKey>& plain_pubkeys,\n+    const std::vector<XOnlyPubKey>& taproot_pubkeys,\n+    const COutPoint& smallest_outpoint)\n+{\n+    PubTweakData public_data;\n+    // TODO: see if there is a way to clean this up\n+    std::vector<secp256k1_pubkey> plain_pubkey_objs;\n+    std::vector<secp256k1_xonly_pubkey> taproot_pubkey_objs;\n+    std::vector<secp256k1_pubkey *> plain_pubkey_ptrs;\n+    std::vector<secp256k1_xonly_pubkey *> taproot_pubkey_ptrs;\n+    plain_pubkey_objs.reserve(plain_pubkeys.size());\n+    plain_pubkey_ptrs.reserve(plain_pubkeys.size());\n+    taproot_pubkey_objs.reserve(taproot_pubkeys.size());\n+    taproot_pubkey_ptrs.reserve(taproot_pubkeys.size());\n+\n+    for (const CPubKey& pubkey : plain_pubkeys) {\n+        secp256k1_pubkey parsed_pubkey;\n+        bool ret = secp256k1_ec_pubkey_parse(secp256k1_context_static, &parsed_pubkey,\n+            pubkey.data(), pubkey.size());\n+        assert(ret);\n+        plain_pubkey_objs.emplace_back(parsed_pubkey);\n+    }\n+    for (const XOnlyPubKey& pubkey : taproot_pubkeys) {\n+        secp256k1_xonly_pubkey parsed_xonly_pubkey;\n+        bool ret = secp256k1_xonly_pubkey_parse(secp256k1_context_static, &parsed_xonly_pubkey, pubkey.data());\n+        assert(ret);\n+        taproot_pubkey_objs.emplace_back(parsed_xonly_pubkey);\n+    }\n+    for (auto &p : plain_pubkey_objs) {\n+        plain_pubkey_ptrs.push_back(&p);\n+    }\n+    for (auto &t : taproot_pubkey_objs) {\n+        taproot_pubkey_ptrs.push_back(&t);\n+    }\n+\n+    std::vector<unsigned char> smallest_outpoint_ser;\n+    VectorWriter stream{smallest_outpoint_ser, 0};\n+    stream << smallest_outpoint;\n+    bool ret = secp256k1_silentpayments_recipient_public_data_create(secp256k1_context_static,\n+        &public_data,\n+        smallest_outpoint_ser.data(),\n+        taproot_pubkey_ptrs.data(), taproot_pubkey_ptrs.size(),\n+        plain_pubkey_ptrs.data(), plain_pubkey_ptrs.size()\n+    );\n+    assert(ret);",
      "path": "src/common/bip352.cpp",
      "position": null,
      "original_position": 121,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "5b06ccf1dc63f56dbc35368a37b9a72af671f15f",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "As already [mentioned in the secp256k1 PR](https://github.com/bitcoin-core/secp256k1/pull/1519#issuecomment-2143167510), this assert makes the indexer crash on signet on block 198023 for tx https://mempool.space/signet/tx/d73f4a19f3973e90af6df62e735bb7b31f3d5ab8e7e26e7950651b436d093313, which contains input pubkeys that add up to zero (point of infinity):\r\n\r\n```\r\n.....\r\n2024-05-31T22:31:57Z Syncing bip352 index with block chain from height 113222\r\n2024-05-31T22:32:27Z Syncing bip352 index with block chain from height 189560\r\nbitcoind: common/bip352.cpp:133: BIP352::PubTweakData BIP352::CreateInputPubkeysTweak(const std::vector<CPubKey>&, const std::vector<XOnlyPubKey>&, const COutPoint&): Assertion `ret' failed.\r\nAborted (core dumped)\r\n```\r\n",
      "created_at": "2024-06-01T00:33:03Z",
      "updated_at": "2024-06-01T00:33:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1623063336",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1623063336"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": 115,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 121,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1679131618",
      "pull_request_review_id": 2179815357,
      "id": 1679131618,
      "node_id": "PRRC_kwDOABII585kFYPi",
      "diff_hunk": "@@ -0,0 +1,359 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <addresstype.h>\n+#include <common/bip352.h>\n+#include <primitives/transaction.h>\n+#include <secp256k1_extrakeys.h>\n+#include <pubkey.h>\n+#include <secp256k1.h>\n+#include <span.h>\n+\n+#include <secp256k1_silentpayments.h>\n+#include <streams.h>\n+#include <uint256.h>\n+#include <logging.h>\n+#include <policy/policy.h>\n+#include <script/sign.h>\n+#include <script/solver.h>\n+#include <script/script_error.h>\n+#include <util/check.h>\n+#include <util/strencodings.h>\n+\n+extern secp256k1_context* secp256k1_context_sign; // TODO: this is hacky, is there a better solution?\n+\n+namespace BIP352 {\n+\n+std::optional<PubKey> GetPubKeyFromInput(const CTxIn& txin, const CScript& spk)\n+{\n+    std::vector<std::vector<unsigned char>> solutions;\n+    TxoutType type = Solver(spk, solutions);\n+    PubKey pubkey;\n+    if (type == TxoutType::WITNESS_V1_TAPROOT) {\n+        // Check for H point in script path spend\n+        if (txin.scriptWitness.stack.size() > 1) {\n+            // Check for annex\n+            bool has_annex = txin.scriptWitness.stack.back()[0] == ANNEX_TAG;\n+            size_t post_annex_size = txin.scriptWitness.stack.size() - (has_annex ? 1 : 0);\n+            if (post_annex_size > 1) {\n+                // Actually a script path spend\n+                const std::vector<unsigned char>& control = txin.scriptWitness.stack.at(post_annex_size - 1);\n+                Assert(control.size() >= 33);\n+                if (std::equal(NUMS_H.begin(), NUMS_H.end(), control.begin() + 1)) {\n+                    // Skip script path with H internal key\n+                    return std::nullopt;\n+                }\n+            }\n+        }\n+\n+        pubkey = XOnlyPubKey{solutions[0]};\n+    } else if (type == TxoutType::WITNESS_V0_KEYHASH) {\n+        pubkey = CPubKey{txin.scriptWitness.stack.back()};\n+    } else if (type == TxoutType::PUBKEYHASH || type == TxoutType::SCRIPTHASH) {\n+        // Use the script interpreter to get the stack after executing the scriptSig\n+        std::vector<std::vector<unsigned char>> stack;\n+        ScriptError serror;\n+        Assert(EvalScript(stack, txin.scriptSig, MANDATORY_SCRIPT_VERIFY_FLAGS, DUMMY_CHECKER, SigVersion::BASE, &serror));\n+        if (type == TxoutType::PUBKEYHASH) {\n+            pubkey = CPubKey{stack.back()};\n+        } else if (type == TxoutType::SCRIPTHASH) {\n+            // Check if the redeemScript is P2WPKH\n+            CScript redeem_script{stack.back().begin(), stack.back().end()};\n+            TxoutType rs_type = Solver(redeem_script, solutions);\n+            if (rs_type == TxoutType::WITNESS_V0_KEYHASH) {\n+                pubkey = CPubKey{txin.scriptWitness.stack.back()};\n+            }\n+        }\n+    }\n+    if (std::holds_alternative<XOnlyPubKey>(pubkey)) return pubkey;\n+    if (auto compressed_pubkey = std::get_if<CPubKey>(&pubkey)) {\n+        if (compressed_pubkey->IsCompressed() && compressed_pubkey->IsValid()) return *compressed_pubkey;\n+    }\n+    return std::nullopt;\n+}\n+\n+PubTweakData CreateInputPubkeysTweak(\n+    const std::vector<CPubKey>& plain_pubkeys,\n+    const std::vector<XOnlyPubKey>& taproot_pubkeys,\n+    const COutPoint& smallest_outpoint)\n+{\n+    PubTweakData public_data;\n+    // TODO: see if there is a way to clean this up\n+    std::vector<secp256k1_pubkey> plain_pubkey_objs;\n+    std::vector<secp256k1_xonly_pubkey> taproot_pubkey_objs;\n+    std::vector<secp256k1_pubkey *> plain_pubkey_ptrs;\n+    std::vector<secp256k1_xonly_pubkey *> taproot_pubkey_ptrs;\n+    plain_pubkey_objs.reserve(plain_pubkeys.size());\n+    plain_pubkey_ptrs.reserve(plain_pubkeys.size());\n+    taproot_pubkey_objs.reserve(taproot_pubkeys.size());\n+    taproot_pubkey_ptrs.reserve(taproot_pubkeys.size());\n+\n+    for (const CPubKey& pubkey : plain_pubkeys) {\n+        secp256k1_pubkey parsed_pubkey;\n+        bool ret = secp256k1_ec_pubkey_parse(secp256k1_context_static, &parsed_pubkey,\n+            pubkey.data(), pubkey.size());\n+        assert(ret);\n+        plain_pubkey_objs.emplace_back(parsed_pubkey);\n+    }\n+    for (const XOnlyPubKey& pubkey : taproot_pubkeys) {\n+        secp256k1_xonly_pubkey parsed_xonly_pubkey;\n+        bool ret = secp256k1_xonly_pubkey_parse(secp256k1_context_static, &parsed_xonly_pubkey, pubkey.data());\n+        assert(ret);\n+        taproot_pubkey_objs.emplace_back(parsed_xonly_pubkey);\n+    }\n+    for (auto &p : plain_pubkey_objs) {\n+        plain_pubkey_ptrs.push_back(&p);\n+    }\n+    for (auto &t : taproot_pubkey_objs) {\n+        taproot_pubkey_ptrs.push_back(&t);\n+    }\n+\n+    std::vector<unsigned char> smallest_outpoint_ser;\n+    VectorWriter stream{smallest_outpoint_ser, 0};\n+    stream << smallest_outpoint;\n+    bool ret = secp256k1_silentpayments_recipient_public_data_create(secp256k1_context_static,\n+        &public_data,\n+        smallest_outpoint_ser.data(),\n+        taproot_pubkey_ptrs.data(), taproot_pubkey_ptrs.size(),\n+        plain_pubkey_ptrs.data(), plain_pubkey_ptrs.size()\n+    );\n+    assert(ret);",
      "path": "src/common/bip352.cpp",
      "position": null,
      "original_position": 121,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "5b06ccf1dc63f56dbc35368a37b9a72af671f15f",
      "in_reply_to_id": 1623063336,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Can you retest after todays rebase?",
      "created_at": "2024-07-16T10:08:18Z",
      "updated_at": "2024-07-16T10:08:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1679131618",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1679131618"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": 115,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 121,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1679523217",
      "pull_request_review_id": 2180438669,
      "id": 1679523217,
      "node_id": "PRRC_kwDOABII585kG32R",
      "diff_hunk": "@@ -0,0 +1,359 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <addresstype.h>\n+#include <common/bip352.h>\n+#include <primitives/transaction.h>\n+#include <secp256k1_extrakeys.h>\n+#include <pubkey.h>\n+#include <secp256k1.h>\n+#include <span.h>\n+\n+#include <secp256k1_silentpayments.h>\n+#include <streams.h>\n+#include <uint256.h>\n+#include <logging.h>\n+#include <policy/policy.h>\n+#include <script/sign.h>\n+#include <script/solver.h>\n+#include <script/script_error.h>\n+#include <util/check.h>\n+#include <util/strencodings.h>\n+\n+extern secp256k1_context* secp256k1_context_sign; // TODO: this is hacky, is there a better solution?\n+\n+namespace BIP352 {\n+\n+std::optional<PubKey> GetPubKeyFromInput(const CTxIn& txin, const CScript& spk)\n+{\n+    std::vector<std::vector<unsigned char>> solutions;\n+    TxoutType type = Solver(spk, solutions);\n+    PubKey pubkey;\n+    if (type == TxoutType::WITNESS_V1_TAPROOT) {\n+        // Check for H point in script path spend\n+        if (txin.scriptWitness.stack.size() > 1) {\n+            // Check for annex\n+            bool has_annex = txin.scriptWitness.stack.back()[0] == ANNEX_TAG;\n+            size_t post_annex_size = txin.scriptWitness.stack.size() - (has_annex ? 1 : 0);\n+            if (post_annex_size > 1) {\n+                // Actually a script path spend\n+                const std::vector<unsigned char>& control = txin.scriptWitness.stack.at(post_annex_size - 1);\n+                Assert(control.size() >= 33);\n+                if (std::equal(NUMS_H.begin(), NUMS_H.end(), control.begin() + 1)) {\n+                    // Skip script path with H internal key\n+                    return std::nullopt;\n+                }\n+            }\n+        }\n+\n+        pubkey = XOnlyPubKey{solutions[0]};\n+    } else if (type == TxoutType::WITNESS_V0_KEYHASH) {\n+        pubkey = CPubKey{txin.scriptWitness.stack.back()};\n+    } else if (type == TxoutType::PUBKEYHASH || type == TxoutType::SCRIPTHASH) {\n+        // Use the script interpreter to get the stack after executing the scriptSig\n+        std::vector<std::vector<unsigned char>> stack;\n+        ScriptError serror;\n+        Assert(EvalScript(stack, txin.scriptSig, MANDATORY_SCRIPT_VERIFY_FLAGS, DUMMY_CHECKER, SigVersion::BASE, &serror));\n+        if (type == TxoutType::PUBKEYHASH) {\n+            pubkey = CPubKey{stack.back()};\n+        } else if (type == TxoutType::SCRIPTHASH) {\n+            // Check if the redeemScript is P2WPKH\n+            CScript redeem_script{stack.back().begin(), stack.back().end()};\n+            TxoutType rs_type = Solver(redeem_script, solutions);\n+            if (rs_type == TxoutType::WITNESS_V0_KEYHASH) {\n+                pubkey = CPubKey{txin.scriptWitness.stack.back()};\n+            }\n+        }\n+    }\n+    if (std::holds_alternative<XOnlyPubKey>(pubkey)) return pubkey;\n+    if (auto compressed_pubkey = std::get_if<CPubKey>(&pubkey)) {\n+        if (compressed_pubkey->IsCompressed() && compressed_pubkey->IsValid()) return *compressed_pubkey;\n+    }\n+    return std::nullopt;\n+}\n+\n+PubTweakData CreateInputPubkeysTweak(\n+    const std::vector<CPubKey>& plain_pubkeys,\n+    const std::vector<XOnlyPubKey>& taproot_pubkeys,\n+    const COutPoint& smallest_outpoint)\n+{\n+    PubTweakData public_data;\n+    // TODO: see if there is a way to clean this up\n+    std::vector<secp256k1_pubkey> plain_pubkey_objs;\n+    std::vector<secp256k1_xonly_pubkey> taproot_pubkey_objs;\n+    std::vector<secp256k1_pubkey *> plain_pubkey_ptrs;\n+    std::vector<secp256k1_xonly_pubkey *> taproot_pubkey_ptrs;\n+    plain_pubkey_objs.reserve(plain_pubkeys.size());\n+    plain_pubkey_ptrs.reserve(plain_pubkeys.size());\n+    taproot_pubkey_objs.reserve(taproot_pubkeys.size());\n+    taproot_pubkey_ptrs.reserve(taproot_pubkeys.size());\n+\n+    for (const CPubKey& pubkey : plain_pubkeys) {\n+        secp256k1_pubkey parsed_pubkey;\n+        bool ret = secp256k1_ec_pubkey_parse(secp256k1_context_static, &parsed_pubkey,\n+            pubkey.data(), pubkey.size());\n+        assert(ret);\n+        plain_pubkey_objs.emplace_back(parsed_pubkey);\n+    }\n+    for (const XOnlyPubKey& pubkey : taproot_pubkeys) {\n+        secp256k1_xonly_pubkey parsed_xonly_pubkey;\n+        bool ret = secp256k1_xonly_pubkey_parse(secp256k1_context_static, &parsed_xonly_pubkey, pubkey.data());\n+        assert(ret);\n+        taproot_pubkey_objs.emplace_back(parsed_xonly_pubkey);\n+    }\n+    for (auto &p : plain_pubkey_objs) {\n+        plain_pubkey_ptrs.push_back(&p);\n+    }\n+    for (auto &t : taproot_pubkey_objs) {\n+        taproot_pubkey_ptrs.push_back(&t);\n+    }\n+\n+    std::vector<unsigned char> smallest_outpoint_ser;\n+    VectorWriter stream{smallest_outpoint_ser, 0};\n+    stream << smallest_outpoint;\n+    bool ret = secp256k1_silentpayments_recipient_public_data_create(secp256k1_context_static,\n+        &public_data,\n+        smallest_outpoint_ser.data(),\n+        taproot_pubkey_ptrs.data(), taproot_pubkey_ptrs.size(),\n+        plain_pubkey_ptrs.data(), plain_pubkey_ptrs.size()\n+    );\n+    assert(ret);",
      "path": "src/common/bip352.cpp",
      "position": null,
      "original_position": 121,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "5b06ccf1dc63f56dbc35368a37b9a72af671f15f",
      "in_reply_to_id": 1623063336,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> Can you retest after todays rebase?\r\n\r\nSure. Retested on commit d0019f290ab67ab4190274bb325bfc29bbfcea56, can confirm that the BIP352 indexer on signet runs through (up to current block 204598) now without crashing. ",
      "created_at": "2024-07-16T14:28:39Z",
      "updated_at": "2024-07-16T14:28:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1679523217",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1679523217"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": 115,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 121,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1738293954",
      "pull_request_review_id": 2271725612,
      "id": 1738293954,
      "node_id": "PRRC_kwDOABII585nnELC",
      "diff_hunk": "@@ -0,0 +1,169 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_COMMON_BIP352_H\n+#define BITCOIN_COMMON_BIP352_H\n+\n+#include <key.h>\n+#include <pubkey.h>\n+#include <primitives/transaction.h>\n+#include <secp256k1.h>\n+#include <secp256k1_silentpayments.h>\n+#include <uint256.h>\n+#include <addresstype.h>\n+#include <coins.h>\n+\n+#include <vector>\n+#include <variant>\n+\n+namespace BIP352 {\n+\n+using PubKey = std::variant<CPubKey, XOnlyPubKey>;\n+using PubTweakData = secp256k1_silentpayments_public_data;\n+\n+struct BIP352Comparator {\n+    bool operator()(const COutPoint& a, const COutPoint& b) const {\n+        // BIP352 defines the \"smallest outpoint\" based on a lexicographic\n+        // sort of the outpoints, using the 36-byte serialization:\n+        // <txid, 32-bytes little-endian>:<vout, 4-bytes little-endian>\n+        if (a.hash != b.hash) {\n+            return a.hash < b.hash;\n+        }\n+        uint8_t a_vout[4], b_vout[4];\n+        WriteLE32(a_vout, a.n);\n+        WriteLE32(b_vout, b.n);\n+        return std::memcmp(a_vout, b_vout, 4) < 0;",
      "path": "src/common/bip352.h",
      "position": 36,
      "original_position": 36,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "in_reply_to_id": null,
      "user": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "~~You don't need to do this. You can just compare the numbers as unsigned ints in memory. It will yield identical results on all platforms and be faster.~~",
      "created_at": "2024-08-30T09:25:37Z",
      "updated_at": "2024-08-30T10:13:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1738293954",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1738293954"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 36,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1738310090",
      "pull_request_review_id": 2271752123,
      "id": 1738310090,
      "node_id": "PRRC_kwDOABII585nnIHK",
      "diff_hunk": "@@ -0,0 +1,77 @@\n+#ifndef BITCOIN_INDEX_BIP352_H\n+#define BITCOIN_INDEX_BIP352_H\n+\n+#include <coins.h>\n+#include <index/base.h>\n+#include <pubkey.h>\n+\n+class COutPoint;\n+class CBlockUndo;\n+\n+static constexpr bool DEFAULT_BIP352_INDEX{false};\n+static constexpr bool DEFAULT_BIP352_CT_INDEX{false};\n+\n+/**\n+ * This index is used to look up the tweaked sum of eligible public keys for a\n+ * given transaction hash. See BIP352.\n+ *\n+ * Currently only silent payments v0 exists. Future versions may expand the\n+ * existing index or create a (perhaps overlapping) new one.\n+ */\n+class BIP352Index final : public BaseIndex\n+{\n+public:\n+    /**\n+     * For each block hash we store and array of transactions. For each\n+     * transaction we store:\n+     * - the tweaked pubkey sum\n+     * - the highest output amount (for dust filtering)\n+     */\n+    using tweak_index_entry = std::vector<std::pair<CPubKey, uint8_t>>;\n+    static constexpr uint8_t dust_shift{4}; // Hexasat\n+    /* Maximum dust threshold that we can filter */\n+    static constexpr CAmount max_dust_threshold{CAmount(UINT8_MAX - 1) << dust_shift};\n+\n+    class DB;\n+\n+private:\n+    const std::unique_ptr<DB> m_db;\n+\n+    /**  Whether this index has transaction cut-through enabled */\n+    bool m_cut_through{false};\n+\n+    bool AllowPrune() const override { return false; }\n+\n+    /**\n+     * Derive the silent payment tweaked public key for every block transaction.\n+     *\n+     *\n+     * @param[in] txs all block transactions\n+     * @param[in] block_undo block undo data\n+     * @param[out] index_entry the tweaked public keys, only for transactions that have one\n+     * @return false if something went wrong\n+     */\n+    bool GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockUndo& block_undo, tweak_index_entry& index_entry);",
      "path": "src/index/bip352.h",
      "position": 54,
      "original_position": 54,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "in_reply_to_id": null,
      "user": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The call signature of this method should be changed.. it;\r\n\r\n1. needlessly rakes a copy of the read-only vector `txs`\r\n2. needlessly requires a mutable `CBlockUndu&` which may lead the caller to think that his undo object is being modified by this method, when it is not.\r\n3. This should be `const`\r\n\r\nRelated: the called-function `BIP352::MakeSilentMayment` should be taking a `const CTransactionRef &`.\r\n\r\n```suggestion\r\n    bool GetSilentPaymentKeys(const std::vector<CTransactionRef>& txs, const CBlockUndo& block_undo, tweak_index_entry& index_entry) const;\r\n```",
      "created_at": "2024-08-30T09:35:56Z",
      "updated_at": "2024-08-30T09:45:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1738310090",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1738310090"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 54,
      "original_line": 54,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1738310783",
      "pull_request_review_id": 2271753107,
      "id": 1738310783,
      "node_id": "PRRC_kwDOABII585nnIR_",
      "diff_hunk": "@@ -0,0 +1,169 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_COMMON_BIP352_H\n+#define BITCOIN_COMMON_BIP352_H\n+\n+#include <key.h>\n+#include <pubkey.h>\n+#include <primitives/transaction.h>\n+#include <secp256k1.h>\n+#include <secp256k1_silentpayments.h>\n+#include <uint256.h>\n+#include <addresstype.h>\n+#include <coins.h>\n+\n+#include <vector>\n+#include <variant>\n+\n+namespace BIP352 {\n+\n+using PubKey = std::variant<CPubKey, XOnlyPubKey>;\n+using PubTweakData = secp256k1_silentpayments_public_data;\n+\n+struct BIP352Comparator {\n+    bool operator()(const COutPoint& a, const COutPoint& b) const {\n+        // BIP352 defines the \"smallest outpoint\" based on a lexicographic\n+        // sort of the outpoints, using the 36-byte serialization:\n+        // <txid, 32-bytes little-endian>:<vout, 4-bytes little-endian>\n+        if (a.hash != b.hash) {\n+            return a.hash < b.hash;\n+        }\n+        uint8_t a_vout[4], b_vout[4];\n+        WriteLE32(a_vout, a.n);\n+        WriteLE32(b_vout, b.n);\n+        return std::memcmp(a_vout, b_vout, 4) < 0;\n+    }\n+};\n+\n+struct SilentPaymentOutput {\n+    XOnlyPubKey output;\n+    uint256 tweak;\n+    std::optional<CPubKey> label;\n+};\n+\n+/**\n+ * @brief Get the public key from an input.\n+ *\n+ * Get the public key from a silent payment eligible input. This requires knowledge of the prevout\n+ * scriptPubKey to determine the type of input and whether or not it is eligible for silent payments.\n+ *\n+ * If the input is not eligible for silent payments, the input is skipped (indicated by returning a nullopt).\n+ *\n+ * @param txin                    The transaction input.\n+ * @param spk                     The scriptPubKey of the prevout.\n+ * @return std::optional<CPubKey> The public key, or nullopt if not found.\n+ */\n+std::optional<PubKey> GetPubKeyFromInput(const CTxIn& txin, const CScript& spk);\n+\n+/**\n+ * @brief Generate silent payment taproot destinations.\n+ *\n+ * Given a set of silent payment destinations, generate the requested number of outputs. If a silent payment\n+ * destination is repeated, this indicates multiple outputs are requested for the same recipient. The silent payment\n+ * desintaions are passed in map where the key indicates their desired position in the final tx.vout array.\n+ *\n+ * @param sp_dests                            The silent payment destinations.\n+ * @param plain_keys                          The private keys for non-taproot inputs.\n+ * @param taproot_keys                        The private keys for taproot inputs.\n+ * @param smallest_outpoint                   The smallest_outpoint from the transaction inputs.\n+ * @return std::map<size_t, WitnessV1Taproot> The generated silent payment taproot destinations.\n+ */\n+std::optional<std::map<size_t, WitnessV1Taproot>> GenerateSilentPaymentTaprootDestinations(const std::map<size_t, V0SilentPaymentDestination>& sp_dests, const std::vector<CKey>& plain_keys, const std::vector<CKey>& taproot_keys, const COutPoint& smallest_outpoint);\n+\n+/**\n+ * @brief Create a silent payments label pair.\n+ *\n+ * Create a label tweak and the corresponding public key from an integer `m` and the recipient scan key.\n+ * `m = 0` is reserved for the change label.\n+ *\n+ * Label public keys can be stored in a cache, mapping the public key to the label tweak. This cache\n+ * is used during scanning to determine if a label was used and if so to retrieve the label tweak.\n+ *\n+ * @param scan_key                 The recipient's scan_key, used to salt the hash\n+ * @param m                        An integer m (only use m = 0 for the change label)\n+ * @return std::<CPubKey, uint156> The label public key and label tweak.\n+ *\n+ * @see GenerateSilentPaymentLabelledAddress\n+ */\n+std::pair<CPubKey, uint256> CreateLabelTweak(const CKey& scan_key, const int m);\n+\n+/**\n+ * @brief Generate a silent payment labeled address.\n+ *\n+ * @param recipient                   The recipient's silent payment destination (i.e. scan and spend public keys).\n+ * @param label                       The label tweak\n+ * @return V0SilentPaymentDestination The silent payment destination, with `B_spend -> B_spend + label * G`.\n+ *\n+ * @see CreateLabelTweak(const CKey& scan_key, const int m);\n+ */\n+V0SilentPaymentDestination GenerateSilentPaymentLabelledAddress(const V0SilentPaymentDestination& recipient, const uint256& label);\n+\n+/**\n+ * @brief: Check if a transaction could be a silent payment.\n+ *\n+ * A coinbase transaction can't be a silent payment.\n+ * A transaction with no Taproot outputs can't be a silent payment.\n+ *\n+ * @param tx                        The transaction to check\n+ * @return false if a transaction can't be a silent payment, true otherwise.\n+ */\n+bool MaybeSilentPayment(CTransactionRef &tx);",
      "path": "src/common/bip352.h",
      "position": 112,
      "original_position": 112,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "in_reply_to_id": null,
      "user": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "```suggestion\r\nbool MaybeSilentPayment(const CTransactionRef &tx);\r\n```",
      "created_at": "2024-08-30T09:36:21Z",
      "updated_at": "2024-08-30T09:36:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1738310783",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1738310783"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 112,
      "original_line": 112,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1738311748",
      "pull_request_review_id": 2271754521,
      "id": 1738311748,
      "node_id": "PRRC_kwDOABII585nnIhE",
      "diff_hunk": "@@ -0,0 +1,370 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <addresstype.h>\n+#include <common/bip352.h>\n+#include <optional>\n+#include <primitives/transaction.h>\n+#include <secp256k1_extrakeys.h>\n+#include <pubkey.h>\n+#include <secp256k1.h>\n+#include <span.h>\n+\n+#include <secp256k1_silentpayments.h>\n+#include <streams.h>\n+#include <uint256.h>\n+#include <logging.h>\n+#include <policy/policy.h>\n+#include <script/sign.h>\n+#include <script/solver.h>\n+#include <script/script_error.h>\n+#include <util/check.h>\n+#include <util/strencodings.h>\n+\n+extern secp256k1_context* secp256k1_context_sign; // TODO: this is hacky, is there a better solution?\n+\n+namespace BIP352 {\n+\n+std::optional<PubKey> GetPubKeyFromInput(const CTxIn& txin, const CScript& spk)\n+{\n+    std::vector<std::vector<unsigned char>> solutions;\n+    TxoutType type = Solver(spk, solutions);\n+    PubKey pubkey;\n+    if (type == TxoutType::WITNESS_V1_TAPROOT) {\n+        // Check for H point in script path spend\n+        if (txin.scriptWitness.stack.size() > 1) {\n+            // Check for annex\n+            bool has_annex = txin.scriptWitness.stack.back()[0] == ANNEX_TAG;\n+            size_t post_annex_size = txin.scriptWitness.stack.size() - (has_annex ? 1 : 0);\n+            if (post_annex_size > 1) {\n+                // Actually a script path spend\n+                const std::vector<unsigned char>& control = txin.scriptWitness.stack.at(post_annex_size - 1);\n+                Assert(control.size() >= 33);\n+                if (std::equal(WitnessV1Taproot::NUMS_H.begin(), WitnessV1Taproot::NUMS_H.end(), control.begin() + 1)) {\n+                    // Skip script path with H internal key\n+                    return std::nullopt;\n+                }\n+            }\n+        }\n+\n+        pubkey = XOnlyPubKey{solutions[0]};\n+    } else if (type == TxoutType::WITNESS_V0_KEYHASH) {\n+        pubkey = CPubKey{txin.scriptWitness.stack.back()};\n+    } else if (type == TxoutType::PUBKEYHASH || type == TxoutType::SCRIPTHASH) {\n+        // Use the script interpreter to get the stack after executing the scriptSig\n+        std::vector<std::vector<unsigned char>> stack;\n+        ScriptError serror;\n+        Assert(EvalScript(stack, txin.scriptSig, MANDATORY_SCRIPT_VERIFY_FLAGS, DUMMY_CHECKER, SigVersion::BASE, &serror));\n+        if (type == TxoutType::PUBKEYHASH) {\n+            pubkey = CPubKey{stack.back()};\n+        } else if (type == TxoutType::SCRIPTHASH) {\n+            // Check if the redeemScript is P2WPKH\n+            CScript redeem_script{stack.back().begin(), stack.back().end()};\n+            TxoutType rs_type = Solver(redeem_script, solutions);\n+            if (rs_type == TxoutType::WITNESS_V0_KEYHASH) {\n+                pubkey = CPubKey{txin.scriptWitness.stack.back()};\n+            }\n+        }\n+    }\n+    if (std::holds_alternative<XOnlyPubKey>(pubkey)) return pubkey;\n+    if (auto compressed_pubkey = std::get_if<CPubKey>(&pubkey)) {\n+        if (compressed_pubkey->IsCompressed() && compressed_pubkey->IsValid()) return *compressed_pubkey;\n+    }\n+    return std::nullopt;\n+}\n+\n+bool MaybeSilentPayment(CTransactionRef &tx) {",
      "path": "src/common/bip352.cpp",
      "position": 77,
      "original_position": 77,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "in_reply_to_id": null,
      "user": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "```suggestion\r\nbool MaybeSilentPayment(const CTransactionRef &tx) {\r\n```",
      "created_at": "2024-08-30T09:36:56Z",
      "updated_at": "2024-08-30T09:36:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1738311748",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1738311748"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 77,
      "original_line": 77,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1738312712",
      "pull_request_review_id": 2271755953,
      "id": 1738312712,
      "node_id": "PRRC_kwDOABII585nnIwI",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+#include <index/bip352.h>\n+\n+#include <common/bip352.h>\n+#include <chainparams.h>\n+#include <coins.h>\n+#include <common/args.h>\n+#include <index/disktxpos.h>\n+#include <node/blockstorage.h>\n+#include <pubkey.h>\n+#include <primitives/transaction.h>\n+\n+#include <undo.h>\n+#include <util/fs.h>\n+#include <validation.h>\n+\n+#include <dbwrapper.h>\n+#include <hash.h>\n+\n+constexpr uint8_t DB_SILENT_PAYMENT_INDEX{'s'};\n+/* Save space on mainnet by starting the index at Taproot activation.\n+ * Copying the height here assuming DEPLOYMENT_TAPROOT will be dropped:\n+ * https://github.com/bitcoin/bitcoin/pull/26201/\n+ * Only apply this storage optimization on mainnet.\n+ */\n+const int TAPROOT_MAINNET_ACTIVATION_HEIGHT{709632};\n+\n+std::unique_ptr<BIP352Index> g_bip352_index;\n+std::unique_ptr<BIP352Index> g_bip352_ct_index;\n+\n+/** Access to the silent payment index database (indexes/bip352/) */\n+class BIP352Index::DB : public BaseIndex::DB\n+{\n+public:\n+    explicit DB(fs::path file_name, size_t n_cache_size, bool f_memory = false, bool f_wipe = false);\n+\n+    bool WriteSilentPayments(const std::pair<uint256, tweak_index_entry>& kv);\n+};\n+\n+BIP352Index::DB::DB(fs::path file_name, size_t n_cache_size, bool f_memory, bool f_wipe) :\n+    BaseIndex::DB(gArgs.GetDataDirNet() / \"indexes\" / file_name, n_cache_size, f_memory, f_wipe)\n+{}\n+\n+bool BIP352Index::DB::WriteSilentPayments(const std::pair<uint256, tweak_index_entry>& kv)\n+{\n+    CDBBatch batch(*this);\n+    batch.Write(std::make_pair(DB_SILENT_PAYMENT_INDEX, kv.first), kv.second);\n+    return WriteBatch(batch);\n+}\n+\n+BIP352Index::BIP352Index(bool cut_through, std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n+    : BaseIndex(std::move(chain), strprintf(\"bip352 %sindex\", cut_through ? \"cut-through \" : \"\"), /*start_height=*/Params().IsTestChain() ? 0 : TAPROOT_MAINNET_ACTIVATION_HEIGHT), m_db(std::make_unique<BIP352Index::DB>(fs::u8path(strprintf(\"bip352%s\", cut_through ? \"ct\" : \"\")), n_cache_size, f_memory, f_wipe))\n+{\n+    m_cut_through = cut_through;\n+}\n+\n+BIP352Index::~BIP352Index() = default;\n+\n+bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockUndo& block_undo, tweak_index_entry& index_entry)",
      "path": "src/index/bip352.cpp",
      "position": 58,
      "original_position": 58,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "in_reply_to_id": null,
      "user": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "```suggestion\r\nbool BIP352Index::GetSilentPaymentKeys(const std::vector<CTransactionRef>& txs, const CBlockUndo& block_undo, tweak_index_entry& index_entry) const\r\n```",
      "created_at": "2024-08-30T09:37:31Z",
      "updated_at": "2024-08-30T09:37:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1738312712",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1738312712"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 58,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1738314935",
      "pull_request_review_id": 2271758930,
      "id": 1738314935,
      "node_id": "PRRC_kwDOABII585nnJS3",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+#include <index/bip352.h>\n+\n+#include <common/bip352.h>\n+#include <chainparams.h>\n+#include <coins.h>\n+#include <common/args.h>\n+#include <index/disktxpos.h>\n+#include <node/blockstorage.h>\n+#include <pubkey.h>\n+#include <primitives/transaction.h>\n+\n+#include <undo.h>\n+#include <util/fs.h>\n+#include <validation.h>\n+\n+#include <dbwrapper.h>\n+#include <hash.h>\n+\n+constexpr uint8_t DB_SILENT_PAYMENT_INDEX{'s'};\n+/* Save space on mainnet by starting the index at Taproot activation.\n+ * Copying the height here assuming DEPLOYMENT_TAPROOT will be dropped:\n+ * https://github.com/bitcoin/bitcoin/pull/26201/\n+ * Only apply this storage optimization on mainnet.\n+ */\n+const int TAPROOT_MAINNET_ACTIVATION_HEIGHT{709632};\n+\n+std::unique_ptr<BIP352Index> g_bip352_index;\n+std::unique_ptr<BIP352Index> g_bip352_ct_index;\n+\n+/** Access to the silent payment index database (indexes/bip352/) */\n+class BIP352Index::DB : public BaseIndex::DB\n+{\n+public:\n+    explicit DB(fs::path file_name, size_t n_cache_size, bool f_memory = false, bool f_wipe = false);\n+\n+    bool WriteSilentPayments(const std::pair<uint256, tweak_index_entry>& kv);\n+};\n+\n+BIP352Index::DB::DB(fs::path file_name, size_t n_cache_size, bool f_memory, bool f_wipe) :\n+    BaseIndex::DB(gArgs.GetDataDirNet() / \"indexes\" / file_name, n_cache_size, f_memory, f_wipe)\n+{}\n+\n+bool BIP352Index::DB::WriteSilentPayments(const std::pair<uint256, tweak_index_entry>& kv)\n+{\n+    CDBBatch batch(*this);\n+    batch.Write(std::make_pair(DB_SILENT_PAYMENT_INDEX, kv.first), kv.second);\n+    return WriteBatch(batch);\n+}\n+\n+BIP352Index::BIP352Index(bool cut_through, std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n+    : BaseIndex(std::move(chain), strprintf(\"bip352 %sindex\", cut_through ? \"cut-through \" : \"\"), /*start_height=*/Params().IsTestChain() ? 0 : TAPROOT_MAINNET_ACTIVATION_HEIGHT), m_db(std::make_unique<BIP352Index::DB>(fs::u8path(strprintf(\"bip352%s\", cut_through ? \"ct\" : \"\")), n_cache_size, f_memory, f_wipe))\n+{\n+    m_cut_through = cut_through;\n+}\n+\n+BIP352Index::~BIP352Index() = default;\n+\n+bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockUndo& block_undo, tweak_index_entry& index_entry)\n+{\n+    assert(txs.size() - 1 == block_undo.vtxundo.size());\n+\n+    for (uint32_t i=0; i < txs.size(); i++) {",
      "path": "src/index/bip352.cpp",
      "position": 62,
      "original_position": 62,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "in_reply_to_id": null,
      "user": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Compare apples to apples and also use idiomatic pre-increment to avoid a temporary in unoptimized builds.\r\n\r\n```suggestion\r\n    for (size_t i = 0; i < txs.size(); ++i) {\r\n```",
      "created_at": "2024-08-30T09:38:43Z",
      "updated_at": "2024-08-30T09:38:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1738314935",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1738314935"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 62,
      "original_line": 62,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1738316480",
      "pull_request_review_id": 2271761191,
      "id": 1738316480,
      "node_id": "PRRC_kwDOABII585nnJrA",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+#include <index/bip352.h>\n+\n+#include <common/bip352.h>\n+#include <chainparams.h>\n+#include <coins.h>\n+#include <common/args.h>\n+#include <index/disktxpos.h>\n+#include <node/blockstorage.h>\n+#include <pubkey.h>\n+#include <primitives/transaction.h>\n+\n+#include <undo.h>\n+#include <util/fs.h>\n+#include <validation.h>\n+\n+#include <dbwrapper.h>\n+#include <hash.h>\n+\n+constexpr uint8_t DB_SILENT_PAYMENT_INDEX{'s'};\n+/* Save space on mainnet by starting the index at Taproot activation.\n+ * Copying the height here assuming DEPLOYMENT_TAPROOT will be dropped:\n+ * https://github.com/bitcoin/bitcoin/pull/26201/\n+ * Only apply this storage optimization on mainnet.\n+ */\n+const int TAPROOT_MAINNET_ACTIVATION_HEIGHT{709632};\n+\n+std::unique_ptr<BIP352Index> g_bip352_index;\n+std::unique_ptr<BIP352Index> g_bip352_ct_index;\n+\n+/** Access to the silent payment index database (indexes/bip352/) */\n+class BIP352Index::DB : public BaseIndex::DB\n+{\n+public:\n+    explicit DB(fs::path file_name, size_t n_cache_size, bool f_memory = false, bool f_wipe = false);\n+\n+    bool WriteSilentPayments(const std::pair<uint256, tweak_index_entry>& kv);\n+};\n+\n+BIP352Index::DB::DB(fs::path file_name, size_t n_cache_size, bool f_memory, bool f_wipe) :\n+    BaseIndex::DB(gArgs.GetDataDirNet() / \"indexes\" / file_name, n_cache_size, f_memory, f_wipe)\n+{}\n+\n+bool BIP352Index::DB::WriteSilentPayments(const std::pair<uint256, tweak_index_entry>& kv)\n+{\n+    CDBBatch batch(*this);\n+    batch.Write(std::make_pair(DB_SILENT_PAYMENT_INDEX, kv.first), kv.second);\n+    return WriteBatch(batch);\n+}\n+\n+BIP352Index::BIP352Index(bool cut_through, std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n+    : BaseIndex(std::move(chain), strprintf(\"bip352 %sindex\", cut_through ? \"cut-through \" : \"\"), /*start_height=*/Params().IsTestChain() ? 0 : TAPROOT_MAINNET_ACTIVATION_HEIGHT), m_db(std::make_unique<BIP352Index::DB>(fs::u8path(strprintf(\"bip352%s\", cut_through ? \"ct\" : \"\")), n_cache_size, f_memory, f_wipe))\n+{\n+    m_cut_through = cut_through;\n+}\n+\n+BIP352Index::~BIP352Index() = default;\n+\n+bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockUndo& block_undo, tweak_index_entry& index_entry)\n+{\n+    assert(txs.size() - 1 == block_undo.vtxundo.size());\n+\n+    for (uint32_t i=0; i < txs.size(); i++) {\n+        auto& tx = txs.at(i);",
      "path": "src/index/bip352.cpp",
      "position": 63,
      "original_position": 63,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "in_reply_to_id": null,
      "user": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "`at` unnecessary here (and in various places below).. since `i` is guaranteed to be in-range, since the loop is looping on `txs.size()`.",
      "created_at": "2024-08-30T09:39:42Z",
      "updated_at": "2024-08-30T09:39:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1738316480",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1738316480"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 63,
      "original_line": 63,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1738318590",
      "pull_request_review_id": 2271764234,
      "id": 1738318590,
      "node_id": "PRRC_kwDOABII585nnKL-",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+#include <index/bip352.h>\n+\n+#include <common/bip352.h>\n+#include <chainparams.h>\n+#include <coins.h>\n+#include <common/args.h>\n+#include <index/disktxpos.h>\n+#include <node/blockstorage.h>\n+#include <pubkey.h>\n+#include <primitives/transaction.h>\n+\n+#include <undo.h>\n+#include <util/fs.h>\n+#include <validation.h>\n+\n+#include <dbwrapper.h>\n+#include <hash.h>\n+\n+constexpr uint8_t DB_SILENT_PAYMENT_INDEX{'s'};\n+/* Save space on mainnet by starting the index at Taproot activation.\n+ * Copying the height here assuming DEPLOYMENT_TAPROOT will be dropped:\n+ * https://github.com/bitcoin/bitcoin/pull/26201/\n+ * Only apply this storage optimization on mainnet.\n+ */\n+const int TAPROOT_MAINNET_ACTIVATION_HEIGHT{709632};\n+\n+std::unique_ptr<BIP352Index> g_bip352_index;\n+std::unique_ptr<BIP352Index> g_bip352_ct_index;\n+\n+/** Access to the silent payment index database (indexes/bip352/) */\n+class BIP352Index::DB : public BaseIndex::DB\n+{\n+public:\n+    explicit DB(fs::path file_name, size_t n_cache_size, bool f_memory = false, bool f_wipe = false);\n+\n+    bool WriteSilentPayments(const std::pair<uint256, tweak_index_entry>& kv);\n+};\n+\n+BIP352Index::DB::DB(fs::path file_name, size_t n_cache_size, bool f_memory, bool f_wipe) :\n+    BaseIndex::DB(gArgs.GetDataDirNet() / \"indexes\" / file_name, n_cache_size, f_memory, f_wipe)\n+{}\n+\n+bool BIP352Index::DB::WriteSilentPayments(const std::pair<uint256, tweak_index_entry>& kv)\n+{\n+    CDBBatch batch(*this);\n+    batch.Write(std::make_pair(DB_SILENT_PAYMENT_INDEX, kv.first), kv.second);\n+    return WriteBatch(batch);\n+}\n+\n+BIP352Index::BIP352Index(bool cut_through, std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n+    : BaseIndex(std::move(chain), strprintf(\"bip352 %sindex\", cut_through ? \"cut-through \" : \"\"), /*start_height=*/Params().IsTestChain() ? 0 : TAPROOT_MAINNET_ACTIVATION_HEIGHT), m_db(std::make_unique<BIP352Index::DB>(fs::u8path(strprintf(\"bip352%s\", cut_through ? \"ct\" : \"\")), n_cache_size, f_memory, f_wipe))\n+{\n+    m_cut_through = cut_through;\n+}\n+\n+BIP352Index::~BIP352Index() = default;\n+\n+bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockUndo& block_undo, tweak_index_entry& index_entry)\n+{\n+    assert(txs.size() - 1 == block_undo.vtxundo.size());\n+\n+    for (uint32_t i=0; i < txs.size(); i++) {\n+        auto& tx = txs.at(i);\n+\n+        if (!BIP352::MaybeSilentPayment(tx)) continue;\n+\n+        // -1 as blockundo does not have coinbase tx\n+        CTxUndo undoTX{block_undo.vtxundo.at(i - 1)};\n+        std::map<COutPoint, Coin> coins;\n+\n+        for (uint32_t j = 0; j < tx->vin.size(); j++) {",
      "path": "src/index/bip352.cpp",
      "position": 71,
      "original_position": 71,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "in_reply_to_id": null,
      "user": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Apples to apples, and also use pre-increment.\r\n\r\n```suggestion\r\n        for (size_t j = 0; j < tx->vin.size(); ++j) {\r\n```\r\n",
      "created_at": "2024-08-30T09:41:01Z",
      "updated_at": "2024-08-30T09:41:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1738318590",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1738318590"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 71,
      "original_line": 71,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1738321500",
      "pull_request_review_id": 2271769015,
      "id": 1738321500,
      "node_id": "PRRC_kwDOABII585nnK5c",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+#include <index/bip352.h>\n+\n+#include <common/bip352.h>\n+#include <chainparams.h>\n+#include <coins.h>\n+#include <common/args.h>\n+#include <index/disktxpos.h>\n+#include <node/blockstorage.h>\n+#include <pubkey.h>\n+#include <primitives/transaction.h>\n+\n+#include <undo.h>\n+#include <util/fs.h>\n+#include <validation.h>\n+\n+#include <dbwrapper.h>\n+#include <hash.h>\n+\n+constexpr uint8_t DB_SILENT_PAYMENT_INDEX{'s'};\n+/* Save space on mainnet by starting the index at Taproot activation.\n+ * Copying the height here assuming DEPLOYMENT_TAPROOT will be dropped:\n+ * https://github.com/bitcoin/bitcoin/pull/26201/\n+ * Only apply this storage optimization on mainnet.\n+ */\n+const int TAPROOT_MAINNET_ACTIVATION_HEIGHT{709632};\n+\n+std::unique_ptr<BIP352Index> g_bip352_index;\n+std::unique_ptr<BIP352Index> g_bip352_ct_index;\n+\n+/** Access to the silent payment index database (indexes/bip352/) */\n+class BIP352Index::DB : public BaseIndex::DB\n+{\n+public:\n+    explicit DB(fs::path file_name, size_t n_cache_size, bool f_memory = false, bool f_wipe = false);\n+\n+    bool WriteSilentPayments(const std::pair<uint256, tweak_index_entry>& kv);\n+};\n+\n+BIP352Index::DB::DB(fs::path file_name, size_t n_cache_size, bool f_memory, bool f_wipe) :\n+    BaseIndex::DB(gArgs.GetDataDirNet() / \"indexes\" / file_name, n_cache_size, f_memory, f_wipe)\n+{}\n+\n+bool BIP352Index::DB::WriteSilentPayments(const std::pair<uint256, tweak_index_entry>& kv)\n+{\n+    CDBBatch batch(*this);\n+    batch.Write(std::make_pair(DB_SILENT_PAYMENT_INDEX, kv.first), kv.second);\n+    return WriteBatch(batch);\n+}\n+\n+BIP352Index::BIP352Index(bool cut_through, std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n+    : BaseIndex(std::move(chain), strprintf(\"bip352 %sindex\", cut_through ? \"cut-through \" : \"\"), /*start_height=*/Params().IsTestChain() ? 0 : TAPROOT_MAINNET_ACTIVATION_HEIGHT), m_db(std::make_unique<BIP352Index::DB>(fs::u8path(strprintf(\"bip352%s\", cut_through ? \"ct\" : \"\")), n_cache_size, f_memory, f_wipe))\n+{\n+    m_cut_through = cut_through;\n+}\n+\n+BIP352Index::~BIP352Index() = default;\n+\n+bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockUndo& block_undo, tweak_index_entry& index_entry)\n+{\n+    assert(txs.size() - 1 == block_undo.vtxundo.size());\n+\n+    for (uint32_t i=0; i < txs.size(); i++) {\n+        auto& tx = txs.at(i);\n+\n+        if (!BIP352::MaybeSilentPayment(tx)) continue;\n+\n+        // -1 as blockundo does not have coinbase tx\n+        CTxUndo undoTX{block_undo.vtxundo.at(i - 1)};\n+        std::map<COutPoint, Coin> coins;\n+\n+        for (uint32_t j = 0; j < tx->vin.size(); j++) {\n+            coins[tx->vin.at(j).prevout] = undoTX.vprevout.at(j);\n+        }\n+\n+        std::optional<CPubKey> tweaked_pk = BIP352::GetSerializedSilentPaymentsPublicData(tx->vin, coins);\n+        if (tweaked_pk) {\n+            // Used to filter dust. To keep the index small we use only one byte\n+            // and measure in hexasats.\n+            uint8_t max_output_hsat = 0;\n+            for (const CTxOut& txout : tx->vout) {\n+                if (!txout.scriptPubKey.IsPayToTaproot()) continue;\n+                uint8_t output_hsat = txout.nValue > max_dust_threshold ? UINT8_MAX : txout.nValue >> dust_shift;\n+                max_output_hsat = std::max(output_hsat, max_output_hsat);\n+            }\n+\n+            if (m_cut_through) {\n+                // Skip entry if all outputs have been spent.\n+                // This is only effective when the index is generated while\n+                // the tip is far ahead.\n+                //\n+                // This is done after calculating the tweak in order to minimize\n+                // the number of UTXO lookups.\n+                LOCK(cs_main);\n+                const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n+\n+                uint32_t spent{0};\n+                for (uint32_t i{0}; i < tx->vout.size(); i++) {",
      "path": "src/index/bip352.cpp",
      "position": 97,
      "original_position": 97,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "in_reply_to_id": null,
      "user": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This loop index shadows an outer variable `i`. Also should be using `size_t` here.\r\n",
      "created_at": "2024-08-30T09:42:52Z",
      "updated_at": "2024-08-30T09:42:52Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1738321500",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1738321500"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 97,
      "original_line": 97,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1738369011",
      "pull_request_review_id": 2271850553,
      "id": 1738369011,
      "node_id": "PRRC_kwDOABII585nnWfz",
      "diff_hunk": "@@ -0,0 +1,169 @@\n+// Copyright (c) 2023 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_COMMON_BIP352_H\n+#define BITCOIN_COMMON_BIP352_H\n+\n+#include <key.h>\n+#include <pubkey.h>\n+#include <primitives/transaction.h>\n+#include <secp256k1.h>\n+#include <secp256k1_silentpayments.h>\n+#include <uint256.h>\n+#include <addresstype.h>\n+#include <coins.h>\n+\n+#include <vector>\n+#include <variant>\n+\n+namespace BIP352 {\n+\n+using PubKey = std::variant<CPubKey, XOnlyPubKey>;\n+using PubTweakData = secp256k1_silentpayments_public_data;\n+\n+struct BIP352Comparator {\n+    bool operator()(const COutPoint& a, const COutPoint& b) const {\n+        // BIP352 defines the \"smallest outpoint\" based on a lexicographic\n+        // sort of the outpoints, using the 36-byte serialization:\n+        // <txid, 32-bytes little-endian>:<vout, 4-bytes little-endian>\n+        if (a.hash != b.hash) {\n+            return a.hash < b.hash;\n+        }\n+        uint8_t a_vout[4], b_vout[4];\n+        WriteLE32(a_vout, a.n);\n+        WriteLE32(b_vout, b.n);\n+        return std::memcmp(a_vout, b_vout, 4) < 0;",
      "path": "src/common/bip352.h",
      "position": 36,
      "original_position": 36,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "in_reply_to_id": 1738293954,
      "user": {
        "login": "cculianu",
        "id": 266627,
        "node_id": "MDQ6VXNlcjI2NjYyNw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266627?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cculianu",
        "html_url": "https://github.com/cculianu",
        "followers_url": "https://api.github.com/users/cculianu/followers",
        "following_url": "https://api.github.com/users/cculianu/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cculianu/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cculianu/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cculianu/subscriptions",
        "organizations_url": "https://api.github.com/users/cculianu/orgs",
        "repos_url": "https://api.github.com/users/cculianu/repos",
        "events_url": "https://api.github.com/users/cculianu/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cculianu/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Actually wait nevermind.. the thing is defined as lexically sorted versus the le32 serialization of the int. Forget I said anything -- current code is correct.",
      "created_at": "2024-08-30T10:13:50Z",
      "updated_at": "2024-08-30T11:10:48Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r1738369011",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1738369011"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 36,
      "original_line": 36,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2055934963",
      "pull_request_review_id": 2787108546,
      "id": 2055934963,
      "node_id": "PRRC_kwDOABII5856ixPz",
      "diff_hunk": "@@ -0,0 +1,150 @@\n+#include <index/bip352.h>\n+\n+#include <common/bip352.h>\n+#include <chainparams.h>\n+#include <coins.h>\n+#include <common/args.h>\n+#include <index/disktxpos.h>\n+#include <node/blockstorage.h>\n+#include <pubkey.h>\n+#include <primitives/transaction.h>\n+\n+#include <undo.h>\n+#include <util/fs.h>\n+#include <validation.h>\n+\n+#include <dbwrapper.h>\n+#include <hash.h>\n+\n+constexpr uint8_t DB_SILENT_PAYMENT_INDEX{'s'};\n+/* Save space on mainnet by starting the index at Taproot activation.\n+ * Copying the height here assuming DEPLOYMENT_TAPROOT will be dropped:\n+ * https://github.com/bitcoin/bitcoin/pull/26201/\n+ * Only apply this storage optimization on mainnet.\n+ */\n+const int TAPROOT_MAINNET_ACTIVATION_HEIGHT{709632};\n+\n+std::unique_ptr<BIP352Index> g_bip352_index;\n+std::unique_ptr<BIP352Index> g_bip352_ct_index;\n+\n+/** Access to the silent payment index database (indexes/bip352/) */\n+class BIP352Index::DB : public BaseIndex::DB\n+{\n+public:\n+    explicit DB(fs::path file_name, size_t n_cache_size, bool f_memory = false, bool f_wipe = false);\n+\n+    bool WriteSilentPayments(const std::pair<uint256, tweak_index_entry>& kv);\n+};\n+\n+BIP352Index::DB::DB(fs::path file_name, size_t n_cache_size, bool f_memory, bool f_wipe) :\n+    BaseIndex::DB(gArgs.GetDataDirNet() / \"indexes\" / file_name, n_cache_size, f_memory, f_wipe)\n+{}\n+\n+bool BIP352Index::DB::WriteSilentPayments(const std::pair<uint256, tweak_index_entry>& kv)\n+{\n+    CDBBatch batch(*this);\n+    batch.Write(std::make_pair(DB_SILENT_PAYMENT_INDEX, kv.first), kv.second);\n+    return WriteBatch(batch);\n+}\n+\n+BIP352Index::BIP352Index(bool cut_through, std::unique_ptr<interfaces::Chain> chain, size_t n_cache_size, bool f_memory, bool f_wipe)\n+    : BaseIndex(std::move(chain), strprintf(\"bip352 %sindex\", cut_through ? \"cut-through \" : \"\"), /*start_height=*/Params().IsTestChain() ? 0 : TAPROOT_MAINNET_ACTIVATION_HEIGHT), m_db(std::make_unique<BIP352Index::DB>(fs::u8path(strprintf(\"bip352%s\", cut_through ? \"ct\" : \"\")), n_cache_size, f_memory, f_wipe))\n+{\n+    m_cut_through = cut_through;\n+}\n+\n+BIP352Index::~BIP352Index() = default;\n+\n+bool BIP352Index::GetSilentPaymentKeys(std::vector<CTransactionRef> txs, CBlockUndo& block_undo, tweak_index_entry& index_entry)\n+{\n+    assert(txs.size() - 1 == block_undo.vtxundo.size());\n+\n+    for (uint32_t i=0; i < txs.size(); i++) {\n+        auto& tx = txs.at(i);\n+\n+        if (!BIP352::MaybeSilentPayment(tx)) continue;\n+\n+        // -1 as blockundo does not have coinbase tx\n+        CTxUndo undoTX{block_undo.vtxundo.at(i - 1)};\n+        std::map<COutPoint, Coin> coins;\n+\n+        for (uint32_t j = 0; j < tx->vin.size(); j++) {\n+            coins[tx->vin.at(j).prevout] = undoTX.vprevout.at(j);\n+        }\n+\n+        std::optional<CPubKey> tweaked_pk = BIP352::GetSerializedSilentPaymentsPublicData(tx->vin, coins);\n+        if (tweaked_pk) {\n+            // Used to filter dust. To keep the index small we use only one byte\n+            // and measure in hexasats.\n+            uint8_t max_output_hsat = 0;\n+            for (const CTxOut& txout : tx->vout) {\n+                if (!txout.scriptPubKey.IsPayToTaproot()) continue;\n+                uint8_t output_hsat = txout.nValue > max_dust_threshold ? UINT8_MAX : txout.nValue >> dust_shift;\n+                max_output_hsat = std::max(output_hsat, max_output_hsat);\n+            }\n+\n+            if (m_cut_through) {\n+                // Skip entry if all outputs have been spent.\n+                // This is only effective when the index is generated while\n+                // the tip is far ahead.\n+                //\n+                // This is done after calculating the tweak in order to minimize\n+                // the number of UTXO lookups.\n+                LOCK(cs_main);\n+                const CCoinsViewCache& coins_cache = m_chainstate->CoinsTip();\n+\n+                uint32_t spent{0};\n+                for (uint32_t i{0}; i < tx->vout.size(); i++) {",
      "path": "src/index/bip352.cpp",
      "position": 97,
      "original_position": 97,
      "commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "original_commit_id": "f73566314581521e4739d447924e6ee138794a4f",
      "in_reply_to_id": 1738321500,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I'll fix this in https://github.com/Sjors/bitcoin/pull/86",
      "created_at": "2025-04-23T12:25:41Z",
      "updated_at": "2025-04-23T12:25:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28241#discussion_r2055934963",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2055934963"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28241"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 97,
      "original_line": 97,
      "side": "RIGHT"
    }
  ]
}