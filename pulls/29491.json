{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29491",
    "id": 1746125849,
    "node_id": "PR_kwDOABII585oE8QZ",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/29491",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/29491.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/29491.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29491",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29491/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29491/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29491/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/6055f3a6f530818e2805d11debb1fb2ce81fc5c0",
    "number": 29491,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "[EXPERIMENTAL] Schnorr batch verification for blocks",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "This is a simple draft implementation of Schnorr signature batch verification in blocks, put here for conceptual discussion, and collaborative benchmarking. Most of code added here is from the `secp256k1` implementation.\r\n\r\nThe `secp256k1` code is still under review itself, please spend some time giving feedback on the API etc. if you can:\r\n- [Original PR](https://github.com/bitcoin-core/secp256k1/pull/1134)\r\n- [My rebase used here including fixes and adds cmake support](https://github.com/fjahr/secp256k1/tree/pr1134-rebase-2024)\r\n\r\nTODOs\r\n- [ ] Fix `functional/feature_taproot.py`\r\n- [ ] Extensive benchmarking using `ConnectBlock()` tracing\r\n- [ ] Add unit tests\r\n- [ ] Batch taproot tweak verification as well\r\n- [ ] Conceptual discussion in what form this realistically could be introduced into the code base, and later, a release",
    "labels": [
      {
        "id": 955867938,
        "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
        "name": "Needs rebase",
        "description": "",
        "color": "cccccc",
        "default": false
      },
      {
        "id": 5334691551,
        "node_id": "LA_kwDOABII588AAAABPfju3w",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/CI%20failed",
        "name": "CI failed",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2024-02-27T17:06:26Z",
    "updated_at": "2025-03-20T12:46:38Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merged": false,
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "fjahr:2024-02-batch-validation-updated",
      "ref": "2024-02-batch-validation-updated",
      "sha": "6055f3a6f530818e2805d11debb1fb2ce81fc5c0",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 196253948,
        "node_id": "MDEwOlJlcG9zaXRvcnkxOTYyNTM5NDg=",
        "name": "bitcoin",
        "full_name": "fjahr/bitcoin",
        "owner": {
          "login": "fjahr",
          "id": 1322187,
          "node_id": "MDQ6VXNlcjEzMjIxODc=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/fjahr",
          "html_url": "https://github.com/fjahr",
          "followers_url": "https://api.github.com/users/fjahr/followers",
          "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
          "organizations_url": "https://api.github.com/users/fjahr/orgs",
          "repos_url": "https://api.github.com/users/fjahr/repos",
          "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/fjahr/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/fjahr/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/fjahr/bitcoin",
        "archive_url": "https://api.github.com/repos/fjahr/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/fjahr/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/fjahr/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/fjahr/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/fjahr/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/fjahr/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/fjahr/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/fjahr/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/fjahr/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/fjahr/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/fjahr/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/fjahr/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/fjahr/bitcoin/events",
        "forks_url": "https://api.github.com/repos/fjahr/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/fjahr/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/fjahr/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/fjahr/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/fjahr/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/fjahr/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/fjahr/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/fjahr/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/fjahr/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/fjahr/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/fjahr/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/fjahr/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/fjahr/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/fjahr/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/fjahr/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/fjahr/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:fjahr/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/fjahr/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/fjahr/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/fjahr/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/fjahr/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/fjahr/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/fjahr/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/fjahr/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/fjahr/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/fjahr/bitcoin/hooks",
        "svn_url": "https://github.com/fjahr/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 262154,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-03-19T23:57:31Z",
        "created_at": "2019-07-10T18:11:06Z",
        "updated_at": "2024-07-23T22:14:45Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "dbc89b604c4dae9702f1ff08abd4ed144a5fcb76",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36943,
        "stargazers_count": 82553,
        "watchers_count": 82553,
        "size": 278646,
        "default_branch": "master",
        "open_issues_count": 687,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-03-20T05:42:00Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-03-20T11:39:24Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29491"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": true,
    "additions": 2935,
    "deletions": 114,
    "changed_files": 57,
    "commits": 13,
    "review_comments": 5,
    "comments": 10
  },
  "events": [
    {
      "event": "commented",
      "id": 1967171280,
      "node_id": "IC_kwDOABII5851QKbQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1967171280",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-27T17:06:29Z",
      "updated_at": "2025-03-18T15:24:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/29491.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#32080](https://github.com/bitcoin/bitcoin/pull/32080) (OP_CHECKCONTRACTVERIFY by bigspider)\n* [#32028](https://github.com/bitcoin/bitcoin/pull/32028) (Update `secp256k1` subtree to latest master by hebasto)\n* [#31868](https://github.com/bitcoin/bitcoin/pull/31868) ([IBD] specialize block serialization by l0rinc)\n* [#31519](https://github.com/bitcoin/bitcoin/pull/31519) (refactor: Use std::span over Span by maflcko)\n* [#31507](https://github.com/bitcoin/bitcoin/pull/31507) ([POC] build: Use clang-cl to build on Windows natively by hebasto)\n* [#31244](https://github.com/bitcoin/bitcoin/pull/31244) (descriptors: MuSig2 by achow101)\n* [#31132](https://github.com/bitcoin/bitcoin/pull/31132) (validation: fetch block inputs on parallel threads 10% faster IBD by andrewtoth)\n* [#29675](https://github.com/bitcoin/bitcoin/pull/29675) (wallet: Be able to receive and spend inputs involving MuSig2 aggregate keys by achow101)\n* [#29247](https://github.com/bitcoin/bitcoin/pull/29247) (CAT in Tapscript (BIP-347) by 0xBEEFCAF3)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29491#issuecomment-1967171280",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29491"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11940425825,
      "node_id": "HRFPE_lADOABII586Ak_eDzwAAAALHtHBh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11940425825",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "0a5e6128680c8b4f43fcb2d0450d41d5e4603c9d",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/0a5e6128680c8b4f43fcb2d0450d41d5e4603c9d",
      "created_at": "2024-02-27T17:10:54Z"
    },
    {
      "event": "labeled",
      "id": 11940427505,
      "node_id": "LE_lADOABII586Ak_eDzwAAAALHtHbx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11940427505",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-27T17:10:59Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1967190805,
      "node_id": "IC_kwDOABII5851QPMV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1967190805",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-27T17:11:00Z",
      "updated_at": "2024-02-27T17:11:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n\n🚧 At least one of the CI tasks failed. Make sure to run all tests locally, according to the\ndocumentation.\n\nPossibly this is due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/22041704016</sub>",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29491#issuecomment-1967190805",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29491"
    },
    {
      "event": "commented",
      "id": 1968590438,
      "node_id": "IC_kwDOABII5851Vk5m",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1968590438",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-28T09:40:46Z",
      "updated_at": "2024-02-28T09:41:17Z",
      "author_association": "MEMBER",
      "body": "I guess this is most interesting to test against the last 50K blocks on mainnet, i.e. since early 2023? Given the high percentage of taproot transactions. Such testing could benefit from a assume utxo snapshot, saving everyone the pain of rewinding. I can bake one, though ideally I'd like #26045 to land first.\r\n\r\nIs the current PR already using batches? It's unclear to me by glancing over `validation.cpp` if and how it's collecting up to `max_batch_size{106}` signatures before calling `batch.Verify()`.\r\n\r\nMaybe add a `-schnorrbatchverify` startup argument so more people can try it once it gets through review.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29491#issuecomment-1968590438",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29491"
    },
    {
      "event": "commented",
      "id": 1968923056,
      "node_id": "IC_kwDOABII5851W2Gw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1968923056",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-28T12:53:21Z",
      "updated_at": "2024-02-28T15:59:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I guess this is most interesting to test against the last 50K blocks on mainnet, i.e. since early 2023? Given the high percentage of taproot transactions. Such testing could benefit from a assume utxo snapshot, saving everyone the pain of rewinding. I can bake one, though ideally I'd like #26045 to land first.\r\n\r\nYeah, that would be great. I have to get the tracing part to work in my setup again before I can start.\r\n\r\n> Is the current PR already using batches? It's unclear to me by glancing over `validation.cpp` if and how it's collecting up to `max_batch_size{106}` signatures before calling `batch.Verify()`.\r\n\r\nYes, the rough architecture is as as follows (sorry for not writing a better explanation above but it's still very rough and I expect it to change). So, the [`batch` object is constructed](https://github.com/bitcoin/bitcoin/pull/29491/commits/0a5e6128680c8b4f43fcb2d0450d41d5e4603c9d#diff-97c3a52bc5fad452d82670a7fd291800bae20c7bc35bb82686c2c0a4ea7b5b98R2401) and then [handed down from `ConnectBlock()` to `CheckInputScripts()`](https://github.com/bitcoin/bitcoin/pull/29491/commits/0a5e6128680c8b4f43fcb2d0450d41d5e4603c9d#diff-97c3a52bc5fad452d82670a7fd291800bae20c7bc35bb82686c2c0a4ea7b5b98R2454) which [hands it to the `CScriptCheck` constructor](https://github.com/bitcoin/bitcoin/pull/29491/commits/0a5e6128680c8b4f43fcb2d0450d41d5e4603c9d#diff-97c3a52bc5fad452d82670a7fd291800bae20c7bc35bb82686c2c0a4ea7b5b98R1961). When the [`CScriptCheck` instance is executed](https://github.com/bitcoin/bitcoin/pull/29491/commits/0a5e6128680c8b4f43fcb2d0450d41d5e4603c9d#diff-97c3a52bc5fad452d82670a7fd291800bae20c7bc35bb82686c2c0a4ea7b5b98R1863) and the batch object is present [`BatchingCachingTransactionSignatureChecker` is used](https://github.com/bitcoin/bitcoin/pull/29491/commits/0a5e6128680c8b4f43fcb2d0450d41d5e4603c9d#diff-0618dae2990d096e96e0283f7ab8cee069469f1ce603b58c0bb289e154f3aa17R40) which only differs from the default `CachingTransactionSignatureChecker` in that its [implementation of `VerifySchnorrSignature()`](https://github.com/bitcoin/bitcoin/pull/29491/commits/0a5e6128680c8b4f43fcb2d0450d41d5e4603c9d#diff-612abe4a74f2e9f6903cebff057d47bfe4f8a57507c175743f4b62fde0d3cc58R132) and adds the Schnorr sig to the `batch` object instead of verifying it right there. (Here we have an issue because the function is not doing what the name says anymore but it is a much simpler change this way and I find it hard to predict where we will land with this in the end.) Then [back in `ConnectBlock()` the `batch` object is verified](https://github.com/bitcoin/bitcoin/pull/29491/commits/0a5e6128680c8b4f43fcb2d0450d41d5e4603c9d#diff-97c3a52bc5fad452d82670a7fd291800bae20c7bc35bb82686c2c0a4ea7b5b98R2489) after all transactions have been iterated over.\r\n\r\nThe 106 is an implementation detail from `secp256k1` that I am not sure needs to be really exposed here. But what matters for the question is: if there are more than 106 sigs added to the batch the verification for the already added sigs will happen when the next sig is added and if the verification fails the adding itself will fail. So, a callback to the last paragraph, every 106 sigs the naming of `VerifySchnorrSignature()` is actually still correct ;) and the one verify call in the end just verifies the last n % 106 sigs left for that block. I did not put any effort in documenting this properly here yet because the `secp256k1` API is not finalized yet and the details on this particular topic might still change, see for example https://github.com/bitcoin-core/secp256k1/pull/1134#pullrequestreview-1083948472\r\n\r\nEverything should be conditional on the presence of a `batch` object which defaults to `nullptr` and if that is the case all the other functions should work as usual, for example when used outside of the context of a new block.\r\n\r\n> Maybe add a `-schnorrbatchverify` startup argument so more people can try it once it gets through review.\r\n\r\nYeah, I have been thinking that or maybe even a compiler argument",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29491#issuecomment-1968923056",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29491"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11951576394,
      "node_id": "HRFPE_lADOABII586Ak_eDzwAAAALIXpVK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11951576394",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "1825555b6b8d8030e747eda82ddab4b15a87071d",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/1825555b6b8d8030e747eda82ddab4b15a87071d",
      "created_at": "2024-02-28T13:14:03Z"
    },
    {
      "event": "commented",
      "id": 1968959800,
      "node_id": "IC_kwDOABII5851W_E4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1968959800",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-28T13:14:09Z",
      "updated_at": "2024-02-28T13:14:09Z",
      "author_association": "CONTRIBUTOR",
      "body": "@Sjors maybe what confused you is that `BatchingCachingTransactionSignatureChecker::VerifySchnorrSignatureBatch()` was unused. That was actually a leftover from an earlier design spike and I just forgot to remove it. It's gone now.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29491#issuecomment-1968959800",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29491"
    },
    {
      "event": "mentioned",
      "id": 11951577950,
      "node_id": "MEE_lADOABII586Ak_eDzwAAAALIXpte",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11951577950",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-28T13:14:10Z"
    },
    {
      "event": "subscribed",
      "id": 11951577978,
      "node_id": "SE_lADOABII586Ak_eDzwAAAALIXpt6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11951577978",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-28T13:14:10Z"
    },
    {
      "event": "commented",
      "id": 1969001095,
      "node_id": "IC_kwDOABII5851XJKH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1969001095",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-28T13:36:35Z",
      "updated_at": "2024-02-28T13:36:35Z",
      "author_association": "MEMBER",
      "body": "> if there are more than 106 sigs added to the batch the verification for the already added sigs will happen when the next sig is added and if the verification fails the adding itself will fail.\r\n\r\nThat clarifies a lot, and should be documented :-)",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29491#issuecomment-1969001095",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29491"
    },
    {
      "event": "labeled",
      "id": 12381343879,
      "node_id": "LE_lADOABII586Ak_eDzwAAAALh_FCH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12381343879",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-06T10:25:59Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2106968575,
      "node_id": "IC_kwDOABII5859lcn_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2106968575",
      "actor": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-13T08:33:31Z",
      "updated_at": "2024-05-13T08:36:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "@willcl-ark and I ran a IBD benchmark vs master for this PR: IBD from a local node to height 840000 and currently only looking at the connect_block duration.\r\n\r\nIn the current draft implementation:\r\n- master is currently faster\r\n- batch validation is attempted and decreases performance even before taproot activated\r\n- after taproot activation, batch validation is significantly slower than non-batch validation\r\n\r\n![image](https://github.com/bitcoin/bitcoin/assets/19157360/a6fec9ae-eb74-42b0-9861-f777a0dc7f4d)\r\n\r\n![image](https://github.com/bitcoin/bitcoin/assets/19157360/b4889d98-ea29-4884-9464-6f41e7e3ac7a)\r\n\r\nUsed this bpftrace script to collect CSV data:\r\n```c\r\n#!/usr/bin/env bpftrace\r\n\r\nusdt:./src/bitcoind:validation:block_connected\r\n{\r\n  $height = (int32) arg1;\r\n  $tx = (uint64) arg2;\r\n  $ins = (int32) arg3;\r\n  $sigops = (int64) arg4;\r\n  $duration = (int64) arg5; // in nanoseconds\r\n\r\n  printf(\"%d,%ld,%d,%ld,%ld\\n\", $height, $tx, $ins, $sigops, $duration);\r\n}\r\n```",
      "user": {
        "login": "0xB10C",
        "id": 19157360,
        "node_id": "MDQ6VXNlcjE5MTU3MzYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/19157360?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/0xB10C",
        "html_url": "https://github.com/0xB10C",
        "followers_url": "https://api.github.com/users/0xB10C/followers",
        "following_url": "https://api.github.com/users/0xB10C/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/0xB10C/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/0xB10C/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/0xB10C/subscriptions",
        "organizations_url": "https://api.github.com/users/0xB10C/orgs",
        "repos_url": "https://api.github.com/users/0xB10C/repos",
        "events_url": "https://api.github.com/users/0xB10C/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/0xB10C/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29491#issuecomment-2106968575",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29491"
    },
    {
      "event": "mentioned",
      "id": 12783459289,
      "node_id": "MEE_lADOABII586Ak_eDzwAAAAL59BvZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12783459289",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-13T08:33:32Z"
    },
    {
      "event": "subscribed",
      "id": 12783459306,
      "node_id": "SE_lADOABII586Ak_eDzwAAAAL59Bvq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12783459306",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-13T08:33:32Z"
    },
    {
      "event": "commented",
      "id": 2106978586,
      "node_id": "IC_kwDOABII5859lfEa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2106978586",
      "actor": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-13T08:38:04Z",
      "updated_at": "2024-05-13T08:38:04Z",
      "author_association": "MEMBER",
      "body": "> batch validation is attempted and decreases performance even before taproot activated\r\n\r\nFrom a quick skim of the changes ISTM that we always use the `BatchingCachingTransactionSignatureChecker`, and there was no switch to the `CachingTransactionSignatureChecker`, but this could well be because this is only in WIP state. It doesnt account for why it's currently slower in all cases though.",
      "user": {
        "login": "willcl-ark",
        "id": 6606587,
        "node_id": "MDQ6VXNlcjY2MDY1ODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6606587?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/willcl-ark",
        "html_url": "https://github.com/willcl-ark",
        "followers_url": "https://api.github.com/users/willcl-ark/followers",
        "following_url": "https://api.github.com/users/willcl-ark/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/willcl-ark/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/willcl-ark/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/willcl-ark/subscriptions",
        "organizations_url": "https://api.github.com/users/willcl-ark/orgs",
        "repos_url": "https://api.github.com/users/willcl-ark/repos",
        "events_url": "https://api.github.com/users/willcl-ark/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/willcl-ark/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29491#issuecomment-2106978586",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29491"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15544617627,
      "node_id": "HRFPE_lADOABII586Ak_eDzwAAAAOeiAqb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15544617627",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "6f271d7bd0926a926b643f60f65263bed1d07c44",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/6f271d7bd0926a926b643f60f65263bed1d07c44",
      "created_at": "2024-12-05T13:57:12Z"
    },
    {
      "event": "unlabeled",
      "id": 15546090189,
      "node_id": "UNLE_lADOABII586Ak_eDzwAAAAOenoLN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15546090189",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-05T15:35:46Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2525335080,
      "node_id": "IC_kwDOABII586WhY4o",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2525335080",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-07T22:55:54Z",
      "updated_at": "2024-12-07T22:55:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "It seems in this approach the `m_batch_mutex` is held for the entirety of adding, which will cause lock contention. `Verify` is then a blocking call on the main thread, which negates the multithreading.\r\n\r\nI think a better approach would be to have a thread local batch for each worker thread and the main thread, so each thread can add all schnorr sigs without locking, and then each thread can verify their batches in parallel at the end.",
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29491#issuecomment-2525335080",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29491"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDIxYTI3MWQwM2Y5MzI0Njg1Y2M4YTNiYjU0NWIwZDQ0MzYzNDQyMDY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/21a271d03f9324685cc8a3bb545b0d4436344206",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/21a271d03f9324685cc8a3bb545b0d4436344206",
      "tree": {
        "sha": "4c39dcbc593de6423411c581276a3b1d610ac19b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4c39dcbc593de6423411c581276a3b1d610ac19b"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 4c39dcbc593de6423411c581276a3b1d610ac19b\nparent 85f96b01b77b779dba71b906d73e0e4a3f84b330\nauthor Ava Chow <github@achow101.com> 1736198031 -0500\ncommitter Fabian Jahr <fjahr@protonmail.com> 1738503665 +0100\n\ngui, psbt: Use SIGHASH_DEFAULT when signing PSBTs\n\nSIGHASH_DEFAULT should be used to indicate SIGHASH_DEFAULT for taproot\ninputs, and SIGHASH_ALL for all other input types. This avoids adding an\nunnecessary byte to the end of all Taproot signatures added to PSBTs\nsigned in the GUI.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmefdfEVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jN71sQAKd3BougfFLoU3y+I9vXcyres/y5\ndU7hzr2MijDQ8CL7cV9fXSFGYjMGHVvXPQnFAFpCkU0brecAigomisqKNL8cXw4y\ntkXwqH+HuyiD+eR4/Msuz6INg2pZ2Mwq5Mkp8iMNIZ3EjFtmvOApogoe0YNmgKkz\nABP4Hk/INC05SibtGp3nNjpD/1O+4sDwkvrYWB6j6/Ddgo8PjfmrBqsVo6r5htlQ\n4DU7jMeJ7amVlghFDeW8AJ2Zen7OntSASwITgoCmPkOR9tUbXSXJkOj6rWWnf5dR\nSJ2DtYHwkYlzBx1/s65BnwbntfSEn9RUgVVucABLAhyoirIiq4zXHiC41abNs2tf\nwT3EcAVrNyJ8l9+DKctcV7X/8fN0fEMYNO1dURHWkO4+FKFkSVUlHix+Y39lPSlb\nCUTLS7z5EL8HuWTtEvXEgquMIup7AXkfpNAjhWvTkL/D1jyDXfiF3DjWKcPHMyYl\nsE/24FpXOzctVWlNckeRhP36UaWs7w+MTZlrPIZiuUcFrxf88P64KOZ4BNt2TVJD\nk8QhqFSNO1CJOVq/6iIbaRVzGHl1WLxS2ucZUTKKb2Va8Ea0D+lkMOfprM3L750y\n34zBvt/iI2ISd8JynOTJunZgoQE9xYarxd5b/4i3i1hfXS3i4io4o+RSdWtPoJHu\n6OCBsfByeeFIl8+e\n=exsZ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/85f96b01b77b779dba71b906d73e0e4a3f84b330",
          "sha": "85f96b01b77b779dba71b906d73e0e4a3f84b330",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/85f96b01b77b779dba71b906d73e0e4a3f84b330"
        }
      ],
      "message": "gui, psbt: Use SIGHASH_DEFAULT when signing PSBTs\n\nSIGHASH_DEFAULT should be used to indicate SIGHASH_DEFAULT for taproot\ninputs, and SIGHASH_ALL for all other input types. This avoids adding an\nunnecessary byte to the end of all Taproot signatures added to PSBTs\nsigned in the GUI.",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-02-02T13:41:05Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2025-01-06T21:13:51Z"
      },
      "sha": "21a271d03f9324685cc8a3bb545b0d4436344206"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDI0OWEzZmVlOWI4MzFlOTlhZDgzZTQyOWQyOTlhMGRhZmI5MzE2YjM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/249a3fee9b831e99ad83e429d299a0dafb9316b3",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/249a3fee9b831e99ad83e429d299a0dafb9316b3",
      "tree": {
        "sha": "2d12416c7ab5d206ba5417bf9f2b94eb35055d6d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2d12416c7ab5d206ba5417bf9f2b94eb35055d6d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2d46a89386d34d72edf93a24b67e44b82fe6e390",
          "sha": "2d46a89386d34d72edf93a24b67e44b82fe6e390",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2d46a89386d34d72edf93a24b67e44b82fe6e390"
        }
      ],
      "message": "Squashed 'src/secp256k1/' changes from 0cdc758a56..e440c4fe45\n\ne440c4fe45 build: Add build option for batch module\n7c6b9df9ec SQUASH ME: Fix silent merge conflicts\n4a0ea6104d batch: Generate graphs for batch verification speed up\na804f05738 batch, extrakeys: Add benchmark for batch verify and `tweak_add_check`\n2fa3654b1e batch: Add tests for `batch_add_*` APIs\n2167f490c5 batch,ecmult: Add tests for core batch APIs and `strauss_batch` refactor\n453a42c22f batch: Add API usage example\n564b573451 batch: Add `batch_add_*` APIs\nc6577399a0 batch, ecmult: Add `batch_verify` API and refactor `strauss_batch`\nbb04d14af5 batch: Add `create` and `destroy` APIs\ne28dd3a120 batch: Initialize an experimental batch module\n8deef00b33 Merge bitcoin-core/secp256k1#1634: Fix some misspellings\n39705450eb Fix some misspellings\nec329c2501 Merge bitcoin-core/secp256k1#1633: release cleanup: bump version after 0.6.0\nc97059f594 release cleanup: bump version after 0.6.0\n\ngit-subtree-dir: src/secp256k1\ngit-subtree-split: e440c4fe45b82dba2fb39889c1b5244574ae4bd5",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-02-02T13:41:11Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-02-02T13:41:11Z"
      },
      "sha": "249a3fee9b831e99ad83e429d299a0dafb9316b3"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDBiNDcwM2Q2OTFlZGU0OWQ5OGE3YzEwNWFkNDZjZjllMWVlM2NmNDc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0b4703d691ede49d98a7c105ad46cf9e1ee3cf47",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/0b4703d691ede49d98a7c105ad46cf9e1ee3cf47",
      "tree": {
        "sha": "e48fc9db12fbca3be31c56eea393601e28c84cbb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e48fc9db12fbca3be31c56eea393601e28c84cbb"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree e48fc9db12fbca3be31c56eea393601e28c84cbb\nparent 21a271d03f9324685cc8a3bb545b0d4436344206\nparent 249a3fee9b831e99ad83e429d299a0dafb9316b3\nauthor Fabian Jahr <fjahr@protonmail.com> 1738503671 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1738503671 +0100\n\nsecp256k1: Add Schnorr batch verification branch (WIP)\n\nMerge commit '249a3fee9b831e99ad83e429d299a0dafb9316b3' into HEAD\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmefdhIVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNmIcQAKM0kB7xy2Qm03AD/Shh/B4D+C/t\nJQ3P0rAIYF4DYmBB8ShiNyJQAkkLxNIGEMt+CDQAtBsMcKA/JchP7ihdcfWyBt4j\n/qcioFtdyktA0VuoBsbqFDqUQP8j2Xjr+WzKj6e/qlIKGL5Z3w6gCZKto2e3QXl2\nVQhtDOqLwamd7W+fY7yqjDEY0S6lk/XNRMrnvzn8HoZXoMMKKB1yYKtetw8oK8eR\nJ2oINufYe97kujI2uKO5ptlF1GFVe63H6a3R1AXl+1LYPzWgUYb3e75abFDgj2D+\noNVjSmS6WjarW/AGjUauyoaxDodhc8AcCTLQwDnJSfTHHvGMqNftTDlBhFtCdfw8\nsvrLMn9cfXafhxIizrvXtOH1N3lIMS0Rnw+Px+CE2okGhSPdQyGp5wjsBgBZbAdW\nLpb2XjDUj25W5r3QIzYuHx6wZ7o3yi1sySsQQPPxen4htMGxihsSAI2jWL3AhlTJ\n48f8O1Lwx4/lgTpodHZmWbZ5AE/kqfs6fqLO/fmu5VLe+RrLKxOaUjjll3VhqN00\nbOLvbIjwaVf3anfKIFCJU/muWCDWtNj9SRPdaIn45NaBJfl/Fy57KHD3P9jPwhaw\nc75HKmHNnca9GTZGN3IHGI9+Ig0qlIQtNs07TvLCCtPAa79h5RSt3pM811HCEbfD\njiuhkGNDq3aaJv8E\n=ICRF\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/21a271d03f9324685cc8a3bb545b0d4436344206",
          "sha": "21a271d03f9324685cc8a3bb545b0d4436344206",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/21a271d03f9324685cc8a3bb545b0d4436344206"
        },
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/249a3fee9b831e99ad83e429d299a0dafb9316b3",
          "sha": "249a3fee9b831e99ad83e429d299a0dafb9316b3",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/249a3fee9b831e99ad83e429d299a0dafb9316b3"
        }
      ],
      "message": "secp256k1: Add Schnorr batch verification branch (WIP)\n\nMerge commit '249a3fee9b831e99ad83e429d299a0dafb9316b3' into HEAD",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-02-02T13:41:11Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-02-02T13:41:11Z"
      },
      "sha": "0b4703d691ede49d98a7c105ad46cf9e1ee3cf47"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGFmMDhjZDIyNzYzMTI2MzIxOWRmM2I0ZjllYzIxNDljNzQwMmMwMDY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/af08cd227631263219df3b4f9ec2149c7402c006",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/af08cd227631263219df3b4f9ec2149c7402c006",
      "tree": {
        "sha": "d2e9e401d924b699e8706fd98e7c7cad3e006f86",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d2e9e401d924b699e8706fd98e7c7cad3e006f86"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree d2e9e401d924b699e8706fd98e7c7cad3e006f86\nparent 0b4703d691ede49d98a7c105ad46cf9e1ee3cf47\nauthor Fabian Jahr <fjahr@protonmail.com> 1741720470 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1741720470 +0100\n\nbuild: Enable secp256k1 experimental batch module\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmfQi5YVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNQrYP/2PskV2WC0eheekzJMXTK2TRHp3L\n1lCoXIhI2r3nT9stMWPMDbr1mXuvARIL0BSRy4qzq4IpBb6EDBahoXT4+yqKtdk8\nTBxLDG6d67Czes9XE1v7LaJMA21+lRKjLE8+9u9pFS4EsLTd+qGefAD1h+KzLlF1\nTOpixm589cME7PisO4G63tQNyyR8QfnzVOxNVZtkrMj4ZQBUV88u2QYRLFwvZ0Ic\nIwXtMmbWat3PZf5VAS77v6SCE9JNpV8QfvMYmfhf8Y5McAzbKYPuDAIsb52/KS1+\nf/TOja1iet1U5UEmMLzxZeuNbHNlPTwjZ35sPT6SZrPOP0B0rOh8SUsLacoxnZVP\ngGzfFOEEWR507bnCB4mI7El595WtX3xHV9UW0WUzmJ4qHsniQT9svWYhztNZZrUp\neoC0/2/minI2CiFiEC1J4LzMxmoYRSxpFE1Ahi3g28YIObNN/jzD1wMQUK+/01FJ\navRTsMB9AaGlyRAulMGzy98CXjbadm5CwJ99AlyDpQvqaiY7p8+MUvvWthUHzti6\nUUkLSpoHdLGocBlAtu6L2S0olCooaTm5/BSFl74W+u+sEm37dEqi/lHtdgdSjThT\n94mYAbl6DucVtG5jTrDd5AaalK2GfegLjxdoud7X7ralnbt/dpRq+TbUSUYFkXwQ\nt8KOQdscKYsj0Chs\n=wzBf\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0b4703d691ede49d98a7c105ad46cf9e1ee3cf47",
          "sha": "0b4703d691ede49d98a7c105ad46cf9e1ee3cf47",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/0b4703d691ede49d98a7c105ad46cf9e1ee3cf47"
        }
      ],
      "message": "build: Enable secp256k1 experimental batch module",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-03-11T19:14:30Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-03-11T19:14:30Z"
      },
      "sha": "af08cd227631263219df3b4f9ec2149c7402c006"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGMyMGRiNzNmOWE1YjZmY2EzOGUzOWM3NzEzMWYyOGY0ODNiYjc2ODY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c20db73f9a5b6fca38e39c77131f28f483bb7686",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c20db73f9a5b6fca38e39c77131f28f483bb7686",
      "tree": {
        "sha": "ad43cd512279054fbe2e0a199ac241d9e2e7f312",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ad43cd512279054fbe2e0a199ac241d9e2e7f312"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree ad43cd512279054fbe2e0a199ac241d9e2e7f312\nparent af08cd227631263219df3b4f9ec2149c7402c006\nauthor Fabian Jahr <fjahr@protonmail.com> 1741721249 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1741722165 +0100\n\nvalidation: Add BatchVerify (unused)\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmfQkjUVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNmV4P/itdUP4Hq6ASfyOTjDTOGPSXyI68\nCyMgAUXWaDeILpgifFe4YOyOjt48BLjK5lf3gcWMrgtMBCB7I/jEphPS0PL4JuUW\nxQj7EY5vR/Oo1dcAXJl4848T7nrgLEfROPt4gGc7YbnDZpIVQfTo6u8d8ePwp3aF\nuxPhfieS0mG59w2cLMo7H9NH22lL5nbdshGupwhP9RHu0gquCQ0BqKO+TRZN8ikI\nEfOaK/lFCMOpyJfDY85WXzWxPSrMLHvKO+LKyWgjtRUpZa27/qyFuBqkmv2JMTJN\nY2YrhyGr04Nd+Ac3UP0TZUwMv2MuseKyun8xLMZso+/LkFXJJIWw4QolaXQyhpTw\nUlbM566Cyb6ZyJ9ozhuJ/45ljzcjaFDsmR/Qt4Y3B8CiH/1C2n0F/XdsqpWbP+rS\nEfjsHUIPloWZZ2O6k21/9qSBWXC4szZd6Ku1oMCfBgnDYQdBLdGi1s6UBn/lH7L2\nvLrYzaKQZ51+r0Tr+bO92h4CA5nbHYLvW4L30lI/WILnqIykRIpvOP6nC8YezeLi\nRW3cg+ET9nNiBEShL3QpZjvaS2xKz3D0yUDDLbYkgySGNCz/xEdSy5fFTJ3BEj5r\n+dvcri9tCh/GBnBGhUbYeEKBHcJaHYxxZKt2ik6wyr63+X2M0dbMK+gf9Ggsw76R\nd/wOhWCtf0AiuUm5\n=h4lJ\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/af08cd227631263219df3b4f9ec2149c7402c006",
          "sha": "af08cd227631263219df3b4f9ec2149c7402c006",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/af08cd227631263219df3b4f9ec2149c7402c006"
        }
      ],
      "message": "validation: Add BatchVerify (unused)",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-03-11T19:42:45Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-03-11T19:27:29Z"
      },
      "sha": "c20db73f9a5b6fca38e39c77131f28f483bb7686"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDhlZjY5MGUzNmNiODBhOWY5NDQ4MGJhMTNmOGUzNzY2OWNmMTVhMzE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8ef690e36cb80a9f94480ba13f8e37669cf15a31",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8ef690e36cb80a9f94480ba13f8e37669cf15a31",
      "tree": {
        "sha": "75000fb3a6321582bc5065533e78560028baa7dc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/75000fb3a6321582bc5065533e78560028baa7dc"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 75000fb3a6321582bc5065533e78560028baa7dc\nparent c20db73f9a5b6fca38e39c77131f28f483bb7686\nauthor Fabian Jahr <fjahr@protonmail.com> 1741723569 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1741736586 +0100\n\nscript: Add batch validation error\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmfQyooVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNQw0P/12jZA1rHCekPbwlxA2EExxoHxhq\nT0wn367L5GemD7KC1sxaCjXWPWRFIyFdGC2XbXiUCj1c5O0/gJCkRR1iPy3i8TBO\nmEjBdMMOoUBo4Tj+vzeiU3B4Oyg89uSiv8sTYQ+TWirxt8xcE1BNuJbxyIxtix06\n0T0ij1MnsnphVwQVbJpNNdGMRXuQEsnlgfdJ2d4xMg2GEbrSrJE2uatims6J1pjj\nXYIT/2V6TAPjQRihAtaheoEnvSB6/c26mIeSYVzzd1GWKbUY7OaVP7+euMwdlGrG\nFRkn9fWN9AMy9Sk/duf7mPjAmwOmfBxIG+Ltr0LYovS2LHg1Khv6OEOUvK/OKDor\n1/pcvS6LG11A2Du0J7pAQIvmLXAe98MoNVxnW5ttsa/xy8BR6vnaUTCLCP1tyx97\n1+EJ6HaAvziokcOEq++nTUdtA+MQntGB9BHv++AXPltSYmiTyqhRdr+G/jPX9v/E\nW7319F38gc9FFi/f0iS1vM5BIz3XbLDROOTVXx/hQfLGfHKwn0+DVylVIrMQTg9R\nSCUTXuwRWr61WffW/v3zAbmYHquF3Ikcn9BcMkPkGWDrazdPzv4f35v2sfJVjG4z\n+mjQb3+KmqOOcszf5DxJb1RnWP7+23aQkeTDmBCXuAtZy0Xc6sF3ZuoaZQZuDGh5\n8TvsMMWqWr1xcBRE\n=g8Ie\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c20db73f9a5b6fca38e39c77131f28f483bb7686",
          "sha": "c20db73f9a5b6fca38e39c77131f28f483bb7686",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c20db73f9a5b6fca38e39c77131f28f483bb7686"
        }
      ],
      "message": "script: Add batch validation error",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-03-11T23:43:06Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-03-11T20:06:09Z"
      },
      "sha": "8ef690e36cb80a9f94480ba13f8e37669cf15a31"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGQzMzNkNWM2ZTNjNGI0NTQ2MjE5OTg3NzJmZjc0ZmY2NjU2YWY2OTE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d333d5c6e3c4b454621998772ff74ff6656af691",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/d333d5c6e3c4b454621998772ff74ff6656af691",
      "tree": {
        "sha": "38455c3176f41bc2d8a3a8233cfd32ebc06f3c83",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/38455c3176f41bc2d8a3a8233cfd32ebc06f3c83"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 38455c3176f41bc2d8a3a8233cfd32ebc06f3c83\nparent 8ef690e36cb80a9f94480ba13f8e37669cf15a31\nauthor Fabian Jahr <fjahr@protonmail.com> 1741724741 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1741736586 +0100\n\nsigcache: Add CollectingSignatureChecker\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmfQyooVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNZkIP/0ywAsaxohanR4y1W++rvKvqqm4U\nCQTk61TBBUyr6+r9R4vMr3BmtvmgS+ACG13qc6Id0WGPrS2F24Ko3e5L6yH3bHy3\nWqWxrFJIJoWQkQvlxd0/ZStpJs1mQ6dg5v6w+sYno80oicPNSegWzzYPkqzOFXnp\nuE2PmalU30jU+lNbtZvf9bd8EMtEBgP6xGfiMzsMIjwWqTrEvTUgT4JHIcgU1G5N\nMAd5xg5xrUrmlnaPcL1vn753PBO886qRokqgmKs1VCR3oghsNGqitGeKZPShQ8Bp\nTqsqyNpwVaIlCEYgThRsCfQARmzMjODm8XsF/9u8ynKjSMmCUtDTCNAsxSmflOUP\nKzQ532Bg/UKI76WbyGDsasj/GSX9wT0rsTZHiWEsJD6QGOG3wGOj6dCYke+UGeQ2\nroZeP7SpVQcCcjNUDyBbX1txTwoQdDmqhFEWBpZ3ym7vyI1ulo3xc5Cp4c9Msv2t\nE4J0bj06iQlfAedXsANKb3qWiXA6tYecvG4Dj3NeTz7divaut6CZFG933bLzSL6a\n93piHe249y32FvBizgX0xZtNFf5vgccuiTleyXp12dKI5iyDk5RAzUbD/oBMUF6G\n++Wl9kc1WVGBxMcmpLV8TtH0WdtiTMTmaoG1U8tHjtjYM9ZUWhRDCs3FGmWWdjjl\nDy+tmKBWjMqNzRlN\n=fNa1\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8ef690e36cb80a9f94480ba13f8e37669cf15a31",
          "sha": "8ef690e36cb80a9f94480ba13f8e37669cf15a31",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8ef690e36cb80a9f94480ba13f8e37669cf15a31"
        }
      ],
      "message": "sigcache: Add CollectingSignatureChecker",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-03-11T23:43:06Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-03-11T20:25:41Z"
      },
      "sha": "d333d5c6e3c4b454621998772ff74ff6656af691"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDg0MWEwOWMxYzRjZmY2NzI3NTdmMWI0MzBjZTRmYzg5YTEwZmMwYTg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/841a09c1c4cff672757f1b430ce4fc89a10fc0a8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/841a09c1c4cff672757f1b430ce4fc89a10fc0a8",
      "tree": {
        "sha": "f253ffbb16f24bae8955f6dffaf1769767e49322",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f253ffbb16f24bae8955f6dffaf1769767e49322"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree f253ffbb16f24bae8955f6dffaf1769767e49322\nparent d333d5c6e3c4b454621998772ff74ff6656af691\nauthor Fabian Jahr <fjahr@protonmail.com> 1741731871 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1741736586 +0100\n\nvalidation: Add BatchableScriptChecker\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmfQyooVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jN7Q8QAKImZx4HtEFFpKJCup855oI25Uu5\n+mnuKMv1QlWkeBuQ8cyWSy4LQS+C3/kFlKo4nTotowuGRo5w6OWrbzBqqi6pY7Eb\n+62XRDEuV1MpfP0CoNwr/Wjh0J5vaaNhQcCovSnwwD0dyHm/TUKXn6NZ69FCRorE\nUOsPTVnf+WJlasgTxUMBEnJP0tHcnIboYKo8TzSa8T+Lx3+4W7CcrO2AsOEIsPqc\nMldJ7tzr3RJjj0+xq3He37PkBxynN2/2GlvRNIN4Rv31h6YDF+L7zskfWf3cUV3O\nEF4WpE4YAyMLHBmJlejeJ8XoC+siPq4YuCoNJo9CQBMC1Df3oElTKhogXIT7t3Xf\nzVbBpJbHlMl3pnMmmk0hjGEVSuMHEotXqBZ30kr1Hlr1Gj09q/i4SCype/EHWHOD\nn0LcA70TMqV5WMH3sLlS2/m6yxMj5POLNDfVWRv582UJFa4OTfjgnQcgoPdqVKID\nA5/eWVDCgXdb/NqTj+8pRqsZRHMGYOV8dHgE5clLfQG05Uj0KEdF/ArH9Rvqa5KQ\n4yNwQYXTN0UDZTkFTAWUeEri2quDlL2tXZh/ksN6i1Vzo30/vcy2vR7tfKIC5Vj+\nK7ny/PuVZ2KY+jLgYPLbt8AjnVeNdqAmv8y9w7IKDF64oN8JJy23tTz/I+ENvMAm\nR0sE8NgLe6+WggRt\n=q66s\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d333d5c6e3c4b454621998772ff74ff6656af691",
          "sha": "d333d5c6e3c4b454621998772ff74ff6656af691",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/d333d5c6e3c4b454621998772ff74ff6656af691"
        }
      ],
      "message": "validation: Add BatchableScriptChecker",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-03-11T23:43:06Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-03-11T22:24:31Z"
      },
      "sha": "841a09c1c4cff672757f1b430ce4fc89a10fc0a8"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ1NDEwMzgzMjM1MTMxMWQxMWUxNjUwNWVkMTkyNWJkNWYxYzY4NzU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/454103832351311d11e16505ed1925bd5f1c6875",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/454103832351311d11e16505ed1925bd5f1c6875",
      "tree": {
        "sha": "6c01babe66cbf2f2ece7ca30470aa37aae476443",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6c01babe66cbf2f2ece7ca30470aa37aae476443"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6c01babe66cbf2f2ece7ca30470aa37aae476443\nparent 841a09c1c4cff672757f1b430ce4fc89a10fc0a8\nauthor Fabian Jahr <fjahr@protonmail.com> 1741732220 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1741736586 +0100\n\nvalidation: Use schnorr signature batch validation in parallel script verification\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmfQyooVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNxCcQAJZlW6oMU9SgHJcPvyy2zjLgMF66\nrCylUrLB7IIOdClUkrZUbNvSBcIFMRbQSbwNWiqW9bpj8Q/qhoNZhWIkew/lLJP9\nwUQpS/PPmqiIerbpUD5+aJQAoeDq4NfCypEfDosstPJA98Yk1XX41gQgoHjQ8UpI\n+6Hr6hho+fsj37LM/Rel/8kB0Rccxi/QcUXlPX+8ZR6VwpYlYupXZ9jm8p8tb04e\nmwHrixRP3KPuGynGKs2BzLS3eVZmjvR3N45+TpbowJNzMIS5oNHJ4NLs4CqYtsYt\n/qL7ovoafqnaCmeEreTRMNgPby5Lg5mT+6s/711B8OXPxQ/PxshZg/GM8ErJKg0S\ng7j6vlBogtH6GGe4kM8H5vaE/UGbh2cPABX86eE19Ko+A/e6hTiEaZQyXd2yBWLt\nThSrAHS6Sxm3mEmRmhZXuMQHCiktoLpmUaUM9E5cR8jBdMSe01W0cK1ZLE634Tsq\nRSNHxgKFg41WCCTyFHUM8qMOWxyiZfy7oiuJjLeehFnAtWF8oVSTMoGoKVTrcpdr\nicCsH75hN3bMuHFyarQYe3/knLxv6U7EjbBzM+qB8lTxNZz2eMSUwZBH7+0vXnWG\n4Hv8SW9sGbGbCd9odzFo9JdIR7LHN1o1F3RjUT9eWPrZrtWCMEnqsWJY9KHxLfGv\nHdNIu8/iqFLqjSlW\n=uN6a\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/841a09c1c4cff672757f1b430ce4fc89a10fc0a8",
          "sha": "841a09c1c4cff672757f1b430ce4fc89a10fc0a8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/841a09c1c4cff672757f1b430ce4fc89a10fc0a8"
        }
      ],
      "message": "validation: Use schnorr signature batch validation in parallel script verification",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-03-11T23:43:06Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-03-11T22:30:20Z"
      },
      "sha": "454103832351311d11e16505ed1925bd5f1c6875"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM0ZTQ5YjFiZTg0YWZhMGMzMTk5YmZkNTNlZWIyZDEwZWE0YWZiODE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c4e49b1be84afa0c3199bfd53eeb2d10ea4afb81",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c4e49b1be84afa0c3199bfd53eeb2d10ea4afb81",
      "tree": {
        "sha": "2c0e157ba0656cac6830d38bffada001d6c6244a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2c0e157ba0656cac6830d38bffada001d6c6244a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 2c0e157ba0656cac6830d38bffada001d6c6244a\nparent 454103832351311d11e16505ed1925bd5f1c6875\nauthor Fabian Jahr <fjahr@protonmail.com> 1741736544 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1741736586 +0100\n\nvalidation: Use schnorr batch validation in single thread case\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmfQyooVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNqREQAKJIZ4TytMv7Bf4ot5TKGyBKzLT8\n4JdlHsnnJtBzf9sLoMknZjbdvAJ+oZe7FAyt5ZjPilVH55cPXEFzNltYDcBuwf5z\nEk6UWvtd0qrodiqHjPDYthNuYC8cW5OuaE6zdwZJVe3JqwWiekheOa7ZgEwGUqxc\nGuUlmpEXQTIP8JIoeY7ctrTww8GL1G21W8NmmVT8Yw3AOTkXhpUPNc+Vb6j/m0mE\nZrc7NCnfYXHEyGqfGviOJveExA7s7uZ/T1a+Q1l8+Ns4Su38Zy0ylx2W4LFt9iNn\nFvVDO7D+YZ5CxpqnzCcJ+Dyocmwxyav6MjhTfjFv3TNd/DxQ/OHFQC6W7aM0qxNe\nog0iskDz0FH3ksRfwGSP7eOD+3HZtEdyeCJYnh4SsDrrypQSk+oGIH4Y2ouQTr4e\nlFCzHVVH/zVBbq0RH2Uk4WGSpDAQXQBDowkY5FyieW3VMg3e6wYBsNqPCKXax1Jj\nD1BJ+uTUj4fJwOnVZpWoL4u0OmtS/629M/B0ou/4uGYbxfml+0KwIMCITi81gj48\nJo4O3zL+I8RpFPaZ+ak2g4F5rUSjspNYY3oIEYsBQ3el7DN52EsvhV5a/BcDstP3\nqBKc8O0UxP+CCtGdGh6JiKtzrkr/+EzBdxvgVrEnAXuHDLFTMClObRve7ghzXy3X\nXMKL64RC6yvdFUEH\n=o62Z\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/454103832351311d11e16505ed1925bd5f1c6875",
          "sha": "454103832351311d11e16505ed1925bd5f1c6875",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/454103832351311d11e16505ed1925bd5f1c6875"
        }
      ],
      "message": "validation: Use schnorr batch validation in single thread case",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-03-11T23:43:06Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-03-11T23:42:24Z"
      },
      "sha": "c4e49b1be84afa0c3199bfd53eeb2d10ea4afb81"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGNhZmRkMTQ4ZjZiZDIyMDZkYTFiZjg4ZDY4NGI4MmZlZWE0N2Y2NWQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cafdd148f6bd2206da1bf88d684b82feea47f65d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/cafdd148f6bd2206da1bf88d684b82feea47f65d",
      "tree": {
        "sha": "8a5859268fba1ab7c6e5dfd567dfda69c200708b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8a5859268fba1ab7c6e5dfd567dfda69c200708b"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8a5859268fba1ab7c6e5dfd567dfda69c200708b\nparent c4e49b1be84afa0c3199bfd53eeb2d10ea4afb81\nauthor Fabian Jahr <fjahr@protonmail.com> 1741722936 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1741736586 +0100\n\nTODO: Fix Taproot functional test\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmfQyooVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNzBsP/1NYewJloLEHMP2sTaNmuE+q6G4x\n/DA8V3799R9QqJg4h97wnPdbzSCxiRAKUbbOFGYAquvx9ntJDbjcPvWjaNG0J1Jo\nft1Fer0YVUFVEvTLUX2kdik53XdOVor5U3VuorSP/fY4G2dauMityCcWlAojsxYZ\njrE34KINsxrVzrfh3dbDTe3WHUMu2Zz6Y9ThmcTjFQjxNelf3q/pNo/4kd81rkzr\nDNjeF0xDbFtSmGxiDGfBRHwvY/1/sfrmWa+jAXlHZ6R+axy/uiGIugP82P3Dd9m/\nJoGB2hscKCTeJ2e0PZZ1kcB6lqQeznPd1c4Rd2rt/X1u4a2ijW+AEmzhWLUqG5LI\ni7tX+fEvtqAk74INgOs+jj1ox3Ydx3zQzTM+yM53On18NU8YbgclxqkOfMr4JaPh\n1MIgjOx5luDI8QDyTaF6h5F/RPsN0CshlAuW+keiNeFfNJZolZYguTfYatYRwuYU\nGvAQsB3MbDc9PqSbEDtUjB+dB65se7sD7r9zxe2AvKtf079MGqJJAbMdp24JKlDP\nreaf5XTUwIKSHujTrHffcBmnB12+VgNikygbIr4/sZlo3KuyNsRw5S7uCRRgXqf6\nXWo4i/sAC3HAmPcqvaOVqHs8J6VJ9RmFZ/QNBrrqTk5Uieet/1EBbQoB+B7m9NXN\nAp6DbT2+wtVoxC3b\n=9rui\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c4e49b1be84afa0c3199bfd53eeb2d10ea4afb81",
          "sha": "c4e49b1be84afa0c3199bfd53eeb2d10ea4afb81",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c4e49b1be84afa0c3199bfd53eeb2d10ea4afb81"
        }
      ],
      "message": "TODO: Fix Taproot functional test",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-03-11T23:43:06Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-03-11T19:55:36Z"
      },
      "sha": "cafdd148f6bd2206da1bf88d684b82feea47f65d"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16701880358,
      "node_id": "HRFPE_lADOABII586Ak_eDzwAAAAPjgngm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16701880358",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "cafdd148f6bd2206da1bf88d684b82feea47f65d",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/cafdd148f6bd2206da1bf88d684b82feea47f65d",
      "created_at": "2025-03-11T23:43:41Z"
    },
    {
      "event": "renamed",
      "id": 16701886919,
      "node_id": "RTE_lADOABII586Ak_eDzwAAAAPjgpHH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16701886919",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-11T23:44:24Z",
      "rename": {
        "from": "[DO NOT MERGE] Schnorr batch verification for blocks",
        "to": "[EXPERIMENTAL] Schnorr batch verification for blocks"
      }
    },
    {
      "event": "reviewed",
      "id": 2688529645,
      "node_id": "PRR_kwDOABII586gP7Tt",
      "url": null,
      "actor": null,
      "commit_id": "d333d5c6e3c4b454621998772ff74ff6656af691",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "Eunovo",
        "id": 37949128,
        "node_id": "MDQ6VXNlcjM3OTQ5MTI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/37949128?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Eunovo",
        "html_url": "https://github.com/Eunovo",
        "followers_url": "https://api.github.com/users/Eunovo/followers",
        "following_url": "https://api.github.com/users/Eunovo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Eunovo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Eunovo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Eunovo/subscriptions",
        "organizations_url": "https://api.github.com/users/Eunovo/orgs",
        "repos_url": "https://api.github.com/users/Eunovo/repos",
        "events_url": "https://api.github.com/users/Eunovo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Eunovo/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29491#pullrequestreview-2688529645",
      "submitted_at": "2025-03-16T06:47:21Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29491"
    },
    {
      "event": "reviewed",
      "id": 2689031245,
      "node_id": "PRR_kwDOABII586gR1xN",
      "url": null,
      "actor": null,
      "commit_id": "454103832351311d11e16505ed1925bd5f1c6875",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "Eunovo",
        "id": 37949128,
        "node_id": "MDQ6VXNlcjM3OTQ5MTI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/37949128?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Eunovo",
        "html_url": "https://github.com/Eunovo",
        "followers_url": "https://api.github.com/users/Eunovo/followers",
        "following_url": "https://api.github.com/users/Eunovo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Eunovo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Eunovo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Eunovo/subscriptions",
        "organizations_url": "https://api.github.com/users/Eunovo/orgs",
        "repos_url": "https://api.github.com/users/Eunovo/repos",
        "events_url": "https://api.github.com/users/Eunovo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Eunovo/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29491#pullrequestreview-2689031245",
      "submitted_at": "2025-03-17T03:23:19Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29491"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU5ZjZlYTA2MDc4YmMxNzg2ZjczYTg1ZjYxNjJjMjY4ZTA4NjAyYzQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/59f6ea06078bc1786f73a85f6162c268e08602c4",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/59f6ea06078bc1786f73a85f6162c268e08602c4",
      "tree": {
        "sha": "39cd32745efd9d35c73dd3c88ce089f978ed465a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/39cd32745efd9d35c73dd3c88ce089f978ed465a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 39cd32745efd9d35c73dd3c88ce089f978ed465a\nparent cafdd148f6bd2206da1bf88d684b82feea47f65d\nauthor Fabian Jahr <fjahr@protonmail.com> 1742237053 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1742254610 +0100\n\nfuzz: Add basic fuzz test for BatchSchnorrVerifier\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmfYsiMVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNFx4P/1VN7Y+NVauk/2oOZtLC45iPOXoy\nweljK2NsiyvWlcBznOkpmOwHuI2NLMphtITj92b489ocGiwj+WwZnabsTZ1ASf/7\nIKbO9ZcfiLpkxSso7Iqu1qpzMVlaIYJymzndVMfMgiM49nUcvXfWVeMk5V6GVVVy\nLx/OQ/d1hlQjqVdElryTUe/n4wf1/Nj2O2rfwGCVuzGZVvH9PuqblBhYbQIsMI7n\nah2mlx85Y+avecvsSAQ9dNl8iZJzaU2rJ7Qie/qJqR4h14Q6ZUAX1LIfhRQEECJN\nS7kKNdbzz7WeIj0wlOhbbgCJteikk/KuigDZzYhfdQQ1YXJSz9mebXXwM2JFwIPp\nYidClDIg9+vnf/Nl4Wsohz0Jw/P9g9VRCXBsUP58o4Mm3Z7mPIpemfppFyVpD09N\n5TTYyPyz3si/Nawow5sKl7CDYt6OvQTjmQa+lLobyQwBORwTOMDetFUJhaVnumNy\n3xqUY9N5wxWx++E0GcsF4IrQdCoWeE3/tNbf6ZMvQe1r89yyd2lV43GVXsXZE0zq\nOfMUBUy384rz/cadNnN9nX28vxe8mSs3Y8P32pgzTuOY1j3yC+GGrgCSZOoCCL2L\neVwH5Jh17I6xQkpQUJ214ptQhTweeHX1z44lOYnSB+WSxjufXYJ3/uTlon5oanWl\n6AYaagAvFizwfJwu\n=Vesr\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cafdd148f6bd2206da1bf88d684b82feea47f65d",
          "sha": "cafdd148f6bd2206da1bf88d684b82feea47f65d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/cafdd148f6bd2206da1bf88d684b82feea47f65d"
        }
      ],
      "message": "fuzz: Add basic fuzz test for BatchSchnorrVerifier",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-03-17T23:36:50Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-03-17T18:44:13Z"
      },
      "sha": "59f6ea06078bc1786f73a85f6162c268e08602c4"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDYwNTVmM2E2ZjUzMDgxOGUyODA1ZDExZGViYjFmYjJjZTgxZmM1YzA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6055f3a6f530818e2805d11debb1fb2ce81fc5c0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6055f3a6f530818e2805d11debb1fb2ce81fc5c0",
      "tree": {
        "sha": "4fd4584d98df6c4e9174646677c228ee59eb28c3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4fd4584d98df6c4e9174646677c228ee59eb28c3"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 4fd4584d98df6c4e9174646677c228ee59eb28c3\nparent 59f6ea06078bc1786f73a85f6162c268e08602c4\nauthor Fabian Jahr <fjahr@protonmail.com> 1742400361 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1742428204 +0100\n\ncheckqueue: Use buckets for batch validation to prevent lock contention\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmfbWCwVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jN1EUP/1WiL4kuEqjf4ibgeGi2QR2R52zZ\nylWwyOrvMgXjsUGItPaL/7vsNXvUe1uaSffjFRFIGRAAHuOYx1j2Po6fAm4/P+aw\n3DZOQVFHmmBFLt8QqWGiqkG2CLgQMeD2RDIexZhcQfDO9sqgH1N4Dd6u0cRIazp6\nr58x1N4tY5lqBTU/pKsFI+bCvMStt9c41ygZXevz8GVMHSSThUQYr8mQIFM8wHys\nm0Gm0Tujvx9qmzgCRVaUDnBle9t548DMwZ7h63v9GeZZCWkaslKhpm509FsbGwow\nmN1uDuG5glLmoT++hnGVdBfdCfnUmk5ggIU+FmWfz/yLfPk/Em2QI7RpL3D2AIlj\nhLImfmUM3xbi1Fd/3eUe8aOV/Q2dTH6qCicb7rxhtZXF2C6j/ewCJ3TzXuozTU4j\nNntlNhy0CNCIQTDtRa3helXYcDw55K3wHCNhMluLSVoYiLBZOfiVQxHTYNhzy56g\na19HqNUAOpKFb46HdkgJBjp4/CDrn0q1ziRnDiWPFEBRYBgXNUq1LEdQPsWzP2vs\ngq7C8M6P5C+xf+/GKOlMBJzzWrxTE1AS72ib3v2M9npAuGijMiHVDfDAwOmTTBOi\nGsKoRuh6eOqq7IFc9zQJH/95KVgWKK8iRtRpBGqh8fLUWjaFWXhyeFQRp8hjFktP\nACpqQCNll6VhE3bn\n=GZQz\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/59f6ea06078bc1786f73a85f6162c268e08602c4",
          "sha": "59f6ea06078bc1786f73a85f6162c268e08602c4",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/59f6ea06078bc1786f73a85f6162c268e08602c4"
        }
      ],
      "message": "checkqueue: Use buckets for batch validation to prevent lock contention",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-03-19T23:50:04Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2025-03-19T16:06:01Z"
      },
      "sha": "6055f3a6f530818e2805d11debb1fb2ce81fc5c0"
    },
    {
      "event": "labeled",
      "id": 16894607478,
      "node_id": "LE_lADOABII586Ak_eDzwAAAAPu_0B2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16894607478",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-20T08:03:08Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2739507884,
      "node_id": "IC_kwDOABII586jSZKs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2739507884",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-20T08:03:09Z",
      "updated_at": "2025-03-20T08:03:09Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\n🐙 This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29491#issuecomment-2739507884",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29491"
    },
    {
      "event": "reviewed",
      "id": 2702581295,
      "node_id": "PRR_kwDOABII586hFh4v",
      "url": null,
      "actor": null,
      "commit_id": "6055f3a6f530818e2805d11debb1fb2ce81fc5c0",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "Eunovo",
        "id": 37949128,
        "node_id": "MDQ6VXNlcjM3OTQ5MTI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/37949128?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Eunovo",
        "html_url": "https://github.com/Eunovo",
        "followers_url": "https://api.github.com/users/Eunovo/followers",
        "following_url": "https://api.github.com/users/Eunovo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Eunovo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Eunovo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Eunovo/subscriptions",
        "organizations_url": "https://api.github.com/users/Eunovo/orgs",
        "repos_url": "https://api.github.com/users/Eunovo/repos",
        "events_url": "https://api.github.com/users/Eunovo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Eunovo/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29491#pullrequestreview-2702581295",
      "submitted_at": "2025-03-20T12:46:38Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29491"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1997499892",
      "pull_request_review_id": 2688529645,
      "id": 1997499892,
      "node_id": "PRRC_kwDOABII5853D230",
      "diff_hunk": "@@ -71,6 +72,22 @@ class CachingTransactionSignatureChecker : public TransactionSignatureChecker\n \n     bool VerifyECDSASignature(const std::vector<unsigned char>& vchSig, const CPubKey& vchPubKey, const uint256& sighash) const override;\n     bool VerifySchnorrSignature(Span<const unsigned char> sig, const XOnlyPubKey& pubkey, const uint256& sighash) const override;\n+\n+    bool GetStore() const { return store; }\n+    SignatureCache& GetSigCache() const { return m_signature_cache; }\n+};\n+\n+class CollectingSignatureChecker : public CachingTransactionSignatureChecker {",
      "path": "src/script/sigcache.h",
      "position": 17,
      "original_position": 17,
      "commit_id": "6055f3a6f530818e2805d11debb1fb2ce81fc5c0",
      "original_commit_id": "d333d5c6e3c4b454621998772ff74ff6656af691",
      "in_reply_to_id": null,
      "user": {
        "login": "Eunovo",
        "id": 37949128,
        "node_id": "MDQ6VXNlcjM3OTQ5MTI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/37949128?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Eunovo",
        "html_url": "https://github.com/Eunovo",
        "followers_url": "https://api.github.com/users/Eunovo/followers",
        "following_url": "https://api.github.com/users/Eunovo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Eunovo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Eunovo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Eunovo/subscriptions",
        "organizations_url": "https://api.github.com/users/Eunovo/orgs",
        "repos_url": "https://api.github.com/users/Eunovo/repos",
        "events_url": "https://api.github.com/users/Eunovo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Eunovo/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "https://github.com/bitcoin/bitcoin/pull/29491/commits/d333d5c6e3c4b454621998772ff74ff6656af691: This is nice! sets us up nicely to later do batch taptweak checking since we can \"collect\" it too.",
      "created_at": "2025-03-16T06:47:20Z",
      "updated_at": "2025-03-16T06:47:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29491#discussion_r1997499892",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1997499892"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29491"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 80,
      "original_line": 80,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1997877541",
      "pull_request_review_id": 2689031245,
      "id": 1997877541,
      "node_id": "PRRC_kwDOABII5853FTEl",
      "diff_hunk": "@@ -128,8 +150,22 @@ class CCheckQueue\n             // execute work\n             if (do_work) {\n                 for (T& check : vChecks) {\n-                    local_result = check();\n-                    if (local_result.has_value()) break;\n+                    auto check_result = check();\n+\n+                    if constexpr (is_batchable_result_v<decltype(check_result)>) {\n+                        if (std::holds_alternative<ScriptFailureResult>(check_result)) {\n+                            local_result = std::get<ScriptFailureResult>(check_result);\n+                            break;\n+                        }\n+                        // Check succeeded; add signatures to shared batch\n+                        const auto& signatures = std::get<std::vector<SchnorrSignatureToVerify>>(check_result);\n+                        for (const auto& sig : signatures) {\n+                            m_batch.Add(sig.sig, sig.pubkey, sig.sighash);",
      "path": "src/checkqueue.h",
      "position": null,
      "original_position": 69,
      "commit_id": "6055f3a6f530818e2805d11debb1fb2ce81fc5c0",
      "original_commit_id": "454103832351311d11e16505ed1925bd5f1c6875",
      "in_reply_to_id": null,
      "user": {
        "login": "Eunovo",
        "id": 37949128,
        "node_id": "MDQ6VXNlcjM3OTQ5MTI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/37949128?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Eunovo",
        "html_url": "https://github.com/Eunovo",
        "followers_url": "https://api.github.com/users/Eunovo/followers",
        "following_url": "https://api.github.com/users/Eunovo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Eunovo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Eunovo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Eunovo/subscriptions",
        "organizations_url": "https://api.github.com/users/Eunovo/orgs",
        "repos_url": "https://api.github.com/users/Eunovo/repos",
        "events_url": "https://api.github.com/users/Eunovo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Eunovo/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "https://github.com/bitcoin/bitcoin/pull/29491/commits/454103832351311d11e16505ed1925bd5f1c6875: IIUC All the threads still share this batch. That means we still have the same locking problem; threads will be stuck waiting for the batch to be free.  In my very rough implementation https://github.com/bitcoin-dev-tools/benchcoin/pull/41/commits/173f07dc4493de3d3a9420f6a966606913277e9d#diff-0f68d4063c2fb11000f9048e46478e26c0ea2622f7866d00b574f429c3a4db61 I opted to give each batch a thread to resolve this.",
      "created_at": "2025-03-17T03:23:19Z",
      "updated_at": "2025-03-17T03:23:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29491#discussion_r1997877541",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1997877541"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29491"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 163,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2004525996",
      "pull_request_review_id": 2700654961,
      "id": 2004525996,
      "node_id": "PRRC_kwDOABII5853eqOs",
      "diff_hunk": "@@ -128,8 +150,22 @@ class CCheckQueue\n             // execute work\n             if (do_work) {\n                 for (T& check : vChecks) {\n-                    local_result = check();\n-                    if (local_result.has_value()) break;\n+                    auto check_result = check();\n+\n+                    if constexpr (is_batchable_result_v<decltype(check_result)>) {\n+                        if (std::holds_alternative<ScriptFailureResult>(check_result)) {\n+                            local_result = std::get<ScriptFailureResult>(check_result);\n+                            break;\n+                        }\n+                        // Check succeeded; add signatures to shared batch\n+                        const auto& signatures = std::get<std::vector<SchnorrSignatureToVerify>>(check_result);\n+                        for (const auto& sig : signatures) {\n+                            m_batch.Add(sig.sig, sig.pubkey, sig.sighash);",
      "path": "src/checkqueue.h",
      "position": null,
      "original_position": 69,
      "commit_id": "6055f3a6f530818e2805d11debb1fb2ce81fc5c0",
      "original_commit_id": "454103832351311d11e16505ed1925bd5f1c6875",
      "in_reply_to_id": 1997877541,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "You're right, this wasn't a complete solution. I have improved this now by using buckets of signatures for each thread which are all added and only then verified by the master thread at the end. This could be further improved if we could add the signatures to a batch per thread right away but this would require that we could merge batch objects which the secp api currently doesn't make possible. I'll add that to my wish list because I think it should be even better than the current approach but it should be a comparatively minor improvement. I considered other approaches as well but this seems to be a very simple solution that does not rely on a more complex library or code or uses `thread_local` (which we try to avoid).\r\n\r\nYour approach does do batching in each thread but also per each `vChecks` allocation, which are surprisingly small, especially when there are a lot of threads available. This is what caused me to look more into the `nNow` algo behavior. With the current approach here I try to only do one verify call per block which should be the fastest approach once pippenger is used in secp.",
      "created_at": "2025-03-20T00:17:35Z",
      "updated_at": "2025-03-20T00:17:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29491#discussion_r2004525996",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2004525996"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29491"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 163,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2004559393",
      "pull_request_review_id": 2700735399,
      "id": 2004559393,
      "node_id": "PRRC_kwDOABII5853eyYh",
      "diff_hunk": "@@ -128,8 +150,22 @@ class CCheckQueue\n             // execute work\n             if (do_work) {\n                 for (T& check : vChecks) {\n-                    local_result = check();\n-                    if (local_result.has_value()) break;\n+                    auto check_result = check();\n+\n+                    if constexpr (is_batchable_result_v<decltype(check_result)>) {\n+                        if (std::holds_alternative<ScriptFailureResult>(check_result)) {\n+                            local_result = std::get<ScriptFailureResult>(check_result);\n+                            break;\n+                        }\n+                        // Check succeeded; add signatures to shared batch\n+                        const auto& signatures = std::get<std::vector<SchnorrSignatureToVerify>>(check_result);\n+                        for (const auto& sig : signatures) {\n+                            m_batch.Add(sig.sig, sig.pubkey, sig.sighash);",
      "path": "src/checkqueue.h",
      "position": null,
      "original_position": 69,
      "commit_id": "6055f3a6f530818e2805d11debb1fb2ce81fc5c0",
      "original_commit_id": "454103832351311d11e16505ed1925bd5f1c6875",
      "in_reply_to_id": 1997877541,
      "user": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think @Eunovo's approach is closer to what we want. Instead of a bucket per thread, have a batch per thread. However, instead of batch verifying after each `vChecks` batch, batch verify after the queue of checks is empty for the block. We need CCheckQueue::Complete to set a flag that no more checks will be added, and wake all threads again. The threads will all verify their batches once the global queue is empty. We would need to reset the flag after Complete.\n\nThis approach of verifying on master thread at the end will not be faster even with pippinger algo. The max speedup is closer to 2x, but multi threaded is 16x faster.",
      "created_at": "2025-03-20T00:45:20Z",
      "updated_at": "2025-03-20T00:56:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29491#discussion_r2004559393",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2004559393"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29491"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 163,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2005563093",
      "pull_request_review_id": 2702581295,
      "id": 2005563093,
      "node_id": "PRRC_kwDOABII5853inbV",
      "diff_hunk": "@@ -114,6 +124,12 @@ class CCheckQueue\n                     if (fMaster && nTodo == 0) {\n                         // All checks are done; master performs batch verification\n                         if constexpr (std::is_same_v<R, ScriptFailureResult>) {\n+                            for (auto& bucket : m_signature_buckets) {\n+                                for (const auto& sig : bucket) {\n+                                    m_batch.Add(sig.sig, sig.pubkey, sig.sighash);",
      "path": "src/checkqueue.h",
      "position": 32,
      "original_position": 32,
      "commit_id": "6055f3a6f530818e2805d11debb1fb2ce81fc5c0",
      "original_commit_id": "6055f3a6f530818e2805d11debb1fb2ce81fc5c0",
      "in_reply_to_id": null,
      "user": {
        "login": "Eunovo",
        "id": 37949128,
        "node_id": "MDQ6VXNlcjM3OTQ5MTI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/37949128?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Eunovo",
        "html_url": "https://github.com/Eunovo",
        "followers_url": "https://api.github.com/users/Eunovo/followers",
        "following_url": "https://api.github.com/users/Eunovo/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Eunovo/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Eunovo/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Eunovo/subscriptions",
        "organizations_url": "https://api.github.com/users/Eunovo/orgs",
        "repos_url": "https://api.github.com/users/Eunovo/repos",
        "events_url": "https://api.github.com/users/Eunovo/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Eunovo/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "https://github.com/bitcoin/bitcoin/pull/29491/commits/6055f3a6f530818e2805d11debb1fb2ce81fc5c0: This leaves the master thread to do all the \"Pubkey recovery\"(I think that's what its called?) work in each `batch.Add` call, which is substantial. We can call \"secp256k1_xonly_pubkey_parse\" when collecting the signatures so the master thread is not stuck doing all the work to parse the XOnlyPubkey.",
      "created_at": "2025-03-20T12:46:37Z",
      "updated_at": "2025-03-20T12:46:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29491#discussion_r2005563093",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2005563093"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29491"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 129,
      "original_line": 129,
      "side": "RIGHT"
    }
  ]
}