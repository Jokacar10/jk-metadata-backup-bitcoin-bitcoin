{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926",
    "id": 1401489212,
    "node_id": "PR_kwDOABII585TiQc8",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/27926",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/27926.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/27926.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27926",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27926/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/e71f9399d2bee34679a85783431ca98639221293",
    "number": 27926,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "policy: make unstructured annex standard",
    "user": {
      "login": "joostjager",
      "id": 4638168,
      "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joostjager",
      "html_url": "https://github.com/joostjager",
      "followers_url": "https://api.github.com/users/joostjager/followers",
      "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
      "organizations_url": "https://api.github.com/users/joostjager/orgs",
      "repos_url": "https://api.github.com/users/joostjager/repos",
      "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/joostjager/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "This PR opens up the annex in a limited way:\r\n\r\n* If any one of the inputs commits to an annex, all inputs must. This is a mechanism to opt-in to annex use, preventing participants in a multi-party transaction from adding an unexpected annex which would increase the tx weight and lower the fee rate. See https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-June/021736.html\r\n\r\n* Allow empty annexes, to let users opt-in to annex usage with the minimum number of bytes.\r\n\r\n* Additionally, only allow annexes that start with `0x00`. This keeps open the possibility to support structured annexes such as for example the tlv format proposed in https://github.com/bitcoin/bips/pull/1381. A potential future structured format would start with a non-zero byte.\r\n\r\n* Limit the maximum size of unstructured annex data to 256 bytes. Including the annex tag 0x50 and the unstructured data tag 0x00, this makes for a maximum total witness element size of 258 bytes. This upper limit somewhat protects participants in a multi-party transaction that uses the annex against annex inflation.\r\n\r\n  The constant 256 is chosen so that it provides enough space to accommodate several schnorr signatures. This is useful for implementing annex covenants with multiple presigned transactions. For a PoC of a single transaction annex covenant, see https://github.com/joostjager/annex-covenants\r\n\r\nTodo:\r\n* [ ] fix/add tests\r\n\r\nRelated:\r\n* Max 126 byte unstructured annex without opt-in: https://github.com/bitcoin-inquisition/bitcoin/pull/22",
    "labels": [
      {
        "id": 82428251,
        "node_id": "MDU6TGFiZWw4MjQyODI1MQ==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/TX%20fees%20and%20policy",
        "name": "TX fees and policy",
        "color": "5319e7",
        "default": false
      },
      {
        "id": 955867938,
        "node_id": "MDU6TGFiZWw5NTU4Njc5Mzg=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Needs%20rebase",
        "name": "Needs rebase",
        "description": "",
        "color": "cccccc",
        "default": false
      }
    ],
    "created_at": "2023-06-21T11:23:26Z",
    "updated_at": "2025-03-01T07:35:24Z",
    "closed_at": "2024-03-01T07:14:48Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merged": false,
    "merge_commit_sha": "48a1fd7b251442d3a4f7cc5254b82c4338598067",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "joostjager:std-unstructured-annex",
      "ref": "std-unstructured-annex",
      "sha": "e71f9399d2bee34679a85783431ca98639221293",
      "user": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 641361966,
        "node_id": "R_kgDOJjpoLg",
        "name": "bitcoin",
        "full_name": "joostjager/bitcoin",
        "owner": {
          "login": "joostjager",
          "id": 4638168,
          "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
          "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/joostjager",
          "html_url": "https://github.com/joostjager",
          "followers_url": "https://api.github.com/users/joostjager/followers",
          "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
          "organizations_url": "https://api.github.com/users/joostjager/orgs",
          "repos_url": "https://api.github.com/users/joostjager/repos",
          "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/joostjager/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/joostjager/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/joostjager/bitcoin",
        "archive_url": "https://api.github.com/repos/joostjager/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/joostjager/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/joostjager/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/joostjager/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/joostjager/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/joostjager/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/joostjager/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/joostjager/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/joostjager/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/joostjager/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/joostjager/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/joostjager/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/joostjager/bitcoin/events",
        "forks_url": "https://api.github.com/repos/joostjager/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/joostjager/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/joostjager/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/joostjager/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/joostjager/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/joostjager/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/joostjager/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/joostjager/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/joostjager/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/joostjager/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/joostjager/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/joostjager/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/joostjager/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/joostjager/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/joostjager/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/joostjager/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:joostjager/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/joostjager/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/joostjager/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/joostjager/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/joostjager/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/joostjager/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/joostjager/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/joostjager/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/joostjager/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/joostjager/bitcoin/hooks",
        "svn_url": "https://github.com/joostjager/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 198214,
        "default_branch": "master",
        "open_issues_count": 1,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-26T15:36:00Z",
        "created_at": "2023-05-16T10:07:44Z",
        "updated_at": "2023-06-19T13:17:14Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "296735f7638749906243c9e203df7bd024493806",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36857,
        "stargazers_count": 82241,
        "watchers_count": 82241,
        "size": 276079,
        "default_branch": "master",
        "open_issues_count": 669,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-02-27T14:05:31Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-03-01T07:15:23Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
      }
    },
    "author_association": "NONE",
    "draft": true,
    "additions": 84,
    "deletions": 16,
    "changed_files": 3,
    "commits": 1,
    "review_comments": 24,
    "comments": 17
  },
  "events": [
    {
      "event": "commented",
      "id": 1600657838,
      "node_id": "IC_kwDOABII585faBmu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1600657838",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-21T11:23:29Z",
      "updated_at": "2023-08-15T06:54:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28246](https://github.com/bitcoin/bitcoin/pull/28246) (wallet: Use CTxDestination in CRecipient instead of just scriptPubKey by achow101)\n* [#28244](https://github.com/bitcoin/bitcoin/pull/28244) (Break up script/standard.{h/cpp} by achow101)\n* [#26291](https://github.com/bitcoin/bitcoin/pull/26291) (Update MANDATORY_SCRIPT_VERIFY_FLAGS by ajtowns)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#issuecomment-1600657838",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27926"
    },
    {
      "event": "labeled",
      "id": 9592169236,
      "node_id": "LE_lADOABII585pV-U7zwAAAAI7vOMU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9592169236",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-21T11:23:30Z",
      "label": {
        "name": "TX fees and policy",
        "color": "5319e7"
      }
    },
    {
      "event": "reviewed",
      "id": 1490742245,
      "node_id": "PRR_kwDOABII585Y2uvl",
      "url": null,
      "actor": null,
      "commit_id": "0f67fca200136d8862267fe00dc04201211f7547",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#pullrequestreview-1490742245",
      "submitted_at": "2023-06-21T13:26:19Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9593946276,
      "node_id": "HRFPE_lADOABII585pV-U7zwAAAAI72ACk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9593946276",
      "actor": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "f0a2db294e7c1d3e52923ee5b8a48609cc310230",
      "commit_url": "https://api.github.com/repos/joostjager/bitcoin/commits/f0a2db294e7c1d3e52923ee5b8a48609cc310230",
      "created_at": "2023-06-21T13:46:10Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9594100836,
      "node_id": "HRFPE_lADOABII585pV-U7zwAAAAI72lxk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9594100836",
      "actor": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "commit_url": "https://api.github.com/repos/joostjager/bitcoin/commits/b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "created_at": "2023-06-21T13:57:41Z"
    },
    {
      "event": "labeled",
      "id": 9595333872,
      "node_id": "LE_lADOABII585pV-U7zwAAAAI77Szw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9595333872",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-21T15:26:30Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1601101903,
      "node_id": "IC_kwDOABII585fbuBP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1601101903",
      "actor": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-21T15:56:09Z",
      "updated_at": "2023-06-21T15:56:09Z",
      "author_association": "CONTRIBUTOR",
      "body": "Think this is failing CI because of an annex nonstandard check https://github.com/bitcoin/bitcoin/blob/f1b4975461364d5d40d2bfafc6b165dd5d7eec30/test/functional/feature_taproot.py#L1209",
      "user": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#issuecomment-1601101903",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27926"
    },
    {
      "event": "commented",
      "id": 1601175336,
      "node_id": "IC_kwDOABII585fb_8o",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1601175336",
      "actor": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-21T16:41:07Z",
      "updated_at": "2023-06-21T16:41:07Z",
      "author_association": "NONE",
      "body": "@Crypt-iQ thanks for pointing that out. I need to get used to this repository still. Will definitely fix tests, but looking for concept ack first.",
      "user": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#issuecomment-1601175336",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27926"
    },
    {
      "event": "mentioned",
      "id": 9596160101,
      "node_id": "MEE_lADOABII585pV-U7zwAAAAI7-chl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9596160101",
      "actor": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-21T16:41:07Z"
    },
    {
      "event": "subscribed",
      "id": 9596160115,
      "node_id": "SE_lADOABII585pV-U7zwAAAAI7-chz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9596160115",
      "actor": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-21T16:41:07Z"
    },
    {
      "event": "convert_to_draft",
      "id": 9606701497,
      "node_id": "CTDE_lADOABII585pV-U7zwAAAAI8mqG5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9606701497",
      "actor": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-22T13:31:19Z"
    },
    {
      "event": "commented",
      "id": 1605556983,
      "node_id": "IC_kwDOABII585fstr3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1605556983",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-24T14:37:25Z",
      "updated_at": "2023-06-24T14:37:25Z",
      "author_association": "MEMBER",
      "body": "Use case?",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#issuecomment-1605556983",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27926"
    },
    {
      "event": "commented",
      "id": 1606255813,
      "node_id": "IC_kwDOABII585fvYTF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1606255813",
      "actor": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-25T20:38:53Z",
      "updated_at": "2023-06-25T20:38:53Z",
      "author_association": "NONE",
      "body": "@luke-jr annex covenants, see link in PR description",
      "user": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#issuecomment-1606255813",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27926"
    },
    {
      "event": "mentioned",
      "id": 9630831652,
      "node_id": "MEE_lADOABII585pV-U7zwAAAAI-CtQk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9630831652",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-25T20:38:54Z"
    },
    {
      "event": "subscribed",
      "id": 9630831657,
      "node_id": "SE_lADOABII585pV-U7zwAAAAI-CtQp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9630831657",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-25T20:38:54Z"
    },
    {
      "event": "reviewed",
      "id": 1497263042,
      "node_id": "PRR_kwDOABII585ZPmvC",
      "url": null,
      "actor": null,
      "commit_id": "b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "IIRC from #19645 and beyond, witnesses could be concatenate on the flight by transaction-relaying node, therefore ensuring the best feerate transaction propagates. As it’s opening it’s own wormhole of DoS issues, better to pursue the conversation on the mailing list (like doing or not sounds to impact L2/transaction-relay propagation and hardware signers, I believe). ",
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#pullrequestreview-1497263042",
      "submitted_at": "2023-06-26T01:17:32Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9636749013,
      "node_id": "HRFPE_lADOABII585pV-U7zwAAAAI-ZR7V",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9636749013",
      "actor": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "e100018cbeeab6442b645c10c5e87b1bc3760035",
      "commit_url": "https://api.github.com/repos/joostjager/bitcoin/commits/e100018cbeeab6442b645c10c5e87b1bc3760035",
      "created_at": "2023-06-26T10:06:31Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9636779601,
      "node_id": "HRFPE_lADOABII585pV-U7zwAAAAI-ZZZR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9636779601",
      "actor": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "ac119a5cb78df6209a789740cd456dfba951720f",
      "commit_url": "https://api.github.com/repos/joostjager/bitcoin/commits/ac119a5cb78df6209a789740cd456dfba951720f",
      "created_at": "2023-06-26T10:08:54Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGU3MWY5Mzk5ZDJiZWUzNDY3OWE4NTc4MzQzMWNhOTg2MzkyMjEyOTM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e71f9399d2bee34679a85783431ca98639221293",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e71f9399d2bee34679a85783431ca98639221293",
      "tree": {
        "sha": "16218bdea2b0da2812f9059635c78db48944b850",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/16218bdea2b0da2812f9059635c78db48944b850"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 16218bdea2b0da2812f9059635c78db48944b850\nparent 7d65e3372fc7e08fccd7babb3aa66351e0e9442d\nauthor Joost Jager <joost.jager@gmail.com> 1685713372 +0200\ncommitter Joost Jager <joost.jager@gmail.com> 1687793742 +0200\n\nmake unstructured annex standard\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQHKBAABCAA0FiEEEFWtW6dP/JYibciSuaJkSaVSgyUFAmSZsE4WHGpvb3N0Lmph\nZ2VyQGdtYWlsLmNvbQAKCRC5omRJpVKDJdpDDACiC997+MadG/7Mutwz7YOt+6qm\n1a8PawlZxgYUrg8rg+3t2PmSjsI+BWWuJOBPlNlmazhWb0DEdNvC0LxHz3ejnBXb\nP4F2Qq7xMCKxHybdxDzzJOJL72XZxA69718tLdMha4nHc6Uj0oaRjvjnxcCVnj+u\nSDSvi251t5NaiCLYEqLpfCJ6gIUED4FwSE1atAvfIwHP/O/ttb7cy17f6vpArXyi\nhfamK8rov/pFixdKZ5+0WJPr0PGliXpHD72R6vZZh4bByGPjIBMxp0vl6reJ+qbR\n8M87gwEsC1lho2iRujeCb7RHkXAY153eo7G72LyEeY60IpRwwzBUbIp3bKa37yo5\nwZKIKk6UdaF23iR/IySEmEO9DD/S0kdav7uzb+qZH2k3siv6GrPrbIHsRklCf5L9\nwT0Sg6tEZI8HOA+8YaB05MBUaCDuBbZFr9vSWTKgIDCl0d38isInOKJRBs6A574r\n5RIDx1dC7MVYEFAEzaO2J8CMrTyIt3l1wJmxtpo=\n=FNJ/\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7d65e3372fc7e08fccd7babb3aa66351e0e9442d",
          "sha": "7d65e3372fc7e08fccd7babb3aa66351e0e9442d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7d65e3372fc7e08fccd7babb3aa66351e0e9442d"
        }
      ],
      "message": "make unstructured annex standard",
      "committer": {
        "name": "Joost Jager",
        "email": "joost.jager@gmail.com",
        "date": "2023-06-26T15:35:42Z"
      },
      "author": {
        "name": "Joost Jager",
        "email": "joost.jager@gmail.com",
        "date": "2023-06-02T13:42:52Z"
      },
      "sha": "e71f9399d2bee34679a85783431ca98639221293"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9640670737,
      "node_id": "HRFPE_lADOABII585pV-U7zwAAAAI-oPYR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9640670737",
      "actor": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "commit_url": "https://api.github.com/repos/joostjager/bitcoin/commits/e71f9399d2bee34679a85783431ca98639221293",
      "created_at": "2023-06-26T15:36:07Z"
    },
    {
      "event": "commented",
      "id": 1607734897,
      "node_id": "IC_kwDOABII585f1BZx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1607734897",
      "actor": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-26T15:36:23Z",
      "updated_at": "2023-06-26T15:36:23Z",
      "author_association": "NONE",
      "body": "Updated `feature_taproot.py` tests",
      "user": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#issuecomment-1607734897",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27926"
    },
    {
      "event": "unlabeled",
      "id": 9641443383,
      "node_id": "UNLE_lADOABII585pV-U7zwAAAAI-rMA3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9641443383",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-26T16:51:19Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1620650118,
      "node_id": "IC_kwDOABII585gmSiG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1620650118",
      "actor": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-04T19:34:00Z",
      "updated_at": "2023-07-04T20:20:30Z",
      "author_association": "CONTRIBUTOR",
      "body": "Left a new round of reviews, I think the following conceptual concerns are pending:\r\n- padding of the signaling byte to preserve evolvability for future consensus validation of the annex data\r\n- adding a `MAX_ANNEX_BUDGET` or not to mitigate potential CPU DoS concerns for full-nodes, and potential impact for fee-bumping reserves\r\n- opted-in of `annexrelay` for node operators\r\n- annex policy limits versioned on the transaction’s `nVersion` field\r\n- [\"all-or-nothing\" annex opted-in mechanism](https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-June/021778.html)\r\n\r\nI still have to reply on the latest mail post about standardizing the annex, which I’m aiming to do so. I think at that stage the proposal would benefit from an “applications\" BIP draft that would give one or two use-cases in detail, and therefore serves as technical tie-breaker for the conceptual concerns raised above.\r\n\r\nedited to add one concern from the mailing list",
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#issuecomment-1620650118",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27926"
    },
    {
      "event": "commented",
      "id": 1621228405,
      "node_id": "IC_kwDOABII585goft1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1621228405",
      "actor": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-05T07:53:03Z",
      "updated_at": "2023-07-05T07:53:03Z",
      "author_association": "NONE",
      "body": ">I think at that stage the proposal would benefit from an “applications\" BIP draft that would give one or two use-cases in detail, and therefore serves as technical tie-breaker for the conceptual concerns raised above.\r\n\r\nI agree that use cases can help guide the decision making in this PR. That's why I created the demo/explanation mentioned in the PR description: https://github.com/joostjager/annex-covenants.",
      "user": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#issuecomment-1621228405",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27926"
    },
    {
      "event": "commented",
      "id": 1647044629,
      "node_id": "IC_kwDOABII585iK-gV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1647044629",
      "actor": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-24T01:02:50Z",
      "updated_at": "2023-07-24T01:02:50Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I agree that use cases can help guide the decision making in this PR. That's why I created the demo/explanation mentioned in the PR description: https://github.com/joostjager/annex-covenants.\r\n\r\nI understand how the spend transaction can be re-built from the `annex-covenant` stateless tool, and on my side I can opine on the interest of using the chain as a reliable backup fro critical information enabling vaulted funds to be rebuilt, only from standard tools.\r\n\r\nI still have a concern on the economics of such a proposal as “archive” data like witness might be discarded by full-nodes, so if the scheme become generalized we might see this subset of validation data pruned by the majority of full-nodes, at the very least when it’s older than X. I think the incentives to store historical chain data for regular full-nodes are quite low, and one could argue a scheme could be introduced where this “unstructured data” must be re-paid for by a new spend every Y, therefore generating on-chain fees.\r\n\r\nI think “unstructured data” is still compelling to improve self-custody solutions like vaults, especially if we can have a future where all you need to backup is a least 12 words (and here mnemotechnic can be used if physical storage is a concern) and access to the chain data to safe-guard $$$ of satoshis value and standard tools like the PoC you built.\r\n\r\nYet I’m not sure this “reliable backup” advantage for advanced custody solutions (where the locking script is not composed only of standard scripts and keys e.g taproot script-path spend) is well-understood across the ecosystem, cf Dave Harding comment on the mailing list thread “don’t use the block chain to store backup data”.",
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#issuecomment-1647044629",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27926"
    },
    {
      "event": "commented",
      "id": 1673299204,
      "node_id": "IC_kwDOABII585jvIUE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1673299204",
      "actor": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-10T14:10:38Z",
      "updated_at": "2023-08-10T14:10:38Z",
      "author_association": "NONE",
      "body": "Clearly data backed up in this way isn't guaranteed forever and forever free. However, for specific users this might still represent the most feasible option available. At the very least chain backup can serve as a safety net in case a conventional backup that is fully under control of the user somehow gets lost or becomes inaccessible.",
      "user": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#issuecomment-1673299204",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27926"
    },
    {
      "event": "commented",
      "id": 1675665941,
      "node_id": "IC_kwDOABII585j4KIV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1675665941",
      "actor": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-12T03:55:21Z",
      "updated_at": "2023-08-12T03:55:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "Chain backup servicing as a safety net definitely is interesting for witness and chain of transactions state or scarce collectible, when the value of the coins locked or “digital items” is worth more than a range of block miners fees. At least in term of Bitcoin crypto-economics IMHO, the good equilibrium with full-nodes resources I don’t know.",
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#issuecomment-1675665941",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27926"
    },
    {
      "event": "commented",
      "id": 1675667304,
      "node_id": "IC_kwDOABII585j4Kdo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1675667304",
      "actor": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-12T03:59:10Z",
      "updated_at": "2023-08-12T03:59:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "@fanquake If you can reference this PR and this mailing list thread: https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2023-June/thread.html started by the author of this PR in #28130 as I think the conversation is capturing good technical insights in practical ways to improve data carriage and archiving in the Bitcoin ecosystem. I was thinking to do it in #28130 though you locked the PR before.",
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#issuecomment-1675667304",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27926"
    },
    {
      "event": "mentioned",
      "id": 10075439305,
      "node_id": "MEE_lADOABII585pV-U7zwAAAAJYiwDJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10075439305",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-12T03:59:10Z"
    },
    {
      "event": "subscribed",
      "id": 10075439307,
      "node_id": "SE_lADOABII585pV-U7zwAAAAJYiwDL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10075439307",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-12T03:59:10Z"
    },
    {
      "event": "labeled",
      "id": 10119769935,
      "node_id": "LE_lADOABII585pV-U7zwAAAAJbL29P",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10119769935",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-17T13:50:18Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1682324468,
      "node_id": "IC_kwDOABII585kRjv0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1682324468",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-17T13:50:19Z",
      "updated_at": "2023-08-17T13:50:19Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\n🐙 This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#issuecomment-1682324468",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27926"
    },
    {
      "event": "commented",
      "id": 1704076550,
      "node_id": "IC_kwDOABII585lkiUG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1704076550",
      "actor": {
        "login": "ChrisMartl",
        "id": 125733092,
        "node_id": "U_kgDOB36I5A",
        "avatar_url": "https://avatars.githubusercontent.com/u/125733092?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ChrisMartl",
        "html_url": "https://github.com/ChrisMartl",
        "followers_url": "https://api.github.com/users/ChrisMartl/followers",
        "following_url": "https://api.github.com/users/ChrisMartl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ChrisMartl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ChrisMartl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ChrisMartl/subscriptions",
        "organizations_url": "https://api.github.com/users/ChrisMartl/orgs",
        "repos_url": "https://api.github.com/users/ChrisMartl/repos",
        "events_url": "https://api.github.com/users/ChrisMartl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ChrisMartl/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-03T10:00:32Z",
      "updated_at": "2023-09-03T10:00:32Z",
      "author_association": "NONE",
      "body": "@joostjager \r\nCould you please provide an analysis statement, which effects or how this proposal could increment the exploit exposure for the Bitcoin system due to the loose flexibility of Bitcoin’s script (predicative processing)?\r\n\r\nBitcoin has this predicate issue (since genesis) and it is necessary to perform a risk analysis about this for every proposed change.",
      "user": {
        "login": "ChrisMartl",
        "id": 125733092,
        "node_id": "U_kgDOB36I5A",
        "avatar_url": "https://avatars.githubusercontent.com/u/125733092?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ChrisMartl",
        "html_url": "https://github.com/ChrisMartl",
        "followers_url": "https://api.github.com/users/ChrisMartl/followers",
        "following_url": "https://api.github.com/users/ChrisMartl/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ChrisMartl/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ChrisMartl/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ChrisMartl/subscriptions",
        "organizations_url": "https://api.github.com/users/ChrisMartl/orgs",
        "repos_url": "https://api.github.com/users/ChrisMartl/repos",
        "events_url": "https://api.github.com/users/ChrisMartl/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ChrisMartl/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#issuecomment-1704076550",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27926"
    },
    {
      "event": "mentioned",
      "id": 10265754905,
      "node_id": "MEE_lADOABII585pV-U7zwAAAAJj4v0Z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10265754905",
      "actor": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-03T10:00:32Z"
    },
    {
      "event": "subscribed",
      "id": 10265754913,
      "node_id": "SE_lADOABII585pV-U7zwAAAAJj4v0h",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10265754913",
      "actor": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-03T10:00:32Z"
    },
    {
      "event": "commented",
      "id": 1836982802,
      "node_id": "IC_kwDOABII585tfiIS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1836982802",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-02T01:32:58Z",
      "updated_at": "2023-12-02T01:32:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--13523179cfe9479db18ec6c5d236f789-->\nThere hasn't been much activity lately and the patch still needs rebase. What is the status here?\n\n* Is it still relevant? ➡️ Please solve the conflicts to make it ready for review and to ensure the CI passes.\n* Is it no longer relevant? ➡️ Please close.\n* Did the author lose interest or time to work on this? ➡️ Please close it and mark it 'Up for grabs' with the label, so that it can be picked up in the future.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#issuecomment-1836982802",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27926"
    },
    {
      "event": "commented",
      "id": 1972235536,
      "node_id": "IC_kwDOABII5851je0Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1972235536",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-01T00:44:58Z",
      "updated_at": "2024-03-01T00:44:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--13523179cfe9479db18ec6c5d236f789-->\n⌛ There hasn't been much activity lately and the patch still needs rebase. What is the status here?\n\n* Is it still relevant? ➡️ Please solve the conflicts to make it ready for review and to ensure the CI passes.\n* Is it no longer relevant? ➡️ Please close.\n* Did the author lose interest or time to work on this? ➡️ Please close it and mark it 'Up for grabs' with the label, so that it can be picked up in the future.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#issuecomment-1972235536",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27926"
    },
    {
      "event": "commented",
      "id": 1972633854,
      "node_id": "IC_kwDOABII5851lAD-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1972633854",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-01T07:14:48Z",
      "updated_at": "2024-03-01T07:14:48Z",
      "author_association": "MEMBER",
      "body": "Closing for now due to inactivity since August. Leave a comment below, if you are working on this again and want it reopened.",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#issuecomment-1972633854",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/27926"
    },
    {
      "event": "closed",
      "id": 11975523764,
      "node_id": "CE_lADOABII585pV-U7zwAAAALJy_20",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11975523764",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-01T07:14:48Z"
    },
    {
      "event": "locked",
      "id": 16521384825,
      "node_id": "LOE_lADOABII585pV-U7zwAAAAPYwFN5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16521384825",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-01T07:35:24Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1237001895",
      "pull_request_review_id": 1490742245,
      "id": 1237001895,
      "node_id": "PRRC_kwDOABII585Juyan",
      "diff_hunk": "@@ -289,6 +332,12 @@ bool IsWitnessStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n             }\n         }\n     }\n+\n+    // If any inputs commit to an annex, all inputs must commit to an annex.\n+    if (annex_input_count > 0 && tx.vin.size() != tx.vin.size()) {",
      "path": "src/policy/policy.cpp",
      "position": null,
      "original_position": 72,
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "original_commit_id": "0f67fca200136d8862267fe00dc04201211f7547",
      "in_reply_to_id": null,
      "user": {
        "login": "Crypt-iQ",
        "id": 15145615,
        "node_id": "MDQ6VXNlcjE1MTQ1NjE1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15145615?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Crypt-iQ",
        "html_url": "https://github.com/Crypt-iQ",
        "followers_url": "https://api.github.com/users/Crypt-iQ/followers",
        "following_url": "https://api.github.com/users/Crypt-iQ/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Crypt-iQ/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Crypt-iQ/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Crypt-iQ/subscriptions",
        "organizations_url": "https://api.github.com/users/Crypt-iQ/orgs",
        "repos_url": "https://api.github.com/users/Crypt-iQ/repos",
        "events_url": "https://api.github.com/users/Crypt-iQ/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Crypt-iQ/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "should this be `if (annex_input_count > 0 && tx.vin.size() != annex_input_count)`?",
      "created_at": "2023-06-21T13:26:18Z",
      "updated_at": "2023-06-21T13:26:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1237001895",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1237001895"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 337,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1237031249",
      "pull_request_review_id": 1490786953,
      "id": 1237031249,
      "node_id": "PRRC_kwDOABII585Ju5lR",
      "diff_hunk": "@@ -289,6 +332,12 @@ bool IsWitnessStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n             }\n         }\n     }\n+\n+    // If any inputs commit to an annex, all inputs must commit to an annex.\n+    if (annex_input_count > 0 && tx.vin.size() != tx.vin.size()) {",
      "path": "src/policy/policy.cpp",
      "position": null,
      "original_position": 72,
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "original_commit_id": "0f67fca200136d8862267fe00dc04201211f7547",
      "in_reply_to_id": 1237001895,
      "user": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "fixed",
      "created_at": "2023-06-21T13:46:30Z",
      "updated_at": "2023-06-21T13:46:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1237031249",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1237031249"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 337,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1241344893",
      "pull_request_review_id": 1497263042,
      "id": 1241344893,
      "node_id": "PRRC_kwDOABII585J_Wt9",
      "diff_hunk": "@@ -208,11 +208,45 @@ bool AreInputsStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n     return true;\n }\n \n+bool IsAnnexStandard(const std::vector<unsigned char>& annex)\n+{\n+    // Get the size of the annex excluding the tag byte.\n+    size_t annex_size = annex.size() - 1;\n+\n+    // Allow an empty annex. This allows inputs to opt-in to annex\n+    // usage with the minimal number of bytes.\n+    if (annex_size == 0) {\n+        return true;\n+    }\n+\n+    // Annexes are nonstandard as long as they don't start with a\n+    // 0x00 byte which signals unstructured data.\n+    if (annex[1] != 0) {\n+        return false;\n+    }\n+\n+    // Calculate the size of the unstructured data by subtracting\n+    // one for the 0x00 signaling byte.\n+    size_t unstructured_annex_size = annex_size - 1;",
      "path": "src/policy/policy.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "original_commit_id": "b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "in_reply_to_id": null,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think here we might prefer to _not_ discount the 0x00 signaling byte from the 265 byte anti-annex-inflation-attacks limit, otherwise it sounds to me we’re introducing a coupling effect between the max witness size one can sign for and the tag signaling byte format itself. Such tag signaling byte format might acquire consensus semantic in the future, and I think we would prefer to reserve the evolvability in function of consensus changes here.",
      "created_at": "2023-06-26T00:29:56Z",
      "updated_at": "2023-06-26T01:17:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1241344893",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1241344893"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 230,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1241352665",
      "pull_request_review_id": 1497263042,
      "id": 1241352665,
      "node_id": "PRRC_kwDOABII585J_YnZ",
      "diff_hunk": "@@ -208,11 +208,45 @@ bool AreInputsStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n     return true;\n }\n \n+bool IsAnnexStandard(const std::vector<unsigned char>& annex)\n+{\n+    // Get the size of the annex excluding the tag byte.\n+    size_t annex_size = annex.size() - 1;\n+\n+    // Allow an empty annex. This allows inputs to opt-in to annex\n+    // usage with the minimal number of bytes.\n+    if (annex_size == 0) {\n+        return true;\n+    }\n+\n+    // Annexes are nonstandard as long as they don't start with a\n+    // 0x00 byte which signals unstructured data.\n+    if (annex[1] != 0) {\n+        return false;\n+    }\n+\n+    // Calculate the size of the unstructured data by subtracting\n+    // one for the 0x00 signaling byte.\n+    size_t unstructured_annex_size = annex_size - 1;\n+\n+    // Unstructured annexes are nonstandard if they are larger than\n+    // 256 bytes. This limits the potential of annex inflation\n+    // attacks.\n+    if (unstructured_annex_size > 256) {",
      "path": "src/policy/policy.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "original_commit_id": "b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "in_reply_to_id": null,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think we can constify the value, e.g `PER_INPUT_MAX_ANNEX_SIZE`, generally this is unclear if we would like a per-input annex limit and a max transaction all annexes limits, e.g `MAX_ANNEX_BUDGET`.\r\n\r\nSplitting the limit enables flow where inputs can be combined in a non-deterministic order, e.g BIP174’s [combiner](https://github.com/bitcoin/bips/blob/master/bip-0174.mediawiki#combiner), and reject in function of “witness weight slots” that can be distributed by such combiner, which makes sense to coordinate flows between hardware signers.",
      "created_at": "2023-06-26T00:51:48Z",
      "updated_at": "2023-06-26T01:17:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1241352665",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1241352665"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 235,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1241353751",
      "pull_request_review_id": 1497263042,
      "id": 1241353751,
      "node_id": "PRRC_kwDOABII585J_Y4X",
      "diff_hunk": "@@ -266,8 +300,17 @@ bool IsWitnessStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n             // Taproot spend (non-P2SH-wrapped, version 1, witness program size 32; see BIP 341)\n             Span stack{tx.vin[i].scriptWitness.stack};\n             if (stack.size() >= 2 && !stack.back().empty() && stack.back()[0] == ANNEX_TAG) {\n-                // Annexes are nonstandard as long as no semantics are defined for them.\n-                return false;\n+                // An annex is present. Remove it from the stack and save it for\n+                // standardness checks.\n+                const auto& annex = SpanPopBack(stack);\n+\n+                // Check that the annex is standard.\n+                if (!IsAnnexStandard(annex)) {",
      "path": "src/policy/policy.cpp",
      "position": 53,
      "original_position": 57,
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "original_commit_id": "b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "in_reply_to_id": null,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think it makes sense to have a `annexrelay` option in `src/init.cpp` with `DEFAULT_ANNEXRELAY_ENABLE=false`, therefore to have node operators running nodes on performance-constrained hosts to opt-out from DoS concerns arising from the processing of the annex itself.",
      "created_at": "2023-06-26T00:55:53Z",
      "updated_at": "2023-06-26T01:17:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1241353751",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1241353751"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 304,
      "original_line": 304,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1241355849",
      "pull_request_review_id": 1497263042,
      "id": 1241355849,
      "node_id": "PRRC_kwDOABII585J_ZZJ",
      "diff_hunk": "@@ -289,6 +332,12 @@ bool IsWitnessStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n             }\n         }\n     }\n+\n+    // If any inputs commit to an annex, all inputs must commit to an annex.\n+    if (annex_input_count > 0 && annex_input_count != tx.vin.size()) {",
      "path": "src/policy/policy.cpp",
      "position": 68,
      "original_position": 72,
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "original_commit_id": "b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "in_reply_to_id": null,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Should we introduce a limit on the number of inputs supported in a transaction opted-in annex ? To make it easier to reason on worst-case scenario from a second-layer perspective in case of multi-party flow e.g dual-funding. This number of inputs could be tied to the transaction’s `nVersion` field. ",
      "created_at": "2023-06-26T01:02:49Z",
      "updated_at": "2023-06-26T01:17:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1241355849",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1241355849"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 333,
      "original_line": 333,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1241358413",
      "pull_request_review_id": 1497263042,
      "id": 1241358413,
      "node_id": "PRRC_kwDOABII585J_aBN",
      "diff_hunk": "@@ -208,11 +208,45 @@ bool AreInputsStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n     return true;\n }\n \n+bool IsAnnexStandard(const std::vector<unsigned char>& annex)",
      "path": "src/policy/policy.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "original_commit_id": "b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "in_reply_to_id": null,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "If we can move the annex policy-only code in its own `src/policy/annex` like we have at the image of `src/policy/packages.h` for code modularity. I think in the discussion of [#1381](https://github.com/bitcoin/bips/pull/1381) there has been question to reuse the annex in the future for [Grafroot](https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-February/015700.html). ",
      "created_at": "2023-06-26T01:07:50Z",
      "updated_at": "2023-06-26T01:17:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1241358413",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1241358413"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 211,
      "original_line": 211,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1241919261",
      "pull_request_review_id": 1498106296,
      "id": 1241919261,
      "node_id": "PRRC_kwDOABII585KBi8d",
      "diff_hunk": "@@ -208,11 +208,45 @@ bool AreInputsStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n     return true;\n }\n \n+bool IsAnnexStandard(const std::vector<unsigned char>& annex)\n+{\n+    // Get the size of the annex excluding the tag byte.\n+    size_t annex_size = annex.size() - 1;\n+\n+    // Allow an empty annex. This allows inputs to opt-in to annex\n+    // usage with the minimal number of bytes.\n+    if (annex_size == 0) {\n+        return true;\n+    }\n+\n+    // Annexes are nonstandard as long as they don't start with a\n+    // 0x00 byte which signals unstructured data.\n+    if (annex[1] != 0) {\n+        return false;\n+    }\n+\n+    // Calculate the size of the unstructured data by subtracting\n+    // one for the 0x00 signaling byte.\n+    size_t unstructured_annex_size = annex_size - 1;",
      "path": "src/policy/policy.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "original_commit_id": "b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "in_reply_to_id": 1241344893,
      "user": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "My thought was that it might be good to choose a number of actually useable bytes that is a multiple of a commonly used data structure sizes such as 32 bytes. Therefore 256. It is an arbitrary number though that it supposed to strike a balance between the limiting the potency of annex inflation attacks and having enough space to make the annex useful. \r\n\r\nAre you proposing to limit the annex size including any tags to 257 bytes? I see the conceptual difference, but there wouldn't be a functional difference for now?",
      "created_at": "2023-06-26T09:46:57Z",
      "updated_at": "2023-06-26T09:46:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1241919261",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1241919261"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 230,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1241927265",
      "pull_request_review_id": 1498115358,
      "id": 1241927265,
      "node_id": "PRRC_kwDOABII585KBk5h",
      "diff_hunk": "@@ -208,11 +208,45 @@ bool AreInputsStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n     return true;\n }\n \n+bool IsAnnexStandard(const std::vector<unsigned char>& annex)\n+{\n+    // Get the size of the annex excluding the tag byte.\n+    size_t annex_size = annex.size() - 1;\n+\n+    // Allow an empty annex. This allows inputs to opt-in to annex\n+    // usage with the minimal number of bytes.\n+    if (annex_size == 0) {\n+        return true;\n+    }\n+\n+    // Annexes are nonstandard as long as they don't start with a\n+    // 0x00 byte which signals unstructured data.\n+    if (annex[1] != 0) {\n+        return false;\n+    }\n+\n+    // Calculate the size of the unstructured data by subtracting\n+    // one for the 0x00 signaling byte.\n+    size_t unstructured_annex_size = annex_size - 1;",
      "path": "src/policy/policy.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "original_commit_id": "b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "in_reply_to_id": 1241344893,
      "user": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "With the constant defined as suggested below, this suggestion does seem to make reading easier. Changed.",
      "created_at": "2023-06-26T09:51:59Z",
      "updated_at": "2023-06-26T09:52:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1241927265",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1241927265"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 230,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1241936380",
      "pull_request_review_id": 1498126768,
      "id": 1241936380,
      "node_id": "PRRC_kwDOABII585KBnH8",
      "diff_hunk": "@@ -208,11 +208,45 @@ bool AreInputsStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n     return true;\n }\n \n+bool IsAnnexStandard(const std::vector<unsigned char>& annex)\n+{\n+    // Get the size of the annex excluding the tag byte.\n+    size_t annex_size = annex.size() - 1;\n+\n+    // Allow an empty annex. This allows inputs to opt-in to annex\n+    // usage with the minimal number of bytes.\n+    if (annex_size == 0) {\n+        return true;\n+    }\n+\n+    // Annexes are nonstandard as long as they don't start with a\n+    // 0x00 byte which signals unstructured data.\n+    if (annex[1] != 0) {\n+        return false;\n+    }\n+\n+    // Calculate the size of the unstructured data by subtracting\n+    // one for the 0x00 signaling byte.\n+    size_t unstructured_annex_size = annex_size - 1;\n+\n+    // Unstructured annexes are nonstandard if they are larger than\n+    // 256 bytes. This limits the potential of annex inflation\n+    // attacks.\n+    if (unstructured_annex_size > 256) {",
      "path": "src/policy/policy.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "original_commit_id": "b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "in_reply_to_id": 1241352665,
      "user": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Added `MAX_PER_INPUT_ANNEX_SIZE`.\r\n\r\nNot sure if a per tx maximum is necessary. I'd say that opting in to annex usage has some risks to be aware of. Maybe you don't want to use it for multi-party protocols at all because of that. To me, `MAX_PER_INPUT_ANNEX_SIZE` is already debatable when you have opt-in, and `MAX_ANNEX_BUDGET` feels even more like an unnecessary precaution. In the end, this is all policy anyway and not a real protection against tx outside of these boundaries appearing.",
      "created_at": "2023-06-26T09:58:02Z",
      "updated_at": "2023-06-26T09:58:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1241936380",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1241936380"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 235,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1241938735",
      "pull_request_review_id": 1498130444,
      "id": 1241938735,
      "node_id": "PRRC_kwDOABII585KBnsv",
      "diff_hunk": "@@ -266,8 +300,17 @@ bool IsWitnessStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n             // Taproot spend (non-P2SH-wrapped, version 1, witness program size 32; see BIP 341)\n             Span stack{tx.vin[i].scriptWitness.stack};\n             if (stack.size() >= 2 && !stack.back().empty() && stack.back()[0] == ANNEX_TAG) {\n-                // Annexes are nonstandard as long as no semantics are defined for them.\n-                return false;\n+                // An annex is present. Remove it from the stack and save it for\n+                // standardness checks.\n+                const auto& annex = SpanPopBack(stack);\n+\n+                // Check that the annex is standard.\n+                if (!IsAnnexStandard(annex)) {",
      "path": "src/policy/policy.cpp",
      "position": 53,
      "original_position": 57,
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "original_commit_id": "b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "in_reply_to_id": 1241353751,
      "user": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Which DoS concerns are you referring to? Since #24007 hasn't landed yet, the tx can only be accepted once?",
      "created_at": "2023-06-26T09:59:59Z",
      "updated_at": "2023-06-26T10:00:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1241938735",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1241938735"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 304,
      "original_line": 304,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1241941706",
      "pull_request_review_id": 1498135191,
      "id": 1241941706,
      "node_id": "PRRC_kwDOABII585KBobK",
      "diff_hunk": "@@ -289,6 +332,12 @@ bool IsWitnessStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n             }\n         }\n     }\n+\n+    // If any inputs commit to an annex, all inputs must commit to an annex.\n+    if (annex_input_count > 0 && annex_input_count != tx.vin.size()) {",
      "path": "src/policy/policy.cpp",
      "position": 68,
      "original_position": 72,
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "original_commit_id": "b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "in_reply_to_id": 1241355849,
      "user": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "My answer here would be the same as in https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1241936380. I think you can argue that opt-in is enough protection and multi-party flows with annexes may not be a good idea. Especially if there are no concrete plans for multi-party protocols that require the unique properties of the annex.",
      "created_at": "2023-06-26T10:02:40Z",
      "updated_at": "2023-06-26T10:02:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1241941706",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1241941706"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 333,
      "original_line": 333,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1241944433",
      "pull_request_review_id": 1498139446,
      "id": 1241944433,
      "node_id": "PRRC_kwDOABII585KBpFx",
      "diff_hunk": "@@ -208,11 +208,45 @@ bool AreInputsStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n     return true;\n }\n \n+bool IsAnnexStandard(const std::vector<unsigned char>& annex)",
      "path": "src/policy/policy.cpp",
      "position": 4,
      "original_position": 4,
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "original_commit_id": "b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "in_reply_to_id": 1241358413,
      "user": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Happy to do it if others agree that the current annex check isn't too minimal for its own file.",
      "created_at": "2023-06-26T10:04:49Z",
      "updated_at": "2023-06-26T10:04:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1241944433",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1241944433"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 211,
      "original_line": 211,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1252291878",
      "pull_request_review_id": 1513302409,
      "id": 1252291878,
      "node_id": "PRRC_kwDOABII585KpHUm",
      "diff_hunk": "@@ -208,11 +208,45 @@ bool AreInputsStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n     return true;\n }\n \n+bool IsAnnexStandard(const std::vector<unsigned char>& annex)\n+{\n+    // Get the size of the annex excluding the tag byte.\n+    size_t annex_size = annex.size() - 1;\n+\n+    // Allow an empty annex. This allows inputs to opt-in to annex\n+    // usage with the minimal number of bytes.\n+    if (annex_size == 0) {\n+        return true;\n+    }\n+\n+    // Annexes are nonstandard as long as they don't start with a\n+    // 0x00 byte which signals unstructured data.\n+    if (annex[1] != 0) {\n+        return false;\n+    }\n+\n+    // Calculate the size of the unstructured data by subtracting\n+    // one for the 0x00 signaling byte.\n+    size_t unstructured_annex_size = annex_size - 1;",
      "path": "src/policy/policy.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "original_commit_id": "b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "in_reply_to_id": 1241344893,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> Are you proposing to limit the annex size including any tags to 257 bytes? I see the conceptual difference, but there wouldn't be a functional difference for now?\r\n\r\nYes, for now it doesn’t make a functional difference. The issue I have in mind is the following, assuming the unstructured annex format is deployed and we see applications building on top of it, the 256 (or 257 now) annex size limit will have to become a max-size data payload, which is going to leak in the all application toolchains (in the same sense than TCP’s 64k bytes max frame is often used as the limit for application transport design).\r\n\r\nAs of today, the signaling byte size is of 1 byte, however if in the future we have a consensus definition of the tag being  _more_ than 1 byte, we might have to swallow the 255 bytes reserved for the application data-payload. Not swallowing on the 255 bytes would mean the consensus-aware application will have to pay the witness cost for the 0x00 signaling byte and this byte will have to be discarded by parsing logic.\r\n\r\nSo if those observations are correct, I think the constant could have some safety margin padding for changes of the “structured/unstructured guard” signaling byte size. One can think 256 byte reserved for application-data + 32 byte of padding, from which this 1st byte of padding will be the current `0x00` one ? And I think that way we can guarantee to the application a multiple of a 32-byte based data structure.",
      "created_at": "2023-07-04T18:58:09Z",
      "updated_at": "2023-07-04T18:58:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1252291878",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1252291878"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 230,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1252299556",
      "pull_request_review_id": 1513312844,
      "id": 1252299556,
      "node_id": "PRRC_kwDOABII585KpJMk",
      "diff_hunk": "@@ -208,11 +208,45 @@ bool AreInputsStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n     return true;\n }\n \n+bool IsAnnexStandard(const std::vector<unsigned char>& annex)\n+{\n+    // Get the size of the annex excluding the tag byte.\n+    size_t annex_size = annex.size() - 1;\n+\n+    // Allow an empty annex. This allows inputs to opt-in to annex\n+    // usage with the minimal number of bytes.\n+    if (annex_size == 0) {\n+        return true;\n+    }\n+\n+    // Annexes are nonstandard as long as they don't start with a\n+    // 0x00 byte which signals unstructured data.\n+    if (annex[1] != 0) {\n+        return false;\n+    }\n+\n+    // Calculate the size of the unstructured data by subtracting\n+    // one for the 0x00 signaling byte.\n+    size_t unstructured_annex_size = annex_size - 1;\n+\n+    // Unstructured annexes are nonstandard if they are larger than\n+    // 256 bytes. This limits the potential of annex inflation\n+    // attacks.\n+    if (unstructured_annex_size > 256) {",
      "path": "src/policy/policy.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "original_commit_id": "b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "in_reply_to_id": 1241352665,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> Maybe you don't want to use it for multi-party protocols at all because of that.\r\n\r\nI think that’s a good question, there is an annex inflation risk concerning the multi-party protocol users and there is a new CPU DoS risk that is faced by node operators due to the increased in annex data size. I think this CPU DoS risk is coming from the fact that with BIP341, there is a `sha_annex` in the transaction digest if the annex is present and therefore you have a new SHA-256 ops and data bytes to hash that have to get done by the nodes.\r\n\r\nI don’t think this CPU DoS risk, if correct, is that much an increase in DoS surface, though a `MAX_ANNEX_BUDGET` can be a good conservative “belt-and-suspender” DoS limits, like we have a lot in Bitcoin Core.\r\n\r\n>  In the end, this is all policy anyway and not a real protection against tx outside of these boundaries appearing.\r\n\r\nYes if you’re considering the risk faced by multi-party protocol users, policy is a shallow protection for transaction appearing outside those boundaries by being directly relayed to the miners. However, if you’re considering the CPU DoS protection for node operators this is a _real_ protection, especially in a world where you might have a lot of hobbyist nodes running on resources-constraint hosts.",
      "created_at": "2023-07-04T19:15:55Z",
      "updated_at": "2023-07-04T19:15:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1252299556",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1252299556"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 235,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1252300001",
      "pull_request_review_id": 1513313477,
      "id": 1252300001,
      "node_id": "PRRC_kwDOABII585KpJTh",
      "diff_hunk": "@@ -266,8 +300,17 @@ bool IsWitnessStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n             // Taproot spend (non-P2SH-wrapped, version 1, witness program size 32; see BIP 341)\n             Span stack{tx.vin[i].scriptWitness.stack};\n             if (stack.size() >= 2 && !stack.back().empty() && stack.back()[0] == ANNEX_TAG) {\n-                // Annexes are nonstandard as long as no semantics are defined for them.\n-                return false;\n+                // An annex is present. Remove it from the stack and save it for\n+                // standardness checks.\n+                const auto& annex = SpanPopBack(stack);\n+\n+                // Check that the annex is standard.\n+                if (!IsAnnexStandard(annex)) {",
      "path": "src/policy/policy.cpp",
      "position": 53,
      "original_position": 57,
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "original_commit_id": "b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "in_reply_to_id": 1241353751,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "See the CPU DoS concerned mentioned above about BIP341’s `sha_annex`, if annexes start to be relayed.",
      "created_at": "2023-07-04T19:17:08Z",
      "updated_at": "2023-07-04T19:17:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1252300001",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1252300001"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 304,
      "original_line": 304,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1252303541",
      "pull_request_review_id": 1513318960,
      "id": 1252303541,
      "node_id": "PRRC_kwDOABII585KpKK1",
      "diff_hunk": "@@ -289,6 +332,12 @@ bool IsWitnessStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n             }\n         }\n     }\n+\n+    // If any inputs commit to an annex, all inputs must commit to an annex.\n+    if (annex_input_count > 0 && annex_input_count != tx.vin.size()) {",
      "path": "src/policy/policy.cpp",
      "position": 68,
      "original_position": 72,
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "original_commit_id": "b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "in_reply_to_id": 1241355849,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> Especially if there are no concrete plans for multi-party protocols that require the unique properties of the annex.\r\n\r\nIf you’re taking the use-case of unstructured data discussed on the mailing list, I think there is still a leak in term of fee-bumping reserves than a user must provision for, in case of the worst annex inflation attacks being done, under known limits of `PER_INPUT_MAX_ANNEX_SIZE` (and eventual `MAX_ANNEX_BUDGET`).\r\n\r\nOf course, as you’re raising you can always have an adversarial transaction being broadcast directly to the mining pools mempools, though in a world where miners select the block template (i.e more with Stratum V2 deployment), this is a high technical bar for an annex inflation adversary. So the “default” policy limit on the max annex size is far from second-order considerations on the level of fee-bumping reserves than one must maintained to prevent timevalue DoS.\r\n\r\n(I don’t deny this is quite a sophisticated discussion to encompass the impact on fee-bumping reserves, still the kind of realistic threat model we’re considering for LN today).",
      "created_at": "2023-07-04T19:26:12Z",
      "updated_at": "2023-07-04T19:26:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1252303541",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1252303541"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 333,
      "original_line": 333,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1252663074",
      "pull_request_review_id": 1513842677,
      "id": 1252663074,
      "node_id": "PRRC_kwDOABII585Kqh8i",
      "diff_hunk": "@@ -208,11 +208,45 @@ bool AreInputsStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n     return true;\n }\n \n+bool IsAnnexStandard(const std::vector<unsigned char>& annex)\n+{\n+    // Get the size of the annex excluding the tag byte.\n+    size_t annex_size = annex.size() - 1;\n+\n+    // Allow an empty annex. This allows inputs to opt-in to annex\n+    // usage with the minimal number of bytes.\n+    if (annex_size == 0) {\n+        return true;\n+    }\n+\n+    // Annexes are nonstandard as long as they don't start with a\n+    // 0x00 byte which signals unstructured data.\n+    if (annex[1] != 0) {\n+        return false;\n+    }\n+\n+    // Calculate the size of the unstructured data by subtracting\n+    // one for the 0x00 signaling byte.\n+    size_t unstructured_annex_size = annex_size - 1;",
      "path": "src/policy/policy.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "original_commit_id": "b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "in_reply_to_id": 1241344893,
      "user": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I am not sure if I fully get what you mean. Can you give a concrete example of a future extended format that might interfere with the 0x00 + unstructured proposal? My thought was to simply reserve all non-0x00 first bytes for future use.\r\n\r\nWhen adding 32 bytes of padding, do you mean that initially (in a world with only unstructured annex data), 31 of those bytes are wasted but paid for?",
      "created_at": "2023-07-05T07:25:05Z",
      "updated_at": "2023-07-05T07:25:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1252663074",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1252663074"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 230,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1252685430",
      "pull_request_review_id": 1513871704,
      "id": 1252685430,
      "node_id": "PRRC_kwDOABII585KqnZ2",
      "diff_hunk": "@@ -208,11 +208,45 @@ bool AreInputsStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n     return true;\n }\n \n+bool IsAnnexStandard(const std::vector<unsigned char>& annex)\n+{\n+    // Get the size of the annex excluding the tag byte.\n+    size_t annex_size = annex.size() - 1;\n+\n+    // Allow an empty annex. This allows inputs to opt-in to annex\n+    // usage with the minimal number of bytes.\n+    if (annex_size == 0) {\n+        return true;\n+    }\n+\n+    // Annexes are nonstandard as long as they don't start with a\n+    // 0x00 byte which signals unstructured data.\n+    if (annex[1] != 0) {\n+        return false;\n+    }\n+\n+    // Calculate the size of the unstructured data by subtracting\n+    // one for the 0x00 signaling byte.\n+    size_t unstructured_annex_size = annex_size - 1;\n+\n+    // Unstructured annexes are nonstandard if they are larger than\n+    // 256 bytes. This limits the potential of annex inflation\n+    // attacks.\n+    if (unstructured_annex_size > 256) {",
      "path": "src/policy/policy.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "original_commit_id": "b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "in_reply_to_id": 1241352665,
      "user": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": ">I don’t think this CPU DoS risk, if correct, is that much an increase in DoS surface, though a MAX_ANNEX_BUDGET can be a good conservative “belt-and-suspender” DoS limits, like we have a lot in Bitcoin Core.\r\n\r\nIf it isn't that much of an increase, is it worth adding extra code for it? More code, more things to go wrong. In the end, they are also paying for this tx in sats and the computation cost only increases linearly with the number of inputs.",
      "created_at": "2023-07-05T07:39:27Z",
      "updated_at": "2023-07-05T07:39:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1252685430",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1252685430"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 235,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1252689789",
      "pull_request_review_id": 1513878200,
      "id": 1252689789,
      "node_id": "PRRC_kwDOABII585Kqod9",
      "diff_hunk": "@@ -266,8 +300,17 @@ bool IsWitnessStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n             // Taproot spend (non-P2SH-wrapped, version 1, witness program size 32; see BIP 341)\n             Span stack{tx.vin[i].scriptWitness.stack};\n             if (stack.size() >= 2 && !stack.back().empty() && stack.back()[0] == ANNEX_TAG) {\n-                // Annexes are nonstandard as long as no semantics are defined for them.\n-                return false;\n+                // An annex is present. Remove it from the stack and save it for\n+                // standardness checks.\n+                const auto& annex = SpanPopBack(stack);\n+\n+                // Check that the annex is standard.\n+                if (!IsAnnexStandard(annex)) {",
      "path": "src/policy/policy.cpp",
      "position": 53,
      "original_position": 57,
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "original_commit_id": "b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "in_reply_to_id": 1241353751,
      "user": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Yes, that's clear now. Thanks.\r\n\r\nSame as with `MAX_ANNEX_BUDGET`, my feeling is that this safeguard isn't necessary because the extra cost is only linear and paid for.",
      "created_at": "2023-07-05T07:43:23Z",
      "updated_at": "2023-07-05T07:43:23Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1252689789",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1252689789"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 304,
      "original_line": 304,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1252693892",
      "pull_request_review_id": 1513884266,
      "id": 1252693892,
      "node_id": "PRRC_kwDOABII585KqpeE",
      "diff_hunk": "@@ -289,6 +332,12 @@ bool IsWitnessStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n             }\n         }\n     }\n+\n+    // If any inputs commit to an annex, all inputs must commit to an annex.\n+    if (annex_input_count > 0 && annex_input_count != tx.vin.size()) {",
      "path": "src/policy/policy.cpp",
      "position": 68,
      "original_position": 72,
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "original_commit_id": "b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "in_reply_to_id": 1241355849,
      "user": {
        "login": "joostjager",
        "id": 4638168,
        "node_id": "MDQ6VXNlcjQ2MzgxNjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4638168?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joostjager",
        "html_url": "https://github.com/joostjager",
        "followers_url": "https://api.github.com/users/joostjager/followers",
        "following_url": "https://api.github.com/users/joostjager/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/joostjager/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/joostjager/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/joostjager/subscriptions",
        "organizations_url": "https://api.github.com/users/joostjager/orgs",
        "repos_url": "https://api.github.com/users/joostjager/repos",
        "events_url": "https://api.github.com/users/joostjager/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/joostjager/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": ">If you’re taking the use-case of unstructured data discussed on the mailing list\r\n\r\nWhich one do you refer to exactly, the timelocked vaults using presigned txes? For that there is only a single party, so the inflation attack doesn't apply?",
      "created_at": "2023-07-05T07:46:57Z",
      "updated_at": "2023-07-05T07:46:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1252693892",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1252693892"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 333,
      "original_line": 333,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1271603144",
      "pull_request_review_id": 1542455139,
      "id": 1271603144,
      "node_id": "PRRC_kwDOABII585Lyx_I",
      "diff_hunk": "@@ -208,11 +208,45 @@ bool AreInputsStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n     return true;\n }\n \n+bool IsAnnexStandard(const std::vector<unsigned char>& annex)\n+{\n+    // Get the size of the annex excluding the tag byte.\n+    size_t annex_size = annex.size() - 1;\n+\n+    // Allow an empty annex. This allows inputs to opt-in to annex\n+    // usage with the minimal number of bytes.\n+    if (annex_size == 0) {\n+        return true;\n+    }\n+\n+    // Annexes are nonstandard as long as they don't start with a\n+    // 0x00 byte which signals unstructured data.\n+    if (annex[1] != 0) {\n+        return false;\n+    }\n+\n+    // Calculate the size of the unstructured data by subtracting\n+    // one for the 0x00 signaling byte.\n+    size_t unstructured_annex_size = annex_size - 1;",
      "path": "src/policy/policy.cpp",
      "position": null,
      "original_position": 23,
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "original_commit_id": "b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "in_reply_to_id": 1241344893,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> Can you give a concrete example of a future extended format that might interfere with the 0x00 + unstructured proposal? \r\n\r\nSure any future serialization format where the semantic “tag” is encoded on more than 8-bit to allow more than 256 types of payload without having to picked up which are the “most-used” 256 one when the consensus change. This is actually the serialization format on which the TLV proposal of the annex (with some other discussed tweaks for the length), see comment above `VarIntMode` in `src/serialize.h`.\r\n\r\nFrom my understanding, if we’re following your approach where non-`0x00` first bytes are reserved for future use, and let’s say `0x01` is for TLV semantic of the annex field, it means _all_ the annex payload with consensus enforcement will have to pay the feerate cost of the 1 byte marker (either `0x00` or `0x01`).\r\n\r\nSo I’m thinking the advantage of multi-bytes padding we reserve a quantitatively significant number of bytes for the eventual adoption of a multi-bytes serialization format. This comes at the burden of unstructured data having to pay for the cost of the _reserve byte padding_ *toda* while making *tomorrow* potential consensus enforced annex payload cheaper, I think.\r\n\r\nOf course 32-byte might be considered to high a _reserve byte padding_ to make the usage of the annex attractive for unstructured data applications. Yet the question we might have to answer is how much consensus “tag” we might need to preserve for now, let’s say in the future we have an automated consensus mechanism where people can “burn” satoshis / coins to assign an identifier to an annex tag (weird use-cases that has been proposed in the early days of Bitcoin for namespaces experiment iirc). I don’t know the answer to this “how much tag\" question.",
      "created_at": "2023-07-24T00:26:08Z",
      "updated_at": "2023-07-24T00:26:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1271603144",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1271603144"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 230,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1271606493",
      "pull_request_review_id": 1542460181,
      "id": 1271606493,
      "node_id": "PRRC_kwDOABII585Lyyzd",
      "diff_hunk": "@@ -208,11 +208,45 @@ bool AreInputsStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n     return true;\n }\n \n+bool IsAnnexStandard(const std::vector<unsigned char>& annex)\n+{\n+    // Get the size of the annex excluding the tag byte.\n+    size_t annex_size = annex.size() - 1;\n+\n+    // Allow an empty annex. This allows inputs to opt-in to annex\n+    // usage with the minimal number of bytes.\n+    if (annex_size == 0) {\n+        return true;\n+    }\n+\n+    // Annexes are nonstandard as long as they don't start with a\n+    // 0x00 byte which signals unstructured data.\n+    if (annex[1] != 0) {\n+        return false;\n+    }\n+\n+    // Calculate the size of the unstructured data by subtracting\n+    // one for the 0x00 signaling byte.\n+    size_t unstructured_annex_size = annex_size - 1;\n+\n+    // Unstructured annexes are nonstandard if they are larger than\n+    // 256 bytes. This limits the potential of annex inflation\n+    // attacks.\n+    if (unstructured_annex_size > 256) {",
      "path": "src/policy/policy.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "original_commit_id": "b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "in_reply_to_id": 1241352665,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> If it isn't that much of an increase, is it worth adding extra code for it?\r\n\r\nFrom my experience of DoS discussion on the Core-side, even if we’re able to come with sound evaluation of the worst-case inputs payload one might submit during a time period, the host performance are always an unknown as you have low perf Umbrel and Raspy, and somehow preserving their processing capabilities has always been pursued during Bitcoin Core development for technical decentralization purpose, from my understanding.\r\n\r\nThere was a lot of dumb DoS vectors in the early days of Bitcoin Core, see https://en.bitcoin.it/wiki/Common_Vulnerabilities_and_Exposures. The codebase has still a reasonable number of conservative belt-and-suspender policy checks. Even if you’re paying for this DoSy malicious input in term of fees, they might inflict more damages than the attacker cost (e.g knocking-out nodes during a fork deployment).",
      "created_at": "2023-07-24T00:31:53Z",
      "updated_at": "2023-07-24T00:31:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1271606493",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1271606493"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 235,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1271609885",
      "pull_request_review_id": 1542464737,
      "id": 1271609885,
      "node_id": "PRRC_kwDOABII585Lyzod",
      "diff_hunk": "@@ -289,6 +332,12 @@ bool IsWitnessStandard(const CTransaction& tx, const CCoinsViewCache& mapInputs)\n             }\n         }\n     }\n+\n+    // If any inputs commit to an annex, all inputs must commit to an annex.\n+    if (annex_input_count > 0 && annex_input_count != tx.vin.size()) {",
      "path": "src/policy/policy.cpp",
      "position": 68,
      "original_position": 72,
      "commit_id": "e71f9399d2bee34679a85783431ca98639221293",
      "original_commit_id": "b4421da7c7b07f9d2ec4c119b57bb9e3f06ddc72",
      "in_reply_to_id": 1241355849,
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "For the timelocked vaults, yes there is a single party using presigned txes so it shouldn’t apply. For the other use-case e.g anchoring symbolic data in the chain, I think you might have multiple parties contributing to the transaction, though I’m less knowledgeable about those use-cases to be honest.\r\n\r\nIf there is the current annex deployment is not targeted for multi-party protocols, yes we don’t have discuss of the impact of annex DoS on fee-bumping reserve.",
      "created_at": "2023-07-24T00:37:32Z",
      "updated_at": "2023-07-24T00:37:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/27926#discussion_r1271609885",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1271609885"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/27926"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 333,
      "original_line": 333,
      "side": "RIGHT"
    }
  ]
}