{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560",
    "id": 1538337890,
    "node_id": "PR_kwDOABII585bsSxi",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/28560",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/28560.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/28560.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28560",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28560/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
    "number": 28560,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "wallet, rpc: `FundTransaction` refactor",
    "user": {
      "login": "josibake",
      "id": 7444140,
      "node_id": "MDQ6VXNlcjc0NDQxNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/josibake",
      "html_url": "https://github.com/josibake",
      "followers_url": "https://api.github.com/users/josibake/followers",
      "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
      "organizations_url": "https://api.github.com/users/josibake/orgs",
      "repos_url": "https://api.github.com/users/josibake/repos",
      "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/josibake/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "## Motivation\r\n\r\nThe primary motivation for this PR is to enable `FundTransaction` to take a vector of `CRecipient` objects to allow passing BIP352 silent payment addresses to RPCs that use `FundTransaction` (e.g. `send`, `walletcreatefundedpsbt`). To do that, SFFO logic needs to be moved out of `FundTransaction` so the `CRecipient` objects with the correct SFFO information can be created and then passed to `FundTransaction`.\r\n\r\nAs a secondary motivation, this PR moves the SFFO stuff closer to the caller, making the code cleaner and easier to understand. This is done by having a single function which parses RPC inputs for SFFO and consistently using the `set<int>` method for communicating SFFO.\r\n\r\nI'm also not convinced we need to pass a full `CMutableTx` object to `FundTransaction`, but I'm leaving that for a follow-up PR/discussion, as its not a blocker for silent payments.",
    "labels": [],
    "created_at": "2023-10-02T16:50:20Z",
    "updated_at": "2025-01-25T07:27:18Z",
    "closed_at": "2024-01-23T21:41:13Z",
    "mergeable_state": "unknown",
    "merged_at": "2024-01-23T21:41:13Z",
    "merged_by": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "merge_commit_sha": "e69796c79c0aa202087a13ba62d9fbcc1c8754d4",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    ],
    "requested_teams": [],
    "head": {
      "label": "josibake:fundtransaction-sffo-crecipient-refactor",
      "ref": "fundtransaction-sffo-crecipient-refactor",
      "sha": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 344501009,
        "node_id": "MDEwOlJlcG9zaXRvcnkzNDQ1MDEwMDk=",
        "name": "bitcoin",
        "full_name": "josibake/bitcoin",
        "owner": {
          "login": "josibake",
          "id": 7444140,
          "node_id": "MDQ6VXNlcjc0NDQxNDA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/josibake",
          "html_url": "https://github.com/josibake",
          "followers_url": "https://api.github.com/users/josibake/followers",
          "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
          "organizations_url": "https://api.github.com/users/josibake/orgs",
          "repos_url": "https://api.github.com/users/josibake/repos",
          "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/josibake/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/josibake/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/josibake/bitcoin",
        "archive_url": "https://api.github.com/repos/josibake/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/josibake/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/josibake/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/josibake/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/josibake/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/josibake/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/josibake/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/josibake/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/josibake/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/josibake/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/josibake/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/josibake/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/josibake/bitcoin/events",
        "forks_url": "https://api.github.com/repos/josibake/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/josibake/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/josibake/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/josibake/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/josibake/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/josibake/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/josibake/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/josibake/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/josibake/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/josibake/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/josibake/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/josibake/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/josibake/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/josibake/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/josibake/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/josibake/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:josibake/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/josibake/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/josibake/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/josibake/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/josibake/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/josibake/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/josibake/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/josibake/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/josibake/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/josibake/bitcoin/hooks",
        "svn_url": "https://github.com/josibake/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 263522,
        "default_branch": "master",
        "open_issues_count": 3,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2024-12-05T14:41:01Z",
        "created_at": "2021-03-04T14:24:20Z",
        "updated_at": "2024-12-05T14:42:30Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "03752444cd54df05a731557968d5a9f33a55c55c",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36612,
        "stargazers_count": 81622,
        "watchers_count": 81622,
        "size": 274749,
        "default_branch": "master",
        "open_issues_count": 688,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-01-24T23:33:21Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-01-25T07:54:33Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 216,
    "deletions": 94,
    "changed_files": 9,
    "commits": 6,
    "review_comments": 32,
    "comments": 8
  },
  "events": [
    {
      "event": "commented",
      "id": 1743382033,
      "node_id": "IC_kwDOABII585n6eYR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1743382033",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-02T16:50:22Z",
      "updated_at": "2024-01-23T21:31:57Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/28560).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [S3RK](https://github.com/bitcoin/bitcoin/pull/28560#issuecomment-1903507665), [achow101](https://github.com/bitcoin/bitcoin/pull/28560#pullrequestreview-1839971435) |\n| Concept ACK | [theStack](https://github.com/bitcoin/bitcoin/pull/28560#issuecomment-1904606796) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#bitcoin-core/gui/733](https://github.com/bitcoin-core/gui/pull/733) (Deniability - a tool to automatically improve coin ownership privacy by denavila)\n* [#29264](https://github.com/bitcoin/bitcoin/pull/29264) (Add max_tx_weight to transaction funding options by instagibbs)\n* [#28944](https://github.com/bitcoin/bitcoin/pull/28944) (wallet, rpc: add anti-fee-sniping to `send` and `sendall` by ishaanam)\n* [#27792](https://github.com/bitcoin/bitcoin/pull/27792) (wallet: Deniability API (Unilateral Transaction Meta-Privacy) by denavila)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#issuecomment-1743382033",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28560"
    },
    {
      "event": "convert_to_draft",
      "id": 10528427304,
      "node_id": "CTDE_lADOABII585yk6qozwAAAAJziw0o",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10528427304",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-02T16:56:02Z"
    },
    {
      "event": "labeled",
      "id": 10667747096,
      "node_id": "LE_lADOABII585yk6qozwAAAAJ72OcY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10667747096",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-16T16:13:19Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11213481301,
      "node_id": "HRFPE_lADOABII585yk6qozwAAAAKcYCVV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11213481301",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "b2efb358b5be1fae77fc4625cf2cb3034ec51b1b",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/b2efb358b5be1fae77fc4625cf2cb3034ec51b1b",
      "created_at": "2023-12-11T17:24:18Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11213503507,
      "node_id": "HRFPE_lADOABII585yk6qozwAAAAKcYHwT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11213503507",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "ae53820b44022563364a82231b29523951ba4c7e",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/ae53820b44022563364a82231b29523951ba4c7e",
      "created_at": "2023-12-11T17:26:21Z"
    },
    {
      "event": "ready_for_review",
      "id": 11213539166,
      "node_id": "RFRE_lADOABII585yk6qozwAAAAKcYQde",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11213539166",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-11T17:29:29Z"
    },
    {
      "event": "unlabeled",
      "id": 11214887745,
      "node_id": "UNLE_lADOABII585yk6qozwAAAAKcdZtB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11214887745",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-11T19:23:15Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11225620230,
      "node_id": "HRFPE_lADOABII585yk6qozwAAAAKdGV8G",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11225620230",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "4285f408d225ff0b9953ead6c83289dd8bb47546",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/4285f408d225ff0b9953ead6c83289dd8bb47546",
      "created_at": "2023-12-12T15:54:44Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11225751510,
      "node_id": "HRFPE_lADOABII585yk6qozwAAAAKdG1_W",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11225751510",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "84f833ee6fabecb48e6f832d48f53beccc0537f7",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/84f833ee6fabecb48e6f832d48f53beccc0537f7",
      "created_at": "2023-12-12T16:05:33Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11225783926,
      "node_id": "HRFPE_lADOABII585yk6qozwAAAAKdG952",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11225783926",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "3dfcb817d8f939df1f46d56e242b18bd604dfb93",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/3dfcb817d8f939df1f46d56e242b18bd604dfb93",
      "created_at": "2023-12-12T16:07:59Z"
    },
    {
      "event": "reviewed",
      "id": 1790386436,
      "node_id": "PRR_kwDOABII585qtyEE",
      "url": null,
      "actor": null,
      "commit_id": "3dfcb817d8f939df1f46d56e242b18bd604dfb93",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "I'm still trying to fully grasp the existing code (which is a big mess), so bear with me if I don't make sense. Left some comment/questions based on my current understanding. ",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#pullrequestreview-1790386436",
      "submitted_at": "2023-12-20T08:42:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11304611359,
      "node_id": "HRFPE_lADOABII585yk6qozwAAAAKhzq4f",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11304611359",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "0ed04066d1ca2ded21616a60a7a17a4833a5fb35",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/0ed04066d1ca2ded21616a60a7a17a4833a5fb35",
      "created_at": "2023-12-20T16:04:05Z"
    },
    {
      "event": "commented",
      "id": 1864748743,
      "node_id": "IC_kwDOABII585vJc7H",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1864748743",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-20T16:06:58Z",
      "updated_at": "2023-12-20T16:06:58Z",
      "author_association": "MEMBER",
      "body": "Fixed the `has_data` logic and replaced all references to `tx.vout` with `recipients` in `FundTransaction`, per feedback from @S3RK ",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#issuecomment-1864748743",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28560"
    },
    {
      "event": "mentioned",
      "id": 11304645218,
      "node_id": "MEE_lADOABII585yk6qozwAAAAKhzzJi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11304645218",
      "actor": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-20T16:06:58Z"
    },
    {
      "event": "subscribed",
      "id": 11304645246,
      "node_id": "SE_lADOABII585yk6qozwAAAAKhzzJ-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11304645246",
      "actor": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-20T16:06:58Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11328473345,
      "node_id": "HRFPE_lADOABII585yk6qozwAAAAKjOskB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11328473345",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "2361861a2096f64f3b901d94f9d5acc326c2f57d",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/2361861a2096f64f3b901d94f9d5acc326c2f57d",
      "created_at": "2023-12-22T17:46:13Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11328510594,
      "node_id": "HRFPE_lADOABII585yk6qozwAAAAKjO1qC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11328510594",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "ebf118ffda3dd6517fcb31e53e925d116f1bc059",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/ebf118ffda3dd6517fcb31e53e925d116f1bc059",
      "created_at": "2023-12-22T17:53:23Z"
    },
    {
      "event": "labeled",
      "id": 11328510959,
      "node_id": "LE_lADOABII585yk6qozwAAAAKjO1vv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11328510959",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-22T17:53:27Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11328603895,
      "node_id": "HRFPE_lADOABII585yk6qozwAAAAKjPMb3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11328603895",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "589201443afae39025a38be21a64929bb94b85f9",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/589201443afae39025a38be21a64929bb94b85f9",
      "created_at": "2023-12-22T18:11:07Z"
    },
    {
      "event": "unlabeled",
      "id": 11328959966,
      "node_id": "UNLE_lADOABII585yk6qozwAAAAKjQjXe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11328959966",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-22T19:16:44Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1802756922,
      "node_id": "PRR_kwDOABII585rc-M6",
      "url": null,
      "actor": null,
      "commit_id": "589201443afae39025a38be21a64929bb94b85f9",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#pullrequestreview-1802756922",
      "submitted_at": "2024-01-03T19:06:02Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
    },
    {
      "event": "reviewed",
      "id": 1804531120,
      "node_id": "PRR_kwDOABII585rjvWw",
      "url": null,
      "actor": null,
      "commit_id": "589201443afae39025a38be21a64929bb94b85f9",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "A few nits",
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#pullrequestreview-1804531120",
      "submitted_at": "2024-01-04T16:24:44Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11409197940,
      "node_id": "HRFPE_lADOABII585yk6qozwAAAAKoCot0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11409197940",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "9ab387e662d3fb90aa98e936a4bde928ef7b25e1",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/9ab387e662d3fb90aa98e936a4bde928ef7b25e1",
      "created_at": "2024-01-06T18:28:49Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11409222580,
      "node_id": "HRFPE_lADOABII585yk6qozwAAAAKoCuu0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11409222580",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "909c6bb1dbc6f60c5ad3200d83f3fce98f4c3706",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/909c6bb1dbc6f60c5ad3200d83f3fce98f4c3706",
      "created_at": "2024-01-06T18:38:20Z"
    },
    {
      "event": "commented",
      "id": 1879780205,
      "node_id": "IC_kwDOABII585wCytt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1879780205",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-06T18:45:06Z",
      "updated_at": "2024-01-06T18:45:06Z",
      "author_association": "MEMBER",
      "body": "`git range-diff  5892014...909c6bb`\r\n\r\nAddresses review comments from @aureleoules and @achow101 , most notable being now clearing `tx.vout` and asserting that it is empty inside both `FundTransaction` functions. This ensures this is no longer used to pass outputs to `FundTransaction`, now and in future code.",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#issuecomment-1879780205",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28560"
    },
    {
      "event": "mentioned",
      "id": 11409250978,
      "node_id": "MEE_lADOABII585yk6qozwAAAAKoC1qi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11409250978",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-06T18:45:07Z"
    },
    {
      "event": "subscribed",
      "id": 11409250989,
      "node_id": "SE_lADOABII585yk6qozwAAAAKoC1qt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11409250989",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-06T18:45:07Z"
    },
    {
      "event": "mentioned",
      "id": 11409251000,
      "node_id": "MEE_lADOABII585yk6qozwAAAAKoC1q4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11409251000",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-06T18:45:07Z"
    },
    {
      "event": "subscribed",
      "id": 11409251008,
      "node_id": "SE_lADOABII585yk6qozwAAAAKoC1rA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11409251008",
      "actor": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-06T18:45:07Z"
    },
    {
      "event": "reviewed",
      "id": 1810067354,
      "node_id": "PRR_kwDOABII585r42-a",
      "url": null,
      "actor": null,
      "commit_id": "909c6bb1dbc6f60c5ad3200d83f3fce98f4c3706",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#pullrequestreview-1810067354",
      "submitted_at": "2024-01-08T22:02:06Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11434478906,
      "node_id": "HRFPE_lADOABII585yk6qozwAAAAKpjE06",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11434478906",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "26b4336736ac271281199991fab0dff62ed483a7",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/26b4336736ac271281199991fab0dff62ed483a7",
      "created_at": "2024-01-09T19:13:25Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11434656808,
      "node_id": "HRFPE_lADOABII585yk6qozwAAAAKpjwQo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11434656808",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "c856a1093009c6098c7c9fed5cc3f03fd0c0cf5b",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/c856a1093009c6098c7c9fed5cc3f03fd0c0cf5b",
      "created_at": "2024-01-09T19:33:24Z"
    },
    {
      "event": "commented",
      "id": 1883691930,
      "node_id": "IC_kwDOABII585wRtua",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1883691930",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-09T19:57:14Z",
      "updated_at": "2024-01-09T20:03:28Z",
      "author_association": "MEMBER",
      "body": "Updated https://github.com/bitcoin/bitcoin/commit/909c6bb1dbc6f60c5ad3200d83f3fce98f4c3706 -> https://github.com/bitcoin/bitcoin/commit/c856a1093009c6098c7c9fed5cc3f03fd0c0cf5b ([compare](https://github.com/josibake/bitcoin/compare/909c6bb1dbc6f60c5ad3200d83f3fce98f4c3706..c856a1093009c6098c7c9fed5cc3f03fd0c0cf5b))\r\n\r\n* Moved `CTxDestination`, `Amount` into loop\r\n* Simplified the loop inside `CreateRecipients`\r\n* Refactored `InterpretSubtractFeeFromAmountInstructions` to infer parsing logic based on the instruction type (int, bool, str)\r\n\r\nThanks for the suggestion @achow101 , it looks a lot cleaner now.",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#issuecomment-1883691930",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28560"
    },
    {
      "event": "mentioned",
      "id": 11434887811,
      "node_id": "MEE_lADOABII585yk6qozwAAAAKpkoqD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11434887811",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-09T19:57:14Z"
    },
    {
      "event": "subscribed",
      "id": 11434887825,
      "node_id": "SE_lADOABII585yk6qozwAAAAKpkoqR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11434887825",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-09T19:57:14Z"
    },
    {
      "event": "reviewed",
      "id": 1812652518,
      "node_id": "PRR_kwDOABII585sCuHm",
      "url": null,
      "actor": null,
      "commit_id": "0b0276bb00d3511172d662a94ffd7b55adbbf2d1",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#pullrequestreview-1812652518",
      "submitted_at": "2024-01-10T08:26:10Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
    },
    {
      "event": "unsubscribed",
      "id": 11442176587,
      "node_id": "UE_lADOABII585yk6qozwAAAAKqAcJL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11442176587",
      "actor": {
        "login": "rihabgmx",
        "id": 125294860,
        "node_id": "U_kgDOB3fZDA",
        "avatar_url": "https://avatars.githubusercontent.com/u/125294860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rihabgmx",
        "html_url": "https://github.com/rihabgmx",
        "followers_url": "https://api.github.com/users/rihabgmx/followers",
        "following_url": "https://api.github.com/users/rihabgmx/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rihabgmx/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rihabgmx/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rihabgmx/subscriptions",
        "organizations_url": "https://api.github.com/users/rihabgmx/orgs",
        "repos_url": "https://api.github.com/users/rihabgmx/repos",
        "events_url": "https://api.github.com/users/rihabgmx/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rihabgmx/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-10T11:46:07Z"
    },
    {
      "event": "subscribed",
      "id": 11442176974,
      "node_id": "SE_lADOABII585yk6qozwAAAAKqAcPO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11442176974",
      "actor": {
        "login": "rihabgmx",
        "id": 125294860,
        "node_id": "U_kgDOB3fZDA",
        "avatar_url": "https://avatars.githubusercontent.com/u/125294860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rihabgmx",
        "html_url": "https://github.com/rihabgmx",
        "followers_url": "https://api.github.com/users/rihabgmx/followers",
        "following_url": "https://api.github.com/users/rihabgmx/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rihabgmx/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rihabgmx/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rihabgmx/subscriptions",
        "organizations_url": "https://api.github.com/users/rihabgmx/orgs",
        "repos_url": "https://api.github.com/users/rihabgmx/repos",
        "events_url": "https://api.github.com/users/rihabgmx/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rihabgmx/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-10T11:46:09Z"
    },
    {
      "event": "unsubscribed",
      "id": 11442177388,
      "node_id": "UE_lADOABII585yk6qozwAAAAKqAcVs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11442177388",
      "actor": {
        "login": "rihabgmx",
        "id": 125294860,
        "node_id": "U_kgDOB3fZDA",
        "avatar_url": "https://avatars.githubusercontent.com/u/125294860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rihabgmx",
        "html_url": "https://github.com/rihabgmx",
        "followers_url": "https://api.github.com/users/rihabgmx/followers",
        "following_url": "https://api.github.com/users/rihabgmx/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rihabgmx/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rihabgmx/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rihabgmx/subscriptions",
        "organizations_url": "https://api.github.com/users/rihabgmx/orgs",
        "repos_url": "https://api.github.com/users/rihabgmx/repos",
        "events_url": "https://api.github.com/users/rihabgmx/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rihabgmx/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-10T11:46:10Z"
    },
    {
      "event": "subscribed",
      "id": 11442177582,
      "node_id": "SE_lADOABII585yk6qozwAAAAKqAcYu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11442177582",
      "actor": {
        "login": "rihabgmx",
        "id": 125294860,
        "node_id": "U_kgDOB3fZDA",
        "avatar_url": "https://avatars.githubusercontent.com/u/125294860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rihabgmx",
        "html_url": "https://github.com/rihabgmx",
        "followers_url": "https://api.github.com/users/rihabgmx/followers",
        "following_url": "https://api.github.com/users/rihabgmx/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/rihabgmx/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/rihabgmx/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/rihabgmx/subscriptions",
        "organizations_url": "https://api.github.com/users/rihabgmx/orgs",
        "repos_url": "https://api.github.com/users/rihabgmx/repos",
        "events_url": "https://api.github.com/users/rihabgmx/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/rihabgmx/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-10T11:46:11Z"
    },
    {
      "event": "commented",
      "id": 1891638400,
      "node_id": "IC_kwDOABII585wwByA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1891638400",
      "actor": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-15T09:13:04Z",
      "updated_at": "2024-01-15T09:13:04Z",
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK c856a1093009c6098c7c9fed5cc3f03fd0c0cf5b\r\n\r\nNice improvements removing duplication between `CreateRecipient` and `AddOutputs`, also embedding SFFO values in `CRecipient` instead of passing as a separate parameter to `FundTransaction`.\r\n\r\nI'd still prefer `InterpretSubtractFeeFromOutputInstructions` to work with one type of SFFO option - `vector<int>` and process others at the call site. SFFO option can be in three different forms and `vector<int>` is the only form that used multiple times, the other forms are only used once. But that's not blocking as `InterpretSubtractFeeFromOutputInstructions` and the RPCs are in the same file.",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#issuecomment-1891638400",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28560"
    },
    {
      "event": "labeled",
      "id": 11506716305,
      "node_id": "LE_lADOABII585yk6qozwAAAAKt2o6R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11506716305",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-17T05:48:42Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQzNWZlNWNkOTY1OTljNTE4ZTI2ZWZlNDQ0YzlkOTRkMTI3Nzk5NmI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/435fe5cd96599c518e26efe444c9d94d1277996b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/435fe5cd96599c518e26efe444c9d94d1277996b",
      "tree": {
        "sha": "9067b8f9bfd8d65871eb0913531e7ca1a502601f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9067b8f9bfd8d65871eb0913531e7ca1a502601f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 9067b8f9bfd8d65871eb0913531e7ca1a502601f\nparent 03752444cd54df05a731557968d5a9f33a55c55c\nauthor josibake <josibake@protonmail.com> 1703263623 +0100\ncommitter josibake <josibake@protonmail.com> 1705673096 +0100\n\ntest: add tests for fundrawtx and sendmany rpcs\n\nIf the serialized transaction passed to `fundrawtransaction` contains\nduplicates, they will be deserialized and added to the transaction. Add\na test to ensure this behavior is not changed during the refactor.\n\nA user can pass any number of duplicated and unrelated addresses as an\nSFFO argument to `sendmany` and the RPC will not throw an error (note,\nall the rest of the RPCs which take SFFO as an argument will error if\nthe user passes duplicates or specifies outputs not present in the\ntransaction). Add a test to ensure this behavior is not changed during\nthe refactor.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmWqgYgACgkQity1WMTz\nPWWWiBAAnlhqHpwrCSFBqGHQwDQxDwo2WiRtUhbejA5U+P6F3gm1znhH9/8fyIRh\n0meeC/UEfJgwv9Cpagz/bJnPi+xsis5gVlgmcUbOAmbGO7aiPuFyRJd6sYtu8UTU\npXQP7Yl+7vdxlvWGYXKdMip36ZJNecjupDfzY7tTBfIEM64VeDt3PiT+24mu2phW\nB5xq3MHJ5W8SOXpLpcB5KlKX68aqE2/EvU2SBGFkWYD8hjTgtVNDTqE41KWdMw9e\n9ywUEvPaHSgbNAmQwrsEPSfaM6y6f4g8jaOWJyho64vgKqY3kaQMIy/3qdrhlFr+\njoNJH07W9Qt2G0xp+TANUvhN0/9GAek3kzXtGNz+JHBzAFfmo31wSVbfvf5yZRZW\nRwWsW3vlfrzQ565+HdTxH7YrplvFyo4iAF4WlqLwXFqRr4u8WRWwcZAOmumSU41p\n1q8KZMlOSJYp73buLpeKzg1zJMts9qxaUXqcKo8e0bWmw/JEoT7jZG9MjXVS7GK9\nc5av30/QddYg4/0hlwOBWbHlaWHPs5xsFLJkKUyPpm0Ipm0VPuuZm0N7WOSfYPPy\n6RmR00nQYa+Wo7GJ8neKqkh6xr9sB+dxK0pgL7ndK015YFnCekMIvnrRP4xQefn8\nh0TzCK7sITJ6am7gYbOJRFSmWooGgBCw1t71cS6WBWKPQ7iBFdc=\n=3tsP\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/03752444cd54df05a731557968d5a9f33a55c55c",
          "sha": "03752444cd54df05a731557968d5a9f33a55c55c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/03752444cd54df05a731557968d5a9f33a55c55c"
        }
      ],
      "message": "test: add tests for fundrawtx and sendmany rpcs\n\nIf the serialized transaction passed to `fundrawtransaction` contains\nduplicates, they will be deserialized and added to the transaction. Add\na test to ensure this behavior is not changed during the refactor.\n\nA user can pass any number of duplicated and unrelated addresses as an\nSFFO argument to `sendmany` and the RPC will not throw an error (note,\nall the rest of the RPCs which take SFFO as an argument will error if\nthe user passes duplicates or specifies outputs not present in the\ntransaction). Add a test to ensure this behavior is not changed during\nthe refactor.",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-01-19T14:04:56Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-12-22T16:47:03Z"
      },
      "sha": "435fe5cd96599c518e26efe444c9d94d1277996b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZmNTY5YWM5MDNlNWRkYWFjMjc1OTk2YTVkMGMzMWIyMjIwYjdiODE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6f569ac903e5ddaac275996a5d0c31b2220b7b81",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6f569ac903e5ddaac275996a5d0c31b2220b7b81",
      "tree": {
        "sha": "946eeaf4aa42b5d1e541febdd2f04d4e0a2424fd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/946eeaf4aa42b5d1e541febdd2f04d4e0a2424fd"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 946eeaf4aa42b5d1e541febdd2f04d4e0a2424fd\nparent 435fe5cd96599c518e26efe444c9d94d1277996b\nauthor josibake <josibake@protonmail.com> 1703239839 +0100\ncommitter josibake <josibake@protonmail.com> 1705673096 +0100\n\nrefactor: move normalization to new function\n\nMove the univalue formatting logic out of AddOutputs and into its own function,\n`NormalizeOutputs`. This allows us to re-use this logic in later commits.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmWqgYgACgkQity1WMTz\nPWWEcQ/+LTCOJW1NtSUO7o7QL5O2jdeq/T2e+B7L5yHktyvV1TgNKjlWauu3lW02\ncHpdOIrPf1WMo4P+BhrAJJIiIsmpACnBX/Wne/qgteQoKE5cKOxDw+XxsHSoWV0D\n7mzPfTZoBHATAKrmuA4sPOVDS8f7C/e0C2owQ+8L6+ZvDaM6N0bvxc3nRjsOfLiO\nptHtuKwDjkLEjKaVgUiZSJqe4K8AKN3pv7HotwElXn3SHG77+9qtuQPGzso/geTy\nP6LR5h9Ix1LQvaG68p2pyHhecRAqUG3pDFXc6KvYGFD/0gMrpRNlgTIuvs3iI2Bc\nbv8xDfZ0rO5D/7Engs2v9u/O2YDXTyKpXjUu7Axkgg/d+G4qpmrN0GVMDnDg1C4U\nT5fCFNxFiU+pFCIxTPqpxa7RUU2+86oVzX3reJBArmDYSw8PrFtdy45fkbBolVFH\nBUwXj5rnmmYOUHcNaMv/2RIMl518E6iSfvWqW8XX3FiRT2GmoKcMfqO1PD0M579b\nN2PvDXH/Hb8hCiDB5MrN73hFZbkc28U0JmZ2cv9qg9lbkhQ2yrQw079H+STqWPNQ\noPzqE7t2eg6c3+L2HaDX/548zJaUo3B+f/kDmaUfABlox+sjpoF9flOl+F46xV0r\nCqPs/jP3boR6F+1cEPldmMKT7uYBvrYAO/furnn+FH9Wh0/M2Ps=\n=5/Ut\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/435fe5cd96599c518e26efe444c9d94d1277996b",
          "sha": "435fe5cd96599c518e26efe444c9d94d1277996b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/435fe5cd96599c518e26efe444c9d94d1277996b"
        }
      ],
      "message": "refactor: move normalization to new function\n\nMove the univalue formatting logic out of AddOutputs and into its own function,\n`NormalizeOutputs`. This allows us to re-use this logic in later commits.",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-01-19T14:04:56Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-12-22T10:10:39Z"
      },
      "sha": "6f569ac903e5ddaac275996a5d0c31b2220b7b81"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGY3Mzg0YjkyMWMzNDYwYzdhM2NjNzgyN2E2OGIyYzYxM2JkOThmOGU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f7384b921c3460c7a3cc7827a68b2c613bd98f8e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f7384b921c3460c7a3cc7827a68b2c613bd98f8e",
      "tree": {
        "sha": "fa2a0221ac6afb4c038b0cd3df2179675f2d726f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fa2a0221ac6afb4c038b0cd3df2179675f2d726f"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree fa2a0221ac6afb4c038b0cd3df2179675f2d726f\nparent 6f569ac903e5ddaac275996a5d0c31b2220b7b81\nauthor josibake <josibake@protonmail.com> 1703240873 +0100\ncommitter josibake <josibake@protonmail.com> 1705673096 +0100\n\nrefactor: move parsing to new function\n\nMove the parsing and validation out of `AddOutputs` into its own function,\n`ParseOutputs`. This allows us to re-use this logic in `ParseRecipients` in a\nlater commit, where the code is currently duplicated.\n\nThe new `ParseOutputs` function returns a CTxDestination,CAmount tuples.\nThis allows the caller to then translate the validated outputs into\neither CRecipients or CTxOuts.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmWqgYgACgkQity1WMTz\nPWVIphAAyI0CyT7VcEDsyqJ9W5Rg3swt5XE5OhgfOtBCPwMoOeZkW7tmD/b63zNI\n1dE89k3sNrqnN0IL+wdOfzAcuAXji5avxETavQL/7HdAG2qCkPs0dFaRLY01HjZD\naCJOx0Ls/7id9wS/0Fc6tJSm/dBN3E+oySxZSR/D0GwHaOUTo/JUS7Erw7sUvj5V\nR8vahi0f2Z0REElOu7HRDhLJlhU4d7T9YYHOzLEwEp+QY5zwBe+4RoIkDf8ynsKc\nhROoGfQVfozP2V79CRPQY8QJsqWEY8SVwgCcW7xw5j2hssTGkhPJ07oPt9d3AHrC\nV6E5rVxxhLM63ALG5XTXN/pfMs4HDKWJ1gAS21marV6ZBmUs0rXUuTqvbw3DHH+Y\nKPuAKUpRCCU5wwLGNhSyywHPf1EsXR3W/OzHJdBlytmBRXrdP5L9YjmcBYwzsqI9\nNzu1HZ8KVA+TMnxS5NReAegFBwOhaqHaGF1JL98jvRoy9CEH8tf94Se+GQ9JHOHj\nSyHOIhOdttM5c2uh8LtzX1qGbEfQLRWG41AuoEnNPDrE7txKBl5kp+0AvS2aSCYB\nAVSy0B8wW22TYmrml/pIg0dCaLj9YCZ95cxdBwgD7mvVh5u1PB1+5ho5Oxw9P5fF\nuzyqjgyZy3juo+keY7hvY4WkS0J427053mSjOhpg/GIeNyYXkLA=\n=TbFL\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6f569ac903e5ddaac275996a5d0c31b2220b7b81",
          "sha": "6f569ac903e5ddaac275996a5d0c31b2220b7b81",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6f569ac903e5ddaac275996a5d0c31b2220b7b81"
        }
      ],
      "message": "refactor: move parsing to new function\n\nMove the parsing and validation out of `AddOutputs` into its own function,\n`ParseOutputs`. This allows us to re-use this logic in `ParseRecipients` in a\nlater commit, where the code is currently duplicated.\n\nThe new `ParseOutputs` function returns a CTxDestination,CAmount tuples.\nThis allows the caller to then translate the validated outputs into\neither CRecipients or CTxOuts.",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-01-19T14:04:56Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-12-22T10:27:53Z"
      },
      "sha": "f7384b921c3460c7a3cc7827a68b2c613bd98f8e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQ3MzUzYTYwOGRjNmUyMGU1ZmQyY2E1Mzg1MGQ2ZjlhYTMyNDBkNGE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/47353a608dc6e20e5fd2ca53850d6f9aa3240d4a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/47353a608dc6e20e5fd2ca53850d6f9aa3240d4a",
      "tree": {
        "sha": "f2a7f83a649837202d64b75961c0a635b4602b11",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f2a7f83a649837202d64b75961c0a635b4602b11"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree f2a7f83a649837202d64b75961c0a635b4602b11\nparent f7384b921c3460c7a3cc7827a68b2c613bd98f8e\nauthor josibake <josibake@protonmail.com> 1703249936 +0100\ncommitter josibake <josibake@protonmail.com> 1705673096 +0100\n\nrefactor: remove out param from `ParseRecipients`\n\nHave `ParseRecipients` return a vector of `CRecipients` and rename to `CreateRecipients`.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmWqgYgACgkQity1WMTz\nPWX8khAAvd6ZJV4F8DQ//c0U9LMc90CaN64pABbdWUm6C9HsUdUvklxuxvC6XxL7\n2FT5iqLFpbNRtO2GIrRkv5qV48hF4K6pz9AuNsjrpH/lcII0IKnt64pbRLEJYzHO\n8OsT1iC4JSF95i0MliLRhAthIg8O7zYMI+ZqmmrQG2ya1vfxGDMe9v2WGVC8JU3N\nxL6bSp5Xd35Aueb2AlzCIcQeJHS3GUPGH4F6DsiOZj3h7gS985j9xj2BWB9OE0wX\nflDl1X4pwJrWe03cZYwSc6Ga+LymlviB/M51W/6tSFhXMLidjuXBWWWR4fZiikdS\nZgCPSk3p58eRD2VU7spqGMzlA/Ul0e73vgKQwdpgbm5PfQJ6Hut/onl+kfG18XsD\n0WAsF2+Ng+MYckGdY39aXin//grGFLUTc32QAAAhs2fGxWYszey6SVziP7HNHUX0\nXW9p+nito8QbWmN0+essQSPojTPvV04cf5V02Cs+KkaWkDoGWeEPRrybN9cDCzIx\n64IXhvU16Q6AbpcGJKqfrncV+lOuR4QTFF5U/YzbsjQFNa0yTuIfqrHbt+3YC0Ga\nXhhidJNVzxS7S+Cavehvn5ErRtlcVi1YIBPWxBioa1sOMGiZ6unx4MfTvAgMfR30\nQsMs5zb3CPHb9NlEYLRTy9mYXtIxIJDmNtXnoiiRD2rJNXzj200=\n=38Iu\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f7384b921c3460c7a3cc7827a68b2c613bd98f8e",
          "sha": "f7384b921c3460c7a3cc7827a68b2c613bd98f8e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f7384b921c3460c7a3cc7827a68b2c613bd98f8e"
        }
      ],
      "message": "refactor: remove out param from `ParseRecipients`\n\nHave `ParseRecipients` return a vector of `CRecipients` and rename to `CreateRecipients`.",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-01-19T14:04:56Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-12-22T12:58:56Z"
      },
      "sha": "47353a608dc6e20e5fd2ca53850d6f9aa3240d4a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDVhZDE5NjY4ZGJjYzQ3NDg2ZDFjMThmNzExY2VhM2Q4YTlkMmU3ZTI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5ad19668dbcc47486d1c18f711cea3d8a9d2e7e2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5ad19668dbcc47486d1c18f711cea3d8a9d2e7e2",
      "tree": {
        "sha": "b083fd9343d7df59929bbeb19e28b688d5d3f7a0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b083fd9343d7df59929bbeb19e28b688d5d3f7a0"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree b083fd9343d7df59929bbeb19e28b688d5d3f7a0\nparent 47353a608dc6e20e5fd2ca53850d6f9aa3240d4a\nauthor josibake <josibake@protonmail.com> 1696250213 +0200\ncommitter josibake <josibake@protonmail.com> 1705673096 +0100\n\nrefactor: simplify `CreateRecipients`\n\nMove validation logic out of `CreateRecipients` and instead take the\nalready validated outputs from `ParseOutputs` as an input.\n\nMove SFFO parsing out of `CreateRecipients` into a new function,\n`InterpretSubtractFeeFromOutputsInstructions`. This takes the SFFO instructions\nfrom `sendmany` and `sendtoaddress` and turns them into a set of integers.\nIn a later commit, we will also move the SFFO parsing logic from\n`FundTransaction` into this function.\n\nWorth noting: a user can pass duplicate addresses and addresses that dont exist\nin the transaction outputs as SFFO args to `sendmany` and `sendtoaddress`\nwithout triggering a warning. This behavior is preserved in to keep this commit\nstrictly a refactor.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmWqgYgACgkQity1WMTz\nPWUvlA//ZKIt/1oGDEs6W89iYULksCxucNMhrofT4zh6IbdvCqxEnW0Zz8y9MeGu\n4E0rlsfXqYTRAapAN/1ICg4TVvKF7mlv1jweWYeOtM6Z6eH6rbgajAj6VlltuUb5\ntu0pod9/ayCdpXKMXyGE63TNjbQfiW4Md/VyTIulAZHRcCc2dhkSAE1n5Iu4y/1D\nX6pnuulx9yiUucW1C1LKIUeBWPeHFX+gaEJcvB7ixMbBCch1Ze4vzJqYoOiBVnZz\n1BQ8SNgr5QtKIycI7UG6+MlgU3kiQlXPPKToOKbmocS4hNurd6af/71W9ENBd3Sk\nqaq3c4g7mAoZB+gBg6L8rpgGvkeq5nM89DUENtDY7utc7Apv7EbuebNncG9ZfDYW\n5UyGraPx2ROTwmrhweu1iBeiGqhrVgajoovadYCTYHiEVc/tB3ziZOjcyEnjGJ4j\nvGZ3+/bAsfyZlgTVwq166MvyOrtAMMqyh92/7hNh1xESbMoI2j0N2BcZj0gOb97r\nYqNjJ66htUPanvSHhJto+k8PcIfClJKuyLrv0FkpqFDNg0g5Sqv57MZzFkpPh+Dx\n0UbraMh9Crt1pOuDATGpyvfI8veHo+lEKxLFV4YAQHZCNGkXTZ29VRHBgcDdgtvA\n50AVZcSDcYldUuy03qOFA8TIcuREEAEQQqv+rECh1O2HyZnLGzs=\n=6Qst\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/47353a608dc6e20e5fd2ca53850d6f9aa3240d4a",
          "sha": "47353a608dc6e20e5fd2ca53850d6f9aa3240d4a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/47353a608dc6e20e5fd2ca53850d6f9aa3240d4a"
        }
      ],
      "message": "refactor: simplify `CreateRecipients`\n\nMove validation logic out of `CreateRecipients` and instead take the\nalready validated outputs from `ParseOutputs` as an input.\n\nMove SFFO parsing out of `CreateRecipients` into a new function,\n`InterpretSubtractFeeFromOutputsInstructions`. This takes the SFFO instructions\nfrom `sendmany` and `sendtoaddress` and turns them into a set of integers.\nIn a later commit, we will also move the SFFO parsing logic from\n`FundTransaction` into this function.\n\nWorth noting: a user can pass duplicate addresses and addresses that dont exist\nin the transaction outputs as SFFO args to `sendmany` and `sendtoaddress`\nwithout triggering a warning. This behavior is preserved in to keep this commit\nstrictly a refactor.",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-01-19T14:04:56Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-10-02T12:36:53Z"
      },
      "sha": "5ad19668dbcc47486d1c18f711cea3d8a9d2e7e2"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDE4YWQxYjkxNDJlOTFjZWYyZjVjNmE2OTNlZWIyZDBmYmI4YzUxN2Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "tree": {
        "sha": "d32a35a363a7798f7b745e973c7240d96f86ce07",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d32a35a363a7798f7b745e973c7240d96f86ce07"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree d32a35a363a7798f7b745e973c7240d96f86ce07\nparent 5ad19668dbcc47486d1c18f711cea3d8a9d2e7e2\nauthor josibake <josibake@protonmail.com> 1696258664 +0200\ncommitter josibake <josibake@protonmail.com> 1705673096 +0100\n\nrefactor: pass CRecipient to FundTransaction\n\nInstead turning tx.vout into a vector of `CRecipient`, make `FundTransaction`\ntake a `CRecipient` vector directly. This allows us to remove SFFO logic from\nthe wrapper RPC `FundTransaction` since the `CRecipient` objects have already\nbeen created with the correct SFFO values. This also allows us to remove\nSFFO from both `FundTransaction` function signatures.\n\nThis sets us up in a future PR to be able to use these RPCs with BIP352\nstatic payment codes.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmWqgYgACgkQity1WMTz\nPWWvQxAAyJpBYxTV+XLZABUQF4/DF1hgLsbtRhV6gbpksE/+worxIFKTAByqwDva\na8hL3ezmtC7UeefzRc8lef02TT0PP1+KvwYahGQQBDbboX55dadXVI3S8QN1ZlN8\njM6fmM6id1jio9bxk4HKC88rAmctyhGvPX0OxmBeTgJ48CbgYs8HNy5YT+Kcp3tQ\nJB3bzAoNONsV6L8xEcL/pMK1u2XOiMc8fS6eYAwVch5ejF0VPM2iankeaqqGheFA\nWm2doeBCxbFWUQ9WHnENTXY1TNpCKHR2yCDbFj0OhyrfL0tuOWoIxopo29omI1zW\nJ86iwAEEQPt+n+XW/X6XaVrctLOsrP6HMi5Uwot9Ps2HkZDzX/eRRKDp1H+ePBeH\nFy3Zo4C5QswtAE0Orh0xjQ1KohcytyavYAKc0CPt315FBt1Jqw0magRJUZfmeg1d\nOTLV0koof8fLFngAkQYD/N5w608lKO52dqTxceX4uYA62r5G2qjdVC3qMuHjgHyB\nE41oolIeUOVZTnzkZclPr11uqLf7mk66VazMYnlh6KCqximziuvuq5o1VDKHvu6I\nyS+4mKmHSMREw/YigV6jCXwQ9QbZVwhGNVeFMR3KYDXoqYCgW0jhMOxfj+FNzYZv\neU3l9Y1q02kZOBZEmV+h+TCLRY0B4aQUkNaw211PWds15n9iNzA=\n=mYMD\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5ad19668dbcc47486d1c18f711cea3d8a9d2e7e2",
          "sha": "5ad19668dbcc47486d1c18f711cea3d8a9d2e7e2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5ad19668dbcc47486d1c18f711cea3d8a9d2e7e2"
        }
      ],
      "message": "refactor: pass CRecipient to FundTransaction\n\nInstead turning tx.vout into a vector of `CRecipient`, make `FundTransaction`\ntake a `CRecipient` vector directly. This allows us to remove SFFO logic from\nthe wrapper RPC `FundTransaction` since the `CRecipient` objects have already\nbeen created with the correct SFFO values. This also allows us to remove\nSFFO from both `FundTransaction` function signatures.\n\nThis sets us up in a future PR to be able to use these RPCs with BIP352\nstatic payment codes.",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2024-01-19T14:04:56Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2023-10-02T14:57:44Z"
      },
      "sha": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11538050850,
      "node_id": "HRFPE_lADOABII585yk6qozwAAAAKvuK8i",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11538050850",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "commit_url": "https://api.github.com/repos/josibake/bitcoin/commits/18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "created_at": "2024-01-19T14:08:04Z"
    },
    {
      "event": "unlabeled",
      "id": 11538908397,
      "node_id": "UNLE_lADOABII585yk6qozwAAAAKvxcTt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11538908397",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-19T15:22:49Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1903507665,
      "node_id": "IC_kwDOABII585xdTjR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1903507665",
      "actor": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-22T08:45:49Z",
      "updated_at": "2024-01-22T08:45:49Z",
      "author_association": "CONTRIBUTOR",
      "body": "According to my `range-diff` nothing changed.\r\nreACK 18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#issuecomment-1903507665",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28560"
    },
    {
      "event": "commented",
      "id": 1904606796,
      "node_id": "IC_kwDOABII585xhf5M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1904606796",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-22T18:52:06Z",
      "updated_at": "2024-01-22T18:52:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#issuecomment-1904606796",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28560"
    },
    {
      "event": "commented",
      "id": 1906326392,
      "node_id": "IC_kwDOABII585xoDt4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1906326392",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-23T15:36:37Z",
      "updated_at": "2024-01-23T15:36:37Z",
      "author_association": "MEMBER",
      "body": "> According to my `range-diff` nothing changed. reACK [18ad1b9](https://github.com/bitcoin/bitcoin/commit/18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d)\r\n\r\nfor context, this was the reason for the rebase: https://github.com/bitcoin/bitcoin/pull/29218#issuecomment-1906227242",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#issuecomment-1906326392",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/28560"
    },
    {
      "event": "reviewed",
      "id": 1839971435,
      "node_id": "PRR_kwDOABII585tq7xr",
      "url": null,
      "actor": null,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK 18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#pullrequestreview-1839971435",
      "submitted_at": "2024-01-23T21:31:54Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
    },
    {
      "event": "review_requested",
      "id": 11576338008,
      "node_id": "RRE_lADOABII585yk6qozwAAAAKyAOZY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11576338008",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-23T21:31:58Z",
      "requested_reviewer": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "merged",
      "id": 11576417424,
      "node_id": "ME_lADOABII585yk6qozwAAAAKyAhyQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11576417424",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "e69796c79c0aa202087a13ba62d9fbcc1c8754d4",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e69796c79c0aa202087a13ba62d9fbcc1c8754d4",
      "created_at": "2024-01-23T21:41:13Z"
    },
    {
      "event": "closed",
      "id": 11576417446,
      "node_id": "CE_lADOABII585yk6qozwAAAAKyAhym",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11576417446",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-23T21:41:13Z"
    },
    {
      "event": "head_ref_deleted",
      "id": 11607491580,
      "node_id": "HRDE_lADOABII585yk6qozwAAAAKz3EP8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11607491580",
      "actor": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-26T10:51:32Z"
    },
    {
      "event": "locked",
      "id": 16066740519,
      "node_id": "LOE_lADOABII585yk6qozwAAAAO9pwEn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16066740519",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-25T07:27:18Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1432392999",
      "pull_request_review_id": 1790386436,
      "id": 1432392999,
      "node_id": "PRRC_kwDOABII585VYJUn",
      "diff_hunk": "@@ -73,6 +73,38 @@ std::set<int> InterpretSubtractFeeFromOutputInstructions(const UniValue& subtrac\n     return set_sffo;\n }\n \n+std::vector<CRecipient> ParseOutputs(const UniValue& outputs_in, const UniValue& options)",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "f0af6e9a0f24b2281515345a5686706e88add854",
      "in_reply_to_id": null,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Let's not pass all the options as we need only one of them.",
      "created_at": "2023-12-20T08:19:55Z",
      "updated_at": "2023-12-20T08:42:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1432392999",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1432392999"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 76,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1432396784",
      "pull_request_review_id": 1790386436,
      "id": 1432396784,
      "node_id": "PRRC_kwDOABII585VYKPw",
      "diff_hunk": "@@ -29,16 +29,27 @@ std::vector<CRecipient> ParseRecipients(const UniValue& address_amounts, const s\n     std::set<CTxDestination> destinations;\n     std::vector<CRecipient> recipients;\n     int idx{0};\n+    bool has_data{false};\n     for (const std::string& address: address_amounts.getKeys()) {\n-        CTxDestination dest = DecodeDestination(address);\n-        if (!IsValidDestination(dest)) {\n-            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, std::string(\"Invalid Bitcoin address: \") + address);\n-        }\n-        if (destinations.count(dest)) {\n-            throw JSONRPCError(RPC_INVALID_PARAMETER, std::string(\"Invalid parameter, duplicated address: \") + address);\n+        CTxDestination dest;\n+        CAmount amount{0};\n+        if (address == \"data\") {\n+            if (has_data) {",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "3dfcb817d8f939df1f46d56e242b18bd604dfb93",
      "in_reply_to_id": null,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "`has_data` never set to `true`\r\n\r\nAlso no tests fail, so it seems there is no test coverage for that",
      "created_at": "2023-12-20T08:23:49Z",
      "updated_at": "2023-12-20T08:42:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1432396784",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1432396784"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 37,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1432411126",
      "pull_request_review_id": 1790386436,
      "id": 1432411126,
      "node_id": "PRRC_kwDOABII585VYNv2",
      "diff_hunk": "@@ -224,7 +224,7 @@ util::Result<CreatedTransactionResult> CreateTransaction(CWallet& wallet, const\n  * Insert additional inputs into the transaction by\n  * calling CreateTransaction();\n  */\n-util::Result<CreatedTransactionResult> FundTransaction(CWallet& wallet, const CMutableTransaction& tx, std::optional<unsigned int> change_pos, bool lockUnspents, const std::set<int>& setSubtractFeeFromOutputs, CCoinControl);\n+util::Result<CreatedTransactionResult> FundTransaction(CWallet& wallet, const CMutableTransaction& tx, const std::vector<CRecipient>& recipients, std::optional<unsigned int> change_pos, bool lockUnspents, CCoinControl);",
      "path": "src/wallet/spend.h",
      "position": 5,
      "original_position": 5,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "3dfcb817d8f939df1f46d56e242b18bd604dfb93",
      "in_reply_to_id": null,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Not a huge fan of this change. Now if we pass tx.vout they'll be ignored.\r\n\r\nI'd prefer if we pass `txin` and `recipients` and don't pass `tx` at all. That would be a clearer interface in my opinion.",
      "created_at": "2023-12-20T08:38:03Z",
      "updated_at": "2023-12-20T08:42:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1432411126",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1432411126"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 227,
      "original_line": 227,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1432414337",
      "pull_request_review_id": 1790386436,
      "id": 1432414337,
      "node_id": "PRRC_kwDOABII585VYOiB",
      "diff_hunk": "@@ -532,17 +543,14 @@ static std::vector<RPCArg> FundTxDoc(bool solving_data = true)\n     return args;\n }\n \n-CreatedTransactionResult FundTransaction(CWallet& wallet, const CMutableTransaction& tx, const UniValue& options, CCoinControl& coinControl, bool override_min_fee)\n+CreatedTransactionResult FundTransaction(CWallet& wallet, const CMutableTransaction& tx, const std::vector<CRecipient>& recipients, const UniValue& options, CCoinControl& coinControl, bool override_min_fee)",
      "path": "src/wallet/rpc/spend.cpp",
      "position": 138,
      "original_position": 41,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "3dfcb817d8f939df1f46d56e242b18bd604dfb93",
      "in_reply_to_id": null,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Same comment as for other `FundTransaction`. I think we should get rid of ambiguity in input parameters and don't pass `tx`. In this case it's even more confusing, because `tx.vout` is actually still checked.",
      "created_at": "2023-12-20T08:41:12Z",
      "updated_at": "2023-12-20T08:42:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1432414337",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1432414337"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 493,
      "original_line": 493,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1432851243",
      "pull_request_review_id": 1791120595,
      "id": 1432851243,
      "node_id": "PRRC_kwDOABII585VZ5Mr",
      "diff_hunk": "@@ -73,6 +73,38 @@ std::set<int> InterpretSubtractFeeFromOutputInstructions(const UniValue& subtrac\n     return set_sffo;\n }\n \n+std::vector<CRecipient> ParseOutputs(const UniValue& outputs_in, const UniValue& options)",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "f0af6e9a0f24b2281515345a5686706e88add854",
      "in_reply_to_id": 1432392999,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "We are using either `subtract_fee_from_outputs` or `subtractFeeFromOutputs`, depending on which one is present. I think handling that logic in the `ParseOutputs` function is better. Since the options object is passed by reference there isn't any performance difference in passing a reference to the entire options object vs passing a single key.",
      "created_at": "2023-12-20T15:20:08Z",
      "updated_at": "2023-12-20T15:20:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1432851243",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1432851243"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 76,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1432851596",
      "pull_request_review_id": 1791121146,
      "id": 1432851596,
      "node_id": "PRRC_kwDOABII585VZ5SM",
      "diff_hunk": "@@ -29,16 +29,27 @@ std::vector<CRecipient> ParseRecipients(const UniValue& address_amounts, const s\n     std::set<CTxDestination> destinations;\n     std::vector<CRecipient> recipients;\n     int idx{0};\n+    bool has_data{false};\n     for (const std::string& address: address_amounts.getKeys()) {\n-        CTxDestination dest = DecodeDestination(address);\n-        if (!IsValidDestination(dest)) {\n-            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, std::string(\"Invalid Bitcoin address: \") + address);\n-        }\n-        if (destinations.count(dest)) {\n-            throw JSONRPCError(RPC_INVALID_PARAMETER, std::string(\"Invalid parameter, duplicated address: \") + address);\n+        CTxDestination dest;\n+        CAmount amount{0};\n+        if (address == \"data\") {\n+            if (has_data) {",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 15,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "3dfcb817d8f939df1f46d56e242b18bd604dfb93",
      "in_reply_to_id": 1432396784,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Good catch!",
      "created_at": "2023-12-20T15:20:26Z",
      "updated_at": "2023-12-20T15:20:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1432851596",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1432851596"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 37,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1432869408",
      "pull_request_review_id": 1791157685,
      "id": 1432869408,
      "node_id": "PRRC_kwDOABII585VZ9og",
      "diff_hunk": "@@ -224,7 +224,7 @@ util::Result<CreatedTransactionResult> CreateTransaction(CWallet& wallet, const\n  * Insert additional inputs into the transaction by\n  * calling CreateTransaction();\n  */\n-util::Result<CreatedTransactionResult> FundTransaction(CWallet& wallet, const CMutableTransaction& tx, std::optional<unsigned int> change_pos, bool lockUnspents, const std::set<int>& setSubtractFeeFromOutputs, CCoinControl);\n+util::Result<CreatedTransactionResult> FundTransaction(CWallet& wallet, const CMutableTransaction& tx, const std::vector<CRecipient>& recipients, std::optional<unsigned int> change_pos, bool lockUnspents, CCoinControl);",
      "path": "src/wallet/spend.h",
      "position": 5,
      "original_position": 5,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "3dfcb817d8f939df1f46d56e242b18bd604dfb93",
      "in_reply_to_id": 1432411126,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I agree, see my comment in the description. Ultimately, I think `FundTransaction` should take a set of inputs and a set of outputs and return a `CreatedTransactionResult`. #25273 and this PR get us incrementally closer to that, but I don't want to fully tackle that in this PR as it's a bit more complicated than it seems, and the primary goal of this PR is to create the `CRecipients` objects in a standard way across all the RPC calls and pass them to `FundTransaction`",
      "created_at": "2023-12-20T15:34:11Z",
      "updated_at": "2023-12-20T15:34:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1432869408",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1432869408"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 227,
      "original_line": 227,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1432881141",
      "pull_request_review_id": 1791185730,
      "id": 1432881141,
      "node_id": "PRRC_kwDOABII585VaAf1",
      "diff_hunk": "@@ -532,17 +543,14 @@ static std::vector<RPCArg> FundTxDoc(bool solving_data = true)\n     return args;\n }\n \n-CreatedTransactionResult FundTransaction(CWallet& wallet, const CMutableTransaction& tx, const UniValue& options, CCoinControl& coinControl, bool override_min_fee)\n+CreatedTransactionResult FundTransaction(CWallet& wallet, const CMutableTransaction& tx, const std::vector<CRecipient>& recipients, const UniValue& options, CCoinControl& coinControl, bool override_min_fee)",
      "path": "src/wallet/rpc/spend.cpp",
      "position": 138,
      "original_position": 41,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "3dfcb817d8f939df1f46d56e242b18bd604dfb93",
      "in_reply_to_id": 1432414337,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Also a good catch, we should be using the `recipients` vector to get the size here.",
      "created_at": "2023-12-20T15:43:46Z",
      "updated_at": "2023-12-20T15:43:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1432881141",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1432881141"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 493,
      "original_line": 493,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1440697948",
      "pull_request_review_id": 1802756922,
      "id": 1440697948,
      "node_id": "PRRC_kwDOABII585V305c",
      "diff_hunk": "@@ -147,6 +150,34 @@ def run_test(self):\n         self.test_22670()\n         self.test_feerate_rounding()\n         self.test_input_confs_control()\n+        self.test_duplicate_outputs()\n+\n+    def test_duplicate_outputs(self):\n+        self.log.info(\"Test deserializing and funding a transaction with duplicate outputs\")\n+        self.nodes[1].createwallet(\"fundtx_duplicate_outputs\")\n+        w = self.nodes[1].get_wallet_rpc(\"fundtx_duplicate_outputs\")\n+\n+        addr = w.getnewaddress(address_type=\"bech32\")\n+        self.nodes[0].sendtoaddress(addr, 5)\n+        self.generate(self.nodes[0], 1)\n+\n+        address = self.nodes[0].getnewaddress(\"bech32\")\n+        tx = CTransaction()\n+        tx.vin = []\n+        tx.vout = [CTxOut(1 * COIN, bytearray(address_to_scriptpubkey(address))) for _ in range(2)]",
      "path": "test/functional/wallet_fundrawtransaction.py",
      "position": null,
      "original_position": 32,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "a9d67ad96e5f4d6dca64df4ac85f0434e17248ab",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In a9d67ad96e5f4d6dca64df4ac85f0434e17248ab \"test: add tests for fundrawtx and sendmany rpcs\"\r\n\r\nnit: More pythonic to write:\r\n\r\n```suggestion\r\n        tx.vout = [CTxOut(1 * COIN, bytearray(address_to_scriptpubkey(address)))] * 2\r\n```",
      "created_at": "2024-01-03T17:17:29Z",
      "updated_at": "2024-01-05T15:52:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1440697948",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1440697948"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 167,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1440702286",
      "pull_request_review_id": 1802756922,
      "id": 1440702286,
      "node_id": "PRRC_kwDOABII585V319O",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test the sendmany RPC command.\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class SendmanyTest(BitcoinTestFramework):",
      "path": "test/functional/wallet_sendmany.py",
      "position": 9,
      "original_position": 9,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "a9d67ad96e5f4d6dca64df4ac85f0434e17248ab",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In a9d67ad96e5f4d6dca64df4ac85f0434e17248ab \"test: add tests for fundrawtx and sendmany rpcs\"\r\n\r\nThere are existing tests for `sendmany` in wallet_basic.py. I think these tests could be moved there as well.",
      "created_at": "2024-01-03T17:22:42Z",
      "updated_at": "2024-01-03T19:06:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1440702286",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1440702286"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 9,
      "original_line": 9,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1441785861",
      "pull_request_review_id": 1804219375,
      "id": 1441785861,
      "node_id": "PRRC_kwDOABII585V7-gF",
      "diff_hunk": "@@ -147,6 +150,34 @@ def run_test(self):\n         self.test_22670()\n         self.test_feerate_rounding()\n         self.test_input_confs_control()\n+        self.test_duplicate_outputs()\n+\n+    def test_duplicate_outputs(self):\n+        self.log.info(\"Test deserializing and funding a transaction with duplicate outputs\")\n+        self.nodes[1].createwallet(\"fundtx_duplicate_outputs\")\n+        w = self.nodes[1].get_wallet_rpc(\"fundtx_duplicate_outputs\")\n+\n+        addr = w.getnewaddress(address_type=\"bech32\")\n+        self.nodes[0].sendtoaddress(addr, 5)\n+        self.generate(self.nodes[0], 1)\n+\n+        address = self.nodes[0].getnewaddress(\"bech32\")\n+        tx = CTransaction()\n+        tx.vin = []\n+        tx.vout = [CTxOut(1 * COIN, bytearray(address_to_scriptpubkey(address))) for _ in range(2)]",
      "path": "test/functional/wallet_fundrawtransaction.py",
      "position": null,
      "original_position": 32,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "a9d67ad96e5f4d6dca64df4ac85f0434e17248ab",
      "in_reply_to_id": 1440697948,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "noted! will update",
      "created_at": "2024-01-04T14:05:19Z",
      "updated_at": "2024-01-04T14:05:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1441785861",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1441785861"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 167,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1441789986",
      "pull_request_review_id": 1804226609,
      "id": 1441789986,
      "node_id": "PRRC_kwDOABII585V7_gi",
      "diff_hunk": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test the sendmany RPC command.\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class SendmanyTest(BitcoinTestFramework):",
      "path": "test/functional/wallet_sendmany.py",
      "position": 9,
      "original_position": 9,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "a9d67ad96e5f4d6dca64df4ac85f0434e17248ab",
      "in_reply_to_id": 1440702286,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I initially started putting these tests in `wallet_basic.py`, but I'd prefer if we have RPC-specific test files and move all of the `sendmany` specific tests into the new `wallet_sendmany.py` file in a follow-up PR.",
      "created_at": "2024-01-04T14:09:15Z",
      "updated_at": "2024-01-04T14:09:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1441789986",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1441789986"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 9,
      "original_line": 9,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1441983854",
      "pull_request_review_id": 1804531120,
      "id": 1441983854,
      "node_id": "PRRC_kwDOABII585V8u1u",
      "diff_hunk": "@@ -24,34 +24,16 @@\n \n \n namespace wallet {\n-static void ParseRecipients(const UniValue& address_amounts, const UniValue& subtract_fee_outputs, std::vector<CRecipient>& recipients)\n+std::vector<CRecipient> CreateRecipients(const std::vector<std::pair<CTxDestination, CAmount>>& outputs, const std::set<int>& subtract_fee_outputs)\n {\n-    std::set<CTxDestination> destinations;\n-    int i = 0;\n-    for (const std::string& address: address_amounts.getKeys()) {\n-        CTxDestination dest = DecodeDestination(address);\n-        if (!IsValidDestination(dest)) {\n-            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, std::string(\"Invalid Bitcoin address: \") + address);\n-        }\n-\n-        if (destinations.count(dest)) {\n-            throw JSONRPCError(RPC_INVALID_PARAMETER, std::string(\"Invalid parameter, duplicated address: \") + address);\n-        }\n-        destinations.insert(dest);\n-\n-        CAmount amount = AmountFromValue(address_amounts[i++]);\n-\n-        bool subtract_fee = false;\n-        for (unsigned int idx = 0; idx < subtract_fee_outputs.size(); idx++) {\n-            const UniValue& addr = subtract_fee_outputs[idx];\n-            if (addr.get_str() == address) {\n-                subtract_fee = true;\n-            }\n-        }\n-\n-        CRecipient recipient = {dest, amount, subtract_fee};\n+    std::vector<CRecipient> recipients;\n+    int idx{0};\n+    for (const auto& [destination, amount] : outputs) {\n+        CRecipient recipient = {destination, amount, subtract_fee_outputs.count(idx) == 1};",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 34,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "589201443afae39025a38be21a64929bb94b85f9",
      "in_reply_to_id": null,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "```suggestion\r\n        CRecipient recipient = {destination, amount, subtract_fee_outputs.contains(idx)};\r\n```",
      "created_at": "2024-01-04T16:21:32Z",
      "updated_at": "2024-01-04T16:24:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1441983854",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1441983854"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 32,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1441984071",
      "pull_request_review_id": 1804531120,
      "id": 1441984071,
      "node_id": "PRRC_kwDOABII585V8u5H",
      "diff_hunk": "@@ -76,6 +58,50 @@ static void InterpretFeeEstimationInstructions(const UniValue& conf_target, cons\n     }\n }\n \n+std::set<int> InterpretSubtractFeeFromOutputInstructions(const UniValue& options, const std::vector<std::string>& destinations)\n+{\n+    int pos{0};\n+    std::set<int> sffo_set;\n+    UniValue subtract_fee_outputs(UniValue::VARR);\n+    if (options.exists(\"subtractfeefromamount\") || options.exists(\"subtractfeefrom\")) {\n+        if (options.exists(\"subtractfeefromamount\")) {\n+            if (options[\"subtractfeefromamount\"].isBool() && options[\"subtractfeefromamount\"].get_bool()) {\n+                subtract_fee_outputs.push_back(destinations.at(0));\n+            }\n+        } else if (options.exists(\"subtractfeefrom\")) {\n+            if (!options[\"subtractfeefrom\"].isNull()) {\n+                subtract_fee_outputs = options[\"subtractfeefrom\"].get_array();\n+            }\n+        }\n+        for (const std::string& address : destinations) {\n+            for (unsigned int idx = 0; idx < subtract_fee_outputs.size(); idx++) {\n+                const UniValue& addr = subtract_fee_outputs[idx];\n+                if (addr.get_str() == address) {\n+                    sffo_set.insert(pos);\n+                }\n+            }\n+            pos++;\n+        }\n+        return sffo_set;\n+    }\n+    if (options.exists(\"subtractFeeFromOutputs\") || options.exists(\"subtract_fee_from_outputs\") ) {\n+        subtract_fee_outputs = (options.exists(\"subtract_fee_from_outputs\") ? options[\"subtract_fee_from_outputs\"] : options[\"subtractFeeFromOutputs\"]).get_array();\n+        for (const auto& sffo : subtract_fee_outputs.getValues()) {\n+            pos = sffo.getInt<int>();\n+            if (sffo_set.count(pos))",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 76,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "589201443afae39025a38be21a64929bb94b85f9",
      "in_reply_to_id": null,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "```suggestion\r\n            if (sffo_set.contains(pos))\r\n```",
      "created_at": "2024-01-04T16:21:45Z",
      "updated_at": "2024-01-04T16:24:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1441984071",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1441984071"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 91,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1441984340",
      "pull_request_review_id": 1804531120,
      "id": 1441984340,
      "node_id": "PRRC_kwDOABII585V8u9U",
      "diff_hunk": "@@ -703,21 +718,10 @@ CreatedTransactionResult FundTransaction(CWallet& wallet, const CMutableTransact\n         }\n     }\n \n-    if (tx.vout.size() == 0)\n+    if (recipients.size() == 0)",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 193,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "589201443afae39025a38be21a64929bb94b85f9",
      "in_reply_to_id": null,
      "user": {
        "login": "aureleoules",
        "id": 22493292,
        "node_id": "MDQ6VXNlcjIyNDkzMjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/22493292?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aureleoules",
        "html_url": "https://github.com/aureleoules",
        "followers_url": "https://api.github.com/users/aureleoules/followers",
        "following_url": "https://api.github.com/users/aureleoules/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/aureleoules/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/aureleoules/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/aureleoules/subscriptions",
        "organizations_url": "https://api.github.com/users/aureleoules/orgs",
        "repos_url": "https://api.github.com/users/aureleoules/repos",
        "events_url": "https://api.github.com/users/aureleoules/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/aureleoules/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "```suggestion\r\n    if (recipients.empty())\r\n```",
      "created_at": "2024-01-04T16:22:00Z",
      "updated_at": "2024-01-04T16:24:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1441984340",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1441984340"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 721,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1443117675",
      "pull_request_review_id": 1806391978,
      "id": 1443117675,
      "node_id": "PRRC_kwDOABII585WBDpr",
      "diff_hunk": "@@ -224,7 +224,7 @@ util::Result<CreatedTransactionResult> CreateTransaction(CWallet& wallet, const\n  * Insert additional inputs into the transaction by\n  * calling CreateTransaction();\n  */\n-util::Result<CreatedTransactionResult> FundTransaction(CWallet& wallet, const CMutableTransaction& tx, std::optional<unsigned int> change_pos, bool lockUnspents, const std::set<int>& setSubtractFeeFromOutputs, CCoinControl);\n+util::Result<CreatedTransactionResult> FundTransaction(CWallet& wallet, const CMutableTransaction& tx, const std::vector<CRecipient>& recipients, std::optional<unsigned int> change_pos, bool lockUnspents, CCoinControl);",
      "path": "src/wallet/spend.h",
      "position": 5,
      "original_position": 5,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "3dfcb817d8f939df1f46d56e242b18bd604dfb93",
      "in_reply_to_id": 1432411126,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think it would be useful to assert that `tx.vout.empty()` somewhere to make it clear that it is not used. Perhaps this function can do `tx.vout.clear()`, and the `FundTransaction` called by it can do the check. We should make sure that any changes between now and the future PR do not accidentally use `tx.vout`.",
      "created_at": "2024-01-05T16:54:30Z",
      "updated_at": "2024-01-05T16:54:53Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1443117675",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1443117675"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 227,
      "original_line": 227,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1443157721",
      "pull_request_review_id": 1806465049,
      "id": 1443157721,
      "node_id": "PRRC_kwDOABII585WBNbZ",
      "diff_hunk": "@@ -224,7 +224,7 @@ util::Result<CreatedTransactionResult> CreateTransaction(CWallet& wallet, const\n  * Insert additional inputs into the transaction by\n  * calling CreateTransaction();\n  */\n-util::Result<CreatedTransactionResult> FundTransaction(CWallet& wallet, const CMutableTransaction& tx, std::optional<unsigned int> change_pos, bool lockUnspents, const std::set<int>& setSubtractFeeFromOutputs, CCoinControl);\n+util::Result<CreatedTransactionResult> FundTransaction(CWallet& wallet, const CMutableTransaction& tx, const std::vector<CRecipient>& recipients, std::optional<unsigned int> change_pos, bool lockUnspents, CCoinControl);",
      "path": "src/wallet/spend.h",
      "position": 5,
      "original_position": 5,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "3dfcb817d8f939df1f46d56e242b18bd604dfb93",
      "in_reply_to_id": 1432411126,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Good point; I'll add a check and a comment.",
      "created_at": "2024-01-05T17:31:35Z",
      "updated_at": "2024-01-05T17:31:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1443157721",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1443157721"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 227,
      "original_line": 227,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1443173852",
      "pull_request_review_id": 1806505913,
      "id": 1443173852,
      "node_id": "PRRC_kwDOABII585WBRXc",
      "diff_hunk": "@@ -24,34 +24,16 @@\n \n \n namespace wallet {\n-static void ParseRecipients(const UniValue& address_amounts, const UniValue& subtract_fee_outputs, std::vector<CRecipient>& recipients)\n+std::vector<CRecipient> CreateRecipients(const std::vector<std::pair<CTxDestination, CAmount>>& outputs, const std::set<int>& subtract_fee_outputs)\n {\n-    std::set<CTxDestination> destinations;\n-    int i = 0;\n-    for (const std::string& address: address_amounts.getKeys()) {\n-        CTxDestination dest = DecodeDestination(address);\n-        if (!IsValidDestination(dest)) {\n-            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, std::string(\"Invalid Bitcoin address: \") + address);\n-        }\n-\n-        if (destinations.count(dest)) {\n-            throw JSONRPCError(RPC_INVALID_PARAMETER, std::string(\"Invalid parameter, duplicated address: \") + address);\n-        }\n-        destinations.insert(dest);\n-\n-        CAmount amount = AmountFromValue(address_amounts[i++]);\n-\n-        bool subtract_fee = false;\n-        for (unsigned int idx = 0; idx < subtract_fee_outputs.size(); idx++) {\n-            const UniValue& addr = subtract_fee_outputs[idx];\n-            if (addr.get_str() == address) {\n-                subtract_fee = true;\n-            }\n-        }\n-\n-        CRecipient recipient = {dest, amount, subtract_fee};\n+    std::vector<CRecipient> recipients;\n+    int idx{0};\n+    for (const auto& [destination, amount] : outputs) {\n+        CRecipient recipient = {destination, amount, subtract_fee_outputs.count(idx) == 1};",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 34,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "589201443afae39025a38be21a64929bb94b85f9",
      "in_reply_to_id": 1441983854,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nice! TIL c++20 introduced contains for sets :heart: ",
      "created_at": "2024-01-05T17:46:16Z",
      "updated_at": "2024-01-05T17:46:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1443173852",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1443173852"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 32,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1443207515",
      "pull_request_review_id": 1806567359,
      "id": 1443207515,
      "node_id": "PRRC_kwDOABII585WBZlb",
      "diff_hunk": "@@ -224,7 +224,7 @@ util::Result<CreatedTransactionResult> CreateTransaction(CWallet& wallet, const\n  * Insert additional inputs into the transaction by\n  * calling CreateTransaction();\n  */\n-util::Result<CreatedTransactionResult> FundTransaction(CWallet& wallet, const CMutableTransaction& tx, std::optional<unsigned int> change_pos, bool lockUnspents, const std::set<int>& setSubtractFeeFromOutputs, CCoinControl);\n+util::Result<CreatedTransactionResult> FundTransaction(CWallet& wallet, const CMutableTransaction& tx, const std::vector<CRecipient>& recipients, std::optional<unsigned int> change_pos, bool lockUnspents, CCoinControl);",
      "path": "src/wallet/spend.h",
      "position": 5,
      "original_position": 5,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "3dfcb817d8f939df1f46d56e242b18bd604dfb93",
      "in_reply_to_id": 1432411126,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Rather than clearing tx.vout in the outer RPC function call, I am clearing tx.vout at the call sites of FundTransaction. Otherwise, I would have needed to make `tx` non-const, which seems risky since we are still using it to pass `tx.vins`",
      "created_at": "2024-01-05T18:11:20Z",
      "updated_at": "2024-01-05T18:11:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1443207515",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1443207515"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 227,
      "original_line": 227,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1445369299",
      "pull_request_review_id": 1810067354,
      "id": 1445369299,
      "node_id": "PRRC_kwDOABII585WJpXT",
      "diff_hunk": "@@ -97,41 +97,50 @@ UniValue NormalizeOutputs(const UniValue& outputs_in)\n     return outputs;\n }\n \n-void AddOutputs(CMutableTransaction& rawTx, const UniValue& outputs_in)\n+std::vector<std::pair<CTxDestination, CAmount>> ParseOutputs(const UniValue& outputs)\n {\n-    UniValue outputs(UniValue::VOBJ);\n-    outputs = NormalizeOutputs(outputs_in);\n-\n     // Duplicate checking\n     std::set<CTxDestination> destinations;\n+    std::vector<std::pair<CTxDestination, CAmount>> parsed_outputs;\n     bool has_data{false};\n-\n+    CTxDestination destination;\n+    CAmount amount;",
      "path": "src/rpc/rawtransaction_util.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "8ab3da31c56d2cc05c4273ec0833109be106ed2b",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 8ab3da31c56d2cc05c4273ec0833109be106ed2b \"refactor: move parsing to new function\"\r\n\r\nI would that these two variables be declared inside of the loop just to avoid things leaking between iterations. I don't see why they need to be outside of the loop.",
      "created_at": "2024-01-08T21:37:35Z",
      "updated_at": "2024-01-08T22:02:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1445369299",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1445369299"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": 106,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 107,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1445376055",
      "pull_request_review_id": 1810067354,
      "id": 1445376055,
      "node_id": "PRRC_kwDOABII585WJrA3",
      "diff_hunk": "@@ -24,34 +24,14 @@\n \n \n namespace wallet {\n-std::vector<CRecipient> CreateRecipients(const UniValue& address_amounts, const UniValue& subtract_fee_outputs)\n+std::vector<CRecipient> CreateRecipients(const std::vector<std::pair<CTxDestination, CAmount>>& outputs, const std::set<int>& subtract_fee_outputs)\n {\n     std::vector<CRecipient> recipients;\n-    std::set<CTxDestination> destinations;\n-    int i = 0;\n-    for (const std::string& address: address_amounts.getKeys()) {\n-        CTxDestination dest = DecodeDestination(address);\n-        if (!IsValidDestination(dest)) {\n-            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, std::string(\"Invalid Bitcoin address: \") + address);\n-        }\n-\n-        if (destinations.count(dest)) {\n-            throw JSONRPCError(RPC_INVALID_PARAMETER, std::string(\"Invalid parameter, duplicated address: \") + address);\n-        }\n-        destinations.insert(dest);\n-\n-        CAmount amount = AmountFromValue(address_amounts[i++]);\n-\n-        bool subtract_fee = false;\n-        for (unsigned int idx = 0; idx < subtract_fee_outputs.size(); idx++) {\n-            const UniValue& addr = subtract_fee_outputs[idx];\n-            if (addr.get_str() == address) {\n-                subtract_fee = true;\n-            }\n-        }\n-\n-        CRecipient recipient = {dest, amount, subtract_fee};\n+    int idx{0};\n+    for (const auto& [destination, amount] : outputs) {\n+        CRecipient recipient = {destination, amount, subtract_fee_outputs.contains(idx)};\n         recipients.push_back(recipient);\n+        idx++;",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 36,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "d8850285d9ebfbff77b6f04f80f1682a15c8783a",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In d8850285d9ebfbff77b6f04f80f1682a15c8783a \"refactor: simplify `CreateRecipients`\"\r\n\r\nCan be simplified with just a normal for loop:\r\n\r\n```suggestion\r\n    for (size_t i = 0; i < outputs.size(); ++i) {\r\n        const auto& [destination, amount] = outputs.at(i);\r\n        CRecipient recipient = {destination, amount, subtract_fee_outputs.contains(i)};\r\n        recipients.push_back(recipient);\r\n```",
      "created_at": "2024-01-08T21:44:11Z",
      "updated_at": "2024-01-08T22:02:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1445376055",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1445376055"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": 30,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1445381354",
      "pull_request_review_id": 1810067354,
      "id": 1445381354,
      "node_id": "PRRC_kwDOABII585WJsTq",
      "diff_hunk": "@@ -78,6 +58,36 @@ static void InterpretFeeEstimationInstructions(const UniValue& conf_target, cons\n     }\n }\n \n+std::set<int> InterpretSubtractFeeFromOutputInstructions(const UniValue& options, const std::vector<std::string>& destinations)\n+{\n+    int pos{0};\n+    std::set<int> sffo_set;\n+    UniValue subtract_fee_outputs(UniValue::VARR);\n+    if (options.exists(\"subtractfeefromamount\") || options.exists(\"subtractfeefrom\")) {",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 49,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "d8850285d9ebfbff77b6f04f80f1682a15c8783a",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In d8850285d9ebfbff77b6f04f80f1682a15c8783a \"refactor: simplify `CreateRecipients`\"\r\n\r\nUsing a `UniValue` in this function seems kinda clunky. I would much rather than the parsing be done by the RPCs that need to do the parsing and this function could just take a `std::vector<std::string> sffo_addrs` or something like that. None of these options seems to exist in other RPCs.\r\n\r\nSince all of the different ways that sffo is set by the user, this could do type interpretation to figure it out. If it's a bool, and there's only one destination, then that is the one to sffo, and the only way that happens is with `sendtoaddress`. If it's an array of strings, then it's `sendmany` and we do that one. And if it's an array of ints, it's the `fundraw`/`send`/`walletcreatefunded` type of sffo.",
      "created_at": "2024-01-08T21:49:48Z",
      "updated_at": "2024-01-08T22:02:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1445381354",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1445381354"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 66,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1445383947",
      "pull_request_review_id": 1810067354,
      "id": 1445383947,
      "node_id": "PRRC_kwDOABII585WJs8L",
      "diff_hunk": "@@ -298,12 +303,12 @@ RPCHelpMan sendtoaddress()\n     UniValue address_amounts(UniValue::VOBJ);\n     const std::string address = request.params[0].get_str();\n     address_amounts.pushKV(address, request.params[1]);\n-    UniValue subtractFeeFromAmount(UniValue::VARR);\n-    if (fSubtractFeeFromAmount) {\n-        subtractFeeFromAmount.push_back(address);\n-    }\n-\n-    std::vector<CRecipient> recipients = CreateRecipients(address_amounts, subtractFeeFromAmount);\n+    UniValue subtractFeeFromAmount(UniValue::VOBJ);\n+    subtractFeeFromAmount.pushKV(\"subtractfeefromamount\", request.params[4]);",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 100,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "d8850285d9ebfbff77b6f04f80f1682a15c8783a",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In d8850285d9ebfbff77b6f04f80f1682a15c8783a \"refactor: simplify `CreateRecipients`\"\r\n\r\nPacking the sffo info into a UniValue just to be parsed again seems to be really unergonomic.",
      "created_at": "2024-01-08T21:52:05Z",
      "updated_at": "2024-01-08T22:02:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1445383947",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1445383947"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": 306,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 307,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1446405052",
      "pull_request_review_id": 1811670659,
      "id": 1446405052,
      "node_id": "PRRC_kwDOABII585WNmO8",
      "diff_hunk": "@@ -78,6 +58,36 @@ static void InterpretFeeEstimationInstructions(const UniValue& conf_target, cons\n     }\n }\n \n+std::set<int> InterpretSubtractFeeFromOutputInstructions(const UniValue& options, const std::vector<std::string>& destinations)\n+{\n+    int pos{0};\n+    std::set<int> sffo_set;\n+    UniValue subtract_fee_outputs(UniValue::VARR);\n+    if (options.exists(\"subtractfeefromamount\") || options.exists(\"subtractfeefrom\")) {",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 49,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "d8850285d9ebfbff77b6f04f80f1682a15c8783a",
      "in_reply_to_id": 1445381354,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> Since all of the different ways that sffo is set by the user, this could do type interpretation to figure it out.\r\n\r\nThat makes sense, what do you think about doing the type interpretation on the UniValue passed in, instead of relying on the key names? I'd rather do that than try to have this function take a `std::variant` or something like that",
      "created_at": "2024-01-09T17:34:09Z",
      "updated_at": "2024-01-09T17:34:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1446405052",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1446405052"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 66,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1446448724",
      "pull_request_review_id": 1811742633,
      "id": 1446448724,
      "node_id": "PRRC_kwDOABII585WNw5U",
      "diff_hunk": "@@ -78,6 +58,36 @@ static void InterpretFeeEstimationInstructions(const UniValue& conf_target, cons\n     }\n }\n \n+std::set<int> InterpretSubtractFeeFromOutputInstructions(const UniValue& options, const std::vector<std::string>& destinations)\n+{\n+    int pos{0};\n+    std::set<int> sffo_set;\n+    UniValue subtract_fee_outputs(UniValue::VARR);\n+    if (options.exists(\"subtractfeefromamount\") || options.exists(\"subtractfeefrom\")) {",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 49,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "d8850285d9ebfbff77b6f04f80f1682a15c8783a",
      "in_reply_to_id": 1445381354,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think UniValue type interpretation would be fine.",
      "created_at": "2024-01-09T18:19:46Z",
      "updated_at": "2024-01-09T18:19:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1446448724",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1446448724"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 66,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1446538974",
      "pull_request_review_id": 1811890163,
      "id": 1446538974,
      "node_id": "PRRC_kwDOABII585WOG7e",
      "diff_hunk": "@@ -298,12 +303,12 @@ RPCHelpMan sendtoaddress()\n     UniValue address_amounts(UniValue::VOBJ);\n     const std::string address = request.params[0].get_str();\n     address_amounts.pushKV(address, request.params[1]);\n-    UniValue subtractFeeFromAmount(UniValue::VARR);\n-    if (fSubtractFeeFromAmount) {\n-        subtractFeeFromAmount.push_back(address);\n-    }\n-\n-    std::vector<CRecipient> recipients = CreateRecipients(address_amounts, subtractFeeFromAmount);\n+    UniValue subtractFeeFromAmount(UniValue::VOBJ);\n+    subtractFeeFromAmount.pushKV(\"subtractfeefromamount\", request.params[4]);",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 100,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "d8850285d9ebfbff77b6f04f80f1682a15c8783a",
      "in_reply_to_id": 1445383947,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Fixed",
      "created_at": "2024-01-09T19:57:46Z",
      "updated_at": "2024-01-09T19:57:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1446538974",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1446538974"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": 306,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 307,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1446539102",
      "pull_request_review_id": 1811890397,
      "id": 1446539102,
      "node_id": "PRRC_kwDOABII585WOG9e",
      "diff_hunk": "@@ -78,6 +58,36 @@ static void InterpretFeeEstimationInstructions(const UniValue& conf_target, cons\n     }\n }\n \n+std::set<int> InterpretSubtractFeeFromOutputInstructions(const UniValue& options, const std::vector<std::string>& destinations)\n+{\n+    int pos{0};\n+    std::set<int> sffo_set;\n+    UniValue subtract_fee_outputs(UniValue::VARR);\n+    if (options.exists(\"subtractfeefromamount\") || options.exists(\"subtractfeefrom\")) {",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 49,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "d8850285d9ebfbff77b6f04f80f1682a15c8783a",
      "in_reply_to_id": 1445381354,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2024-01-09T19:57:55Z",
      "updated_at": "2024-01-09T19:57:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1446539102",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1446539102"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 66,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1446539347",
      "pull_request_review_id": 1811890760,
      "id": 1446539347,
      "node_id": "PRRC_kwDOABII585WOHBT",
      "diff_hunk": "@@ -24,34 +24,14 @@\n \n \n namespace wallet {\n-std::vector<CRecipient> CreateRecipients(const UniValue& address_amounts, const UniValue& subtract_fee_outputs)\n+std::vector<CRecipient> CreateRecipients(const std::vector<std::pair<CTxDestination, CAmount>>& outputs, const std::set<int>& subtract_fee_outputs)\n {\n     std::vector<CRecipient> recipients;\n-    std::set<CTxDestination> destinations;\n-    int i = 0;\n-    for (const std::string& address: address_amounts.getKeys()) {\n-        CTxDestination dest = DecodeDestination(address);\n-        if (!IsValidDestination(dest)) {\n-            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, std::string(\"Invalid Bitcoin address: \") + address);\n-        }\n-\n-        if (destinations.count(dest)) {\n-            throw JSONRPCError(RPC_INVALID_PARAMETER, std::string(\"Invalid parameter, duplicated address: \") + address);\n-        }\n-        destinations.insert(dest);\n-\n-        CAmount amount = AmountFromValue(address_amounts[i++]);\n-\n-        bool subtract_fee = false;\n-        for (unsigned int idx = 0; idx < subtract_fee_outputs.size(); idx++) {\n-            const UniValue& addr = subtract_fee_outputs[idx];\n-            if (addr.get_str() == address) {\n-                subtract_fee = true;\n-            }\n-        }\n-\n-        CRecipient recipient = {dest, amount, subtract_fee};\n+    int idx{0};\n+    for (const auto& [destination, amount] : outputs) {\n+        CRecipient recipient = {destination, amount, subtract_fee_outputs.contains(idx)};\n         recipients.push_back(recipient);\n+        idx++;",
      "path": "src/wallet/rpc/spend.cpp",
      "position": null,
      "original_position": 36,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "d8850285d9ebfbff77b6f04f80f1682a15c8783a",
      "in_reply_to_id": 1445376055,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2024-01-09T19:58:10Z",
      "updated_at": "2024-01-09T19:58:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1446539347",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1446539347"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": 30,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 34,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1446539625",
      "pull_request_review_id": 1811891217,
      "id": 1446539625,
      "node_id": "PRRC_kwDOABII585WOHFp",
      "diff_hunk": "@@ -97,41 +97,50 @@ UniValue NormalizeOutputs(const UniValue& outputs_in)\n     return outputs;\n }\n \n-void AddOutputs(CMutableTransaction& rawTx, const UniValue& outputs_in)\n+std::vector<std::pair<CTxDestination, CAmount>> ParseOutputs(const UniValue& outputs)\n {\n-    UniValue outputs(UniValue::VOBJ);\n-    outputs = NormalizeOutputs(outputs_in);\n-\n     // Duplicate checking\n     std::set<CTxDestination> destinations;\n+    std::vector<std::pair<CTxDestination, CAmount>> parsed_outputs;\n     bool has_data{false};\n-\n+    CTxDestination destination;\n+    CAmount amount;",
      "path": "src/rpc/rawtransaction_util.cpp",
      "position": null,
      "original_position": 16,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "8ab3da31c56d2cc05c4273ec0833109be106ed2b",
      "in_reply_to_id": 1445369299,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Fixed",
      "created_at": "2024-01-09T19:58:28Z",
      "updated_at": "2024-01-09T19:58:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1446539625",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1446539625"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": 106,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 107,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1447033851",
      "pull_request_review_id": 1812652518,
      "id": 1447033851,
      "node_id": "PRRC_kwDOABII585WP_v7",
      "diff_hunk": "@@ -78,6 +57,27 @@ static void InterpretFeeEstimationInstructions(const UniValue& conf_target, cons\n     }\n }\n \n+std::set<int> InterpretSubtractFeeFromOutputInstructions(const UniValue& sffo_instructions, const std::vector<std::string>& destinations)",
      "path": "src/wallet/rpc/spend.cpp",
      "position": 45,
      "original_position": 42,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "0b0276bb00d3511172d662a94ffd7b55adbbf2d1",
      "in_reply_to_id": null,
      "user": {
        "login": "S3RK",
        "id": 1466284,
        "node_id": "MDQ6VXNlcjE0NjYyODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/S3RK",
        "html_url": "https://github.com/S3RK",
        "followers_url": "https://api.github.com/users/S3RK/followers",
        "following_url": "https://api.github.com/users/S3RK/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/S3RK/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/S3RK/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
        "organizations_url": "https://api.github.com/users/S3RK/orgs",
        "repos_url": "https://api.github.com/users/S3RK/repos",
        "events_url": "https://api.github.com/users/S3RK/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/S3RK/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "in 0b0276bb00d3511172d662a94ffd7b55adbbf2d1\r\n\r\nI don't see a reason to extract this function at this point (could be done later in the PR).\r\nThere are two disparate cases covered (`bool` and `vector<string>`). And each case is only used in one and only one place, further commits also don't introduce further usage of this code path as they pass `vector<int>`. \r\n\r\nWouldn't it be better if we keep this logic at the call site? \r\nBenefits of my proposal:\r\n* we don't need second parameter for this function\r\n* we don't need to pass dummy value in `fundrawtransaction` RPC code\r\n* we can combine `NormalizeOutputs` and `ParseOutputs`. they are used always together and the only reason for `NormalizeOutputs` to exist now is too pass second param to `InterpretSubtractFeeFromOutputInstructions` in `send` and `walletfundpsbt` RPC. But there second parameter is useless as `subtract_fee_from_outputs` option of those RPCs can't be of the `vector<string>` type",
      "created_at": "2024-01-10T08:26:09Z",
      "updated_at": "2024-01-10T08:27:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1447033851",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1447033851"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 60,
      "original_line": 60,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1447261373",
      "pull_request_review_id": 1813021773,
      "id": 1447261373,
      "node_id": "PRRC_kwDOABII585WQ3S9",
      "diff_hunk": "@@ -78,6 +57,27 @@ static void InterpretFeeEstimationInstructions(const UniValue& conf_target, cons\n     }\n }\n \n+std::set<int> InterpretSubtractFeeFromOutputInstructions(const UniValue& sffo_instructions, const std::vector<std::string>& destinations)",
      "path": "src/wallet/rpc/spend.cpp",
      "position": 45,
      "original_position": 42,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "0b0276bb00d3511172d662a94ffd7b55adbbf2d1",
      "in_reply_to_id": 1447033851,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I prefer having a single function (as opposed to keeping the logic at the call site) for the following reasons:\r\n\r\n* We avoid duplicating code at the RPC call sites:\r\n   * The logic for validating SFFO inputs would need to be duplicated at `send`, `fundrawtx` and `walletcreatefundedpsbt`. This is the code that checks that the ints passed are not duplicated and in bounds and previously used to be inside `rpc/FundTransaction`\r\n* We have one place to validate all SFFO inputs:\r\n  * Currently, `sendmany` SFFO inputs are not validated (documented in the added functional tests)\r\n  * Having one function for parsing and validating makes it cleaner to add validation for all inputs in a follow-up PR. The only reason I'm not doing it in this PR is that its a behavior change (it could make calls to `sendmany` invalid that were previously accepted) and I'd like to keep this strictly a refactor\r\n  \r\n> we don't need second parameter for this function\r\n\r\nIn the case of `sendmany`, we do need the array of destinations to lookup their position. In the case of `send`, `walletcreatefundedpsbt`, and `fundrawtransaction`, we need the array of destinations to make sure our ints are in bounds. There are definitely other ways to do it, but it seems fine to use the same vector for lookups and size. More just making the point that the argument is always used.\r\n\r\n> we can combine NormalizeOutputs and ParseOutputs. they are used always together\r\n\r\nActually, the main goal here was to separate the logic in `AddOutputs` to get rid of duplicate validation logic in `AddOutputs` and also the original `ParseRecipients` function. `sendtoaddress` and `sendtoaddress` need the validation logic, but don't need `NormalizeOutputs` since those RPCs already only allow the user to pass a key-value pair for address and amounts.\r\n\r\nThe other RPCs (`send`, `fundrawtransaction`, `walletcreatefundedpsbt`) need the logic for parsing how the univalue is passed (`NormalizeOutputs`) and validating the addresses (`ParseOutputs`).",
      "created_at": "2024-01-10T11:38:33Z",
      "updated_at": "2024-01-10T11:38:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1447261373",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1447261373"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 60,
      "original_line": 60,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1464018197",
      "pull_request_review_id": 1839971435,
      "id": 1464018197,
      "node_id": "PRRC_kwDOABII585XQyUV",
      "diff_hunk": "@@ -97,41 +97,49 @@ UniValue NormalizeOutputs(const UniValue& outputs_in)\n     return outputs;\n }\n \n-void AddOutputs(CMutableTransaction& rawTx, const UniValue& outputs_in)\n+std::vector<std::pair<CTxDestination, CAmount>> ParseOutputs(const UniValue& outputs)\n {\n-    UniValue outputs(UniValue::VOBJ);\n-    outputs = NormalizeOutputs(outputs_in);\n-\n     // Duplicate checking\n     std::set<CTxDestination> destinations;\n+    std::vector<std::pair<CTxDestination, CAmount>> parsed_outputs;\n     bool has_data{false};\n-\n     for (const std::string& name_ : outputs.getKeys()) {\n         if (name_ == \"data\") {\n             if (has_data) {\n                 throw JSONRPCError(RPC_INVALID_PARAMETER, \"Invalid parameter, duplicate key: data\");\n             }\n             has_data = true;\n             std::vector<unsigned char> data = ParseHexV(outputs[name_].getValStr(), \"Data\");\n-\n-            CTxOut out(0, CScript() << OP_RETURN << data);\n-            rawTx.vout.push_back(out);\n+            CTxDestination destination{CNoDestination{CScript() << OP_RETURN << data}};\n+            CAmount amount{0};\n+            parsed_outputs.emplace_back(destination, amount);",
      "path": "src/rpc/rawtransaction_util.cpp",
      "position": 35,
      "original_position": 27,
      "commit_id": "18ad1b9142e91cef2f5c6a693eeb2d0fbb8c517d",
      "original_commit_id": "f7384b921c3460c7a3cc7827a68b2c613bd98f8e",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In f7384b921c3460c7a3cc7827a68b2c613bd98f8e \"refactor: move parsing to new function\"\r\n\r\nnit: Making temp variables  is not necessary.",
      "created_at": "2024-01-23T21:29:53Z",
      "updated_at": "2024-01-23T21:31:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/28560#discussion_r1464018197",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1464018197"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/28560"
        }
      },
      "start_line": 113,
      "original_start_line": 113,
      "start_side": "RIGHT",
      "line": 115,
      "original_line": 115,
      "side": "RIGHT"
    }
  ]
}