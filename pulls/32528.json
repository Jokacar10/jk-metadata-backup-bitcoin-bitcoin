{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32528",
    "id": 2524296129,
    "node_id": "PR_kwDOABII586WdbPB",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/32528",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/32528.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/32528.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32528",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32528/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32528/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32528/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/11116aa19f5173792f757276c8a58b279f18a199",
    "number": 32528,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "rpc: Round verificationprogress to 1 for a recent tip",
    "user": {
      "login": "maflcko",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maflcko",
      "html_url": "https://github.com/maflcko",
      "followers_url": "https://api.github.com/users/maflcko/followers",
      "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
      "organizations_url": "https://api.github.com/users/maflcko/orgs",
      "repos_url": "https://api.github.com/users/maflcko/repos",
      "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/maflcko/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "Some users really seem to care about this. While it shouldn't matter much, the diff is so trivial that it is probably worth doing.\r\n\r\nFixes #31127\r\n\r\nThis implements my own suggestion from https://github.com/bitcoin/bitcoin/pull/31177#issuecomment-2639659890.\r\n\r\nFor something more meaningful, it could make sense to split the field into two dedicated ones (https://github.com/bitcoin/bitcoin/issues/28847#issuecomment-1807115357), but this is left for a more involved follow-up.",
    "labels": [
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      }
    ],
    "created_at": "2025-05-16T11:22:22Z",
    "updated_at": "2025-05-20T07:00:11Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "46d38c3a1807d2369cd83ffec3255f173a7ae5a0",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "maflcko:2505-1",
      "ref": "2505-1",
      "sha": "11116aa19f5173792f757276c8a58b279f18a199",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 40046254,
        "node_id": "MDEwOlJlcG9zaXRvcnk0MDA0NjI1NA==",
        "name": "bitcoin-core",
        "full_name": "maflcko/bitcoin-core",
        "owner": {
          "login": "maflcko",
          "id": 6399679,
          "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
          "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/maflcko",
          "html_url": "https://github.com/maflcko",
          "followers_url": "https://api.github.com/users/maflcko/followers",
          "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
          "organizations_url": "https://api.github.com/users/maflcko/orgs",
          "repos_url": "https://api.github.com/users/maflcko/repos",
          "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/maflcko/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/maflcko/bitcoin-core",
        "fork": true,
        "url": "https://api.github.com/repos/maflcko/bitcoin-core",
        "archive_url": "https://api.github.com/repos/maflcko/bitcoin-core/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/maflcko/bitcoin-core/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/maflcko/bitcoin-core/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/maflcko/bitcoin-core/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/maflcko/bitcoin-core/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/maflcko/bitcoin-core/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/maflcko/bitcoin-core/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/maflcko/bitcoin-core/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/maflcko/bitcoin-core/contributors",
        "deployments_url": "https://api.github.com/repos/maflcko/bitcoin-core/deployments",
        "downloads_url": "https://api.github.com/repos/maflcko/bitcoin-core/downloads",
        "events_url": "https://api.github.com/repos/maflcko/bitcoin-core/events",
        "forks_url": "https://api.github.com/repos/maflcko/bitcoin-core/forks",
        "git_commits_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/tags%7B/sha%7D",
        "git_url": "git://github.com/maflcko/bitcoin-core.git",
        "issue_comment_url": "https://api.github.com/repos/maflcko/bitcoin-core/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/maflcko/bitcoin-core/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/maflcko/bitcoin-core/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/maflcko/bitcoin-core/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/maflcko/bitcoin-core/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/maflcko/bitcoin-core/languages",
        "merges_url": "https://api.github.com/repos/maflcko/bitcoin-core/merges",
        "milestones_url": "https://api.github.com/repos/maflcko/bitcoin-core/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/maflcko/bitcoin-core/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/maflcko/bitcoin-core/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/maflcko/bitcoin-core/releases%7B/id%7D",
        "ssh_url": "git@github.com:maflcko/bitcoin-core.git",
        "stargazers_url": "https://api.github.com/repos/maflcko/bitcoin-core/stargazers",
        "statuses_url": "https://api.github.com/repos/maflcko/bitcoin-core/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/maflcko/bitcoin-core/subscribers",
        "subscription_url": "https://api.github.com/repos/maflcko/bitcoin-core/subscription",
        "tags_url": "https://api.github.com/repos/maflcko/bitcoin-core/tags",
        "teams_url": "https://api.github.com/repos/maflcko/bitcoin-core/teams",
        "trees_url": "https://api.github.com/repos/maflcko/bitcoin-core/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/maflcko/bitcoin-core.git",
        "hooks_url": "https://api.github.com/repos/maflcko/bitcoin-core/hooks",
        "svn_url": "https://github.com/maflcko/bitcoin-core",
        "homepage": "",
        "language": "C++",
        "forks_count": 9,
        "stargazers_count": 27,
        "watchers_count": 27,
        "size": 249870,
        "default_branch": "master",
        "open_issues_count": 14,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-05-20T04:51:07Z",
        "created_at": "2015-08-01T12:42:47Z",
        "updated_at": "2025-01-22T17:43:41Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "04c6c961b65717e9610ff0d14670237e49d332a9",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37245,
        "stargazers_count": 83672,
        "watchers_count": 83672,
        "size": 282151,
        "default_branch": "master",
        "open_issues_count": 735,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-05-19T19:50:57Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-05-20T04:32:49Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32528"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 22,
    "deletions": 5,
    "changed_files": 3,
    "commits": 2,
    "review_comments": 7,
    "comments": 9
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZhMDYxM2RiMDhkOTE4OTA0ZTdlNDg0MDIxNTI3NjhiMDUyMDY1MGI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa0613db08d918904e7e48402152768b0520650b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fa0613db08d918904e7e48402152768b0520650b",
      "tree": {
        "sha": "b3238488faa05cedb573957c1cce4c7f0701c0a1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b3238488faa05cedb573957c1cce4c7f0701c0a1"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree b3238488faa05cedb573957c1cce4c7f0701c0a1\nparent c521192d8b9ebbca443806465398c57a181e3ad0\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1747393449 +0200\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1747394136 +0200\n\ntest: Use mockable time in GuessVerificationProgress\n\nAlso add a test.\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQMe4TMOe4k9XxMH0fN6KwNKF1XwaFVDrm5hf9f6AVu3s+PjjnM7kG3ZTJu7a1uRt3w\n34OmRrftrcEZBG+RRNZQ4=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c521192d8b9ebbca443806465398c57a181e3ad0",
          "sha": "c521192d8b9ebbca443806465398c57a181e3ad0",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c521192d8b9ebbca443806465398c57a181e3ad0"
        }
      ],
      "message": "test: Use mockable time in GuessVerificationProgress\n\nAlso add a test.",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-05-16T11:15:36Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-05-16T11:04:09Z"
      },
      "sha": "fa0613db08d918904e7e48402152768b0520650b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDExMTE2YWExOWY1MTczNzkyZjc1NzI3NmM4YTU4YjI3OWYxOGExOTk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/11116aa19f5173792f757276c8a58b279f18a199",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/11116aa19f5173792f757276c8a58b279f18a199",
      "tree": {
        "sha": "f1d270011c1f34397a129ffd19c0f31da5aa2892",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f1d270011c1f34397a129ffd19c0f31da5aa2892"
      },
      "verification": {
        "verified": false,
        "reason": "no_user",
        "payload": "tree f1d270011c1f34397a129ffd19c0f31da5aa2892\nparent fa0613db08d918904e7e48402152768b0520650b\nauthor MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1747394489 +0200\ncommitter MarcoFalke <*~=`'#}+{/-|&$^_@721217.xyz> 1747394162 +0200\n\nrpc: Round verificationprogress to exactly 1 for a recent tip\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgqxY/aMPiuXoCFn6iAEyAhvUqFX\njanTudd31Jtt35ct0AAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQODAPDyEBbLSJs3E55u9TbsvvoR/kq2NNyHXKqg86VEsDT7jndQqdrtLxwRJZc4QJX\n4vLd+cnNKHnbqfaMEK6g8=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa0613db08d918904e7e48402152768b0520650b",
          "sha": "fa0613db08d918904e7e48402152768b0520650b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fa0613db08d918904e7e48402152768b0520650b"
        }
      ],
      "message": "rpc: Round verificationprogress to exactly 1 for a recent tip",
      "committer": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-05-16T11:16:02Z"
      },
      "author": {
        "name": "MarcoFalke",
        "email": "*~=`'#}+{/-|&$^_@721217.xyz",
        "date": "2025-05-16T11:21:29Z"
      },
      "sha": "11116aa19f5173792f757276c8a58b279f18a199"
    },
    {
      "event": "commented",
      "id": 2886441162,
      "node_id": "IC_kwDOABII586sC5jK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2886441162",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-16T11:22:26Z",
      "updated_at": "2025-05-19T23:43:40Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32528.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [pinheadmz](https://github.com/bitcoin/bitcoin/pull/32528#pullrequestreview-2846776698) |\n| Concept ACK | [jonatack](https://github.com/bitcoin/bitcoin/pull/32528#issuecomment-2886931577), [polespinasa](https://github.com/bitcoin/bitcoin/pull/32528#pullrequestreview-2848344096), [jasonribble](https://github.com/bitcoin/bitcoin/pull/32528#issuecomment-2892521248) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32528#issuecomment-2886441162",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32528"
    },
    {
      "event": "renamed",
      "id": 17687371729,
      "node_id": "RTE_lADOABII58626RR1zwAAAAQeP9_R",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17687371729",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-16T11:22:34Z",
      "rename": {
        "from": " rpc: Round verificationprogress to 1 for a recent tip ",
        "to": "rpc: Round verificationprogress to 1 for a recent tip"
      }
    },
    {
      "event": "labeled",
      "id": 17687371876,
      "node_id": "LE_lADOABII58626RR1zwAAAAQeP-Bk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17687371876",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-16T11:22:35Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "reviewed",
      "id": 2846776698,
      "node_id": "PRR_kwDOABII586prl16",
      "url": null,
      "actor": null,
      "commit_id": "11116aa19f5173792f757276c8a58b279f18a199",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK 11116aa19f5173792f757276c8a58b279f18a199\r\n\r\nBuilt and tested on macos/arm64. Reviewed the code. Grudgingly I accept that this is a user complaint that will never go away and since the PR only updates the UI I'm ok with it after all.\r\n\r\n`guessVerificationProgress()` will now return `1` if the timestamp in the chain tip is within the last two hours. (Probably should have a release note?)\r\n\r\nThat gives the following result in the log when I finished syncing my mainnet full node (at about 13:40:00 UTC):\r\n\r\n```\r\nheight=896951 date='2025-05-16T09:17:23Z' progress=0.999967\r\nheight=896952 date='2025-05-16T09:27:05Z' progress=0.999969\r\nheight=896953 date='2025-05-16T09:57:42Z' progress=0.999976\r\nheight=896954 date='2025-05-16T10:02:10Z' progress=0.999977\r\nheight=896955 date='2025-05-16T10:13:23Z' progress=0.999980\r\nheight=896956 date='2025-05-16T10:14:26Z' progress=0.999980\r\nheight=896957 date='2025-05-16T10:18:47Z' progress=0.999981\r\nheight=896958 date='2025-05-16T10:42:15Z' progress=0.999986\r\nheight=896959 date='2025-05-16T11:52:58Z' progress=1.000000\r\nheight=896960 date='2025-05-16T11:54:12Z' progress=1.000000\r\nheight=896961 date='2025-05-16T11:59:16Z' progress=1.000000\r\nheight=896962 date='2025-05-16T11:59:17Z' progress=1.000000\r\nheight=896963 date='2025-05-16T12:10:47Z' progress=1.000000\r\nheight=896964 date='2025-05-16T12:13:21Z' progress=1.000000\r\nheight=896965 date='2025-05-16T12:38:33Z' progress=1.000000\r\nheight=896966 date='2025-05-16T12:38:43Z' progress=1.000000\r\nheight=896967 date='2025-05-16T12:45:46Z' progress=1.000000\r\nheight=896968 date='2025-05-16T12:47:09Z' progress=1.000000\r\nheight=896969 date='2025-05-16T13:07:02Z' progress=1.000000\r\nheight=896970 date='2025-05-16T13:19:45Z' progress=1.000000\r\n\r\n```\r\n\r\nThe only other place the \"guess\" is called is during wallet rescan. I tried to fill up a wallet with descriptors and start a rescan to try and catch a \"progress: 100%\" in the logs but couldn't nail it after a few attempts, which is a good thing. Those log messages look like this:\r\n\r\n- `Still rescanning. At block 896884. Progress=0.999814`\r\n- `Rescan interrupted by shutdown request at block 896735. Progress=0.999468`\r\n\r\nI also tried a rescan in the GUI but its just a progress bar, no integer percentage and the last ~12 blocks are processed fast enough that I think even seeing a complete-looking status for a few extra seconds is worth that glowing smile on the user's face ;-)\r\n\r\n<details><summary>Show Signature</summary>\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA256\r\n\r\nACK 11116aa19f5173792f757276c8a58b279f18a199\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQIzBAEBCAAdFiEE5hdzzW4BBA4vG9eM5+KYS2KJyToFAmgnRqEACgkQ5+KYS2KJ\r\nyToGIQ//Ysxl/euuLbz/Wq/F2abHwOb/jOcKVHe8kZjtYokr2yCENPWA+RfqNtKP\r\nKKJZbsilvUa8YAFl683opJj0m92M7G+dU3m2Opq/+VwuVlrfF8AHHxYgV2MK3E+U\r\ncsK4QjeHBrXsWsMKv31sEL7ogG/oQ67EMiuFPjTzQpNsnZDiRUPwRE4bSefmQ4Jw\r\neS2m/Jp3bVxCjCweFamsUVg/WtNeIDPcxa95cIeY9WarWOsFqmZR2wGsirICDVvj\r\nK74AD6zq5YV7jMI8DVcYHGfd95/stydV+J9CA3XVeQQDHv1NtVcZQBGFpubT7k4O\r\nKlUVUKmFF1TfExAwfJYgY98u6NoXQ811XvTQgZh9WC1OmxWucyUdpVWsZbMMdFz2\r\nMhA46Z5lpgb23rPW57+U/MzczMFWKSS9jWCDF/9GA0PwZnox+73Wlrtk/A+Sgs1D\r\nHSv+6OYRrrw19rbzflEz1KN+ON0jxBVrtW5kl0xNmZmrJO5ON9jJS0aojZTT3kDT\r\n2ON34yQjS9ySFVsxPQdsQ+JuNd0mfK/DZz0v5VbirEp/gSv3xczHDkfxSQz9cldY\r\nm01cq+jIaczpCKSvIQneO61f+Pfw4SixQm3TUv3NVSte4syAU811pyC74NLBxtDj\r\nqwMimuHlydKd4D0jPbqO3/lj85b6nuytIIenResP5aZmiLuh9f8=\r\n=Ub9B\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\npinheadmz's public key is [on openpgp.org](https://keys.openpgp.org/vks/v1/by-fingerprint/E61773CD6E01040E2F1BD78CE7E2984B6289C93A)\r\n</details>\r\n",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32528#pullrequestreview-2846776698",
      "submitted_at": "2025-05-16T14:14:55Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32528"
    },
    {
      "event": "commented",
      "id": 2886877605,
      "node_id": "IC_kwDOABII586sEkGl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2886877605",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-16T14:26:02Z",
      "updated_at": "2025-05-16T14:26:02Z",
      "author_association": "CONTRIBUTOR",
      "body": "Will this show `progress=1.000000` before the last block as well?\r\nI find that more confusing than `0.999999` for the last one.",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32528#issuecomment-2886877605",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32528"
    },
    {
      "event": "commented",
      "id": 2886905244,
      "node_id": "IC_kwDOABII586sEq2c",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2886905244",
      "actor": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-16T14:35:50Z",
      "updated_at": "2025-05-16T14:35:50Z",
      "author_association": "MEMBER",
      "body": "> Will this show `progress=1.000000` before the last block as well?\r\n\r\nHow do you define \"last block\"? Or, more to the point, how does your full node \"know\" there are no more blocks out there? That's always been the UX issue, it's not accurate to ever claim we are 100% certain we are 100% synced.",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32528#issuecomment-2886905244",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32528"
    },
    {
      "event": "commented",
      "id": 2886912645,
      "node_id": "IC_kwDOABII586sEsqF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2886912645",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-16T14:38:18Z",
      "updated_at": "2025-05-16T14:38:18Z",
      "author_association": "CONTRIBUTOR",
      "body": "So what does the percentage mean if there's no fixed target value in the first place?",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32528#issuecomment-2886912645",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32528"
    },
    {
      "event": "commented",
      "id": 2886930544,
      "node_id": "IC_kwDOABII586sExBw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2886930544",
      "actor": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-16T14:44:29Z",
      "updated_at": "2025-05-16T14:44:29Z",
      "author_association": "MEMBER",
      "body": "After this PR, it will mean your chain tip's timestamp is within 2 hours of now. ",
      "user": {
        "login": "pinheadmz",
        "id": 2084648,
        "node_id": "MDQ6VXNlcjIwODQ2NDg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2084648?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pinheadmz",
        "html_url": "https://github.com/pinheadmz",
        "followers_url": "https://api.github.com/users/pinheadmz/followers",
        "following_url": "https://api.github.com/users/pinheadmz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pinheadmz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pinheadmz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pinheadmz/subscriptions",
        "organizations_url": "https://api.github.com/users/pinheadmz/orgs",
        "repos_url": "https://api.github.com/users/pinheadmz/repos",
        "events_url": "https://api.github.com/users/pinheadmz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pinheadmz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32528#issuecomment-2886930544",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32528"
    },
    {
      "event": "commented",
      "id": 2886931577,
      "node_id": "IC_kwDOABII586sExR5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2886931577",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-16T14:44:53Z",
      "updated_at": "2025-05-16T14:44:53Z",
      "author_association": "MEMBER",
      "body": "Concept ACK",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32528#issuecomment-2886931577",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32528"
    },
    {
      "event": "commented",
      "id": 2886989763,
      "node_id": "IC_kwDOABII586sE_fD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2886989763",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-16T15:05:34Z",
      "updated_at": "2025-05-16T15:05:34Z",
      "author_association": "MEMBER",
      "body": "> After this PR, it will mean your chain tip's timestamp is within 2 hours of now.\r\n\r\nI think that's a worse cure than the disease. In case we **know** there are unprocessed blocks in the chain (because we have their headers), we shouldn't say progress: 1.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32528#issuecomment-2886989763",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32528"
    },
    {
      "event": "commented",
      "id": 2887022304,
      "node_id": "IC_kwDOABII586sFHbg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2887022304",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-16T15:17:15Z",
      "updated_at": "2025-05-16T15:20:00Z",
      "author_association": "MEMBER",
      "body": "> > After this PR, it will mean your chain tip's timestamp is within 2 hours of now.\r\n> \r\n> I think that's a worse cure than the disease. In case we **know** there are unprocessed blocks in the chain (because we have their headers), we shouldn't say progress: 1.\r\n\r\nI don't think this is making anything worse. This is already possible on current master, when a miner sets the timestamp to a future one (compared to your time), even if there are still blocks ahead.\r\n\r\nEdit: In such cases we'd even return a value *larger* than 1. This was fixed in 2f5f7d6b135e4eab368bbafd9e6e979aa72398de",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32528#issuecomment-2887022304",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32528"
    },
    {
      "event": "reviewed",
      "id": 2848344096,
      "node_id": "PRR_kwDOABII586pxkgg",
      "url": null,
      "actor": null,
      "commit_id": "11116aa19f5173792f757276c8a58b279f18a199",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "cACK",
      "user": {
        "login": "polespinasa",
        "id": 57642229,
        "node_id": "MDQ6VXNlcjU3NjQyMjI5",
        "avatar_url": "https://avatars.githubusercontent.com/u/57642229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/polespinasa",
        "html_url": "https://github.com/polespinasa",
        "followers_url": "https://api.github.com/users/polespinasa/followers",
        "following_url": "https://api.github.com/users/polespinasa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/polespinasa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/polespinasa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/polespinasa/subscriptions",
        "organizations_url": "https://api.github.com/users/polespinasa/orgs",
        "repos_url": "https://api.github.com/users/polespinasa/repos",
        "events_url": "https://api.github.com/users/polespinasa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/polespinasa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32528#pullrequestreview-2848344096",
      "submitted_at": "2025-05-17T16:21:04Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32528"
    },
    {
      "event": "commented",
      "id": 2892521248,
      "node_id": "IC_kwDOABII586saF8g",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2892521248",
      "actor": {
        "login": "jasonribble",
        "id": 80722374,
        "node_id": "MDQ6VXNlcjgwNzIyMzc0",
        "avatar_url": "https://avatars.githubusercontent.com/u/80722374?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jasonribble",
        "html_url": "https://github.com/jasonribble",
        "followers_url": "https://api.github.com/users/jasonribble/followers",
        "following_url": "https://api.github.com/users/jasonribble/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jasonribble/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jasonribble/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jasonribble/subscriptions",
        "organizations_url": "https://api.github.com/users/jasonribble/orgs",
        "repos_url": "https://api.github.com/users/jasonribble/repos",
        "events_url": "https://api.github.com/users/jasonribble/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jasonribble/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-19T23:43:37Z",
      "updated_at": "2025-05-19T23:43:37Z",
      "author_association": "NONE",
      "body": "cACK",
      "user": {
        "login": "jasonribble",
        "id": 80722374,
        "node_id": "MDQ6VXNlcjgwNzIyMzc0",
        "avatar_url": "https://avatars.githubusercontent.com/u/80722374?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jasonribble",
        "html_url": "https://github.com/jasonribble",
        "followers_url": "https://api.github.com/users/jasonribble/followers",
        "following_url": "https://api.github.com/users/jasonribble/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jasonribble/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jasonribble/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jasonribble/subscriptions",
        "organizations_url": "https://api.github.com/users/jasonribble/orgs",
        "repos_url": "https://api.github.com/users/jasonribble/repos",
        "events_url": "https://api.github.com/users/jasonribble/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jasonribble/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32528#issuecomment-2892521248",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32528"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2094159634",
      "pull_request_review_id": 2848344096,
      "id": 2094159634,
      "node_id": "PRRC_kwDOABII58580lcS",
      "diff_hunk": "@@ -5572,14 +5572,21 @@ double ChainstateManager::GuessVerificationProgress(const CBlockIndex* pindex) c\n         return 0.0;\n     }\n \n-    int64_t nNow = time(nullptr);\n+    const int64_t nNow{TicksSinceEpoch<std::chrono::seconds>(NodeClock::now())};\n+    // The block time is picked by a miner and may not be accurate. The exact\n+    // value does not matter anyway in relation to the full chain age. Thus it\n+    // is fine to add a random offset, because some users really want to see a\n+    // verificationprogress of exactly \"1.0\" once they are close to the tip.\n+    // The progress is clamped before returning to at most \"1.0\", even if the\n+    // miner set a timestamp off from the real time.\n+    const auto block_time{pindex->GetBlockTime() + Ticks<std::chrono::seconds>(2h)};",
      "path": "src/validation.cpp",
      "position": 12,
      "original_position": 12,
      "commit_id": "11116aa19f5173792f757276c8a58b279f18a199",
      "original_commit_id": "11116aa19f5173792f757276c8a58b279f18a199",
      "in_reply_to_id": null,
      "user": {
        "login": "polespinasa",
        "id": 57642229,
        "node_id": "MDQ6VXNlcjU3NjQyMjI5",
        "avatar_url": "https://avatars.githubusercontent.com/u/57642229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/polespinasa",
        "html_url": "https://github.com/polespinasa",
        "followers_url": "https://api.github.com/users/polespinasa/followers",
        "following_url": "https://api.github.com/users/polespinasa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/polespinasa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/polespinasa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/polespinasa/subscriptions",
        "organizations_url": "https://api.github.com/users/polespinasa/orgs",
        "repos_url": "https://api.github.com/users/polespinasa/repos",
        "events_url": "https://api.github.com/users/polespinasa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/polespinasa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> In case we know there are unprocessed blocks in the chain (because we have their headers), we shouldn't say progress: 1\r\n\r\nI agree we should not return 1 if we didn't verify the last block we know (we don't want Core to lie to users 😉)\r\n\r\nWhat if we do something like:\r\n```c++\r\nconst auto block_time{(pindex->nHeight == m_best_header->nHeight && pindex->nChainWork == m_best_header->nChainWork) \r\n    ? pindex->GetBlockTime() + Ticks<std::chrono::seconds>(2h) \r\n    : pindex->GetBlockTime()};\r\n```\r\n\r\nSo we return 1 if we are in the best known header and inside the two hours offset.\r\n\r\n```\r\n2025-05-19T22:32:55Z UpdateTip: new best=000000000000000000007de21c2c10adec3376d6f0c69f24ba143dc572497b87 height=897462 version=0x202c2000 log2_work=95.617541 tx=1192584903 date='2025-05-19T22:05:52Z' progress=0.999994 cache=111.4MiB(825445txo)\r\n2025-05-19T22:32:55Z UpdateTip: new best=00000000000000000001efdca54c71c76ae3c06b54598ff50fc20b48a01149ab height=897463 version=0x292e4000 log2_work=95.617554 tx=1192586948 date='2025-05-19T22:07:05Z' progress=1.000000 cache=111.9MiB(829042txo)\r\n```\r\n```\r\n$ bitcoin-cli getblockchaininfo\r\n  \"chain\": \"main\",\r\n  \"blocks\": 897463,\r\n  \"headers\": 897463,\r\n....\r\n  \"verificationprogress\": 1,\r\n...\r\n```",
      "created_at": "2025-05-17T16:20:51Z",
      "updated_at": "2025-05-19T22:40:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32528#discussion_r2094159634",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2094159634"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32528"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 5582,
      "original_line": 5582,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2096561613",
      "pull_request_review_id": 2852110320,
      "id": 2096561613,
      "node_id": "PRRC_kwDOABII58589v3N",
      "diff_hunk": "@@ -5572,14 +5572,21 @@ double ChainstateManager::GuessVerificationProgress(const CBlockIndex* pindex) c\n         return 0.0;\n     }\n \n-    int64_t nNow = time(nullptr);\n+    const int64_t nNow{TicksSinceEpoch<std::chrono::seconds>(NodeClock::now())};\n+    // The block time is picked by a miner and may not be accurate. The exact\n+    // value does not matter anyway in relation to the full chain age. Thus it\n+    // is fine to add a random offset, because some users really want to see a\n+    // verificationprogress of exactly \"1.0\" once they are close to the tip.\n+    // The progress is clamped before returning to at most \"1.0\", even if the\n+    // miner set a timestamp off from the real time.\n+    const auto block_time{pindex->GetBlockTime() + Ticks<std::chrono::seconds>(2h)};",
      "path": "src/validation.cpp",
      "position": 12,
      "original_position": 12,
      "commit_id": "11116aa19f5173792f757276c8a58b279f18a199",
      "original_commit_id": "11116aa19f5173792f757276c8a58b279f18a199",
      "in_reply_to_id": 2094159634,
      "user": {
        "login": "jasonribble",
        "id": 80722374,
        "node_id": "MDQ6VXNlcjgwNzIyMzc0",
        "avatar_url": "https://avatars.githubusercontent.com/u/80722374?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jasonribble",
        "html_url": "https://github.com/jasonribble",
        "followers_url": "https://api.github.com/users/jasonribble/followers",
        "following_url": "https://api.github.com/users/jasonribble/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jasonribble/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jasonribble/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jasonribble/subscriptions",
        "organizations_url": "https://api.github.com/users/jasonribble/orgs",
        "repos_url": "https://api.github.com/users/jasonribble/repos",
        "events_url": "https://api.github.com/users/jasonribble/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jasonribble/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "What's the benefit of doing it this way? /curi",
      "created_at": "2025-05-19T22:24:56Z",
      "updated_at": "2025-05-19T22:24:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32528#discussion_r2096561613",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2096561613"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32528"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 5582,
      "original_line": 5582,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2096569684",
      "pull_request_review_id": 2852121961,
      "id": 2096569684,
      "node_id": "PRRC_kwDOABII58589x1U",
      "diff_hunk": "@@ -5572,14 +5572,21 @@ double ChainstateManager::GuessVerificationProgress(const CBlockIndex* pindex) c\n         return 0.0;\n     }\n \n-    int64_t nNow = time(nullptr);\n+    const int64_t nNow{TicksSinceEpoch<std::chrono::seconds>(NodeClock::now())};\n+    // The block time is picked by a miner and may not be accurate. The exact\n+    // value does not matter anyway in relation to the full chain age. Thus it\n+    // is fine to add a random offset, because some users really want to see a\n+    // verificationprogress of exactly \"1.0\" once they are close to the tip.\n+    // The progress is clamped before returning to at most \"1.0\", even if the\n+    // miner set a timestamp off from the real time.\n+    const auto block_time{pindex->GetBlockTime() + Ticks<std::chrono::seconds>(2h)};",
      "path": "src/validation.cpp",
      "position": 12,
      "original_position": 12,
      "commit_id": "11116aa19f5173792f757276c8a58b279f18a199",
      "original_commit_id": "11116aa19f5173792f757276c8a58b279f18a199",
      "in_reply_to_id": 2094159634,
      "user": {
        "login": "polespinasa",
        "id": 57642229,
        "node_id": "MDQ6VXNlcjU3NjQyMjI5",
        "avatar_url": "https://avatars.githubusercontent.com/u/57642229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/polespinasa",
        "html_url": "https://github.com/polespinasa",
        "followers_url": "https://api.github.com/users/polespinasa/followers",
        "following_url": "https://api.github.com/users/polespinasa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/polespinasa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/polespinasa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/polespinasa/subscriptions",
        "organizations_url": "https://api.github.com/users/polespinasa/orgs",
        "repos_url": "https://api.github.com/users/polespinasa/repos",
        "events_url": "https://api.github.com/users/polespinasa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/polespinasa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> What's the benefit of doing it this way? /curi\r\n\r\nBy checking if the last block verified is the one matching the last best header known, we avoid previous blocks inside the 2h offset return `verificationprogress=1`.\r\n",
      "created_at": "2025-05-19T22:35:50Z",
      "updated_at": "2025-05-19T22:35:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32528#discussion_r2096569684",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2096569684"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32528"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 5582,
      "original_line": 5582,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2096614639",
      "pull_request_review_id": 2852188621,
      "id": 2096614639,
      "node_id": "PRRC_kwDOABII585898zv",
      "diff_hunk": "@@ -5572,14 +5572,21 @@ double ChainstateManager::GuessVerificationProgress(const CBlockIndex* pindex) c\n         return 0.0;\n     }\n \n-    int64_t nNow = time(nullptr);\n+    const int64_t nNow{TicksSinceEpoch<std::chrono::seconds>(NodeClock::now())};\n+    // The block time is picked by a miner and may not be accurate. The exact\n+    // value does not matter anyway in relation to the full chain age. Thus it\n+    // is fine to add a random offset, because some users really want to see a\n+    // verificationprogress of exactly \"1.0\" once they are close to the tip.\n+    // The progress is clamped before returning to at most \"1.0\", even if the\n+    // miner set a timestamp off from the real time.\n+    const auto block_time{pindex->GetBlockTime() + Ticks<std::chrono::seconds>(2h)};",
      "path": "src/validation.cpp",
      "position": 12,
      "original_position": 12,
      "commit_id": "11116aa19f5173792f757276c8a58b279f18a199",
      "original_commit_id": "11116aa19f5173792f757276c8a58b279f18a199",
      "in_reply_to_id": 2094159634,
      "user": {
        "login": "jasonribble",
        "id": 80722374,
        "node_id": "MDQ6VXNlcjgwNzIyMzc0",
        "avatar_url": "https://avatars.githubusercontent.com/u/80722374?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jasonribble",
        "html_url": "https://github.com/jasonribble",
        "followers_url": "https://api.github.com/users/jasonribble/followers",
        "following_url": "https://api.github.com/users/jasonribble/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jasonribble/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jasonribble/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jasonribble/subscriptions",
        "organizations_url": "https://api.github.com/users/jasonribble/orgs",
        "repos_url": "https://api.github.com/users/jasonribble/repos",
        "events_url": "https://api.github.com/users/jasonribble/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jasonribble/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Good moves. I like ternary.",
      "created_at": "2025-05-19T23:42:54Z",
      "updated_at": "2025-05-19T23:42:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32528#discussion_r2096614639",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2096614639"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32528"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 5582,
      "original_line": 5582,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2096615053",
      "pull_request_review_id": 2852189133,
      "id": 2096615053,
      "node_id": "PRRC_kwDOABII5858986N",
      "diff_hunk": "@@ -5572,14 +5572,21 @@ double ChainstateManager::GuessVerificationProgress(const CBlockIndex* pindex) c\n         return 0.0;\n     }\n \n-    int64_t nNow = time(nullptr);\n+    const int64_t nNow{TicksSinceEpoch<std::chrono::seconds>(NodeClock::now())};\n+    // The block time is picked by a miner and may not be accurate. The exact\n+    // value does not matter anyway in relation to the full chain age. Thus it\n+    // is fine to add a random offset, because some users really want to see a\n+    // verificationprogress of exactly \"1.0\" once they are close to the tip.\n+    // The progress is clamped before returning to at most \"1.0\", even if the\n+    // miner set a timestamp off from the real time.\n+    const auto block_time{pindex->GetBlockTime() + Ticks<std::chrono::seconds>(2h)};",
      "path": "src/validation.cpp",
      "position": 12,
      "original_position": 12,
      "commit_id": "11116aa19f5173792f757276c8a58b279f18a199",
      "original_commit_id": "11116aa19f5173792f757276c8a58b279f18a199",
      "in_reply_to_id": 2094159634,
      "user": {
        "login": "jasonribble",
        "id": 80722374,
        "node_id": "MDQ6VXNlcjgwNzIyMzc0",
        "avatar_url": "https://avatars.githubusercontent.com/u/80722374?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jasonribble",
        "html_url": "https://github.com/jasonribble",
        "followers_url": "https://api.github.com/users/jasonribble/followers",
        "following_url": "https://api.github.com/users/jasonribble/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jasonribble/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jasonribble/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jasonribble/subscriptions",
        "organizations_url": "https://api.github.com/users/jasonribble/orgs",
        "repos_url": "https://api.github.com/users/jasonribble/repos",
        "events_url": "https://api.github.com/users/jasonribble/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jasonribble/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "But doesn't the current code already solve the problem? ",
      "created_at": "2025-05-19T23:43:28Z",
      "updated_at": "2025-05-19T23:43:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32528#discussion_r2096615053",
      "author_association": "NONE",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2096615053"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32528"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 5582,
      "original_line": 5582,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2097026058",
      "pull_request_review_id": 2852767919,
      "id": 2097026058,
      "node_id": "PRRC_kwDOABII5858_hQK",
      "diff_hunk": "@@ -5572,14 +5572,21 @@ double ChainstateManager::GuessVerificationProgress(const CBlockIndex* pindex) c\n         return 0.0;\n     }\n \n-    int64_t nNow = time(nullptr);\n+    const int64_t nNow{TicksSinceEpoch<std::chrono::seconds>(NodeClock::now())};\n+    // The block time is picked by a miner and may not be accurate. The exact\n+    // value does not matter anyway in relation to the full chain age. Thus it\n+    // is fine to add a random offset, because some users really want to see a\n+    // verificationprogress of exactly \"1.0\" once they are close to the tip.\n+    // The progress is clamped before returning to at most \"1.0\", even if the\n+    // miner set a timestamp off from the real time.\n+    const auto block_time{pindex->GetBlockTime() + Ticks<std::chrono::seconds>(2h)};",
      "path": "src/validation.cpp",
      "position": 12,
      "original_position": 12,
      "commit_id": "11116aa19f5173792f757276c8a58b279f18a199",
      "original_commit_id": "11116aa19f5173792f757276c8a58b279f18a199",
      "in_reply_to_id": 2094159634,
      "user": {
        "login": "polespinasa",
        "id": 57642229,
        "node_id": "MDQ6VXNlcjU3NjQyMjI5",
        "avatar_url": "https://avatars.githubusercontent.com/u/57642229?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/polespinasa",
        "html_url": "https://github.com/polespinasa",
        "followers_url": "https://api.github.com/users/polespinasa/followers",
        "following_url": "https://api.github.com/users/polespinasa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/polespinasa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/polespinasa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/polespinasa/subscriptions",
        "organizations_url": "https://api.github.com/users/polespinasa/orgs",
        "repos_url": "https://api.github.com/users/polespinasa/repos",
        "events_url": "https://api.github.com/users/polespinasa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/polespinasa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> But doesn't the current code already solve the problem?\r\n\r\nNo, maflcko proposal returns `verificationprogress=1` when the last verified block is within a 2h offset of our local time.",
      "created_at": "2025-05-20T06:25:16Z",
      "updated_at": "2025-05-20T06:25:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32528#discussion_r2097026058",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2097026058"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32528"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 5582,
      "original_line": 5582,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2097134143",
      "pull_request_review_id": 2852911933,
      "id": 2097134143,
      "node_id": "PRRC_kwDOABII5858_7o_",
      "diff_hunk": "@@ -5572,14 +5572,21 @@ double ChainstateManager::GuessVerificationProgress(const CBlockIndex* pindex) c\n         return 0.0;\n     }\n \n-    int64_t nNow = time(nullptr);\n+    const int64_t nNow{TicksSinceEpoch<std::chrono::seconds>(NodeClock::now())};\n+    // The block time is picked by a miner and may not be accurate. The exact\n+    // value does not matter anyway in relation to the full chain age. Thus it\n+    // is fine to add a random offset, because some users really want to see a\n+    // verificationprogress of exactly \"1.0\" once they are close to the tip.\n+    // The progress is clamped before returning to at most \"1.0\", even if the\n+    // miner set a timestamp off from the real time.\n+    const auto block_time{pindex->GetBlockTime() + Ticks<std::chrono::seconds>(2h)};",
      "path": "src/validation.cpp",
      "position": 12,
      "original_position": 12,
      "commit_id": "11116aa19f5173792f757276c8a58b279f18a199",
      "original_commit_id": "11116aa19f5173792f757276c8a58b279f18a199",
      "in_reply_to_id": 2094159634,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> lie to users\r\n\r\nAgain, this can happen on current master already. Also, it can happen with your suggested diff. The only reliable way to not rely on the exact value of remotely miner-set timestamps would be to not use them, but that is a more involved patch.",
      "created_at": "2025-05-20T07:00:11Z",
      "updated_at": "2025-05-20T07:00:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32528#discussion_r2097134143",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2097134143"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32528"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 5582,
      "original_line": 5582,
      "side": "RIGHT"
    }
  ]
}