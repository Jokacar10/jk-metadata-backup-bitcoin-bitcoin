{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32043",
    "id": 2388629186,
    "node_id": "PR_kwDOABII586OX5bC",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/32043",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/32043.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/32043.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32043",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32043/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32043/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32043/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/e751cba7e26e4e149643e5b7c18b152908e8deec",
    "number": 32043,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "[IBD] Tracking PR for speeding up Initial Block Download",
    "user": {
      "login": "l0rinc",
      "id": 1841944,
      "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l0rinc",
      "html_url": "https://github.com/l0rinc",
      "followers_url": "https://api.github.com/users/l0rinc/followers",
      "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
      "organizations_url": "https://api.github.com/users/l0rinc/orgs",
      "repos_url": "https://api.github.com/users/l0rinc/repos",
      "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/l0rinc/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "During the last Core Dev meeting, it was proposed to create a tracking PR aggregating the individual IBD optimizations - to illustrate how these changes contribute to the broader performance improvement efforts.\r\n\r\n## Summary: **18%** full IBD speedup\r\nWe don't have many low-hanging fruits anymore, but big speed improvements can also be achieved by many small, focused changes.\r\nMany optimization opportunities are hiding in consensus critical code - this tracking PR provides justification for why those should also be considered.\r\nThe unmerged changes here collectively achieve a **~18%** speedup for full IBD (measured by multiple real runs until 886'000 blocks using 5GiB in-memory cache): from **8.59 hours** on master to **7.25 hours** for the PR.\r\n\r\nAnyone can (and is encouraged to) reproduce the results by following this guide: https://gist.github.com/l0rinc/83d2bdfce378ad7396610095ceb7bed5\r\n\r\n## PRs included here (in review priority order):\r\n* [ ] https://github.com/bitcoin/bitcoin/pull/31551\r\n* [ ] https://github.com/bitcoin/bitcoin/pull/31645\r\n* [ ] https://github.com/bitcoin/bitcoin/pull/31144\r\n* [ ] https://github.com/bitcoin/bitcoin/pull/32279\r\n* [ ] https://github.com/bitcoin/bitcoin/pull/30442\r\n* [ ] https://github.com/bitcoin/bitcoin/pull/31868\r\n* [ ] https://github.com/bitcoin/bitcoin/pull/31682\r\n\r\n## Changing trends\r\nThe UTXO count and average block size have drastically increased in the past few years, providing a better overall picture of how Bitcoin behaves under real load.\r\n[<img width=\"500\" alt=\"image\" src=\"https://github.com/user-attachments/assets/d257b864-d9de-4f9d-b61b-acc6835f384f\" />](https://www.blockchain.com/explorer/charts/avg-block-size)\r\nProfiling IBD, given these circumstances, revealed many new optimization opportunities.\r\n\r\n## Similar efforts in the past years\r\n\r\nThere were many efforts to make sure Bitcoin Core remains performant in light of these new trends, a few recent notable examples include:\r\n* https://github.com/bitcoin/bitcoin/pull/25325 - use specialized pool allocator for in-memory cache (~21% faster IBD)\r\n* https://github.com/bitcoin/bitcoin/pull/28358 - allow the full UTXO set to fit into memory\r\n* https://github.com/bitcoin/bitcoin/pull/28280#issuecomment-2273368482 - fine-grained in-memory cache eviction for pruned nodes (~30% IBD speedup on pruned nodes)\r\n* https://github.com/bitcoin/bitcoin/pull/30039#issuecomment-2397229720 - reduce LevelDB writes, compactions and open files (~30% faster IBD for small in-memory cache)\r\n* https://github.com/bitcoin/bitcoin/pull/31490, https://github.com/bitcoin/bitcoin/pull/30849, https://github.com/bitcoin/bitcoin/pull/30906 - refactors derisking/enabling follow-up optimizations\r\n* https://github.com/bitcoin/bitcoin/pull/30326 - favor the happy path for cache misses (~2% IBD speedup)\r\n* https://github.com/bitcoin/bitcoin/pull/30884 - Windows regression fix\r\n\r\n## Reliable macro benchmarks\r\n\r\nThe measurements here were done on a high-end Intel i9-9900K CPU (8 cores/16 threads, 3.6GHz base, 5.0GHz boost), 64GB RAM, and a RAID configuration with multiple NVMe drives (total ~1.4TB fast storage), a dedicated Hetzner Auction box running latest Ubuntu. Sometimes a lower-end i7 was used with an HDD for comparison.\r\n\r\nTo make sure the setup reflected a real user's experience, we ran multiple full IBDs per commit (connecting to real nodes), until block 886'000 with a 5GiB in-memory cache where hyperfine was used to measure the final time (assuming normal distribution, stabilizing the final result via statistical methods), producing reliable results even when individual measurements varied (when hyperfine indicated that the measurements were all over the place we reran the whole benchmark).\r\nTo reduce the instability of headers synchronization and peer acquisition, we first started `bitcoind` until block 1, followed by the actual benchmarks until block 886'000.\r\n\r\nThe top 2 PRs (https://github.com/bitcoin/bitcoin/pull/31551 and https://github.com/bitcoin/bitcoin/pull/31144) were measured together by multiple people with different settings (and varying results):\r\n* @andrewtoth in https://github.com/bitcoin/bitcoin/pull/31144#issuecomment-2585403343 - 9% speedup with GCC\r\n* @hodlinator in https://github.com/bitcoin/bitcoin/pull/31144#issuecomment-2588220255 - 11.9% speedup with GCC\r\n* @mlori in https://github.com/bitcoin/bitcoin/pull/31144#issuecomment-2664077362 - 12% faster with GCC\r\n* @Sjors in https://github.com/bitcoin/bitcoin/pull/31144#issuecomment-2575279833 - 3% speedup with Clang\r\n\r\nAlso note that there is a separate effort to [add a reliable macro-benchmarking suite](https://github.com/bitcoin/bitcoin/pull/31996) to track the performance of the most critical usecases end-to-end (including IBD, compact blocks, UTXO iteration) - still WIP, not yet used here.\r\n\r\n## Current changes (in order of importance, reviews and reproducers are welcome):\r\n\r\nPlotting the performance of the blocks from the produced `debug.log` files (taken from the last run for each commit - can differ slightly from the normalized average shown below) visualizing the effect of each commit:\r\n\r\n<details>\r\n<summary>debug.log visualizer</summary>\r\n\r\n```python\r\nimport os\r\nimport sys\r\nimport re\r\nfrom datetime import datetime\r\nimport matplotlib.pyplot as plt\r\nimport numpy as np\r\n\r\n\r\ndef process_log_files_and_plot(log_dir, output_file=\"block_height_progress.png\"):\r\n    if not os.path.exists(log_dir) or not os.path.isdir(log_dir):\r\n        print(f\"Error: '{log_dir}' is not a valid directory\", file=sys.stderr)\r\n        return\r\n\r\n    debug_files = [f for f in os.listdir(log_dir) if\r\n                   f.startswith('debug-') and os.path.isfile(os.path.join(log_dir, f))]\r\n    if not debug_files:\r\n        print(f\"Warning: No debug files found in '{log_dir}'\", file=sys.stderr)\r\n        return\r\n\r\n    height_pattern = re.compile(r'UpdateTip:.*height=(\\d+)')\r\n    results = {}\r\n\r\n    for filename in debug_files:\r\n        filepath = os.path.join(log_dir, filename)\r\n        print(f\"Processing {filename}...\", file=sys.stderr)\r\n\r\n        update_tips = []\r\n        first_timestamp = None\r\n        line_count = tip_count = 0\r\n        found_shutdown_done = False\r\n\r\n        try:\r\n            with open(filepath, 'r', errors='ignore') as file:\r\n                for line_number, line in enumerate(file, 1):\r\n                    line_count += 1\r\n                    if line_count % 100000 == 0:\r\n                        print(f\"  Processed {line_count} lines, found {tip_count} UpdateTips...\", file=sys.stderr)\r\n\r\n                    if not found_shutdown_done:\r\n                        if \"Shutdown: done\" in line:\r\n                            found_shutdown_done = True\r\n                            print(f\"  Found 'Shutdown: done' at line {line_number}, starting to record\",\r\n                                  file=sys.stderr)\r\n                        continue\r\n\r\n                    if len(line) < 20 or \"UpdateTip:\" not in line:\r\n                        continue\r\n\r\n                    try:\r\n                        timestamp = datetime.strptime(line[:20], \"%Y-%m-%dT%H:%M:%SZ\")\r\n                        height_match = height_pattern.search(line)\r\n                        if not height_match:\r\n                            continue\r\n\r\n                        height = int(height_match.group(1))\r\n                        if first_timestamp is None:\r\n                            first_timestamp = timestamp\r\n\r\n                        update_tips.append((int((timestamp - first_timestamp).total_seconds()), height))\r\n                        tip_count += 1\r\n                    except ValueError:\r\n                        continue\r\n        except Exception as e:\r\n            print(f\"Error processing {filename}: {e}\", file=sys.stderr)\r\n            continue\r\n\r\n        print(f\"Finished processing {filename}: {line_count} lines, {tip_count} UpdateTips\", file=sys.stderr)\r\n\r\n        if update_tips:\r\n            time_dict = {}\r\n            for time, height in update_tips:\r\n                time_dict[time] = height\r\n            results[filename[6:14]] = sorted(time_dict.items())\r\n\r\n    if not results:\r\n        print(\"No valid data found in any files.\", file=sys.stderr)\r\n        return\r\n\r\n    print(f\"Creating plots with data from {len(results)} files\", file=sys.stderr)\r\n\r\n    sorted_results = []\r\n    for name, pairs in results.items():\r\n        if pairs:\r\n            sorted_results.append((name, pairs[-1][0] / 3600, pairs))\r\n\r\n    sorted_results.sort(key=lambda x: x[1], reverse=True)\r\n    colors = plt.cm.tab10(np.linspace(0, 1, len(sorted_results)))\r\n\r\n    # Plot 1: Height vs Time\r\n    plt.figure(figsize=(12, 8))\r\n\r\n    final_points = []\r\n    for idx, (name, last_time, pairs) in enumerate(sorted_results):\r\n        times = [t / 3600 for t, _ in pairs]\r\n        heights = [h for _, h in pairs]\r\n        plt.plot(heights, times, label=f\"{name} ({last_time:.2f}h)\", color=colors[idx], linewidth=1)\r\n        if pairs:\r\n            final_points.append((last_time, pairs[-1][1], colors[idx]))\r\n\r\n    for time, height, color in final_points:\r\n        plt.axhline(y=time, color=color, linestyle='--', alpha=0.3)\r\n        plt.axvline(x=height, color=color, linestyle='--', alpha=0.3)\r\n\r\n    plt.title('Sync Time by Block Height')\r\n    plt.xlabel('Block Height')\r\n    plt.ylabel('Elapsed Time (hours)')\r\n    plt.grid(True, linestyle='--', alpha=0.7)\r\n    plt.legend(loc='center left')\r\n    plt.tight_layout()\r\n\r\n    plt.savefig(output_file.replace('.png', '_reversed.png'), dpi=300)\r\n\r\n    # Plot 2: Performance Ratio by Time\r\n    if len(sorted_results) > 1:\r\n        plt.figure(figsize=(12, 8))\r\n\r\n        baseline = sorted_results[0]\r\n        baseline_time_by_height = {h: t for t, h in baseline[2]}\r\n\r\n        for idx, (name, _, pairs) in enumerate(sorted_results[1:], 1):\r\n            time_by_height = {h: t for t, h in pairs}\r\n\r\n            common_heights = [h for h in baseline_time_by_height.keys()\r\n                              if h >= 400000 and h in time_by_height]\r\n            common_heights.sort()\r\n\r\n            ratios = []\r\n            base_times = []\r\n\r\n            for h in common_heights:\r\n                base_t = baseline_time_by_height[h]\r\n                result_t = time_by_height[h]\r\n\r\n                if result_t > 0:\r\n                    ratios.append(base_t / result_t)\r\n                    base_times.append(base_t / 3600)\r\n\r\n            plt.plot(base_times, ratios,\r\n                     label=f\"{name} vs {baseline[0]}\",\r\n                     color=colors[idx], linewidth=1)\r\n\r\n        plt.axhline(y=1, color='gray', linestyle='--', alpha=0.7)\r\n\r\n        plt.title('Performance Improvement Over Time (Higher is Better)')\r\n        plt.xlabel('Baseline Elapsed Time (hours)')\r\n        plt.ylabel('Speedup Ratio (baseline_time / commit_time)')\r\n        plt.grid(True, linestyle='--', alpha=0.7)\r\n        plt.legend(loc='best')\r\n        plt.tight_layout()\r\n\r\n        plt.savefig(output_file.replace('.png', '_time_ratio.png'), dpi=300)\r\n\r\n    with open(output_file.replace('.png', '.csv'), 'w') as f:\r\n        for name, _, pairs in sorted_results:\r\n            f.write(f\"{name},{','.join(f'{t}:{h}' for t, h in pairs)}\\n\")\r\n\r\n    plt.show()\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    log_dir = sys.argv[1] if len(sys.argv) > 1 else \".\"\r\n    output_file = sys.argv[2] if len(sys.argv) > 2 else \"block_height_progress.png\"\r\n    process_log_files_and_plot(log_dir, output_file)\r\n\r\n```\r\n\r\n</details>\r\n\r\n<img width=\"1000\" alt=\"image\" src=\"https://github.com/user-attachments/assets/a43b43da-209c-4736-b1ef-d4d57f838d74\" />\r\n\r\n\r\n<img width=\"1000\" alt=\"image\" src=\"https://github.com/user-attachments/assets/2d43d867-0c9e-4daf-9d47-bd1148c48b55\" />\r\n\r\n\r\n### Baseline\r\nBase commit was 88debb3e42.\r\n\r\n<details>\r\n<summary>8.59 hour IBD time</summary>\r\n\r\n```bash\r\nCOMPILER=gcc COMMIT=88debb3e4297ef4ebc8966ffe599359bc7b231d0 ./build/bin/bitcoind -datadir=/mnt/my_storage/BitcoinData -stopatheight=886000 -dbcache=5000 -blocksonly -printtoconsole=0\r\n  Time (mean ± σ):     30932.610 s ± 156.891 s    [User: 58248.505 s, System: 2142.974 s]\r\n  Range (min … max):   30821.671 s … 31043.549 s    2 runs\r\n  ```\r\n\r\n</details>\r\n\r\n-----\r\n\r\n* https://github.com/bitcoin/bitcoin/pull/31551\r\n\r\n<details>\r\n<summary>7.91 hour IBD time</summary>\r\n\r\n```bash\r\nCOMPILER=gcc COMMIT=6a8ce46e32dae2ffef2a73d2314ca33a2039186e ./build/bin/bitcoind -datadir=/mnt/my_storage/BitcoinData -stopatheight=886000 -dbcache=5000 -blocksonly -printtoconsole=0\r\n  Time (mean ± σ):     28501.588 s ± 119.886 s    [User: 56419.060 s, System: 1833.126 s]\r\n  Range (min … max):   28416.815 s … 28586.361 s    2 runs\r\n```\r\n</details>\r\n\r\nWe can serialize the blocks and undos to any `Stream` which implements the appropriate read/write methods.\r\n`AutoFile` is one of these, writing the results \"directly\" to disk (through the OS file cache). Batching these in memory first and reading/writing these to disk is measurably faster (likely because of fewer native fread calls or less locking, as [observed](https://github.com/bitcoin/bitcoin/pull/28226#issuecomment-1666842501) by @martinus in a similar change).\r\n\r\nDifferential flame graphs indicate that the before/after speed change is because of fewer `AutoFile` reads and writes:\r\n![writes](https://github.com/user-attachments/assets/c5e45ddf-3a94-4c5b-999a-94a139d5776d)\r\n![reads](https://github.com/user-attachments/assets/f11982ea-f2dc-4fc6-afce-faa132724658)\r\n\r\n-----\r\n\r\n* https://github.com/bitcoin/bitcoin/pull/31144\r\n\r\n<details>\r\n<summary>7.60 hour IBD time</summary>\r\n\r\n```bash\r\nCOMPILER=gcc COMMIT=c5cc54d10187c9cb3a6cba8cc10f652b4f882e2a ./build/bin/bitcoind -datadir=/mnt/my_storage/BitcoinData -stopatheight=886000 -dbcache=5000 -blocksonly -printtoconsole=0\r\n  Time (mean ± σ):     27394.210 s ± 565.877 s    [User: 54902.315 s, System: 1891.951 s]\r\n  Range (min … max):   26994.075 s … 27794.346 s    2 runs\r\n```\r\n</details>\r\n\r\nCurrent block obfuscations are done byte-by-byte, this PR batches them to 64 bit primitives to speed up obfuscating bigger memory batches.\r\nThis is especially relevant after https://github.com/bitcoin/bitcoin/pull/31551 where we end up with bigger obfuscatable chunks.\r\n\r\n![obfuscation calls during IBD without batching](https://github.com/user-attachments/assets/b521e3fc-f8cd-42d8-9068-a9b23f65b45b)\r\n\r\n-----\r\n\r\n* https://github.com/bitcoin/bitcoin/pull/31645\r\n\r\n<details>\r\n<summary>7.50 hour IBD time</summary>\r\n\r\n```bash\r\nCOMPILER=gcc COMMIT=9b4be912d20222b3b275ef056c1494a15ccde3f5 ./build/bin/bitcoind -datadir=/mnt/my_storage/BitcoinData -stopatheight=886000 -dbcache=5000 -blocksonly -printtoconsole=0\r\n  Time (mean ± σ):     27019.086 s ± 112.340 s    [User: 54927.344 s, System: 1652.376 s]\r\n  Range (min … max):   26939.649 s … 27098.522 s    2 runs\r\n```\r\n\r\n</details>\r\n\r\nWhen the in-memory UTXO set is [flushed](https://github.com/bitcoin/bitcoin/blob/master/src/txdb.cpp#L130-L133) to LevelDB (after IBD or AssumeUTXO load), it does so in batches to manage memory usage during the flush.\r\nWhile a hidden [-dbbatchsize](https://github.com/bitcoin/bitcoin/blob/master/src/init.cpp#L490) config option exists to modify this value, this PR introduces dynamic calculation of the batch size based on the -dbcache setting. By using larger batches when more memory is available (i.e., higher -dbcache), we can reduce the overhead from numerous small writes, minimize constant overhead per batch, improve I/O efficiency (especially on HDDs), and potentially allow LevelDB to optimize writes more effectively (e.g. by sorting the keys before write).\r\n\r\n<img width=\"1000\" alt=\"image\" src=\"https://github.com/user-attachments/assets/0a99e32e-6a9b-481e-a08a-7216c82fe722\" />\r\n\r\nNote that this PR mainly optimizes a critical section of IBD (memory to disk dump) - even if the effect on overall speed is modest:\r\n<img width=\"1000\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8b56674b-b3e3-43cf-a19b-574e66948e72\" />\r\n\r\n<img width=\"1000\" alt=\"image\" src=\"https://github.com/user-attachments/assets/ce56cfba-a59f-4360-a6d7-2cc3e74959a3\" />\r\n\r\n<img width=\"1000\" alt=\"image\" src=\"https://github.com/user-attachments/assets/e346414c-b009-47c5-92ff-a264b1e2c6c4\" />\r\n\r\n<img width=\"1000\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4db30a70-1ca9-401c-8c9c-2ddecd0d7516\" />\r\n\r\n-----\r\n\r\n\r\n* https://github.com/bitcoin/bitcoin/pull/31868\r\n\r\n<details>\r\n<summary>7.41 hour IBD time</summary>\r\n\r\n```bash\r\nCOMPILER=gcc COMMIT=817d7ac0767a3984295aa3cf6c961dcc5f29d571 ./build/bin/bitcoind -datadir=/mnt/my_storage/BitcoinData -stopatheight=886000 -dbcache=5000 -blocksonly -printtoconsole=0\r\n  Time (mean ± σ):     26711.460 s ± 244.118 s    [User: 54654.348 s, System: 1652.087 s]\r\n  Range (min … max):   26538.843 s … 26884.077 s    2 runs\r\n```\r\n</details>\r\n\r\nThe commits merge similar (de)serialization methods, and separates them internally with if constexpr - similarly to how it has been https://github.com/bitcoin/bitcoin/pull/28203. This enabled further SizeComputer optimizations as well.\r\n\r\nOther than these, since single byte writes are used very often (used for every (u)int8_t or std::byte or bool and for every VarInt's first byte which is also needed for every (pre)Vector), it makes sense to avoid unnecessary generalized serialization infrastructure.\r\n\r\n-----\r\n\r\n* https://github.com/bitcoin/bitcoin/pull/31682\r\n\r\n<details>\r\n<summary>7.31 hour IBD time</summary>\r\n\r\n```bash\r\nCOMPILER=gcc COMMIT=182745cec4c0baf2f3c8cff2f74f847eac3c4330 ./build/bin/bitcoind -datadir=/mnt/my_storage/BitcoinData -stopatheight=886000 -dbcache=5000 -blocksonly -printtoconsole=0\r\n  Time (mean ± σ):     26326.867 s ± 45.887 s    [User: 54367.156 s, System: 1619.348 s]\r\n  Range (min … max):   26294.420 s … 26359.314 s    2 runs\r\n```\r\n</details>\r\n\r\n`CheckBlock`'s latency is critical for efficiently validating correct inputs during transaction validation, including mempool acceptance and new block creation.\r\n\r\nThis PR improves performance and maintainability by introducing the following changes:\r\n* Simplified checks for the most common cases (1 or 2 inputs - [70-90% of transactions have a single input](https://transactionfee.info/charts/transactions-1in)).\r\n* Optimized the general case by replacing `std::set` with sorted `std::vector` for improved locality.\r\n* Simplified Null prevout checks from linear to constant time.\r\n\r\n-----\r\n\r\n* https://github.com/bitcoin/bitcoin/pull/30442\r\n\r\n<details>\r\n<summary>7.25 hour IBD time</summary>\r\n\r\n```bash\r\nCOMPILER=gcc COMMIT=47d377bd0bb88dae6b34553a7789400170e0ccf6 ./build/bin/bitcoind -datadir=/mnt/my_storage/BitcoinData -stopatheight=886000 -dbcache=5000 -blocksonly -printtoconsole=0\r\n  Time (mean ± σ):     26084.429 s ± 473.611 s    [User: 54310.780 s, System: 1815.967 s]\r\n  Range (min … max):   25749.536 s … 26419.323 s    2 runs\r\n```\r\n\r\n</details>\r\n\r\nThe in-memory representation of the UTXO set uses [(salted) SipHash](https://github.com/bitcoin/bitcoin/blob/master/src/coins.h#L226) for avoiding key collision attacks.\r\n\r\nHashing a `uint256` key is done so often that a specialized optimization was extracted to [SipHashUint256Extra](https://github.com/bitcoin/bitcoin/blob/master/src/crypto/siphash.cpp#L135). The constant salting operations were already extracted in the [general case](https://github.com/bitcoin/bitcoin/blob/master/src/crypto/siphash.cpp#L20-L23), this PR adjusts the main specialization similarly.\r\n\r\n\r\n-----\r\n\r\n* https://github.com/bitcoin/bitcoin/pull/32279\r\n\r\nThe current `prevector` size of 28 bytes (likely chosen to make `sizeof(CScript)` equal to 32 bytes) was introduced in [2015](https://github.com/bitcoin/bitcoin/pull/6914) before SegWit and TapRoot.\r\nHowever, the increasingly common `P2WSH` and `P2TR` scripts are both bigger and are forced to use heap (re)allocation rather than efficient inline storage.\r\nThe core trade-off of this change is to eliminate heap allocations for common 34-byte scripts at the cost of increasing the base memory footprint of all CScript objects by 8 bytes (while still respecting peak memory usage defined by `-dbcache`).\r\n\r\n-----\r\n\r\n## Other similar efforts waiting for reviews or  revives (not included in this tracking PR):\r\n* https://github.com/bitcoin/bitcoin/pull/31132 - pre-warms the in-memory cache on multiple threads (10% IBD speedup for small in-memory caches)\r\n* https://github.com/bitcoin/bitcoin/pull/30611 - for very big in-memory caches make sure we still flush to disk regularly (no significant IBD speed change)\r\n* https://github.com/bitcoin/bitcoin/pull/28945 - was meant to preallocate the memory of recreated caches (~6% IBD speedup for small caches)\r\n* https://github.com/bitcoin/bitcoin/pull/31102 - was meant to try to evict entries selectively instead of dropping the whole cache when full\r\n* https://github.com/bitcoin/bitcoin/pull/32128 - draft PR showcasing a few other possible caching speedups\r\n\r\n-----\r\n\r\nThis PR is meant to stay in draft (not meant to be merged directly), to continually change based on comments received here and in the PRs.\r\nComments, reproducers and high-level discussions are welcome here - code reviews should rather be done in the individual PRs.\r\n",
    "labels": [
      {
        "id": 98298007,
        "node_id": "MDU6TGFiZWw5ODI5ODAwNw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P",
        "name": "P2P",
        "color": "006b75",
        "default": false
      },
      {
        "id": 219890555,
        "node_id": "MDU6TGFiZWwyMTk4OTA1NTU=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Block%20storage",
        "name": "Block storage",
        "color": "000000",
        "default": false
      }
    ],
    "created_at": "2025-03-12T16:20:16Z",
    "updated_at": "2025-04-15T16:40:18Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "79bd4001a74a9bdcac1600e083dab73e7b275f42",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "l0rinc:l0rinc/IBD-optimizations",
      "ref": "l0rinc/IBD-optimizations",
      "sha": "e751cba7e26e4e149643e5b7c18b152908e8deec",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 674169038,
        "node_id": "R_kgDOKC8Azg",
        "name": "bitcoin",
        "full_name": "l0rinc/bitcoin",
        "owner": {
          "login": "l0rinc",
          "id": 1841944,
          "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/l0rinc",
          "html_url": "https://github.com/l0rinc",
          "followers_url": "https://api.github.com/users/l0rinc/followers",
          "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
          "organizations_url": "https://api.github.com/users/l0rinc/orgs",
          "repos_url": "https://api.github.com/users/l0rinc/repos",
          "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/l0rinc/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/l0rinc/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/l0rinc/bitcoin",
        "archive_url": "https://api.github.com/repos/l0rinc/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/l0rinc/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/l0rinc/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/l0rinc/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/l0rinc/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/l0rinc/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/l0rinc/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/l0rinc/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/l0rinc/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/l0rinc/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/l0rinc/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/l0rinc/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/l0rinc/bitcoin/events",
        "forks_url": "https://api.github.com/repos/l0rinc/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/l0rinc/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/l0rinc/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/l0rinc/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/l0rinc/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/l0rinc/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/l0rinc/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/l0rinc/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/l0rinc/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/l0rinc/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/l0rinc/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/l0rinc/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/l0rinc/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/l0rinc/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/l0rinc/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/l0rinc/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:l0rinc/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/l0rinc/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/l0rinc/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/l0rinc/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/l0rinc/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/l0rinc/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/l0rinc/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/l0rinc/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/l0rinc/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/l0rinc/bitcoin/hooks",
        "svn_url": "https://github.com/l0rinc/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 258366,
        "default_branch": "master",
        "open_issues_count": 2,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-04-15T16:47:45Z",
        "created_at": "2023-08-03T09:49:12Z",
        "updated_at": "2025-04-10T09:35:41Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "817edfb21e4fa96289d69d4e1dbabb6b9ef9d8f5",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37042,
        "stargazers_count": 82898,
        "watchers_count": 82898,
        "size": 279803,
        "default_branch": "master",
        "open_issues_count": 702,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-04-15T10:07:58Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-04-15T16:56:49Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32043"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": true,
    "additions": 1346,
    "deletions": 395,
    "changed_files": 40,
    "commits": 32,
    "review_comments": 0,
    "comments": 10
  },
  "events": [
    {
      "event": "mentioned",
      "id": 16717009146,
      "node_id": "MEE_lADOABII586tt8Q0zwAAAAPkaVD6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16717009146",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-12T16:20:17Z"
    },
    {
      "event": "subscribed",
      "id": 16717009173,
      "node_id": "SE_lADOABII586tt8Q0zwAAAAPkaVEV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16717009173",
      "actor": {
        "login": "andrewtoth",
        "id": 237213,
        "node_id": "MDQ6VXNlcjIzNzIxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/237213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andrewtoth",
        "html_url": "https://github.com/andrewtoth",
        "followers_url": "https://api.github.com/users/andrewtoth/followers",
        "following_url": "https://api.github.com/users/andrewtoth/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/andrewtoth/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/andrewtoth/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/andrewtoth/subscriptions",
        "organizations_url": "https://api.github.com/users/andrewtoth/orgs",
        "repos_url": "https://api.github.com/users/andrewtoth/repos",
        "events_url": "https://api.github.com/users/andrewtoth/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/andrewtoth/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-12T16:20:17Z"
    },
    {
      "event": "mentioned",
      "id": 16717009198,
      "node_id": "MEE_lADOABII586tt8Q0zwAAAAPkaVEu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16717009198",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-12T16:20:17Z"
    },
    {
      "event": "subscribed",
      "id": 16717009217,
      "node_id": "SE_lADOABII586tt8Q0zwAAAAPkaVFB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16717009217",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-12T16:20:17Z"
    },
    {
      "event": "mentioned",
      "id": 16717009243,
      "node_id": "MEE_lADOABII586tt8Q0zwAAAAPkaVFb",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16717009243",
      "actor": {
        "login": "mlori",
        "id": 5552611,
        "node_id": "MDQ6VXNlcjU1NTI2MTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5552611?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mlori",
        "html_url": "https://github.com/mlori",
        "followers_url": "https://api.github.com/users/mlori/followers",
        "following_url": "https://api.github.com/users/mlori/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mlori/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mlori/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mlori/subscriptions",
        "organizations_url": "https://api.github.com/users/mlori/orgs",
        "repos_url": "https://api.github.com/users/mlori/repos",
        "events_url": "https://api.github.com/users/mlori/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mlori/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-12T16:20:18Z"
    },
    {
      "event": "subscribed",
      "id": 16717009270,
      "node_id": "SE_lADOABII586tt8Q0zwAAAAPkaVF2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16717009270",
      "actor": {
        "login": "mlori",
        "id": 5552611,
        "node_id": "MDQ6VXNlcjU1NTI2MTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5552611?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mlori",
        "html_url": "https://github.com/mlori",
        "followers_url": "https://api.github.com/users/mlori/followers",
        "following_url": "https://api.github.com/users/mlori/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mlori/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mlori/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mlori/subscriptions",
        "organizations_url": "https://api.github.com/users/mlori/orgs",
        "repos_url": "https://api.github.com/users/mlori/repos",
        "events_url": "https://api.github.com/users/mlori/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mlori/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-12T16:20:18Z"
    },
    {
      "event": "mentioned",
      "id": 16717009288,
      "node_id": "MEE_lADOABII586tt8Q0zwAAAAPkaVGI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16717009288",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-12T16:20:18Z"
    },
    {
      "event": "subscribed",
      "id": 16717009313,
      "node_id": "SE_lADOABII586tt8Q0zwAAAAPkaVGh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16717009313",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-12T16:20:18Z"
    },
    {
      "event": "mentioned",
      "id": 16717009343,
      "node_id": "MEE_lADOABII586tt8Q0zwAAAAPkaVG_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16717009343",
      "actor": {
        "login": "martinus",
        "id": 14386,
        "node_id": "MDQ6VXNlcjE0Mzg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/14386?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/martinus",
        "html_url": "https://github.com/martinus",
        "followers_url": "https://api.github.com/users/martinus/followers",
        "following_url": "https://api.github.com/users/martinus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/martinus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/martinus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/martinus/subscriptions",
        "organizations_url": "https://api.github.com/users/martinus/orgs",
        "repos_url": "https://api.github.com/users/martinus/repos",
        "events_url": "https://api.github.com/users/martinus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/martinus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-12T16:20:18Z"
    },
    {
      "event": "subscribed",
      "id": 16717009367,
      "node_id": "SE_lADOABII586tt8Q0zwAAAAPkaVHX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16717009367",
      "actor": {
        "login": "martinus",
        "id": 14386,
        "node_id": "MDQ6VXNlcjE0Mzg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/14386?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/martinus",
        "html_url": "https://github.com/martinus",
        "followers_url": "https://api.github.com/users/martinus/followers",
        "following_url": "https://api.github.com/users/martinus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/martinus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/martinus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/martinus/subscriptions",
        "organizations_url": "https://api.github.com/users/martinus/orgs",
        "repos_url": "https://api.github.com/users/martinus/repos",
        "events_url": "https://api.github.com/users/martinus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/martinus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-12T16:20:18Z"
    },
    {
      "event": "commented",
      "id": 2718430956,
      "node_id": "IC_kwDOABII586iB_bs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2718430956",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-12T16:20:20Z",
      "updated_at": "2025-04-15T06:40:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32043.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [jonatack](https://github.com/bitcoin/bitcoin/pull/32043#issuecomment-2721748181) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#32189](https://github.com/bitcoin/bitcoin/pull/32189) (refactor: Txid type safety (parent PR) by marcofleon)\n* [#32128](https://github.com/bitcoin/bitcoin/pull/32128) (Draft: CCoinMap Experiments by martinus)\n* [#31868](https://github.com/bitcoin/bitcoin/pull/31868) ([IBD] specialize block serialization by l0rinc)\n* [#31860](https://github.com/bitcoin/bitcoin/pull/31860) (init: Take lock on blocks directory in BlockManager ctor by TheCharlatan)\n* [#31682](https://github.com/bitcoin/bitcoin/pull/31682) ([IBD] specialize CheckBlock's input & coinbase checks by l0rinc)\n* [#31551](https://github.com/bitcoin/bitcoin/pull/31551) ([IBD] batch block reads/writes during `AutoFile` serialization by l0rinc)\n* [#31144](https://github.com/bitcoin/bitcoin/pull/31144) ([IBD] multi-byte block obfuscation by l0rinc)\n* [#29700](https://github.com/bitcoin/bitcoin/pull/29700) (kernel, refactor: return error status on all fatal errors by ryanofsky)\n* [#29641](https://github.com/bitcoin/bitcoin/pull/29641) (scripted-diff: Use LogInfo over LogPrintf [WIP, NOMERGE, DRAFT] by maflcko)\n* [#29307](https://github.com/bitcoin/bitcoin/pull/29307) (util: explicitly close all AutoFiles that have been written by vasild)\n* [#28676](https://github.com/bitcoin/bitcoin/pull/28676) ([WIP] Cluster mempool implementation by sdaftuar)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32043#issuecomment-2718430956",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32043"
    },
    {
      "event": "renamed",
      "id": 16717010545,
      "node_id": "RTE_lADOABII586tt8Q0zwAAAAPkaVZx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16717010545",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-12T16:20:23Z",
      "rename": {
        "from": "[IBD] - Tracking PR for speeding up Initial Block Download ",
        "to": "[IBD] - Tracking PR for speeding up Initial Block Download"
      }
    },
    {
      "event": "renamed",
      "id": 16717450799,
      "node_id": "RTE_lADOABII586tt8Q0zwAAAAPkcA4v",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16717450799",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-12T16:44:01Z",
      "rename": {
        "from": "[IBD] - Tracking PR for speeding up Initial Block Download",
        "to": "[IBD] Tracking PR for speeding up Initial Block Download"
      }
    },
    {
      "event": "commented",
      "id": 2718577789,
      "node_id": "IC_kwDOABII586iCjR9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2718577789",
      "actor": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-12T17:14:11Z",
      "updated_at": "2025-03-12T17:14:25Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for creating this. This should make it easier to navigate the other PRs and discuss the overall topic of IBD performance and benchmarking without needing to necessarily repeat it in the individual PRs.\r\n\r\nWould be useful to have concept ACKs/NACKs here from others who know more about performance and benchmarking. But from from what I can tell the individual optimizations do not seem very complicated and seem like they should be justified.\r\n\r\n---\r\n\r\nOne suggestion for the PR description above would be to directly link to the PRs comprising this change in the summary, maybe pointing out any where review should be focused. Current list seems to be:\r\n\r\n- [ ] #31551 \r\n- [ ] #31144\r\n- [ ] #31645\r\n- [ ] #31868\r\n- [ ] #31682\r\n- [ ] #30442",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32043#issuecomment-2718577789",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32043"
    },
    {
      "event": "labeled",
      "id": 16718109911,
      "node_id": "LE_lADOABII586tt8Q0zwAAAAPkehzX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16718109911",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-12T17:28:18Z",
      "label": {
        "name": "Block storage",
        "color": "000000"
      }
    },
    {
      "event": "labeled",
      "id": 16718114354,
      "node_id": "LE_lADOABII586tt8Q0zwAAAAPkei4y",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16718114354",
      "actor": {
        "login": "laanwj",
        "id": 126646,
        "node_id": "MDQ6VXNlcjEyNjY0Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laanwj",
        "html_url": "https://github.com/laanwj",
        "followers_url": "https://api.github.com/users/laanwj/followers",
        "following_url": "https://api.github.com/users/laanwj/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/laanwj/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/laanwj/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
        "organizations_url": "https://api.github.com/users/laanwj/orgs",
        "repos_url": "https://api.github.com/users/laanwj/repos",
        "events_url": "https://api.github.com/users/laanwj/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/laanwj/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-12T17:28:33Z",
      "label": {
        "name": "P2P",
        "color": "006b75"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16718864990,
      "node_id": "HRFPE_lADOABII586tt8Q0zwAAAAPkhaJe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16718864990",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "0f6a8e400c1f12de0ae33e3354add9b1c1d6f0e1",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/0f6a8e400c1f12de0ae33e3354add9b1c1d6f0e1",
      "created_at": "2025-03-12T18:16:18Z"
    },
    {
      "event": "labeled",
      "id": 16718865879,
      "node_id": "LE_lADOABII586tt8Q0zwAAAAPkhaXX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16718865879",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-12T18:16:23Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2718724823,
      "node_id": "IC_kwDOABII586iDHLX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2718724823",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-12T18:16:24Z",
      "updated_at": "2025-03-12T18:16:24Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n🚧 At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/38650495272</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32043#issuecomment-2718724823",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32043"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 16720249473,
      "node_id": "HRFPE_lADOABII586tt8Q0zwAAAAPkmsKB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16720249473",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "a06a674b4361061432d20dc21f183b7eac0175b3",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/a06a674b4361061432d20dc21f183b7eac0175b3",
      "created_at": "2025-03-12T19:53:21Z"
    },
    {
      "event": "unlabeled",
      "id": 16722530646,
      "node_id": "UNLE_lADOABII586tt8Q0zwAAAAPkvZFW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16722530646",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-12T23:45:34Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2720097064,
      "node_id": "IC_kwDOABII586iIWMo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2720097064",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-13T06:18:10Z",
      "updated_at": "2025-03-13T06:18:10Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Plotting the performance of the blocks from the produced `debug.log` files shows (from the last run, can differ slightly from the normalized average shown below) the effect of each commit:\r\n\r\nWouldn't these plots be easier to read with block height on the x-axis and time on the y-axis, giving a consistent domain (each case goes from height 0 to 880k or so) with a simple \"lower is better\" comparison? (rather than \"further left is better\")\r\n\r\nPlotting the difference between the various proposed commits and the baseline (`time_baseline[height] / time_commit_X[height]`, higher is better) might also be helpful? (Perhaps limited to `height >= 400000`)",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32043#issuecomment-2720097064",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32043"
    },
    {
      "event": "commented",
      "id": 2720533816,
      "node_id": "IC_kwDOABII586iKA04",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2720533816",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-13T09:16:37Z",
      "updated_at": "2025-03-13T09:16:37Z",
      "author_association": "CONTRIBUTOR",
      "body": "> with a simple \"lower is better\" comparison\r\n\r\nI like the idea, updated the description and the code:\r\n![image](https://github.com/user-attachments/assets/303426a5-a99f-4cb3-8552-a2def21d778b)\r\n\r\n> Plotting the difference between the various proposed commits and the baseline (time_baseline[height] / time_commit_X[height], higher is better) might also be helpful? \r\n\r\nSomething like this? Conceptually seems useful, but here I don't know how to interpret it, seems too far zoomed in\r\n<img width=\"1000\" alt=\"image\" src=\"https://github.com/user-attachments/assets/14def0c8-241c-4e36-aa2d-554ce5fc4c15\" />\r\nLooks even funnier without the >400k cap:\r\n<img width=\"1000\" alt=\"image\" src=\"https://github.com/user-attachments/assets/fb10ac16-54d8-4d59-bbaa-4fac9c4e0ac0\" />\r\n\r\n",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32043#issuecomment-2720533816",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32043"
    },
    {
      "event": "commented",
      "id": 2721136168,
      "node_id": "IC_kwDOABII586iMT4o",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2721136168",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-13T12:45:58Z",
      "updated_at": "2025-03-13T12:45:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Something like this? Conceptually seems useful, but here I don't know how to interpret it, seems too far zoomed in\r\n\r\nFair; that might work better with a time on the x-axis rather than height, something like:\r\n\r\n```python\r\nfor time_commit in [time_commit_X, time_commit_Y, time_commit_Z]:\r\n    for height in range(1,850000):\r\n        y = time_baseline[height] / time_commit[height] # keep this one the same\r\n        x = time_baseline[height]  # changed from x = height\r\n        add_datapoint(x,y)\r\n```",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32043#issuecomment-2721136168",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32043"
    },
    {
      "event": "commented",
      "id": 2721197918,
      "node_id": "IC_kwDOABII586iMi9e",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2721197918",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-13T13:08:04Z",
      "updated_at": "2025-03-15T10:35:16Z",
      "author_association": "CONTRIBUTOR",
      "body": "> time on the x-axis rather than height\r\n\r\n~If we do that we don't even need to filter out the first 400k blocks since they're so insignificant.~\r\nEdit: you're right, it looks better to filter those out - I've updated the description with the images and code.\r\n\r\n",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32043#issuecomment-2721197918",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32043"
    },
    {
      "event": "commented",
      "id": 2721748181,
      "node_id": "IC_kwDOABII586iOpTV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2721748181",
      "actor": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-13T15:52:47Z",
      "updated_at": "2025-03-13T15:53:38Z",
      "author_association": "MEMBER",
      "body": "Concept ACK, thank you for opening this.\r\n\r\nI currently am in an environment of slow internet speed, where despite having a relatively fast laptop, IBD is slower than 2 orders of magnitude worse than the times in the OP.\r\n\r\nOpened #32051 today to address an issue I'm also seeing of very frequent disconnections+reconnections of trusted addnode peers during IBD.",
      "user": {
        "login": "jonatack",
        "id": 2415484,
        "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonatack",
        "html_url": "https://github.com/jonatack",
        "followers_url": "https://api.github.com/users/jonatack/followers",
        "following_url": "https://api.github.com/users/jonatack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonatack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonatack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
        "organizations_url": "https://api.github.com/users/jonatack/orgs",
        "repos_url": "https://api.github.com/users/jonatack/repos",
        "events_url": "https://api.github.com/users/jonatack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonatack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32043#issuecomment-2721748181",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32043"
    },
    {
      "event": "labeled",
      "id": 16899586587,
      "node_id": "LE_lADOABII586tt8Q0zwAAAAPvSzob",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16899586587",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-03-20T10:09:33Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17179012062,
      "node_id": "HRFPE_lADOABII586tt8Q0zwAAAAP_8uve",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17179012062",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "4d6135916b44b08faa2540404ff0c7eae790392d",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/4d6135916b44b08faa2540404ff0c7eae790392d",
      "created_at": "2025-04-08T23:12:14Z"
    },
    {
      "event": "commented",
      "id": 2787847251,
      "node_id": "IC_kwDOABII586mKyxT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2787847251",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-08T23:15:21Z",
      "updated_at": "2025-04-08T23:15:42Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated the tracking PR (+ general rebase) with the latest changes from:\r\n* https://github.com/bitcoin/bitcoin/pull/31645\r\n* https://github.com/bitcoin/bitcoin/pull/31551\r\n* https://github.com/bitcoin/bitcoin/pull/31144",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32043#issuecomment-2787847251",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32043"
    },
    {
      "event": "unlabeled",
      "id": 17179387759,
      "node_id": "UNLE_lADOABII586tt8Q0zwAAAAP_-Kdv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17179387759",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-09T00:04:42Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2787944385,
      "node_id": "IC_kwDOABII586mLKfB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2787944385",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-09T00:38:34Z",
      "updated_at": "2025-04-09T00:38:34Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n🚧 At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/40213922055</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32043#issuecomment-2787944385",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32043"
    },
    {
      "event": "labeled",
      "id": 17179622500,
      "node_id": "LE_lADOABII586tt8Q0zwAAAAP__Dxk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17179622500",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-09T00:38:34Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17187059946,
      "node_id": "HRFPE_lADOABII586tt8Q0zwAAAAQAbbjq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17187059946",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "7e68faeccbf2a6b555610405bb7cd98078cc75fa",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/7e68faeccbf2a6b555610405bb7cd98078cc75fa",
      "created_at": "2025-04-09T10:41:20Z"
    },
    {
      "event": "unlabeled",
      "id": 17188025507,
      "node_id": "UNLE_lADOABII586tt8Q0zwAAAAQAfHSj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17188025507",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-04-09T11:47:48Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGYxOTg1NzYxNWY0MjY5YTU1ZjgyZGY0ZmZlNDk0M2ExYzE3OGI3NDg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f19857615f4269a55f82df4ffe4943a1c178b748",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/f19857615f4269a55f82df4ffe4943a1c178b748",
      "tree": {
        "sha": "c34607649c055ef5955cc9c4f6f25697b20f7f9e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c34607649c055ef5955cc9c4f6f25697b20f7f9e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/817edfb21e4fa96289d69d4e1dbabb6b9ef9d8f5",
          "sha": "817edfb21e4fa96289d69d4e1dbabb6b9ef9d8f5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/817edfb21e4fa96289d69d4e1dbabb6b9ef9d8f5"
        }
      ],
      "message": "coins: introduce dynamic batch size calculator based on dbcache value\n\nThe size scales linearly with -dbcache above the default 450 MiB, clamped between a minimum of 16 MiB and a maximum of 256 MiB.\nThis allows larger in-memory caches to use proportionally larger batch sizes, improving flush efficiency without impacting default configurations.\n\nIncludes unit test coverage for key transition points.",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:48Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-08T15:49:19Z"
      },
      "sha": "f19857615f4269a55f82df4ffe4943a1c178b748"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDRhNDNjZjY2MDA1OTM5YzkzYzhhMjVkMDI1ZjliM2QxNWViY2UzNWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4a43cf66005939c93c8a25d025f9b3d15ebce35b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4a43cf66005939c93c8a25d025f9b3d15ebce35b",
      "tree": {
        "sha": "fcf23efe084ab619924baa654e59bb27155455ad",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fcf23efe084ab619924baa654e59bb27155455ad"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f19857615f4269a55f82df4ffe4943a1c178b748",
          "sha": "f19857615f4269a55f82df4ffe4943a1c178b748",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/f19857615f4269a55f82df4ffe4943a1c178b748"
        }
      ],
      "message": "coins: set CoinsViewOptions::batch_write_bytes from -dbcache if unset\n\nExtend `ReadCoinsViewArgs` to dynamically set `batch_write_bytes` using `GetDbBatchSize()` when `-dbbatchsize` is not explicitly provided.\n\nThis enables larger LevelDB batches on systems with high -dbcache values, which reduces the number of write operations during UTXO flushes and improves I/O efficiency, particularly during AssumeUTXO loads and IBD.",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:48Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-08T15:50:48Z"
      },
      "sha": "4a43cf66005939c93c8a25d025f9b3d15ebce35b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDE0MGQ3YWQ5YzIxNWMwYzMzOWFhMDE1YTBiNTgxMzU5YTcwMzNmMjk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/140d7ad9c215c0c339aa015a0b581359a7033f29",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/140d7ad9c215c0c339aa015a0b581359a7033f29",
      "tree": {
        "sha": "6b80e2f253241eb08e247b3fed8e7bedfcc3cbe6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6b80e2f253241eb08e247b3fed8e7bedfcc3cbe6"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4a43cf66005939c93c8a25d025f9b3d15ebce35b",
          "sha": "4a43cf66005939c93c8a25d025f9b3d15ebce35b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4a43cf66005939c93c8a25d025f9b3d15ebce35b"
        }
      ],
      "message": "refactor: rename leftover WriteBlockBench\n\nThe benchmark was referencing the old name of the method",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:48Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-03-14T21:08:25Z"
      },
      "sha": "140d7ad9c215c0c339aa015a0b581359a7033f29"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDEyMDU0ZmNlMWQ1NGE1YmI5Zjc2ZmMxMDk2OTYwYzQ1YzU3YzQ5Zjg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/12054fce1d54a5bb9f76fc1096960c45c57c49f8",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/12054fce1d54a5bb9f76fc1096960c45c57c49f8",
      "tree": {
        "sha": "95abf6c652adcfd6669ac13bcd828643158a7ebd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/95abf6c652adcfd6669ac13bcd828643158a7ebd"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/140d7ad9c215c0c339aa015a0b581359a7033f29",
          "sha": "140d7ad9c215c0c339aa015a0b581359a7033f29",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/140d7ad9c215c0c339aa015a0b581359a7033f29"
        }
      ],
      "message": "refactor: collect block read operations into try block\n\nThis is a cleanup commit that simplifies the next ones:\n`HashVerifier` and `HashWriter` calculations (and the final checksum verification) was included in the try/catch (and later in simple braces), separating the concerns - the hashing & deserialization from the error handling - and narrowing their scope in the meantime.",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:48Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-03-14T19:11:52Z"
      },
      "sha": "12054fce1d54a5bb9f76fc1096960c45c57c49f8"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA5ZDJlNTNjNzA4ZGE5MDFkOGMwNmEzYzQ4ZmIzODk4OGUyOTIyZjE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/09d2e53c708da901d8c06a3c48fb38988e2922f1",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/09d2e53c708da901d8c06a3c48fb38988e2922f1",
      "tree": {
        "sha": "62118ce4b000cc9b588924704516269d3766411b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/62118ce4b000cc9b588924704516269d3766411b"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/12054fce1d54a5bb9f76fc1096960c45c57c49f8",
          "sha": "12054fce1d54a5bb9f76fc1096960c45c57c49f8",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/12054fce1d54a5bb9f76fc1096960c45c57c49f8"
        }
      ],
      "message": "Narrow scope of undofile write to avoid possible resource management issue\n\n`AutoFile{OpenUndoFile(pos)}` was still in scope when `FlushUndoFile(pos.nFile)` was called, which could lead to file handle conflicts or other unexpected behavior.\n\nCo-authored-by: Hodlinator <172445034+hodlinator@users.noreply.github.com>\nCo-authored-by: maflcko <6399679+maflcko@users.noreply.github.com>",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:48Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-07T15:47:57Z"
      },
      "sha": "09d2e53c708da901d8c06a3c48fb38988e2922f1"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDgyOThmN2IzNTg5NTkyNTFiZTIzNzcyY2ZlN2I0YzA1YWY5NmRlOTY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8298f7b358959251be23772cfe7b4c05af96de96",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8298f7b358959251be23772cfe7b4c05af96de96",
      "tree": {
        "sha": "ae38b716e6138beb9004eaa9f9bc1623e1d9a459",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ae38b716e6138beb9004eaa9f9bc1623e1d9a459"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/09d2e53c708da901d8c06a3c48fb38988e2922f1",
          "sha": "09d2e53c708da901d8c06a3c48fb38988e2922f1",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/09d2e53c708da901d8c06a3c48fb38988e2922f1"
        }
      ],
      "message": "scripted-diff: shorten BLOCK_SERIALIZATION_HEADER_SIZE constant\n\nRenames the constant to be less verbose and better reflect its purpose:\nit represents the size of the storage header that precedes serialized block data on disk,\nnot to be confused with a block's own header.\n\n-BEGIN VERIFY SCRIPT-\ngit grep -q \"STORAGE_HEADER_SIZE\" $(git ls-files) && echo \"Error: Target name STORAGE_HEADER_SIZE already exists in the codebase\" && exit 1\nsed -i 's/BLOCK_SERIALIZATION_HEADER_SIZE/STORAGE_HEADER_SIZE/g' $(git grep -l 'BLOCK_SERIALIZATION_HEADER_SIZE')\n-END VERIFY SCRIPT-",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:48Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-03-14T21:09:38Z"
      },
      "sha": "8298f7b358959251be23772cfe7b4c05af96de96"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDI0YzUyNmMyYjg4ODcwNTNlOWI3ZTQ5OTA0OTQxNjI5ZDRjNTEwNzE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/24c526c2b8887053e9b7e49904941629d4c51071",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/24c526c2b8887053e9b7e49904941629d4c51071",
      "tree": {
        "sha": "1f1e7119fea77476ea32f8a81dfb8dd8b308868c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1f1e7119fea77476ea32f8a81dfb8dd8b308868c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8298f7b358959251be23772cfe7b4c05af96de96",
          "sha": "8298f7b358959251be23772cfe7b4c05af96de96",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/8298f7b358959251be23772cfe7b4c05af96de96"
        }
      ],
      "message": "log: unify error messages for (read/write)[undo]block\n\nCo-authored-by: maflcko <6399679+maflcko@users.noreply.github.com>",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:48Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-01-24T14:12:28Z"
      },
      "sha": "24c526c2b8887053e9b7e49904941629d4c51071"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDM1YjdlMTQ5N2M1NmQ3YjhmYTNiOTFhZjFhYWFjNzkyNzVjNDk0MWY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/35b7e1497c56d7b8fa3b91af1aaac79275c4941f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/35b7e1497c56d7b8fa3b91af1aaac79275c4941f",
      "tree": {
        "sha": "a2d24eb1cdf6b34a7afb3830dffcfe28f677812f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a2d24eb1cdf6b34a7afb3830dffcfe28f677812f"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/24c526c2b8887053e9b7e49904941629d4c51071",
          "sha": "24c526c2b8887053e9b7e49904941629d4c51071",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/24c526c2b8887053e9b7e49904941629d4c51071"
        }
      ],
      "message": "refactor: clear up blockstorage/streams in preparation for optimization\n\nReplaced hard-coded values in ReadRawBlock with BLOCK_HEADER_BYTES.\n\nMade every OpenBlockFile#fReadOnly value explicit.\n\nChanged `STORAGE_HEADER_SIZE` and `UNDO_DATA_DISK_OVERHEAD` to `uint32_t` to avoid casts.\n\nAlso added `LIFETIMEBOUND` to the `AutoFile` parameter of `BufferedFile`, which stores a reference to the underlying `AutoFile`, allowing Clang to emit warnings if the referenced `AutoFile` might be destroyed while `BufferedFile` still exists.\nWithout this attribute, code with lifetime violations wouldn't trigger compiler warnings.\n\nCo-authored-by: maflcko <6399679+maflcko@users.noreply.github.com>",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:48Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-03-26T11:40:20Z"
      },
      "sha": "35b7e1497c56d7b8fa3b91af1aaac79275c4941f"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY4NzQ3NWFlOTNmYWEyYzkyNWEzNTQ4ZTMzZjM3NTg4NmQyNTE4NDc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/687475ae93faa2c925a3548e33f375886d251847",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/687475ae93faa2c925a3548e33f375886d251847",
      "tree": {
        "sha": "ce7952ea2182883e7cb36c27be9cbf55390df1f2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ce7952ea2182883e7cb36c27be9cbf55390df1f2"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/35b7e1497c56d7b8fa3b91af1aaac79275c4941f",
          "sha": "35b7e1497c56d7b8fa3b91af1aaac79275c4941f",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/35b7e1497c56d7b8fa3b91af1aaac79275c4941f"
        }
      ],
      "message": "optimization: Bulk serialization reads in `UndoRead`, `ReadBlock`\n\nThe Obfuscation (XOR) operations are currently done byte-by-byte during serialization, buffering the reads will enable batching the obfuscation operations later (not yet done here).\nAlso, different operating systems seem to handle file caching differently, so reading bigger batches (and processing those from memory) is also a bit faster (likely because of fewer native fread calls or less locking).\n\nNote that `ReadRawBlock` doesn't need buffering since it's already reading the whole block directly.\nDelegating `ReadBlock` to `ReadRawBlock` avoid the buffer and also clearly documents that `ReadRawBlock` is a logical subset of ReadBlock and does fewer checks and less work.\n\nThe current implementation of iterating over a fixed-sized buffer is a more general alternative to the solution provided by Cory Fields of reading the whole block size in advance.\n\nThe buffer sizes were selected by so that the buffered reader produces the same performance as reading the whole block into memory (lower values are slower, bigger ones have the same speed).\n\n------\n\n> macOS Sequoia 15.3.1\n> C++ compiler .......................... Clang 19.1.7\n> cmake -B build -DBUILD_BENCH=ON -DCMAKE_BUILD_TYPE=Release -DCMAKE_C_COMPILER=clang -DCMAKE_CXX_COMPILER=clang++ && cmake --build build -j$(nproc) && build/bin/bench_bitcoin -filter='ReadBlockBench' -min-time=10000\n\nBefore:\n\n|               ns/op |                op/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|        2,271,441.67 |              440.25 |    0.1% |     11.00 | `ReadBlockBench`\n\nAfter:\n\n|               ns/op |                op/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|        1,738,971.29 |              575.05 |    0.2% |     10.97 | `ReadBlockBench`\n\n------\n\n> Ubuntu 24.04.2 LTS\n> C++ compiler .......................... GNU 13.3.0\n> cmake -B build -DBUILD_BENCH=ON -DCMAKE_BUILD_TYPE=Release -DCMAKE_C_COMPILER=gcc -DCMAKE_CXX_COMPILER=g++ && cmake --build build -j$(nproc) && build/bin/bench_bitcoin -filter='ReadBlockBench' -min-time=20000\n\nBefore:\n\n|               ns/op |                op/s |    err% |          ins/op |          cyc/op |    IPC |         bra/op |   miss% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\n|        6,895,987.11 |              145.01 |    0.0% |   71,055,269.86 |   23,977,374.37 |  2.963 |   5,074,828.78 |    0.4% |     22.00 | `ReadBlockBench`\n\nAfter:\n\n|               ns/op |                op/s |    err% |          ins/op |          cyc/op |    IPC |         bra/op |   miss% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\n|        5,771,882.71 |              173.25 |    0.0% |   65,741,889.82 |   20,453,232.33 |  3.214 |   3,971,321.75 |    0.3% |     22.01 | `ReadBlockBench`\n\nCo-authored-by: maflcko <6399679+maflcko@users.noreply.github.com>\nCo-authored-by: Ryan Ofsky <ryan@ofsky.org>\nCo-authored-by: Martin Leitner-Ankerl <martin.ankerl@gmail.com>\nCo-authored-by: Cory Fields <cory-nospam-@coryfields.com>",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:48Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-03-26T11:52:29Z"
      },
      "sha": "687475ae93faa2c925a3548e33f375886d251847"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDFlOTY2YzBkZTI4NWRjMWQwY2YyNDZjYTYxMTMxNzdhYjA5NGY1YTU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1e966c0de285dc1d0cf246ca6113177ab094f5a5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1e966c0de285dc1d0cf246ca6113177ab094f5a5",
      "tree": {
        "sha": "5aa6e76fa5a4cc2ae66df616b3dd06716bf4edca",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5aa6e76fa5a4cc2ae66df616b3dd06716bf4edca"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/687475ae93faa2c925a3548e33f375886d251847",
          "sha": "687475ae93faa2c925a3548e33f375886d251847",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/687475ae93faa2c925a3548e33f375886d251847"
        }
      ],
      "message": "optimization: Bulk serialization writes in `WriteBlockUndo` and `WriteBlock`\n\nAdded `AutoFile::write_buffer` for batching obfuscation operations, so instead of copying the data and doing the xor in a 4096 byte array, we're doing it directly on the input.\n\nSimilarly to the serialization reads, buffered writes will enable batched xor calculations - especially since currently we need to copy the write input's std::span to do the obfuscation on it, batching enables doing the xor on the internal buffer instead.\n\n------\n\n> macOS Sequoia 15.3.1\n> C++ compiler .......................... Clang 19.1.7\n> cmake -B build -DBUILD_BENCH=ON -DCMAKE_BUILD_TYPE=Release -DCMAKE_C_COMPILER=clang -DCMAKE_CXX_COMPILER=clang++ && cmake --build build -j$(nproc) && build/bin/bench_bitcoin -filter='WriteBlockBench' -min-time=10000\n\nBefore:\n\n|               ns/op |                op/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|        5,149,564.31 |              194.19 |    0.8% |     10.95 | `WriteBlockBench`\n\nAfter:\n\n|               ns/op |                op/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|        2,990,564.63 |              334.39 |    1.5% |     11.27 | `WriteBlockBench`\n\n------\n\n> Ubuntu 24.04.2 LTS\n> C++ compiler .......................... GNU 13.3.0\n> cmake -B build -DBUILD_BENCH=ON -DCMAKE_BUILD_TYPE=Release -DCMAKE_C_COMPILER=gcc -DCMAKE_CXX_COMPILER=g++ && cmake --build build -j$(nproc) && build/bin/bench_bitcoin -filter='WriteBlockBench' -min-time=20000\n\nBefore:\n\n|               ns/op |                op/s |    err% |          ins/op |          cyc/op |    IPC |         bra/op |   miss% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\n|        5,152,973.58 |              194.06 |    2.2% |   19,350,886.41 |    8,784,539.75 |  2.203 |   3,079,335.21 |    0.4% |     23.18 | `WriteBlockBench`\n\nAfter:\n\n|               ns/op |                op/s |    err% |          ins/op |          cyc/op |    IPC |         bra/op |   miss% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\n|        4,145,681.13 |              241.21 |    4.0% |   15,337,596.85 |    5,732,186.47 |  2.676 |   2,239,662.64 |    0.1% |     23.94 | `WriteBlockBench`\n\nCo-authored-by: Ryan Ofsky <ryan@ofsky.org>\nCo-authored-by: Cory Fields <cory-nospam-@coryfields.com>",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:48Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-03-26T11:54:07Z"
      },
      "sha": "1e966c0de285dc1d0cf246ca6113177ab094f5a5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk4YjExZTAxYmIwNjk4YWZmMzBhZDBiZTUwOWM0MmE1OWFiNTQ5OWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/98b11e01bb0698aff30ad0be509c42a59ab5499e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/98b11e01bb0698aff30ad0be509c42a59ab5499e",
      "tree": {
        "sha": "ee790a2515315e4f5792ffbd863cce60a0fc848b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ee790a2515315e4f5792ffbd863cce60a0fc848b"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1e966c0de285dc1d0cf246ca6113177ab094f5a5",
          "sha": "1e966c0de285dc1d0cf246ca6113177ab094f5a5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1e966c0de285dc1d0cf246ca6113177ab094f5a5"
        }
      ],
      "message": "test: Compare util::Xor with randomized inputs against simple impl\n\nSince production code only uses keys of length 8, we're not testing with other values anymore",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:48Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2024-10-24T06:37:57Z"
      },
      "sha": "98b11e01bb0698aff30ad0be509c42a59ab5499e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDZmODUwMjVhZDBjZTRhZWQzMDM2MjdlZTg4N2QwZTMzZThiOTNkYWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6f85025ad0ce4aed303627ee887d0e33e8b93dae",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/6f85025ad0ce4aed303627ee887d0e33e8b93dae",
      "tree": {
        "sha": "d37d036f3ee0703918d95cd236d452f7bf93db7e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d37d036f3ee0703918d95cd236d452f7bf93db7e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/98b11e01bb0698aff30ad0be509c42a59ab5499e",
          "sha": "98b11e01bb0698aff30ad0be509c42a59ab5499e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/98b11e01bb0698aff30ad0be509c42a59ab5499e"
        }
      ],
      "message": "bench: Make XorObfuscationBench more representative\n\nSince another PR solves the tiny byte xors during serialization, we're only concentrating on big continuous chunks now.\n\n>  cmake -B build -DBUILD_BENCH=ON -DCMAKE_BUILD_TYPE=Release \\\n&& cmake --build build -j$(nproc) \\\n&& build/bin/bench_bitcoin -filter='XorObfuscationBench' -min-time=10000\n\nC++ compiler .......................... AppleClang 17.0.0.17000013\n\n|              ns/MiB |               MiB/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|          731,927.62 |            1,366.26 |    0.2% |     10.67 | `XorObfuscationBench`\n\nC++ compiler .......................... GNU 13.3.0\n\n|              ns/MiB |               MiB/s |    err% |         ins/MiB |         cyc/MiB |    IPC |        bra/MiB |   miss% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\n|          941,015.26 |            1,062.68 |    0.0% |    9,437,186.97 |    3,378,911.52 |  2.793 |   1,048,577.15 |    0.0% |     10.99 | `XorObfuscationBench`",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:48Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2024-12-06T15:18:03Z"
      },
      "sha": "6f85025ad0ce4aed303627ee887d0e33e8b93dae"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDk1YWIxNDczZTdiYWZhYjc2ZTAyOWQ1YmYwOGFjNWI1ZjQ2OTk0M2M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/95ab1473e7bafab76e029d5bf08ac5b5f469943c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/95ab1473e7bafab76e029d5bf08ac5b5f469943c",
      "tree": {
        "sha": "b22b354c6df4e5dc91c0af892af35b578e94c060",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b22b354c6df4e5dc91c0af892af35b578e94c060"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6f85025ad0ce4aed303627ee887d0e33e8b93dae",
          "sha": "6f85025ad0ce4aed303627ee887d0e33e8b93dae",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/6f85025ad0ce4aed303627ee887d0e33e8b93dae"
        }
      ],
      "message": "refactor: prepare dbwrapper for obfuscation key change\n\nSince `CDBWrapper::Read` will still work with vectors, we won't be able to use the obfuscation key field to read into it directly.\nThis commit cleans up this part of the code, obviating that writing `obfuscate_key` is needed since following methods will actually use it implicitly, simplifying the `if (!key_exists` condition to extract the negation into the name of the boolean and inline the single-use `CreateObfuscateKey` which will just complicate the transition.",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:48Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-05T16:25:20Z"
      },
      "sha": "95ab1473e7bafab76e029d5bf08ac5b5f469943c"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGRlMGVkMTAwY2JiY2QxZDUzY2Y4YWRlYWM2NmE5MGVjMmNiN2FiZWE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/de0ed100cbbcd1d53cf8adeac66a90ec2cb7abea",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/de0ed100cbbcd1d53cf8adeac66a90ec2cb7abea",
      "tree": {
        "sha": "c06595ebf5af0565b3e9d957907af7ee498a010b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c06595ebf5af0565b3e9d957907af7ee498a010b"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/95ab1473e7bafab76e029d5bf08ac5b5f469943c",
          "sha": "95ab1473e7bafab76e029d5bf08ac5b5f469943c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/95ab1473e7bafab76e029d5bf08ac5b5f469943c"
        }
      ],
      "message": "refactor: prepare mempool_persist for obfuscation key change",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:48Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-05T17:01:09Z"
      },
      "sha": "de0ed100cbbcd1d53cf8adeac66a90ec2cb7abea"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDViYjhjMWFlYWE4NmFhNjFjZDBjNGM4ZWE1ZDc0OWI2MjFjNDc3ZWY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5bb8c1aeaa86aa61cd0c4c8ea5d749b621c477ef",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5bb8c1aeaa86aa61cd0c4c8ea5d749b621c477ef",
      "tree": {
        "sha": "e5cd08b43179ee8435e29bdae42d315bae00f696",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e5cd08b43179ee8435e29bdae42d315bae00f696"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/de0ed100cbbcd1d53cf8adeac66a90ec2cb7abea",
          "sha": "de0ed100cbbcd1d53cf8adeac66a90ec2cb7abea",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/de0ed100cbbcd1d53cf8adeac66a90ec2cb7abea"
        }
      ],
      "message": "optimization: Migrate fixed-size obfuscation end-to-end from `std::vector<std::byte>` to `uint64_t`\n\nSince `util::Xor` accepts `uint64_t` values, we're eliminating any repeated vector-to-uint64_t conversions going back to the loading/saving of these values (we're still serializing them as vectors, but converting as soon as possible to `uint64_t`). This is the reason the tests still generate vector values and convert to `uint64_t` later instead of generating it directly.\n\nWe're also short-circuit `Xor` calls with 0 key values early to avoid unnecessary calculations (e.g. `MakeWritableByteSpan`) - even assuming that XOR is never called for 0.\n\n>  cmake -B build -DBUILD_BENCH=ON -DCMAKE_BUILD_TYPE=Release \\\n&& cmake --build build -j$(nproc) \\\n&& build/bin/bench_bitcoin -filter='XorObfuscationBench' -min-time=10000\n\nC++ compiler .......................... AppleClang 17.0.0.17000013\n\n|              ns/MiB |               MiB/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|           14,730.40 |           67,886.80 |    0.1% |     11.01 | `XorObfuscationBench`\n\nC++ compiler .......................... GNU 13.3.0\n\n|              ns/MiB |               MiB/s |    err% |         ins/MiB |         cyc/MiB |    IPC |        bra/MiB |   miss% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\n|           51,187.17 |           19,536.15 |    0.0% |      327,683.95 |      183,747.58 |  1.783 |      65,536.55 |    0.0% |     11.00 | `XorObfuscationBench`\n\n----\n\nA few other benchmarks that seem to have improved as well (tested with Clang only):\nBefore:\n\n|               ns/op |                op/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|        2,202,618.49 |              454.01 |    0.2% |     11.01 | `ReadBlockBench`\n|          734,444.92 |            1,361.57 |    0.3% |     10.66 | `ReadRawBlockBench`\n\nAfter:\n\n|               ns/op |                op/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|        1,912,308.06 |              522.93 |    0.4% |     10.98 | `ReadBlockBench`\n|           49,092.93 |           20,369.53 |    0.2% |     10.99 | `ReadRawBlockBench`",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:48Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2024-12-21T15:15:04Z"
      },
      "sha": "5bb8c1aeaa86aa61cd0c4c8ea5d749b621c477ef"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGVkNTY5NmVlZGU5MTRkNzRiOTkzNTJiMDI2YmQ5M2IwY2JiYTRjYzA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ed5696eede914d74b99352b026bd93b0cbba4cc0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ed5696eede914d74b99352b026bd93b0cbba4cc0",
      "tree": {
        "sha": "bea016a09f055cf77d5f3c1bce17e9cf8ab6337c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bea016a09f055cf77d5f3c1bce17e9cf8ab6337c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5bb8c1aeaa86aa61cd0c4c8ea5d749b621c477ef",
          "sha": "5bb8c1aeaa86aa61cd0c4c8ea5d749b621c477ef",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/5bb8c1aeaa86aa61cd0c4c8ea5d749b621c477ef"
        }
      ],
      "message": "bench: Add COutPoint and SaltedOutpointHasher benchmarks\n\nThis commit introduces new benchmarks to measure the performance of various operations using\nSaltedOutpointHasher, including hash computation, set operations, and set creation.\n\nThese benchmarks are intended to provide insights about coin caching performance (e.g. during IBD).\n\n> cmake -B build -DBUILD_BENCH=ON -DCMAKE_BUILD_TYPE=Release && cmake --build build -j$(nproc) && build/src/bench/bench_bitcoin -filter='SaltedOutpointHasherBench.*' -min-time=10000\n\n> C++ compiler .......................... AppleClang 16.0.0.16000026\n\n|               ns/op |                op/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|               58.60 |       17,065,922.04 |    0.3% |     11.02 | `SaltedOutpointHasherBench_create_set`\n|               11.97 |       83,576,684.83 |    0.1% |     11.01 | `SaltedOutpointHasherBench_hash`\n|               14.50 |       68,985,850.12 |    0.3% |     10.96 | `SaltedOutpointHasherBench_match`\n|               13.90 |       71,942,033.47 |    0.4% |     11.03 | `SaltedOutpointHasherBench_mismatch`\n\n> C++ compiler .......................... GNU 13.3.0\n\n|               ns/op |                op/s |    err% |          ins/op |          cyc/op |    IPC |         bra/op |   miss% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\n|              136.76 |        7,312,133.16 |    0.0% |        1,086.67 |          491.12 |  2.213 |         119.54 |    1.1% |     11.01 | `SaltedOutpointHasherBench_create_set`\n|               23.82 |       41,978,882.62 |    0.0% |          252.01 |           85.57 |  2.945 |           4.00 |    0.0% |     11.00 | `SaltedOutpointHasherBench_hash`\n|               60.42 |       16,549,695.42 |    0.1% |          460.51 |          217.04 |  2.122 |          21.00 |    1.4% |     10.99 | `SaltedOutpointHasherBench_match`\n|               78.66 |       12,713,595.35 |    0.1% |          555.59 |          282.52 |  1.967 |          20.19 |    2.2% |     10.74 | `SaltedOutpointHasherBench_mismatch`",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:48Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2024-06-21T16:00:14Z"
      },
      "sha": "ed5696eede914d74b99352b026bd93b0cbba4cc0"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGIxNDQyNjY1N2YwNDhhZGM2NzI3NjMxYjMyY2RiNjMyNTRiZDlhNjc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b14426657f048adc6727631b32cdb63254bd9a67",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b14426657f048adc6727631b32cdb63254bd9a67",
      "tree": {
        "sha": "1e31d5d8fe6cfd0dc5d7d55be812776cba461840",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1e31d5d8fe6cfd0dc5d7d55be812776cba461840"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ed5696eede914d74b99352b026bd93b0cbba4cc0",
          "sha": "ed5696eede914d74b99352b026bd93b0cbba4cc0",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ed5696eede914d74b99352b026bd93b0cbba4cc0"
        }
      ],
      "message": "test: Rename k1/k2 to k0/k1 for consistency",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:48Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-02-01T18:01:36Z"
      },
      "sha": "b14426657f048adc6727631b32cdb63254bd9a67"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDI1MGYwYTA4MWM5NDM1MzVmNWQ1ZmRlNTdhYjdlNjEyZDQxNzM1MWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/250f0a081c943535f5d5fde57ab7e612d417351e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/250f0a081c943535f5d5fde57ab7e612d417351e",
      "tree": {
        "sha": "f3c0985bd941928d5d5dcd5cf5d5130778ee60ed",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f3c0985bd941928d5d5dcd5cf5d5130778ee60ed"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b14426657f048adc6727631b32cdb63254bd9a67",
          "sha": "b14426657f048adc6727631b32cdb63254bd9a67",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b14426657f048adc6727631b32cdb63254bd9a67"
        }
      ],
      "message": "refactor: Extract C0-C3 Siphash constants",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:48Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-02-01T18:16:17Z"
      },
      "sha": "250f0a081c943535f5d5fde57ab7e612d417351e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGUxNWM2OGM5YjZlYWE0ZWFkYzk3ZmNhYWM2MDYzMzM4MTYxNjJiOTE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e15c68c9b6eaa4eadc97fcaac606333816162b91",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e15c68c9b6eaa4eadc97fcaac606333816162b91",
      "tree": {
        "sha": "7d784915b8fee906867d317facddcc25413a744c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7d784915b8fee906867d317facddcc25413a744c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/250f0a081c943535f5d5fde57ab7e612d417351e",
          "sha": "250f0a081c943535f5d5fde57ab7e612d417351e",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/250f0a081c943535f5d5fde57ab7e612d417351e"
        }
      ],
      "message": "optimization: refactor: Introduce Uint256ExtraSipHasher to cache SipHash constant state\n\nPreviously, only k0 and k1 were stored, causing the constant xor operations to be recomputed in every call to `SipHashUint256Extra`.\nThis commit adds a dedicated `Uint256ExtraSipHasher` class that caches the initial state (v0-v3) and to perform the `SipHash` computation on a `uint256` (with an extra parameter), hiding the constant computation details from higher-level code and improving efficiency.\nThis basically brings the precalculations in the `CSipHasher` constructor to the `uint256` specialized SipHash implementation.\n\n> cmake -B build -DBUILD_BENCH=ON -DCMAKE_BUILD_TYPE=Release && cmake --build build -j$(nproc) && build/src/bench/bench_bitcoin -filter='SaltedOutpointHasherBench.*' -min-time=10000\n\n> C++ compiler .......................... AppleClang 16.0.0.16000026\n\n|               ns/op |                op/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|               57.27 |       17,462,299.19 |    0.1% |     11.02 | `SaltedOutpointHasherBench_create_set`\n|               11.24 |       88,997,888.48 |    0.3% |     11.04 | `SaltedOutpointHasherBench_hash`\n|               13.91 |       71,902,014.20 |    0.2% |     11.01 | `SaltedOutpointHasherBench_match`\n|               13.29 |       75,230,390.31 |    0.1% |     11.00 | `SaltedOutpointHasherBench_mismatch`\n\ncompared to master:\ncreate_set - 17,462,299.19/17,065,922.04 - 2.3% faster\nhash       - 88,997,888.48/83,576,684.83 - 6.4% faster\nmatch      - 71,902,014.20/68,985,850.12 - 4.2% faster\nmismatch   - 75,230,390.31/71,942,033.47 - 4.5% faster\n\n> C++ compiler .......................... GNU 13.3.0\n\n|               ns/op |                op/s |    err% |          ins/op |          cyc/op |    IPC |         bra/op |   miss% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\n|              135.38 |        7,386,349.49 |    0.0% |        1,078.19 |          486.16 |  2.218 |         119.56 |    1.1% |     11.00 | `SaltedOutpointHasherBench_create_set`\n|               23.67 |       42,254,558.08 |    0.0% |          247.01 |           85.01 |  2.906 |           4.00 |    0.0% |     11.00 | `SaltedOutpointHasherBench_hash`\n|               58.95 |       16,962,220.14 |    0.1% |          446.55 |          211.74 |  2.109 |          20.86 |    1.4% |     11.01 | `SaltedOutpointHasherBench_match`\n|               76.98 |       12,991,047.69 |    0.1% |          548.93 |          276.50 |  1.985 |          20.25 |    2.3% |     10.72 | `SaltedOutpointHasherBench_mismatch`\n\ncompared to master:\ncreate_set -  7,386,349.49/7,312,133.16  - 1% faster\nhash       - 42,254,558.08/41,978,882.62 - 0.6% faster\nmatch      - 16,962,220.14/16,549,695.42 - 2.4% faster\nmismatch   - 12,991,047.69/12,713,595.35 - 2% faster\n\nCo-authored-by: sipa <pieter@wuille.net>",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:49Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-02-01T18:21:34Z"
      },
      "sha": "e15c68c9b6eaa4eadc97fcaac606333816162b91"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGU3MTE2NzJmZjI4MGVjMTY1NDBlMzNlNzZkMzJiYjEyZTAwZWYxOWE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e711672ff280ec16540e33e76d32bb12e00ef19a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e711672ff280ec16540e33e76d32bb12e00ef19a",
      "tree": {
        "sha": "ad1055e858be9280aa6cc04f23bf57f4a10b416e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ad1055e858be9280aa6cc04f23bf57f4a10b416e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e15c68c9b6eaa4eadc97fcaac606333816162b91",
          "sha": "e15c68c9b6eaa4eadc97fcaac606333816162b91",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e15c68c9b6eaa4eadc97fcaac606333816162b91"
        }
      ],
      "message": "bench: measure block (size)serialization speed\n\nThe SizeComputer is a special serializer which returns what the exact final size will be of the serialized content.\n\n> cmake -B build -DBUILD_BENCH=ON -DCMAKE_BUILD_TYPE=Release && cmake --build build -j$(nproc) && build/bin/bench_bitcoin -filter='SizeComputerBlock|SerializeBlock' --min-time=10000\n\n> C compiler ............................ AppleClang 16.0.0.16000026\n\n|            ns/block |             block/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|          195,610.62 |            5,112.20 |    0.3% |     11.00 | `SerializeBlock`\n|           12,061.83 |           82,906.19 |    0.1% |     11.01 | `SizeComputerBlock`\n\n> C++ compiler .......................... GNU 13.3.0\n\n|            ns/block |             block/s |    err% |       ins/block |       cyc/block |    IPC |      bra/block |   miss% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\n|          867,857.55 |            1,152.26 |    0.0% |    8,015,883.90 |    3,116,099.08 |  2.572 |   1,517,035.87 |    0.5% |     10.81 | `SerializeBlock`\n|           30,928.27 |           32,332.88 |    0.0% |      221,683.03 |      111,055.84 |  1.996 |      53,037.03 |    0.8% |     11.03 | `SizeComputerBlock`",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:49Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2024-11-19T15:11:56Z"
      },
      "sha": "e711672ff280ec16540e33e76d32bb12e00ef19a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA5Y2VhYWE2ZmJmN2EyOWYwY2MzZjE0ZmRlNmU2ZmI2ZTdmODFmNjU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/09ceaaa6fbf7a29f0cc3f14fde6e6fb6e7f81f65",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/09ceaaa6fbf7a29f0cc3f14fde6e6fb6e7f81f65",
      "tree": {
        "sha": "8570676481607fe3009b07a9a809491bc4785649",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8570676481607fe3009b07a9a809491bc4785649"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e711672ff280ec16540e33e76d32bb12e00ef19a",
          "sha": "e711672ff280ec16540e33e76d32bb12e00ef19a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/e711672ff280ec16540e33e76d32bb12e00ef19a"
        }
      ],
      "message": "cleanup: remove unused `ser_writedata16be` and `ser_readdata16be`",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:49Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-02-13T21:49:51Z"
      },
      "sha": "09ceaaa6fbf7a29f0cc3f14fde6e6fb6e7f81f65"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGI0ZDE5N2RjZDM5MmM5MDA1NWI4OGU4MmVkMzk0MWE0NzQ1NTMwZjY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b4d197dcd392c90055b88e82ed3941a4745530f6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b4d197dcd392c90055b88e82ed3941a4745530f6",
      "tree": {
        "sha": "60c087d778c6d1ebdb2628d60facf531d730534a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/60c087d778c6d1ebdb2628d60facf531d730534a"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/09ceaaa6fbf7a29f0cc3f14fde6e6fb6e7f81f65",
          "sha": "09ceaaa6fbf7a29f0cc3f14fde6e6fb6e7f81f65",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/09ceaaa6fbf7a29f0cc3f14fde6e6fb6e7f81f65"
        }
      ],
      "message": "refactor: reduce template bloat in primitive serialization\n\nMerged multiple template methods into single constexpr-delimited implementation to reduce template bloat (i.e. related functionality is grouped into a single method, but can be optimized because of C++20 constexpr conditions).\nThis unifies related methods that were only bound before by similar signatures - and enables `SizeComputer` optimizations later",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:49Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-01-17T13:29:33Z"
      },
      "sha": "b4d197dcd392c90055b88e82ed3941a4745530f6"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDQwYzYzNzM0MDc3ZWVlNmJkMmY0ZThhYTFkNDIyNzhiNWM4YmE0ZWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/40c63734077eee6bd2f4e8aa1d42278b5c8ba4eb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/40c63734077eee6bd2f4e8aa1d42278b5c8ba4eb",
      "tree": {
        "sha": "4257aa23554405dd85924d5c534c6da920029cce",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4257aa23554405dd85924d5c534c6da920029cce"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b4d197dcd392c90055b88e82ed3941a4745530f6",
          "sha": "b4d197dcd392c90055b88e82ed3941a4745530f6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b4d197dcd392c90055b88e82ed3941a4745530f6"
        }
      ],
      "message": "refactor: add explicit static extent to spans",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:49Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-03-20T09:28:52Z"
      },
      "sha": "40c63734077eee6bd2f4e8aa1d42278b5c8ba4eb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDMzNDVlZjdiMWE2MmQ3NTNiMjY0YWEyNTVkYzY0MDU1MGRhZjc2MTM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3345ef7b1a62d753b264aa255dc640550daf7613",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/3345ef7b1a62d753b264aa255dc640550daf7613",
      "tree": {
        "sha": "89223e5c5767a973a0e2dd92986cf6d4255c28d8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/89223e5c5767a973a0e2dd92986cf6d4255c28d8"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/40c63734077eee6bd2f4e8aa1d42278b5c8ba4eb",
          "sha": "40c63734077eee6bd2f4e8aa1d42278b5c8ba4eb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/40c63734077eee6bd2f4e8aa1d42278b5c8ba4eb"
        }
      ],
      "message": "optimization: merge SizeComputer specializations + add new ones\n\nEndianness doesn't affect the final size, we can skip it for `SizeComputer`.\nWe can `if constexpr` previous calls into existing method, short-circuiting existing logic when we only need their serialized sizes.\n\n> cmake -B build -DBUILD_BENCH=ON -DCMAKE_BUILD_TYPE=Release && cmake --build build -j$(nproc) && build/src/bench/bench_bitcoin -filter='SizeComputerBlock|SerializeBlock' --min-time=10000\n\n> C compiler ............................ AppleClang 16.0.0.16000026\n\n|            ns/block |             block/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|          191,652.29 |            5,217.78 |    0.4% |     10.96 | `SerializeBlock`\n|           10,323.55 |           96,865.92 |    0.2% |     11.01 | `SizeComputerBlock`\n\n> C++ compiler .......................... GNU 13.3.0\n\n|            ns/block |             block/s |    err% |       ins/block |       cyc/block |    IPC |      bra/block |   miss% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\n|          614,847.32 |            1,626.42 |    0.0% |    8,015,883.64 |    2,207,628.07 |  3.631 |   1,517,035.62 |    0.5% |     10.56 | `SerializeBlock`\n|           26,020.31 |           38,431.52 |    0.0% |      159,390.03 |       93,438.33 |  1.706 |      42,131.03 |    0.9% |     11.00 | `SizeComputerBlock`",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:49Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-02-14T12:54:57Z"
      },
      "sha": "3345ef7b1a62d753b264aa255dc640550daf7613"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGFmZGU4MmZlMGM1ZDI2NzVmM2JkZDE0NWUyMzdkODk1YTdjMThhZGM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/afde82fe0c5d2675f3bdd145e237d895a7c18adc",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/afde82fe0c5d2675f3bdd145e237d895a7c18adc",
      "tree": {
        "sha": "a9377b86924f687785735e103ad8a0e70c94c30d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a9377b86924f687785735e103ad8a0e70c94c30d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3345ef7b1a62d753b264aa255dc640550daf7613",
          "sha": "3345ef7b1a62d753b264aa255dc640550daf7613",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/3345ef7b1a62d753b264aa255dc640550daf7613"
        }
      ],
      "message": "optimization: add single byte writes\n\nSingle byte writes are used very often (used for every (u)int8_t or std::byte or bool and for every VarInt's first byte which is also needed for every (pre)Vector).\nIt makes sense to avoid the generalized serialization infrastructure that isn't needed:\n* AutoFile write doesn't need to allocate 4k buffer for a single byte now;\n* `VectorWriter` and `DataStream` avoids memcpy/insert calls.\n\n> cmake -B build -DBUILD_BENCH=ON -DCMAKE_BUILD_TYPE=Release && cmake --build build -j$(nproc) && build/bin/bench_bitcoin -filter='SizeComputerBlock|SerializeBlock' --min-time=10000\n\n> C compiler ............................ AppleClang 16.0.0.16000026\n\n|            ns/block |             block/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|          174,569.19 |            5,728.39 |    0.6% |     10.89 | `SerializeBlock`\n|           10,241.16 |           97,645.21 |    0.0% |     11.00 | `SizeComputerBlock`\n\n> C++ compiler .......................... GNU 13.3.0\n\n|            ns/block |             block/s |    err% |       ins/block |       cyc/block |    IPC |      bra/block |   miss% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\n|          615,000.56 |            1,626.01 |    0.0% |    8,015,883.64 |    2,208,340.88 |  3.630 |   1,517,035.62 |    0.5% |     10.56 | `SerializeBlock`\n|           25,676.76 |           38,945.72 |    0.0% |      159,390.03 |       92,202.10 |  1.729 |      42,131.03 |    0.9% |     11.00 | `SizeComputerBlock`",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:49Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-03-09T20:33:36Z"
      },
      "sha": "afde82fe0c5d2675f3bdd145e237d895a7c18adc"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJmZmJjNzA1MzQ1YmYyZDdhNmIyNWJmNmI1YWQwZTAzY2Y0YzcyY2I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bffbc705345bf2d7a6b25bf6b5ad0e03cf4c72cb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bffbc705345bf2d7a6b25bf6b5ad0e03cf4c72cb",
      "tree": {
        "sha": "b13989ac021ddfaccd80a989f0aa692f0de6f246",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b13989ac021ddfaccd80a989f0aa692f0de6f246"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/afde82fe0c5d2675f3bdd145e237d895a7c18adc",
          "sha": "afde82fe0c5d2675f3bdd145e237d895a7c18adc",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/afde82fe0c5d2675f3bdd145e237d895a7c18adc"
        }
      ],
      "message": "test: validate duplicate detection in `CheckTransaction`\n\nThe `CheckTransaction` validation function in https://github.com/bitcoin/bitcoin/blob/master/src/consensus/tx_check.cpp#L41-L45 relies on a correct ordering relation for detecting duplicate transaction inputs.\n\nThis update to the tests ensures that:\n* Accurate detection of duplicates: Beyond trivial cases (e.g., two identical inputs), duplicates are detected correctly in more complex scenarios.\n* Consistency across methods: Both sorted sets and hash-based sets behave identically when detecting duplicates for `COutPoint` and related values.\n* Robust ordering and equality relations: The function maintains expected behavior for ordering and equality checks.\n\nUsing randomized testing with shuffled inputs (to avoid any remaining bias introduced), the enhanced test validates that `CheckTransaction` remains robust and reliable across various input configurations. It confirms identical behavior to a hashing-based duplicate detection mechanism, ensuring consistency and correctness.\n\nTo make sure the new branches in the follow-up commits will be covered, `basic_transaction_tests` was extended a randomized test one comparing against the old implementation (and also an alternative duplicate). The iterations and ranges were chosen such that every new branch is expected to be hit once.",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:49Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-01-18T14:37:08Z"
      },
      "sha": "bffbc705345bf2d7a6b25bf6b5ad0e03cf4c72cb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU5ZDY3ZjllZjI5MTJiNDRmNGMyYjExMmEzMDY3N2RjZjZiODliZjU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/59d67f9ef2912b44f4c2b112a30677dcf6b89bf5",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/59d67f9ef2912b44f4c2b112a30677dcf6b89bf5",
      "tree": {
        "sha": "d1c68acf6ec8a5aa8b38518ba088d5e35cdc0718",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d1c68acf6ec8a5aa8b38518ba088d5e35cdc0718"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bffbc705345bf2d7a6b25bf6b5ad0e03cf4c72cb",
          "sha": "bffbc705345bf2d7a6b25bf6b5ad0e03cf4c72cb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bffbc705345bf2d7a6b25bf6b5ad0e03cf4c72cb"
        }
      ],
      "message": "bench: measure `CheckBlock` speed separately from serialization\n\n> cmake -B build -DBUILD_BENCH=ON -DCMAKE_BUILD_TYPE=Release && cmake --build build -j$(nproc) && build/src/bench/bench_bitcoin -filter='CheckBlockBench|DuplicateInputs' -min-time=10000\n\n> C++ compiler .......................... AppleClang 16.0.0.16000026\n\n|            ns/block |             block/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|          372,743.63 |            2,682.81 |    1.1% |     10.99 | `CheckBlockBench`\n\n|               ns/op |                op/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|        3,304,694.54 |              302.60 |    0.5% |     11.05 | `DuplicateInputs`\n\n> C++ compiler .......................... GNU 13.3.0\n\n|            ns/block |             block/s |    err% |       ins/block |       cyc/block |    IPC |      bra/block |   miss% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\n|        1,096,261.84 |              912.19 |    0.1% |    7,963,390.88 |    3,487,375.26 |  2.283 |   1,266,941.00 |    1.8% |     11.03 | `CheckBlockBench`\n\n|               ns/op |                op/s |    err% |          ins/op |          cyc/op |    IPC |         bra/op |   miss% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\n|        8,366,309.48 |              119.53 |    0.0% |   23,865,177.67 |   26,620,160.23 |  0.897 |   5,972,887.41 |    4.0% |     10.78 | `DuplicateInputs`",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:49Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-01-18T10:43:26Z"
      },
      "sha": "59d67f9ef2912b44f4c2b112a30677dcf6b89bf5"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDE3ODFmMDcxMjhmNzEwZWEzMzYzYzM4MWNlYWFhMDZhMTgyZmZiNjg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1781f07128f710ea3363c381ceaaa06a182ffb68",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/1781f07128f710ea3363c381ceaaa06a182ffb68",
      "tree": {
        "sha": "c8d74f7c5676a0f577229a636468a297b95a6b1d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c8d74f7c5676a0f577229a636468a297b95a6b1d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/59d67f9ef2912b44f4c2b112a30677dcf6b89bf5",
          "sha": "59d67f9ef2912b44f4c2b112a30677dcf6b89bf5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/59d67f9ef2912b44f4c2b112a30677dcf6b89bf5"
        }
      ],
      "message": "bench: add `ProcessTransactionBench` to measure `CheckBlock` in context\n\nThe newly introduced `ProcessTransactionBench` incorporates multiple steps in the validation pipeline, offering a more comprehensive view of `CheckBlock` performance within a realistic transaction validation context.\n\nPrevious microbenchmarks, such as DeserializeAndCheckBlockTest and DuplicateInputs, focused on isolated aspects of transaction and block validation. While these tests provided valuable insights for targeted profiling, they lacked context regarding the broader validation process, where interactions between components play a critical role.\n\n> cmake -B build -DBUILD_BENCH=ON -DCMAKE_BUILD_TYPE=Release && cmake --build build -j$(nproc) && build/src/bench/bench_bitcoin -filter='ProcessTransactionBench' -min-time=10000\n\n> C++ compiler .......................... AppleClang 16.0.0.16000026\n\n|               ns/op |                op/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|            9,585.10 |          104,328.55 |    0.1% |     11.03 | `ProcessTransactionBench`\n\n> C++ compiler .......................... GNU 13.3.0\n\n|               ns/op |                op/s |    err% |          ins/op |          cyc/op |    IPC |         bra/op |   miss% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\n|           56,199.57 |           17,793.73 |    0.1% |      229,263.01 |      178,766.31 |  1.282 |      15,509.97 |    0.5% |     10.91 | `ProcessTransactionBench`",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:49Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-01-21T13:01:31Z"
      },
      "sha": "1781f07128f710ea3363c381ceaaa06a182ffb68"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGZkOGI4YWM4ODdhYjBhMWFmNzg2NjYxZTJiYTBmZGY3MzBlNGM0YTI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fd8b8ac887ab0a1af786661e2ba0fdf730e4c4a2",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/fd8b8ac887ab0a1af786661e2ba0fdf730e4c4a2",
      "tree": {
        "sha": "afa29e69a5429b69be7c8f6f886a7fd0d26d0893",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/afa29e69a5429b69be7c8f6f886a7fd0d26d0893"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1781f07128f710ea3363c381ceaaa06a182ffb68",
          "sha": "1781f07128f710ea3363c381ceaaa06a182ffb68",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/1781f07128f710ea3363c381ceaaa06a182ffb68"
        }
      ],
      "message": "optimization: move duplicate checks outside of coinbase branch\n\n`IsCoinBase` means single input with NULL prevout, so it makes sense to restrict duplicate check to non-coinbase transactions only.\nThe behavior is the same as before, except that single-input-transactions aren't checked for duplicates anymore (~70-90% of the cases, see https://transactionfee.info/charts/transactions-1in).\nI've added braces to the conditions and loops to simplify review of followup commits.\n\n> cmake -B build -DBUILD_BENCH=ON -DCMAKE_BUILD_TYPE=Release && cmake --build build -j$(nproc) && build/src/bench/bench_bitcoin -filter='CheckBlockBench|DuplicateInputs|ProcessTransactionBench' -min-time=10000\n\n> C++ compiler .......................... AppleClang 16.0.0.16000026\n\n|            ns/block |             block/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|          335,917.12 |            2,976.92 |    1.3% |     11.01 | `CheckBlockBench`\n\n|               ns/op |                op/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|        3,286,337.42 |              304.29 |    1.1% |     10.90 | `DuplicateInputs`\n|            9,561.02 |          104,591.35 |    0.2% |     11.02 | `ProcessTransactionBench`",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:49Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-01-25T13:07:24Z"
      },
      "sha": "fd8b8ac887ab0a1af786661e2ba0fdf730e4c4a2"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGRjMmRiN2Q4ZjM2NjY2NGFkYTQyNTJjZWI5OTUwZDM4YmY3MWQ3ZWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dc2db7d8f366664ada4252ceb9950d38bf71d7eb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/dc2db7d8f366664ada4252ceb9950d38bf71d7eb",
      "tree": {
        "sha": "c283eb47140e8e228990c26fee3d79709905b9cf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c283eb47140e8e228990c26fee3d79709905b9cf"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fd8b8ac887ab0a1af786661e2ba0fdf730e4c4a2",
          "sha": "fd8b8ac887ab0a1af786661e2ba0fdf730e4c4a2",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/fd8b8ac887ab0a1af786661e2ba0fdf730e4c4a2"
        }
      ],
      "message": "optimization: simplify duplicate checks for trivial inputs\n\nNo need to create a set for checking duplicates for two-input-transactions.\n\n> cmake -B build -DBUILD_BENCH=ON -DCMAKE_BUILD_TYPE=Release && cmake --build build -j$(nproc) && build/src/bench/bench_bitcoin -filter='CheckBlockBench|DuplicateInputs|ProcessTransactionBench' -min-time=10000\n\n> C++ compiler .......................... AppleClang 16.0.0.16000026\n\n|            ns/block |             block/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|          314,137.30 |            3,183.32 |    1.2% |     11.04 | `CheckBlockBench`\n\n|               ns/op |                op/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|        3,220,592.73 |              310.50 |    1.3% |     10.92 | `DuplicateInputs`\n|            9,425.98 |          106,089.77 |    0.3% |     11.00 | `ProcessTransactionBench`",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:49Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-01-17T21:39:59Z"
      },
      "sha": "dc2db7d8f366664ada4252ceb9950d38bf71d7eb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDE4OGMxNTMwYTFhNjQ1ZDczNzk4NzJiYzUwMjZmZDg2YjUzZDU1YTk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/188c1530a1a645d7379872bc5026fd86b53d55a9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/188c1530a1a645d7379872bc5026fd86b53d55a9",
      "tree": {
        "sha": "a20eb633ec08d46ac95841ce7b9ce029b711b89b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a20eb633ec08d46ac95841ce7b9ce029b711b89b"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dc2db7d8f366664ada4252ceb9950d38bf71d7eb",
          "sha": "dc2db7d8f366664ada4252ceb9950d38bf71d7eb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/dc2db7d8f366664ada4252ceb9950d38bf71d7eb"
        }
      ],
      "message": "optimization: replace tree with sorted vector\n\nA pre-sized vector retains locality (enabling SIMD operations), speeding up sorting and equality checks.\nIt's also simpler (therefore more reliable) than a sorted set. It also causes less memory fragmentation.\n\n> cmake -B build -DBUILD_BENCH=ON -DCMAKE_BUILD_TYPE=Release && cmake --build build -j$(nproc) && build/src/bench/bench_bitcoin -filter='CheckBlockBench|DuplicateInputs|ProcessTransactionBench' -min-time=10000\n\n> C++ compiler .......................... AppleClang 16.0.0.16000026\n\n|            ns/block |             block/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|          181,922.54 |            5,496.85 |    0.2% |     10.98 | `CheckBlockBench`\n\n|               ns/op |                op/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|          997,739.30 |            1,002.27 |    1.0% |     10.94 | `DuplicateInputs`\n|            9,449.28 |          105,828.15 |    0.3% |     10.99 | `ProcessTransactionBench`\n\nCo-authored-by: Pieter Wuille <pieter@wuille.net>",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:49Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-01-18T10:54:47Z"
      },
      "sha": "188c1530a1a645d7379872bc5026fd86b53d55a9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGU3NTFjYmE3ZTI2ZTRlMTQ5NjQzZTViN2MxOGIxNTI5MDhlOGRlZWM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e751cba7e26e4e149643e5b7c18b152908e8deec",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/e751cba7e26e4e149643e5b7c18b152908e8deec",
      "tree": {
        "sha": "a4cc87e4cf61993311e1878211e4f4886af6d3c6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a4cc87e4cf61993311e1878211e4f4886af6d3c6"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/188c1530a1a645d7379872bc5026fd86b53d55a9",
          "sha": "188c1530a1a645d7379872bc5026fd86b53d55a9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/188c1530a1a645d7379872bc5026fd86b53d55a9"
        }
      ],
      "message": "optimization: look for NULL prevouts in the sorted values\n\nFor the 2 input case we simply check them both, like we did with equality.\n\nFor the general case, we take advantage of sorting, making invalid value detection constant time instead of linear in the worst case.\n\n> cmake -B build -DBUILD_BENCH=ON -DCMAKE_BUILD_TYPE=Release && cmake --build build -j$(nproc) && build/src/bench/bench_bitcoin -filter='CheckBlockBench|DuplicateInputs|ProcessTransactionBench' -min-time=10000\n\n> C++ compiler .......................... AppleClang 16.0.0.16000026\n\n|            ns/block |             block/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|          179,971.00 |            5,556.45 |    0.3% |     11.02 | `CheckBlockBench`\n\n|               ns/op |                op/s |    err% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------:|:----------\n|          963,177.98 |            1,038.23 |    1.7% |     10.92 | `DuplicateInputs`\n|            9,410.90 |          106,259.75 |    0.3% |     11.01 | `ProcessTransactionBench`\n\n> C++ compiler .......................... GNU 13.3.0\n\n|            ns/block |             block/s |    err% |       ins/block |       cyc/block |    IPC |      bra/block |   miss% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\n|          834,855.94 |            1,197.81 |    0.0% |    6,518,548.86 |    2,656,039.78 |  2.454 |     919,160.84 |    1.5% |     10.78 | `CheckBlockBench`\n\n|               ns/op |                op/s |    err% |          ins/op |          cyc/op |    IPC |         bra/op |   miss% |     total | benchmark\n|--------------------:|--------------------:|--------:|----------------:|----------------:|-------:|---------------:|--------:|----------:|:----------\n|        4,261,492.75 |              234.66 |    0.0% |   17,379,823.40 |   13,559,793.33 |  1.282 |   4,265,714.28 |    3.4% |     11.00 | `DuplicateInputs`\n|           55,819.53 |           17,914.88 |    0.1% |      227,828.15 |      177,520.09 |  1.283 |      15,184.36 |    0.4% |     10.91 | `ProcessTransactionBench`",
      "committer": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-04-13T19:05:49Z"
      },
      "author": {
        "name": "Lőrinc",
        "email": "pap.lorinc@gmail.com",
        "date": "2025-01-25T13:24:02Z"
      },
      "sha": "e751cba7e26e4e149643e5b7c18b152908e8deec"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 17239377132,
      "node_id": "HRFPE_lADOABII586tt8Q0zwAAAAQDjATs",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17239377132",
      "actor": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "e751cba7e26e4e149643e5b7c18b152908e8deec",
      "commit_url": "https://api.github.com/repos/l0rinc/bitcoin/commits/e751cba7e26e4e149643e5b7c18b152908e8deec",
      "created_at": "2025-04-13T19:09:09Z"
    }
  ],
  "comments": []
}