{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596",
    "id": 1138253329,
    "node_id": "PR_kwDOABII585D2F4R",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/26596",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/26596.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/26596.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26596",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26596/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/8ce3739edbcf6437bf2695087e0ebe8c633df19b",
    "number": 26596,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "wallet: Migrate legacy wallets to descriptor wallets without requiring BDB",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "#26606 introduced `BerkeleyRODatabase` which is an independent parser for BDB files. This PR uses this in legacy wallet migration so that migration will continue to work once the legacy wallet and BDB are removed. `LegacyDataSPKM` is introduced to have the minimum data and functions necessary for a legacy wallet to be loaded for migration.",
    "labels": [
      {
        "id": 149424,
        "node_id": "MDU6TGFiZWwxNDk0MjQ=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet",
        "name": "Wallet",
        "color": "08a781",
        "default": false
      }
    ],
    "created_at": "2022-11-28T23:46:50Z",
    "updated_at": "2025-07-11T11:38:28Z",
    "closed_at": "2024-07-11T15:47:42Z",
    "mergeable_state": "unknown",
    "merged": true,
    "merged_at": "2024-07-11T15:47:41Z",
    "merged_by": {
      "login": "glozow",
      "id": 25183001,
      "node_id": "MDQ6VXNlcjI1MTgzMDAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glozow",
      "html_url": "https://github.com/glozow",
      "followers_url": "https://api.github.com/users/glozow/followers",
      "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
      "organizations_url": "https://api.github.com/users/glozow/orgs",
      "repos_url": "https://api.github.com/users/glozow/repos",
      "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/glozow/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "merge_commit_sha": "d9aa7b23e438fc381c6bddecfe53943d63b1a1fd",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "achow101:indep-desc-migrate2",
      "ref": "indep-desc-migrate2",
      "sha": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 45006379,
        "node_id": "MDEwOlJlcG9zaXRvcnk0NTAwNjM3OQ==",
        "name": "bitcoin",
        "full_name": "achow101/bitcoin",
        "owner": {
          "login": "achow101",
          "id": 3782274,
          "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
          "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/achow101",
          "html_url": "https://github.com/achow101",
          "followers_url": "https://api.github.com/users/achow101/followers",
          "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
          "organizations_url": "https://api.github.com/users/achow101/orgs",
          "repos_url": "https://api.github.com/users/achow101/repos",
          "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/achow101/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/achow101/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/achow101/bitcoin",
        "archive_url": "https://api.github.com/repos/achow101/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/achow101/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/achow101/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/achow101/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/achow101/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/achow101/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/achow101/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/achow101/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/achow101/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/achow101/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/achow101/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/achow101/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/achow101/bitcoin/events",
        "forks_url": "https://api.github.com/repos/achow101/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/achow101/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/achow101/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/achow101/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/achow101/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/achow101/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/achow101/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/achow101/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/achow101/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/achow101/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/achow101/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/achow101/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/achow101/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/achow101/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/achow101/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/achow101/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:achow101/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/achow101/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/achow101/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/achow101/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/achow101/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/achow101/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/achow101/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/achow101/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/achow101/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/achow101/bitcoin/hooks",
        "svn_url": "https://github.com/achow101/bitcoin",
        "homepage": "https://bitcoin.org/en/download",
        "language": "C++",
        "forks_count": 10,
        "stargazers_count": 42,
        "watchers_count": 42,
        "size": 301755,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-07-10T18:56:08Z",
        "created_at": "2015-10-27T00:20:28Z",
        "updated_at": "2025-05-11T17:20:16Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "fe70be537783aeadf9e3f72cad07efd66775285b",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37504,
        "stargazers_count": 84514,
        "watchers_count": 84514,
        "size": 288938,
        "default_branch": "master",
        "open_issues_count": 743,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-07-11T10:18:06Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-07-11T10:59:50Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 221,
    "deletions": 125,
    "changed_files": 6,
    "commits": 6,
    "review_comments": 57,
    "comments": 12
  },
  "events": [
    {
      "event": "commented",
      "id": 1329892984,
      "node_id": "IC_kwDOABII585PRI54",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1329892984",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-28T23:46:52Z",
      "updated_at": "2024-07-03T20:10:22Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/26596).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [cbergqvist](https://github.com/bitcoin/bitcoin/pull/26596#pullrequestreview-2152310896), [theStack](https://github.com/bitcoin/bitcoin/pull/26596#pullrequestreview-2156741773), [furszy](https://github.com/bitcoin/bitcoin/pull/26596#pullrequestreview-2157260912) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#29124](https://github.com/bitcoin/bitcoin/pull/29124) (wallet: Automatically repair corrupted metadata with doubled derivation path by achow101)\n* [#28574](https://github.com/bitcoin/bitcoin/pull/28574) (wallet: optimize migration process, batch db transactions by furszy)\n* [#28333](https://github.com/bitcoin/bitcoin/pull/28333) (wallet: Construct ScriptPubKeyMans with all data rather than loaded progressively by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#issuecomment-1329892984",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26596"
    },
    {
      "event": "labeled",
      "id": 7907723169,
      "node_id": "LE_lADOABII585XdFwvzwAAAAHXVkeh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7907723169",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-28T23:46:53Z",
      "label": {
        "name": "Wallet",
        "color": "08a781"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7907740523,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAHXVotr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7907740523",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "9d6ce8aaedb577f587ab7a57ca82a52354679dee",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/9d6ce8aaedb577f587ab7a57ca82a52354679dee",
      "created_at": "2022-11-28T23:50:10Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7907955699,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAHXWdPz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7907955699",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "03fdbaf43ad10a58964054c550a0c24766dc399c",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/03fdbaf43ad10a58964054c550a0c24766dc399c",
      "created_at": "2022-11-29T00:44:14Z"
    },
    {
      "event": "commented",
      "id": 1330751869,
      "node_id": "IC_kwDOABII585PUal9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1330751869",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-29T14:41:14Z",
      "updated_at": "2022-11-29T14:41:14Z",
      "author_association": "MEMBER",
      "body": "I think it would be easier to review if you made a separate PR for `BerkeleyRODatabase` and have it work as a regular, albeit read-only, wallet database backend.\r\n\r\nI'm pleasantly surprised at how small the implementation is.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#issuecomment-1330751869",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26596"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7916378802,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAHX2lqy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7916378802",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "bb4ea9377ab31cb09415d73b019a50301c42310e",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/bb4ea9377ab31cb09415d73b019a50301c42310e",
      "created_at": "2022-11-29T20:59:24Z"
    },
    {
      "event": "commented",
      "id": 1331324928,
      "node_id": "IC_kwDOABII585PWmgA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1331324928",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-29T21:20:19Z",
      "updated_at": "2022-11-29T21:20:19Z",
      "author_association": "MEMBER",
      "body": "I don't see how reimplementing BDB is better than just continuing to use BDB.",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#issuecomment-1331324928",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26596"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7916574677,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAHX3VfV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7916574677",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "a8060af309e7327b1149f263fa2bd70aa3c88f97",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/a8060af309e7327b1149f263fa2bd70aa3c88f97",
      "created_at": "2022-11-29T21:22:08Z"
    },
    {
      "event": "commented",
      "id": 1331335069,
      "node_id": "IC_kwDOABII585PWo-d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1331335069",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-29T21:27:56Z",
      "updated_at": "2022-11-29T21:27:56Z",
      "author_association": "MEMBER",
      "body": "> I don't see how reimplementing BDB is better than just continuing to use BDB.\r\n\r\nThe reimplementation is quite compact because it is for only reading BDB files, only the features that we use, and none of the actual DB system stuff. BDB itself contains a ton of code, a lot of which we don't use. Maintaining it as a dependency will eventually be more burdensome - we already need to patch it in order to compile in the depends system. This reimplementation does not carry those issues - it implements a format that isn't going to change, and it only depends on things that are already being used elsewhere in the codebase.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#issuecomment-1331335069",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26596"
    },
    {
      "event": "commented",
      "id": 1331368146,
      "node_id": "IC_kwDOABII585PWxDS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1331368146",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-29T21:51:35Z",
      "updated_at": "2022-11-29T21:51:35Z",
      "author_association": "MEMBER",
      "body": "> I think it would be easier to review if you made a separate PR for `BerkeleyRODatabase` and have it work as a regular, albeit read-only, wallet database backend.\r\n\r\nI've opeend #26606 for just `BerkeleyRODatabase` and its use in wallettool's `dump`.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#issuecomment-1331368146",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26596"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7917500171,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAHX63cL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7917500171",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "b29c0bf5a91b043debdeb80ff503fcc1ad554328",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/b29c0bf5a91b043debdeb80ff503fcc1ad554328",
      "created_at": "2022-11-30T00:14:48Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7918055050,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAHX8-6K",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7918055050",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "cfc73d169353dbc9be16d4073ca424953b9e814a",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/cfc73d169353dbc9be16d4073ca424953b9e814a",
      "created_at": "2022-11-30T02:37:34Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7918385573,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAHX-Pml",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7918385573",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "1af95bf03021d52cd9340b5ef63ba59bac89d033",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/1af95bf03021d52cd9340b5ef63ba59bac89d033",
      "created_at": "2022-11-30T04:10:49Z"
    },
    {
      "event": "labeled",
      "id": 7930697956,
      "node_id": "LE_lADOABII585XdFwvzwAAAAHYtNjk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7930697956",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-01T11:02:59Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7934751821,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAHY8rRN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7934751821",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "928b0225e1833e7414d380138cc668b756933a33",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/928b0225e1833e7414d380138cc668b756933a33",
      "created_at": "2022-12-01T18:53:30Z"
    },
    {
      "event": "unlabeled",
      "id": 7935033426,
      "node_id": "UNLE_lADOABII585XdFwvzwAAAAHY9wBS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7935033426",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-12-01T19:34:38Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7936728229,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAHZENyl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7936728229",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "1441675c4bf5e0b39c9258a43a9578691bc89044",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/1441675c4bf5e0b39c9258a43a9578691bc89044",
      "created_at": "2022-12-02T00:50:03Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 7942601126,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAHZanmm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/7942601126",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "8005ac121c2440211f8f328c7dfbfcb230e07473",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/8005ac121c2440211f8f328c7dfbfcb230e07473",
      "created_at": "2022-12-02T17:38:02Z"
    },
    {
      "event": "labeled",
      "id": 8411999432,
      "node_id": "LE_lADOABII585XdFwvzwAAAAH1ZOzI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8411999432",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-01T16:01:03Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8415055752,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAH1k4-I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8415055752",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "bd45a2bd197c4f30cdbc0c418159c7d8dbac5160",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/bd45a2bd197c4f30cdbc0c418159c7d8dbac5160",
      "created_at": "2023-02-01T22:02:55Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8426084515,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAH2O9ij",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8426084515",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "75fb78ff84b41aa2b1862d20881519cd4643eef9",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/75fb78ff84b41aa2b1862d20881519cd4643eef9",
      "created_at": "2023-02-02T22:22:47Z"
    },
    {
      "event": "unlabeled",
      "id": 8426569142,
      "node_id": "UNLE_lADOABII585XdFwvzwAAAAH2Qz22",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8426569142",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-02T23:48:03Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 8550178999,
      "node_id": "LE_lADOABII585XdFwvzwAAAAH9oWC3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8550178999",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-17T19:14:46Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8550998173,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAH9reCd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8550998173",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "30328e7ce10824f725aafc29471ed1334485ff68",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/30328e7ce10824f725aafc29471ed1334485ff68",
      "created_at": "2023-02-17T21:02:35Z"
    },
    {
      "event": "unlabeled",
      "id": 8551149984,
      "node_id": "UNLE_lADOABII585XdFwvzwAAAAH9sDGg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8551149984",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-17T21:24:41Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 8584276780,
      "node_id": "LE_lADOABII585XdFwvzwAAAAH_qass",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8584276780",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-02-22T18:45:12Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 8638530554,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAIC5YP6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8638530554",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "4f78b8e1bc9c0706bb6639de706062d7ab47317b",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/4f78b8e1bc9c0706bb6639de706062d7ab47317b",
      "created_at": "2023-03-01T13:57:06Z"
    },
    {
      "event": "unlabeled",
      "id": 8639427900,
      "node_id": "UNLE_lADOABII585XdFwvzwAAAAIC8zU8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/8639427900",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-01T15:16:37Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 9147744791,
      "node_id": "LE_lADOABII585XdFwvzwAAAAIhP4IX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9147744791",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-02T16:42:29Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9148255434,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAIhR0zK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9148255434",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "749c9cb7fc2fb7be949140b9c26e018ea95945fc",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/749c9cb7fc2fb7be949140b9c26e018ea95945fc",
      "created_at": "2023-05-02T17:44:08Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9148333694,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAIhSH5-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9148333694",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "6ea15be9f60ef825045620a2b9b1c1bc2dfc5fda",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/6ea15be9f60ef825045620a2b9b1c1bc2dfc5fda",
      "created_at": "2023-05-02T17:53:18Z"
    },
    {
      "event": "unlabeled",
      "id": 9149483279,
      "node_id": "UNLE_lADOABII585XdFwvzwAAAAIhWgkP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9149483279",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-02T20:12:33Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9355569531,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAItoql7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9355569531",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "453a3e3f04bd417f96acdcda8cabccdfa7980f13",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/453a3e3f04bd417f96acdcda8cabccdfa7980f13",
      "created_at": "2023-05-27T01:52:21Z"
    },
    {
      "event": "labeled",
      "id": 9456131443,
      "node_id": "LE_lADOABII585XdFwvzwAAAAIzoR1z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9456131443",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-07T09:05:29Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9470226794,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAI0eDFq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9470226794",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "9c4a1287c4048b24e680799b9a094b1fcfad8862",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/9c4a1287c4048b24e680799b9a094b1fcfad8862",
      "created_at": "2023-06-08T09:54:41Z"
    },
    {
      "event": "unlabeled",
      "id": 9473595235,
      "node_id": "UNLE_lADOABII585XdFwvzwAAAAI0q5dj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9473595235",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-08T14:52:01Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 9658549966,
      "node_id": "LE_lADOABII585XdFwvzwAAAAI_scbO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9658549966",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T01:13:56Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9670694865,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAJAaxfR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9670694865",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "10a4c71054a24287c93c69db64e1153d566a7c9f",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/10a4c71054a24287c93c69db64e1153d566a7c9f",
      "created_at": "2023-06-28T22:27:37Z"
    },
    {
      "event": "unlabeled",
      "id": 9670790928,
      "node_id": "UNLE_lADOABII585XdFwvzwAAAAJAbI8Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9670790928",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T22:46:16Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 9672345019,
      "node_id": "LE_lADOABII585XdFwvzwAAAAJAhEW7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9672345019",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-29T04:09:18Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9678055158,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAJA22b2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9678055158",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "db5908ad9779c211b1a789d9227f8e164361a619",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/db5908ad9779c211b1a789d9227f8e164361a619",
      "created_at": "2023-06-29T14:54:30Z"
    },
    {
      "event": "unlabeled",
      "id": 9746053798,
      "node_id": "UNLE_lADOABII585XdFwvzwAAAAJE6Pqm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9746053798",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-06T16:57:27Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 9892135624,
      "node_id": "LE_lADOABII585XdFwvzwAAAAJNngLI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9892135624",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-07-23T05:16:10Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 9979202998,
      "node_id": "LE_lADOABII585XdFwvzwAAAAJSzo22",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9979202998",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-01T17:11:32Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9980417869,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAJS4RdN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9980417869",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "10c95dd4f9403a637428315ab3cc979e7ead642c",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/10c95dd4f9403a637428315ab3cc979e7ead642c",
      "created_at": "2023-08-01T19:32:51Z"
    },
    {
      "event": "unlabeled",
      "id": 9981263165,
      "node_id": "UNLE_lADOABII585XdFwvzwAAAAJS7f09",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/9981263165",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-08-01T21:19:49Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10387680334,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAJrJ2xO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10387680334",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "f6063dca7ff24cb38db989a1e8ccf27c08ab1338",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/f6063dca7ff24cb38db989a1e8ccf27c08ab1338",
      "created_at": "2023-09-15T21:40:34Z"
    },
    {
      "event": "labeled",
      "id": 10413968673,
      "node_id": "LE_lADOABII585XdFwvzwAAAAJsuI0h",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10413968673",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-19T18:18:37Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10490176967,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAJxQ2XH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10490176967",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "2fb0858c2dcf49cd34a322728ab1c9376ac71f69",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/2fb0858c2dcf49cd34a322728ab1c9376ac71f69",
      "created_at": "2023-09-27T17:04:42Z"
    },
    {
      "event": "unlabeled",
      "id": 10491144069,
      "node_id": "UNLE_lADOABII585XdFwvzwAAAAJxUieF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10491144069",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-27T18:55:54Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10491964511,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAJxXqxf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10491964511",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "1b865df56dd0695d544e22e286b03df848556282",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/1b865df56dd0695d544e22e286b03df848556282",
      "created_at": "2023-09-27T20:35:21Z"
    },
    {
      "event": "unlabeled",
      "id": 10493644671,
      "node_id": "UNLE_lADOABII585XdFwvzwAAAAJxeE9_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10493644671",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-09-28T01:46:30Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 10747302489,
      "node_id": "LE_lADOABII585XdFwvzwAAAAKAltJZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10747302489",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-23T23:35:54Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10747331934,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAKAl0Ve",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10747331934",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "ce90391335557470a399115461728b39c5e0895d",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/ce90391335557470a399115461728b39c5e0895d",
      "created_at": "2023-10-23T23:41:43Z"
    },
    {
      "event": "unlabeled",
      "id": 10747902995,
      "node_id": "UNLE_lADOABII585XdFwvzwAAAAKAn_wT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10747902995",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-24T01:39:39Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 10747917145,
      "node_id": "LE_lADOABII585XdFwvzwAAAAKAoDNZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10747917145",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-10-24T01:41:57Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 10756272538,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAKBH7Ga",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/10756272538",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "74f23100ad42bc6758d49df1dc52b0d723443d2f",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/74f23100ad42bc6758d49df1dc52b0d723443d2f",
      "created_at": "2023-10-24T16:07:20Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11085841241,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAKUxINZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11085841241",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "f7c19220a7f336cd3070899c4159e881bbce83c8",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/f7c19220a7f336cd3070899c4159e881bbce83c8",
      "created_at": "2023-11-28T16:16:27Z"
    },
    {
      "event": "unlabeled",
      "id": 11089322103,
      "node_id": "UNLE_lADOABII585XdFwvzwAAAAKU-aB3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11089322103",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-11-28T22:11:07Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 11253304432,
      "node_id": "LE_lADOABII585XdFwvzwAAAAKev8xw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11253304432",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-14T21:55:51Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11292615269,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAKhF6Jl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11292615269",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "70aea6ea9325529a3142b82191b104c353136ff8",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/70aea6ea9325529a3142b82191b104c353136ff8",
      "created_at": "2023-12-19T17:15:57Z"
    },
    {
      "event": "unlabeled",
      "id": 11293394694,
      "node_id": "UNLE_lADOABII585XdFwvzwAAAAKhI4cG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11293394694",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-12-19T18:30:31Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 11404103651,
      "node_id": "LE_lADOABII585XdFwvzwAAAAKnvM_j",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11404103651",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-05T18:33:23Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11406047070,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAKn2nde",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11406047070",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "e7d18f8e65b4807a11075a40c14e9e28afae2a04",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/e7d18f8e65b4807a11075a40c14e9e28afae2a04",
      "created_at": "2024-01-05T23:36:39Z"
    },
    {
      "event": "unlabeled",
      "id": 11406453900,
      "node_id": "UNLE_lADOABII585XdFwvzwAAAAKn4KyM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11406453900",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-06T00:49:08Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 11478975948,
      "node_id": "LE_lADOABII585XdFwvzwAAAAKsM0XM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11478975948",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-13T21:17:11Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 11662053623,
      "node_id": "LE_lADOABII585XdFwvzwAAAAK3HND3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11662053623",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-01-31T22:27:45Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11674961128,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAK34cTo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11674961128",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "1de3c8e8e322d03fa745b85e9f6be1900c161371",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/1de3c8e8e322d03fa745b85e9f6be1900c161371",
      "created_at": "2024-02-01T19:38:10Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11675923358,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAK38HOe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11675923358",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "0517e605c0c870362a283ff7f62d84c6b472579d",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/0517e605c0c870362a283ff7f62d84c6b472579d",
      "created_at": "2024-02-01T21:13:14Z"
    },
    {
      "event": "unlabeled",
      "id": 11675982705,
      "node_id": "UNLE_lADOABII585XdFwvzwAAAAK38Vtx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11675982705",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-01T21:19:53Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11676734679,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAK3_NTX",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11676734679",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "e69b8d75abcb1425878b8a68c21ceecf0d5c74f6",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/e69b8d75abcb1425878b8a68c21ceecf0d5c74f6",
      "created_at": "2024-02-01T22:41:42Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11677019484,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAK4AS1c",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11677019484",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "eb7326bf4ddbfadddc938451bdac0cd4b87aad53",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/eb7326bf4ddbfadddc938451bdac0cd4b87aad53",
      "created_at": "2024-02-01T23:15:12Z"
    },
    {
      "event": "unlabeled",
      "id": 11678043025,
      "node_id": "UNLE_lADOABII585XdFwvzwAAAAK4EMuR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11678043025",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-02T01:54:42Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 11691587694,
      "node_id": "LE_lADOABII585XdFwvzwAAAAK433hu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11691587694",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-03T04:54:30Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11691871788,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAK4484s",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11691871788",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "6c417271fb414beeeb16c767989e4e8080bea401",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/6c417271fb414beeeb16c767989e4e8080bea401",
      "created_at": "2024-02-03T06:53:30Z"
    },
    {
      "event": "unlabeled",
      "id": 11691883706,
      "node_id": "UNLE_lADOABII585XdFwvzwAAAAK44_y6",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11691883706",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-03T06:58:09Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 11722236387,
      "node_id": "LE_lADOABII585XdFwvzwAAAAK6syHj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11722236387",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-06T18:07:00Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11751755146,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAK8dY2K",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11751755146",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "61971172b21da6144a5848f7a430eba2f2e7ce3c",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/61971172b21da6144a5848f7a430eba2f2e7ce3c",
      "created_at": "2024-02-08T22:04:48Z"
    },
    {
      "event": "unlabeled",
      "id": 11752348071,
      "node_id": "UNLE_lADOABII585XdFwvzwAAAAK8fpmn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11752348071",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-08T23:34:31Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 11838240700,
      "node_id": "LE_lADOABII585XdFwvzwAAAALBnTe8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11838240700",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-18T06:32:01Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11865143867,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAALDN7o7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11865143867",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "04fc9feff3515584d882894c7f2e1c5955de25b8",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/04fc9feff3515584d882894c7f2e1c5955de25b8",
      "created_at": "2024-02-20T17:29:44Z"
    },
    {
      "event": "unlabeled",
      "id": 11868158091,
      "node_id": "UNLE_lADOABII585XdFwvzwAAAALDZbiL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11868158091",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-20T22:31:45Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "labeled",
      "id": 11947147491,
      "node_id": "LE_lADOABII585XdFwvzwAAAALIGwDj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11947147491",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-28T06:51:57Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1968341832,
      "node_id": "IC_kwDOABII5851UoNI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1968341832",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-02-28T06:51:58Z",
      "updated_at": "2024-02-28T06:51:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n\n🚧 At least one of the CI tasks failed. Make sure to run all tests locally, according to the\ndocumentation.\n\nPossibly this is due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/21780750809</sub>",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#issuecomment-1968341832",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26596"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 11970751908,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAALJgy2k",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/11970751908",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "96145f5c0ef63555f36d71b1d74a2fe34a7435a4",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/96145f5c0ef63555f36d71b1d74a2fe34a7435a4",
      "created_at": "2024-02-29T19:48:28Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12076991783,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAALP2EUn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12076991783",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "0b3173310252b2ec01fe746dd74b273df4662438",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/0b3173310252b2ec01fe746dd74b273df4662438",
      "created_at": "2024-03-11T17:04:35Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12314409354,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAALd_vmK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12314409354",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "2eae062aea892834870e2501eebe05ed2515dce6",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/2eae062aea892834870e2501eebe05ed2515dce6",
      "created_at": "2024-04-01T18:48:53Z"
    },
    {
      "event": "unlabeled",
      "id": 12368249820,
      "node_id": "UNLE_lADOABII585XdFwvzwAAAALhNIPc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12368249820",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-05T05:51:24Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12610792173,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAALvqWrt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12610792173",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "d522ff4acc535ae0521fb6e78f12990132537c50",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/d522ff4acc535ae0521fb6e78f12990132537c50",
      "created_at": "2024-04-25T15:22:11Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12611066395,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAALvrZob",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12611066395",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "677f1318c92a397733da93eb1814da72f76514b8",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/677f1318c92a397733da93eb1814da72f76514b8",
      "created_at": "2024-04-25T15:40:14Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12628959035,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAALwvp87",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12628959035",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "98f362d6cc5aadf58347c7d57fd6a72970413b4d",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/98f362d6cc5aadf58347c7d57fd6a72970413b4d",
      "created_at": "2024-04-26T22:22:16Z"
    },
    {
      "event": "referenced",
      "id": 12876674055,
      "node_id": "REFE_lADOABII585XdFwvzwAAAAL_gnQH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12876674055",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "5acdc2b97dcd756a15d28d75bce9a9d3e3953f9f",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5acdc2b97dcd756a15d28d75bce9a9d3e3953f9f",
      "created_at": "2024-05-21T09:05:15Z"
    },
    {
      "event": "labeled",
      "id": 12880075672,
      "node_id": "LE_lADOABII585XdFwvzwAAAAL_tluY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12880075672",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T13:13:08Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12882855163,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAL_4MT7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12882855163",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "20c8fd5dfc2dec2b46ad70bd1dcad5ba289cb889",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/20c8fd5dfc2dec2b46ad70bd1dcad5ba289cb889",
      "created_at": "2024-05-21T16:46:57Z"
    },
    {
      "event": "commented",
      "id": 2123038131,
      "node_id": "IC_kwDOABII585-iv2z",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2123038131",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T16:47:14Z",
      "updated_at": "2024-05-21T16:47:14Z",
      "author_association": "MEMBER",
      "body": "Rebased following #26606. Now ready for review.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#issuecomment-2123038131",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26596"
    },
    {
      "event": "ready_for_review",
      "id": 12882858684,
      "node_id": "RFRE_lADOABII585XdFwvzwAAAAL_4NK8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12882858684",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T16:47:15Z"
    },
    {
      "event": "unlabeled",
      "id": 12883250320,
      "node_id": "UNLE_lADOABII585XdFwvzwAAAAL_5syQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12883250320",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T17:24:06Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2094130903,
      "node_id": "PRR_kwDOABII58580ebX",
      "url": null,
      "actor": null,
      "commit_id": "20c8fd5dfc2dec2b46ad70bd1dcad5ba289cb889",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#pullrequestreview-2094130903",
      "submitted_at": "2024-06-03T14:59:42Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13042964650,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAMJa9iq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13042964650",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "created_at": "2024-06-04T23:34:00Z"
    },
    {
      "event": "reviewed",
      "id": 2089208116,
      "node_id": "PRR_kwDOABII5858hsk0",
      "url": null,
      "actor": null,
      "commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code reviewed e11fa4524723aebc0d879ee083c2d6d46849d89a.\r\n\r\nOverall concept: Not fully convinced about the benefit of breaking out `LegacyDataSPKM`, seems to add complexity. Is the goal to delete `LegacyScriptPubKeyMan` in the future when ripping out BDB and only keep `LegacyDataSPKM`?\r\n\r\nWhy perform the inlining of `IsMine()` in 31e918afc3920a2f8aa367ad323f590b4856aa26 before the function is removed? Seems risky in case of other PRs modifying it prior to removal etc.\r\n\r\n`LegacyScriptPubKeyMan::NewKeyPool()` only touches data from `LegacyDataSPKM`, should it be moved to that class as public (or protected and then exposed in the subclass?). (If `LegacyScriptPubKeyMan` is slated for removal I can understand you want to signal that method will no longer be needed). (Have not checked if there are other methods along the same lines).\r\n\r\nAssuming `LegacyDataSPKM` name is kept, comment in `src/script/signingprovider.h` could be updated to refer to `LegacyDataSPKM::setWatchOnly` instead.",
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#pullrequestreview-2089208116",
      "submitted_at": "2024-06-05T22:36:54Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
    },
    {
      "event": "commented",
      "id": 2151172675,
      "node_id": "IC_kwDOABII586AOEpD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2151172675",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-06T00:36:33Z",
      "updated_at": "2024-06-06T00:36:33Z",
      "author_association": "MEMBER",
      "body": "> Is the goal to delete `LegacyScriptPubKeyMan` in the future when ripping out BDB and only keep `LegacyDataSPKM`?\r\n\r\nYes.\r\n\r\nWe are trying to remove the legacy wallet in its entirety, leaving only behind the absolute minimum necessary to perform migration.\r\n\r\n> Why perform the inlining of `IsMine()` in [31e918a](https://github.com/bitcoin/bitcoin/commit/31e918afc3920a2f8aa367ad323f590b4856aa26) before the function is removed? Seems risky in case of other PRs modifying it prior to removal etc.\r\n\r\n`IsMine()` is unlikely to change. Besides the fact that any changes to the legacy wallet are likely to be closed instead of seriously considered, `IsMine()` has not had any material changes in the last several years. It could be included in #28710 but that PR is big enough as it is.\r\n\r\n> `LegacyScriptPubKeyMan::NewKeyPool()` only touches data from `LegacyDataSPKM`, should it be moved to that class as public (or protected and then exposed in the subclass?)\r\n\r\nNo. The separation exists now to indicate which things can be removed at the end. `LegacyDataSPKM` is the bare minimum that must stick around for migration, everything else remains in `LegacyScriptPubKeyMan` and will be removed at the same time.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#issuecomment-2151172675",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26596"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13059213769,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAMKY8nJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13059213769",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "31632d18ea122def82820770f14d9aa009726114",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/31632d18ea122def82820770f14d9aa009726114",
      "created_at": "2024-06-06T01:08:54Z"
    },
    {
      "event": "reviewed",
      "id": 2101490760,
      "node_id": "PRR_kwDOABII5859QjRI",
      "url": null,
      "actor": null,
      "commit_id": "31632d18ea122def82820770f14d9aa009726114",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#pullrequestreview-2101490760",
      "submitted_at": "2024-06-06T10:59:44Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13069200360,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAMK_Cvo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13069200360",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "a8f8a2d5d0e2328cbe2e569c7e12f653d18f456d",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/a8f8a2d5d0e2328cbe2e569c7e12f653d18f456d",
      "created_at": "2024-06-06T16:12:22Z"
    },
    {
      "event": "reviewed",
      "id": 2103034416,
      "node_id": "PRR_kwDOABII5859WcIw",
      "url": null,
      "actor": null,
      "commit_id": "a8f8a2d5d0e2328cbe2e569c7e12f653d18f456d",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK a8f8a2d5d0e2328cbe2e569c7e12f653d18f456d\r\n\r\n(Ran tests on 31632d18ea122def82820770f14d9aa009726114 but only comments changed since then).\r\nFunctional tests including `--extended` passed (a few automatically skipped).\r\n`make check` passed.",
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#pullrequestreview-2103034416",
      "submitted_at": "2024-06-06T19:24:06Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
    },
    {
      "event": "reviewed",
      "id": 2104427047,
      "node_id": "PRR_kwDOABII5859bwIn",
      "url": null,
      "actor": null,
      "commit_id": "a8f8a2d5d0e2328cbe2e569c7e12f653d18f456d",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#pullrequestreview-2104427047",
      "submitted_at": "2024-06-07T12:35:30Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
    },
    {
      "event": "reviewed",
      "id": 2111475077,
      "node_id": "PRR_kwDOABII58592o2F",
      "url": null,
      "actor": null,
      "commit_id": "a8f8a2d5d0e2328cbe2e569c7e12f653d18f456d",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#pullrequestreview-2111475077",
      "submitted_at": "2024-06-18T13:47:08Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
    },
    {
      "event": "reviewed",
      "id": 2126669884,
      "node_id": "PRR_kwDOABII585-wmg8",
      "url": null,
      "actor": null,
      "commit_id": "a8f8a2d5d0e2328cbe2e569c7e12f653d18f456d",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Just a small comment; you don't have to take it.\r\n\r\nI believe this PR could get merged quite fast if you leave 89503710386f52d9162f67fcd707eceffa954faa for a follow-up and make `IsMine` compatible with `LegacyDataSPKM` in this PR.\r\n\r\nI'm suggesting this because this PR starts testing the newly introduced BDB reader class and allows people to use it, which is great since we want it polished for the next release. The `IsMine` removal is also nice but I wouldn't miss a deadline for it.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#pullrequestreview-2126669884",
      "submitted_at": "2024-06-18T22:26:52Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
    },
    {
      "event": "commented",
      "id": 2182987237,
      "node_id": "IC_kwDOABII586CHb3l",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2182987237",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-21T15:38:30Z",
      "updated_at": "2024-06-21T15:38:30Z",
      "author_association": "CONTRIBUTOR",
      "body": "Still trying to fully grasp the `IsMine` inlining commit 89503710386f52d9162f67fcd707eceffa954faa, meanwhile a few comments:\r\n* The PR description is outdated, as it still mentions adding `BerkeleyRODatabase` which was already merged in #26606\r\n* in c653f4fdbfe0607ad9be27e80ad22c9aee314bb7: typo in commit subject (s/MigrateToLegacy/MigrateToDescriptor/)\r\n* To my understanding, the class `LegacyDataSPKM` is supposed to never write to the database (as `BerkeleyRODatabase` obviously doesn't support that), but `LegacyDataSPKM::CheckDecryptionKey` contains a code-path for that (for a necessary rewrite):\r\nhttps://github.com/achow101/bitcoin/blob/a8f8a2d5d0e2328cbe2e569c7e12f653d18f456d/src/wallet/scriptpubkeyman.cpp#L254-L255\r\nShould `CheckDecryptionKey` stay in `LegacyScriptPubKeyMan`?",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#issuecomment-2182987237",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26596"
    },
    {
      "event": "reviewed",
      "id": 2133442120,
      "node_id": "PRR_kwDOABII585_Kb5I",
      "url": null,
      "actor": null,
      "commit_id": "a8f8a2d5d0e2328cbe2e569c7e12f653d18f456d",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "> * To my understanding, the class `LegacyDataSPKM` is supposed to never write to the database (as `BerkeleyRODatabase` obviously doesn't support that), but `LegacyDataSPKM::CheckDecryptionKey` contains a code-path for that (for a necessary rewrite):\r\n>   https://github.com/achow101/bitcoin/blob/a8f8a2d5d0e2328cbe2e569c7e12f653d18f456d/src/wallet/scriptpubkeyman.cpp#L254-L255\r\n>   Should `CheckDecryptionKey` stay in `LegacyScriptPubKeyMan`?\r\n\r\nIt isn't really an issue because `CheckDecryptionKey` does not verify the outcome of the write call (which would be \"successful\" because the read-only bdb class return true for all write operations). But.. for the sake of correctness I see two possible paths to follow:\r\n\r\n1) As this write is done exclusively on wallets with no checksum on crypted keys, we could move the upgrade code to the loading code in `walletdb.cpp`; removing `fDecryptionThoroughlyChecked` entirely and requiring such ancient wallets to provide the passphrase during load to perform the upgrade (adding a \"passphrase\" arg to the `loadwallet` RPC command).\r\n\r\n2) Introduce a new `WalletBatch::IsReadOnly()` method to avoid calling the write inside `CheckDecryptionKey`.\r\n\r\nThe first approach will make the legacy wallet code simpler while the second one is a minimal change.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#pullrequestreview-2133442120",
      "submitted_at": "2024-06-21T21:27:25Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13269030170,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAMW5VUa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13269030170",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "5cf595a45cb9c12b93ff3d628ce5a05ffb44fe4a",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/5cf595a45cb9c12b93ff3d628ce5a05ffb44fe4a",
      "created_at": "2024-06-24T16:33:46Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13269043446,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAMW5Yj2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13269043446",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "e94b4e64efc32ab868770f555c3ed00877578afa",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/e94b4e64efc32ab868770f555c3ed00877578afa",
      "created_at": "2024-06-24T16:34:58Z"
    },
    {
      "event": "commented",
      "id": 2186998015,
      "node_id": "IC_kwDOABII586CWvD_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2186998015",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-24T16:47:30Z",
      "updated_at": "2024-06-24T16:47:45Z",
      "author_association": "MEMBER",
      "body": "> I believe this PR could get merged quite fast if you leave [8950371](https://github.com/bitcoin/bitcoin/commit/89503710386f52d9162f67fcd707eceffa954faa) for a follow-up and make `IsMine` compatible with `LegacyDataSPKM` in this PR.\r\n\r\nMoved to #30328\r\n\r\n> The `IsMine` removal is also nice but I wouldn't miss a deadline for it.\r\n\r\nI think it needs to be in the next release as it is a critical part of migration. I would prefer to have it in a release that people can use before deleting the legacy wallet.\r\n \r\n>   * The PR description is outdated, as it still mentions adding `BerkeleyRODatabase` which was already merged in [wallet: Implement independent BDB parser #26606](https://github.com/bitcoin/bitcoin/pull/26606)\r\n\r\nUpdated\r\n\r\n>   * in [c653f4f](https://github.com/bitcoin/bitcoin/commit/c653f4fdbfe0607ad9be27e80ad22c9aee314bb7): typo in commit subject (s/MigrateToLegacy/MigrateToDescriptor/)\r\n\r\nFixed\r\n\r\n> \r\n>   * To my understanding, the class `LegacyDataSPKM` is supposed to never write to the database (as `BerkeleyRODatabase` obviously doesn't support that), but `LegacyDataSPKM::CheckDecryptionKey` contains a code-path for that (for a necessary rewrite):\r\n>       https://github.com/achow101/bitcoin/blob/a8f8a2d5d0e2328cbe2e569c7e12f653d18f456d/src/wallet/scriptpubkeyman.cpp#L254-L255\r\n>       Should `CheckDecryptionKey` stay in `LegacyScriptPubKeyMan`?\r\n\r\nNo, we should not be migrating a wallet if we cannot decrypt the keys. `BerkeleyRODatabase` always returns true for all write operations so it doesn't matter. Also, I don't think it is useful to invert that and have to have specific bypasses for `BerkeleyRODatabase` in all functions that attempts to write to it.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#issuecomment-2186998015",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26596"
    },
    {
      "event": "reviewed",
      "id": 2141863395,
      "node_id": "PRR_kwDOABII585_qj3j",
      "url": null,
      "actor": null,
      "commit_id": "e94b4e64efc32ab868770f555c3ed00877578afa",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Strange CI https://github.com/bitcoin/bitcoin/actions/runs/9649050504/job/26611651920?pr=26596 error.. it doesn't seem to be related. The \"salvage\" command opens the wallet in `DatabaseFormat::BERKELEY` format.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#pullrequestreview-2141863395",
      "submitted_at": "2024-06-26T13:35:54Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
    },
    {
      "event": "reviewed",
      "id": 2142809385,
      "node_id": "PRR_kwDOABII585_uK0p",
      "url": null,
      "actor": null,
      "commit_id": "e94b4e64efc32ab868770f555c3ed00877578afa",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#pullrequestreview-2142809385",
      "submitted_at": "2024-06-26T19:52:39Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDUxN2UyMDRiYWNkOWRjZWE2NjEyYWFlNTdkNWEyODEzYjg5Y2QwMWQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/517e204bacd9dcea6612aae57d5a2813b89cd01d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/517e204bacd9dcea6612aae57d5a2813b89cd01d",
      "tree": {
        "sha": "3b76655d46daf1e5d9cb70489eb95b2e976f46b3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3b76655d46daf1e5d9cb70489eb95b2e976f46b3"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a786fd2041913d82ca90b561de309421bd24e41b",
          "sha": "a786fd2041913d82ca90b561de309421bd24e41b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a786fd2041913d82ca90b561de309421bd24e41b"
        }
      ],
      "message": "Change MigrateLegacyToDescriptor to reopen wallet as BERKELEY_RO\n\nWhen we reopen the wallet to do the migration, instead of opening using\nBDB, open it using the BerkeleyRO implementation.",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-06-26T20:38:56Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-01-05T23:36:19Z"
      },
      "sha": "517e204bacd9dcea6612aae57d5a2813b89cd01d"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13303993124,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAMY-tMk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13303993124",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "9700c21704ddad4be07df44393e39057fa386c56",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/9700c21704ddad4be07df44393e39057fa386c56",
      "created_at": "2024-06-26T20:39:11Z"
    },
    {
      "event": "reviewed",
      "id": 2143055500,
      "node_id": "PRR_kwDOABII585_vG6M",
      "url": null,
      "actor": null,
      "commit_id": "9700c21704ddad4be07df44393e39057fa386c56",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#pullrequestreview-2143055500",
      "submitted_at": "2024-06-26T22:27:07Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
    },
    {
      "event": "labeled",
      "id": 13306021978,
      "node_id": "LE_lADOABII585XdFwvzwAAAAMZGcha",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13306021978",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-27T01:50:16Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2195621640,
      "node_id": "IC_kwDOABII586C3ocI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2195621640",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-27T20:33:25Z",
      "updated_at": "2024-06-27T20:42:38Z",
      "author_association": "MEMBER",
      "body": "Now that the `IsMine` changes were moved to another PR, could reorder the commits just so 0cce574 is introduced before c3373a39a1acc94dbf644103fab2e477d49da671. This will let us keep the IsMine assertions inside `MigrateToDescriptor` for now.\r\n\r\nOther than that, code review ACK 9700c21.",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#issuecomment-2195621640",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26596"
    },
    {
      "event": "review_requested",
      "id": 13323340253,
      "node_id": "RRE_lADOABII585XdFwvzwAAAAMaIgnd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13323340253",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-27T20:42:41Z",
      "requested_reviewer": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 13323340363,
      "node_id": "RRE_lADOABII585XdFwvzwAAAAMaIgpL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13323340363",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-27T20:42:41Z",
      "requested_reviewer": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 2146541283,
      "node_id": "PRR_kwDOABII585_8Z7j",
      "url": null,
      "actor": null,
      "commit_id": "9700c21704ddad4be07df44393e39057fa386c56",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "`git range-diff master a8f8a2d 9700c217`\r\n\r\nAgree with @furszy on reordering the commits to make it possible to retain the 3 asserts in `MigrateToDescriptor()`.",
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#pullrequestreview-2146541283",
      "submitted_at": "2024-06-27T22:27:06Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
    },
    {
      "event": "review_requested",
      "id": 13324130964,
      "node_id": "RRE_lADOABII585XdFwvzwAAAAMaLhqU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13324130964",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-27T22:27:09Z",
      "requested_reviewer": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDc0NjFkMGMwMDZjOTJlZGUyZjI1OTViNzlhNTUwOWVhZjM1MDlmYjc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7461d0c006c92ede2f2595b79a5509eaf3509fb7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7461d0c006c92ede2f2595b79a5509eaf3509fb7",
      "tree": {
        "sha": "5fe54452f5633595609a88df613ca3eb7e1745bc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5fe54452f5633595609a88df613ca3eb7e1745bc"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/517e204bacd9dcea6612aae57d5a2813b89cd01d",
          "sha": "517e204bacd9dcea6612aae57d5a2813b89cd01d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/517e204bacd9dcea6612aae57d5a2813b89cd01d"
        }
      ],
      "message": "wallet: Move LegacySPKM data storage and handling to LegacyDataSPKM\n\nIn order to load the necessary data for migrating a legacy wallet\nwithout the full LegacyScriptPubKeyMan, move the data storage and\nloading components to LegacyDataSPKM. LegacyScriptPubKeyMan now\nsubclasses that.",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-07-01T18:24:35Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-01-05T23:36:21Z"
      },
      "sha": "7461d0c006c92ede2f2595b79a5509eaf3509fb7"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGIyMzFmNGQ1NTY4NzZhZTcwMzA1ZTg3MTBlMzFkNTM1MjVkZWQ4YWU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b231f4d556876ae70305e8710e31d53525ded8ae",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/b231f4d556876ae70305e8710e31d53525ded8ae",
      "tree": {
        "sha": "106279c06e94264635939b511de37408262e7cc8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/106279c06e94264635939b511de37408262e7cc8"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7461d0c006c92ede2f2595b79a5509eaf3509fb7",
          "sha": "7461d0c006c92ede2f2595b79a5509eaf3509fb7",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7461d0c006c92ede2f2595b79a5509eaf3509fb7"
        }
      ],
      "message": "wallet: Move LegacyScriptPubKeyMan::IsMine to LegacyDataSPKM\n\nIsMine is necessary for migration. It should be inlined with migration\nwhen the legacy wallet is removed.",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-07-01T18:24:35Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-06-24T16:15:00Z"
      },
      "sha": "b231f4d556876ae70305e8710e31d53525ded8ae"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDYxZDg3MmYxYjNkMGRiZmQwZGU0ZmY5YjdkZWZmNDBlZWZmYTZhMTQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/61d872f1b3d0dbfd0de4ff9b7deff40eeffa6a14",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/61d872f1b3d0dbfd0de4ff9b7deff40eeffa6a14",
      "tree": {
        "sha": "1bf898270f5fa26542c96caf0d76e51dce96a58c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1bf898270f5fa26542c96caf0d76e51dce96a58c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b231f4d556876ae70305e8710e31d53525ded8ae",
          "sha": "b231f4d556876ae70305e8710e31d53525ded8ae",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/b231f4d556876ae70305e8710e31d53525ded8ae"
        }
      ],
      "message": "wallet: Move MigrateToDescriptor and DeleteRecords to LegacyDataSPKM",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-07-01T18:25:54Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-01-05T23:36:22Z"
      },
      "sha": "61d872f1b3d0dbfd0de4ff9b7deff40eeffa6a14"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDc3MWJjNjBmMTM0YzAwMmEwMjdlNzk5NjM5ZjBmZWQ1OWFlODEyM2Q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/771bc60f134c002a027e799639f0fed59ae8123d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/771bc60f134c002a027e799639f0fed59ae8123d",
      "tree": {
        "sha": "d8d87e217b4988516a704fa9d0a69ebf3b1c28cb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d8d87e217b4988516a704fa9d0a69ebf3b1c28cb"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/61d872f1b3d0dbfd0de4ff9b7deff40eeffa6a14",
          "sha": "61d872f1b3d0dbfd0de4ff9b7deff40eeffa6a14",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/61d872f1b3d0dbfd0de4ff9b7deff40eeffa6a14"
        }
      ],
      "message": "wallet: Use LegacyDataSPKM when loading\n\nIn SetupLegacyScriptPubKeyMan, a base LegacyDataSPKM will be created if\nthe database has the format \"bdb_ro\" (i.e. the wallet was opened only\nfor migration purposes).\n\nAll of the loading functions are now called with a LegacyDataSPKM object\ninstead of LegacyScriptPubKeyMan.",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-07-01T18:25:55Z"
      },
      "author": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-01-05T23:36:28Z"
      },
      "sha": "771bc60f134c002a027e799639f0fed59ae8123d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDhjZTM3MzllZGJjZjY0MzdiZjI2OTUwODdlMGViZThjNjMzZGYxOWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "tree": {
        "sha": "fea5a231b8d0eaea0e1aab04d662d2fa9dce3d5e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fea5a231b8d0eaea0e1aab04d662d2fa9dce3d5e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/771bc60f134c002a027e799639f0fed59ae8123d",
          "sha": "771bc60f134c002a027e799639f0fed59ae8123d",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/771bc60f134c002a027e799639f0fed59ae8123d"
        }
      ],
      "message": "test: verify wallet is still active post-migration failure\n\nThe migration process reloads the wallet after all failures.\nThis commit tests the behavior by trying to obtain a new address\nafter a decryption failure during migration.",
      "committer": {
        "name": "Ava Chow",
        "email": "github@achow101.com",
        "date": "2024-07-01T18:25:55Z"
      },
      "author": {
        "name": "furszy",
        "email": "matiasfurszyfer@protonmail.com",
        "date": "2024-06-26T19:44:44Z"
      },
      "sha": "8ce3739edbcf6437bf2695087e0ebe8c633df19b"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 13355074934,
      "node_id": "HRFPE_lADOABII585XdFwvzwAAAAMcBkV2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13355074934",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "commit_url": "https://api.github.com/repos/achow101/bitcoin/commits/8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "created_at": "2024-07-01T18:25:59Z"
    },
    {
      "event": "commented",
      "id": 2200765833,
      "node_id": "IC_kwDOABII586DLQWJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2200765833",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-01T18:26:37Z",
      "updated_at": "2024-07-01T18:26:37Z",
      "author_association": "MEMBER",
      "body": "Reordered the commits and preserved the `IsMine` asserts.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#issuecomment-2200765833",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/26596"
    },
    {
      "event": "reviewed",
      "id": 2152310896,
      "node_id": "PRR_kwDOABII586ASahw",
      "url": null,
      "actor": null,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 8ce3739edbcf6437bf2695087e0ebe8c633df19b\r\n\r\n`git range-diff 9700c217~5..9700c217 8ce3739~5..8ce3739` - not the easiest read, also used GH [compare](https://github.com/bitcoin/bitcoin/compare/9700c21704ddad4be07df44393e39057fa386c56..8ce3739edbcf6437bf2695087e0ebe8c633df19b).\r\n\r\nPassed `make check` & `test/functional/test_runner.py` including `p2p_handshake.py` which [failed on CI](https://github.com/bitcoin/bitcoin/pull/26596/checks?check_run_id=26906002421).\r\n\r\nOnly one non-critical reservation: https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1661582339",
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#pullrequestreview-2152310896",
      "submitted_at": "2024-07-01T22:03:25Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
    },
    {
      "event": "review_requested",
      "id": 13357062804,
      "node_id": "RRE_lADOABII585XdFwvzwAAAAMcJJqU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13357062804",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-01T22:03:29Z",
      "requested_reviewer": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "unlabeled",
      "id": 13357475391,
      "node_id": "UNLE_lADOABII585XdFwvzwAAAAMcKuY_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13357475391",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-01T22:59:57Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2156741773,
      "node_id": "PRR_kwDOABII586AjUSN",
      "url": null,
      "actor": null,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code-review ACK 8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#pullrequestreview-2156741773",
      "submitted_at": "2024-07-03T15:14:36Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
    },
    {
      "event": "reviewed",
      "id": 2157260912,
      "node_id": "PRR_kwDOABII586AlTBw",
      "url": null,
      "actor": null,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code review ACK 8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#pullrequestreview-2157260912",
      "submitted_at": "2024-07-03T20:10:18Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
    },
    {
      "event": "merged",
      "id": 13473924198,
      "node_id": "ME_lADOABII585XdFwvzwAAAAMjG8Rm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13473924198",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "d9aa7b23e438fc381c6bddecfe53943d63b1a1fd",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d9aa7b23e438fc381c6bddecfe53943d63b1a1fd",
      "created_at": "2024-07-11T15:47:41Z"
    },
    {
      "event": "closed",
      "id": 13473924226,
      "node_id": "CE_lADOABII585XdFwvzwAAAAMjG8SC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13473924226",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-07-11T15:47:42Z"
    },
    {
      "event": "locked",
      "id": 18584634239,
      "node_id": "LOE_lADOABII585XdFwvzwAAAARTuwN_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18584634239",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-07-11T11:38:28Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1621331017",
      "pull_request_review_id": 2089208116,
      "id": 1621331017,
      "node_id": "PRRC_kwDOABII585go4xJ",
      "diff_hunk": "@@ -4438,6 +4465,7 @@ util::Result<MigrationResult> MigrateLegacyToDescriptor(const std::string& walle\n     // both before and after reloading. This ensures the set is complete even if one of the wallets\n     // fails to reload.\n     std::set<fs::path> wallet_dirs;\n+    options.require_format = std::nullopt;",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "37df50fffab9de7862e56df84d72756e5308aed2",
      "in_reply_to_id": null,
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Why reset `require_format` here? Seems `options` is not going to be read by anything after this line and none of the database types is holding a reference to it.\r\n\r\nAvoiding that would mean that you could introduce more immutability around line 4386:\r\n```\r\n    const DatabaseOptions options{\r\n        .require_existing = true,\r\n        .require_format = DatabaseFormat::BERKELEY_RO,\r\n    };\r\n```",
      "created_at": "2024-05-30T19:22:30Z",
      "updated_at": "2024-06-05T22:36:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1621331017",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1621331017"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4484,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1621407661",
      "pull_request_review_id": 2089208116,
      "id": 1621407661,
      "node_id": "PRRC_kwDOABII585gpLet",
      "diff_hunk": "@@ -3618,13 +3628,26 @@ void CWallet::AddScriptPubKeyMan(const uint256& id, std::unique_ptr<ScriptPubKey\n     MaybeUpdateBirthTime(spkm->GetTimeFirstKey());\n }\n \n+LegacyDataSPKM* CWallet::GetOrCreateLegacyDataSPKM()\n+{\n+    SetupLegacyScriptPubKeyMan();\n+    return GetLegacyDataSPKM();\n+}\n+\n void CWallet::SetupLegacyScriptPubKeyMan()\n {\n     if (!m_internal_spk_managers.empty() || !m_external_spk_managers.empty() || !m_spk_managers.empty() || IsWalletFlagSet(WALLET_FLAG_DESCRIPTORS)) {\n         return;\n     }\n \n-    auto spk_manager = std::unique_ptr<ScriptPubKeyMan>(new LegacyScriptPubKeyMan(*this, m_keypool_size));\n+    std::unique_ptr<ScriptPubKeyMan> spk_manager;\n+\n+    // Only create base LegacyDataSPKM if using BERKELEY_RO\n+    if (m_database->Format() == \"bdb_ro\") {\n+        spk_manager = std::unique_ptr<ScriptPubKeyMan>(new LegacyDataSPKM(*this));\n+    } else {\n+        spk_manager = std::unique_ptr<ScriptPubKeyMan>(new LegacyScriptPubKeyMan(*this, m_keypool_size));\n+    }",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 41,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "20c8fd5dfc2dec2b46ad70bd1dcad5ba289cb889",
      "in_reply_to_id": null,
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "```suggestion\r\n    // Only create base LegacyDataSPKM if using BERKELEY_RO\r\n    std::unique_ptr<ScriptPubKeyMan> spk_manager = m_database->Format() == \"bdb_ro\" ?\r\n        std::make_unique<LegacyDataSPKM>(*this) :\r\n        std::make_unique<LegacyScriptPubKeyMan>(*this, m_keypool_size);\r\n```",
      "created_at": "2024-05-30T20:42:50Z",
      "updated_at": "2024-06-05T22:36:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1621407661",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1621407661"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": 3643,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 3659,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1624612271",
      "pull_request_review_id": 2094130903,
      "id": 1624612271,
      "node_id": "PRRC_kwDOABII585g1Z2v",
      "diff_hunk": "@@ -4346,11 +4346,37 @@ util::Result<MigrationResult> MigrateLegacyToDescriptor(const std::string& walle\n     // If the wallet is still loaded, unload it so that nothing else tries to use it while we're changing it\n     bool was_loaded = false;\n     if (auto wallet = GetWallet(context, wallet_name)) {\n+        if (wallet->IsWalletFlagSet(WALLET_FLAG_DESCRIPTORS)) {\n+            return util::Error{_(\"Error: This wallet is already a descriptor wallet\")};\n+        }\n+\n         if (!RemoveWallet(context, wallet, /*load_on_start=*/std::nullopt, warnings)) {\n             return util::Error{_(\"Unable to unload the wallet before migrating\")};\n         }\n         UnloadWallet(std::move(wallet));\n         was_loaded = true;\n+    } else {\n+        // We need to load this wallet to check if there's something to migrate.\n+        // But this cannot be reused later since we want to use BERKELEY_RO for the actual migration\n+        WalletContext empty_context;\n+        empty_context.args = context.args;\n+        DatabaseOptions options;\n+        options.require_existing = true;\n+        DatabaseStatus status;\n+        std::unique_ptr<WalletDatabase> database = MakeWalletDatabase(wallet_name, options, status, error);\n+        if (!database) {\n+            return util::Error{Untranslated(\"Wallet file verification failed.\") + Untranslated(\" \") + error};\n+        }\n+        wallet = CWallet::Create(empty_context, wallet_name, std::move(database), options.create_flags, error, warnings);\n+        if (!wallet) {\n+            return util::Error{Untranslated(\"Wallet loading failed.\") + Untranslated(\" \") + error};\n+        }\n+\n+        if (wallet->IsWalletFlagSet(WALLET_FLAG_DESCRIPTORS)) {\n+            return util::Error{_(\"Error: This wallet is already a descriptor wallet\")};\n+        }\n+        // Unload\n+        wallet.reset();",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 34,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "37df50fffab9de7862e56df84d72756e5308aed2",
      "in_reply_to_id": null,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Loading the entire wallet just to obtain the descriptors flag shouldn't be needed. Could just check the file type instead. We want a bdb file here. So, something like https://github.com/furszy/bitcoin-core/commit/7a03a039ae99e69504fe9df95b04f5e326c45a70 would work well. Yet, the code isn't the best but it includes a test that verifies the behavior.",
      "created_at": "2024-06-03T14:59:38Z",
      "updated_at": "2024-06-03T14:59:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1624612271",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1624612271"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": 4359,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 4379,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1626748082",
      "pull_request_review_id": 2097582404,
      "id": 1626748082,
      "node_id": "PRRC_kwDOABII585g9jSy",
      "diff_hunk": "@@ -4346,11 +4346,37 @@ util::Result<MigrationResult> MigrateLegacyToDescriptor(const std::string& walle\n     // If the wallet is still loaded, unload it so that nothing else tries to use it while we're changing it\n     bool was_loaded = false;\n     if (auto wallet = GetWallet(context, wallet_name)) {\n+        if (wallet->IsWalletFlagSet(WALLET_FLAG_DESCRIPTORS)) {\n+            return util::Error{_(\"Error: This wallet is already a descriptor wallet\")};\n+        }\n+\n         if (!RemoveWallet(context, wallet, /*load_on_start=*/std::nullopt, warnings)) {\n             return util::Error{_(\"Unable to unload the wallet before migrating\")};\n         }\n         UnloadWallet(std::move(wallet));\n         was_loaded = true;\n+    } else {\n+        // We need to load this wallet to check if there's something to migrate.\n+        // But this cannot be reused later since we want to use BERKELEY_RO for the actual migration\n+        WalletContext empty_context;\n+        empty_context.args = context.args;\n+        DatabaseOptions options;\n+        options.require_existing = true;\n+        DatabaseStatus status;\n+        std::unique_ptr<WalletDatabase> database = MakeWalletDatabase(wallet_name, options, status, error);\n+        if (!database) {\n+            return util::Error{Untranslated(\"Wallet file verification failed.\") + Untranslated(\" \") + error};\n+        }\n+        wallet = CWallet::Create(empty_context, wallet_name, std::move(database), options.create_flags, error, warnings);\n+        if (!wallet) {\n+            return util::Error{Untranslated(\"Wallet loading failed.\") + Untranslated(\" \") + error};\n+        }\n+\n+        if (wallet->IsWalletFlagSet(WALLET_FLAG_DESCRIPTORS)) {\n+            return util::Error{_(\"Error: This wallet is already a descriptor wallet\")};\n+        }\n+        // Unload\n+        wallet.reset();",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 34,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "37df50fffab9de7862e56df84d72756e5308aed2",
      "in_reply_to_id": 1624612271,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Good point, I think the original intention was to be able to handle the legacy-sqlite case, but that's moot since we require BDB_RO later. I've changed this to check for just look for BDB files, and also added your test.",
      "created_at": "2024-06-04T23:34:51Z",
      "updated_at": "2024-06-04T23:34:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1626748082",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1626748082"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": 4359,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 4379,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628300902",
      "pull_request_review_id": 2089208116,
      "id": 1628300902,
      "node_id": "PRRC_kwDOABII585hDeZm",
      "diff_hunk": "@@ -276,31 +276,106 @@ static const std::unordered_set<OutputType> LEGACY_OUTPUT_TYPES {\n \n class DescriptorScriptPubKeyMan;\n \n-class LegacyScriptPubKeyMan : public ScriptPubKeyMan, public FillableSigningProvider\n+class LegacyDataSPKM : public ScriptPubKeyMan, public FillableSigningProvider",
      "path": "src/wallet/scriptpubkeyman.h",
      "position": 7,
      "original_position": 5,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "in_reply_to_id": null,
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This class and possibly `LegacyScriptPubKeyMan` below could do with comments summarizing their responsibilities since breaking them apart and naming one `LegacyDataSPKM` makes things less clear.",
      "created_at": "2024-06-05T19:04:29Z",
      "updated_at": "2024-06-05T22:36:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1628300902",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628300902"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 281,
      "original_line": 281,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628371045",
      "pull_request_review_id": 2089208116,
      "id": 1628371045,
      "node_id": "PRRC_kwDOABII585hDvhl",
      "diff_hunk": "@@ -276,31 +276,106 @@ static const std::unordered_set<OutputType> LEGACY_OUTPUT_TYPES {\n \n class DescriptorScriptPubKeyMan;\n \n-class LegacyScriptPubKeyMan : public ScriptPubKeyMan, public FillableSigningProvider\n+class LegacyDataSPKM : public ScriptPubKeyMan, public FillableSigningProvider\n {\n-private:\n-    //! keeps track of whether Unlock has run a thorough check before\n-    bool fDecryptionThoroughlyChecked = true;\n-\n+protected:\n     using WatchOnlySet = std::set<CScript>;\n     using WatchKeyMap = std::map<CKeyID, CPubKey>;\n-\n-    WalletBatch *encrypted_batch GUARDED_BY(cs_KeyStore) = nullptr;\n-\n     using CryptedKeyMap = std::map<CKeyID, std::pair<CPubKey, std::vector<unsigned char>>>;\n \n     CryptedKeyMap mapCryptedKeys GUARDED_BY(cs_KeyStore);\n     WatchOnlySet setWatchOnly GUARDED_BY(cs_KeyStore);\n     WatchKeyMap mapWatchKeys GUARDED_BY(cs_KeyStore);\n \n+    /* the HD chain data model (external chain counters) */\n+    CHDChain m_hd_chain;\n+    std::unordered_map<CKeyID, CHDChain, SaltedSipHasher> m_inactive_hd_chains;\n+\n+    //! keeps track of whether Unlock has run a thorough check before\n+    bool fDecryptionThoroughlyChecked = true;\n+\n+    bool AddWatchOnlyInMem(const CScript &dest);\n+    virtual bool AddKeyPubKeyInner(const CKey& key, const CPubKey &pubkey);\n+    bool AddCryptedKeyInner(const CPubKey &vchPubKey, const std::vector<unsigned char> &vchCryptedSecret);\n+\n+public:\n+    using ScriptPubKeyMan::ScriptPubKeyMan;\n+\n+    // Map from Key ID to key metadata.\n+    std::map<CKeyID, CKeyMetadata> mapKeyMetadata GUARDED_BY(cs_KeyStore);\n+\n+    // Map from Script ID to key metadata (for watch-only keys).\n+    std::map<CScriptID, CKeyMetadata> m_script_metadata GUARDED_BY(cs_KeyStore);\n+\n+    // ScriptPubKeyMan overrides\n+    bool CheckDecryptionKey(const CKeyingMaterial& master_key) override;\n+    std::unordered_set<CScript, SaltedSipHasher> GetScriptPubKeys() const override;\n+    std::unique_ptr<SigningProvider> GetSolvingProvider(const CScript& script) const override;\n+    uint256 GetID() const override { return uint256::ONE; }\n+\n+    // FillableSigningProvider overrides\n+    bool HaveKey(const CKeyID &address) const override;\n+    bool GetKey(const CKeyID &address, CKey& keyOut) const override;\n+    bool GetPubKey(const CKeyID &address, CPubKey& vchPubKeyOut) const override;\n+    bool GetKeyOrigin(const CKeyID& keyid, KeyOriginInfo& info) const override;\n+\n+    std::set<int64_t> setInternalKeyPool GUARDED_BY(cs_KeyStore);\n+    std::set<int64_t> setExternalKeyPool GUARDED_BY(cs_KeyStore);\n+    std::set<int64_t> set_pre_split_keypool GUARDED_BY(cs_KeyStore);\n+    int64_t m_max_keypool_index GUARDED_BY(cs_KeyStore) = 0;\n+    std::map<CKeyID, int64_t> m_pool_key_to_index;\n+\n+    //! Load metadata (used by LoadWallet)\n+    virtual void LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata &metadata);\n+    virtual void LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata &metadata);\n+\n+    //! Adds a watch-only address to the store, without saving it to disk (used by LoadWallet)\n+    bool LoadWatchOnly(const CScript &dest);\n+    //! Returns whether the watch-only script is in the wallet\n+    bool HaveWatchOnly(const CScript &dest) const;\n+    //! Returns whether there are any watch-only things in the wallet\n+    bool HaveWatchOnly() const;\n+    //! Adds a key to the store, without saving it to disk (used by LoadWallet)\n+    bool LoadKey(const CKey& key, const CPubKey &pubkey);\n+    //! Adds an encrypted key to the store, without saving it to disk (used by LoadWallet)\n+    bool LoadCryptedKey(const CPubKey &vchPubKey, const std::vector<unsigned char> &vchCryptedSecret, bool checksum_valid);\n+    //! Adds a CScript to the store\n+    bool LoadCScript(const CScript& redeemScript);\n+    //! Load a HD chain model (used by LoadWallet)\n+    void LoadHDChain(const CHDChain& chain);\n+    void AddInactiveHDChain(const CHDChain& chain);\n+    const CHDChain& GetHDChain() const { return m_hd_chain; }\n+    //! Load a keypool entry\n+    void LoadKeyPool(int64_t nIndex, const CKeyPool &keypool);\n+\n+    //! Fetches a pubkey from mapWatchKeys if it exists there\n+    bool GetWatchPubKey(const CKeyID &address, CPubKey &pubkey_out) const;\n+\n+    /**\n+     * Retrieves scripts that were imported by bugs into the legacy spkm and are\n+     * simply invalid, such as a sh(sh(pkh())) script, or not watched.\n+     */\n+    std::unordered_set<CScript, SaltedSipHasher> GetNotMineScriptPubKeys() const;\n+\n+    /** Get the DescriptorScriptPubKeyMans (with private keys) that have the same scriptPubKeys as this LegacyScriptPubKeyMan.\n+     * Does not modify this ScriptPubKeyMan. */\n+    std::optional<MigrationData> MigrateToDescriptor();\n+    /** Delete all the records ofthis LegacyScriptPubKeyMan from disk*/\n+    bool DeleteRecords();\n+};\n+\n+class LegacyScriptPubKeyMan : public LegacyDataSPKM\n+{\n+private:\n+    WalletBatch *encrypted_batch GUARDED_BY(cs_KeyStore) = nullptr;\n+\n     // By default, do not scan any block until keys/scripts are generated/imported\n     int64_t nTimeFirstKey GUARDED_BY(cs_KeyStore) = UNKNOWN_TIME;\n \n     //! Number of pre-generated keys/scripts (part of the look-ahead process, used to detect payments)\n     int64_t m_keypool_size GUARDED_BY(cs_KeyStore){DEFAULT_KEYPOOL_SIZE};\n \n-    bool AddKeyPubKeyInner(const CKey& key, const CPubKey &pubkey);\n-    bool AddCryptedKeyInner(const CPubKey &vchPubKey, const std::vector<unsigned char> &vchCryptedSecret);\n+    bool AddKeyPubKeyInner(const CKey& key, const CPubKey &pubkey) override;\n \n     /**\n      * Private version of AddWatchOnly method which does not accept a",
      "path": "src/wallet/scriptpubkeyman.h",
      "position": 121,
      "original_position": 116,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "in_reply_to_id": null,
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This comment goes on to say `AddWatchOnly(const CScript&)` is an inherited virtual method which appears untrue. Maybe add an extra commit ahead of the others that tidies up that comment?",
      "created_at": "2024-06-05T20:04:11Z",
      "updated_at": "2024-06-05T22:36:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1628371045",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628371045"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 386,
      "original_line": 386,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628376667",
      "pull_request_review_id": 2089208116,
      "id": 1628376667,
      "node_id": "PRRC_kwDOABII585hDw5b",
      "diff_hunk": "@@ -354,7 +354,7 @@ bool LoadKey(CWallet* pwallet, DataStream& ssKey, DataStream& ssValue, std::stri\n             strErr = \"Error reading wallet database: CPrivKey corrupt\";\n             return false;\n         }\n-        if (!pwallet->GetOrCreateLegacyScriptPubKeyMan()->LoadKey(key, vchPubKey))\n+        if (!pwallet->GetOrCreateLegacyDataSPKM()->LoadKey(key, vchPubKey))\n         {\n             strErr = \"Error reading wallet database: LegacyScriptPubKeyMan::LoadKey failed\";",
      "path": "src/wallet/walletdb.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "in_reply_to_id": null,
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "*`\"Error reading wallet database: LegacyDataSPKM::LoadKey failed\"`, same for `LoadCryptedKey` and `LoadCScript` below.",
      "created_at": "2024-06-05T20:10:06Z",
      "updated_at": "2024-06-05T22:36:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1628376667",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628376667"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 359,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628391489",
      "pull_request_review_id": 2089208116,
      "id": 1628391489,
      "node_id": "PRRC_kwDOABII585hD0hB",
      "diff_hunk": "@@ -961,6 +961,8 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n     //! Get the LegacyScriptPubKeyMan which is used for all types, internal, and external.\n     LegacyScriptPubKeyMan* GetLegacyScriptPubKeyMan() const;\n     LegacyScriptPubKeyMan* GetOrCreateLegacyScriptPubKeyMan();\n+    LegacyDataSPKM* GetLegacyDataSPKM() const;\n+    LegacyDataSPKM* GetOrCreateLegacyDataSPKM();\n \n     //! Make a LegacyScriptPubKeyMan and set it for all types, internal, and external.",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 7,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "in_reply_to_id": null,
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "(`\"Make a *LegacyDataSPKM and set it...\"`. Similar need for update in wallet.cpp around line 3019 before call to `SetupLegacyScriptPubKeyMan()`.)",
      "created_at": "2024-06-05T20:25:16Z",
      "updated_at": "2024-06-05T22:36:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1628391489",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628391489"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 967,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628408816",
      "pull_request_review_id": 2089208116,
      "id": 1628408816,
      "node_id": "PRRC_kwDOABII585hD4vw",
      "diff_hunk": "@@ -2923,7 +2923,7 @@ bool CWallet::EraseAddressReceiveRequest(WalletBatch& batch, const CTxDestinatio\n     return true;\n }\n \n-std::unique_ptr<WalletDatabase> MakeWalletDatabase(const std::string& name, const DatabaseOptions& options, DatabaseStatus& status, bilingual_str& error_string)\n+util::Result<fs::path> GetWalletPath(const std::string& name)",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "in_reply_to_id": null,
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Could be marked `static`?",
      "created_at": "2024-06-05T20:42:31Z",
      "updated_at": "2024-06-05T22:36:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1628408816",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628408816"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2926,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628438776",
      "pull_request_review_id": 2089208116,
      "id": 1628438776,
      "node_id": "PRRC_kwDOABII585hEAD4",
      "diff_hunk": "@@ -1887,7 +1886,6 @@ std::optional<MigrationData> LegacyScriptPubKeyMan::MigrateToDescriptor()\n             for (const CScript& spk : desc_spks) {\n                 size_t erased = spks.erase(spk);\n                 assert(erased == 1);\n-                assert(IsMine(spk) == ISMINE_SPENDABLE);",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 48,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "46520aacc43dd42a7968587ab9ece488bbe9503d",
      "in_reply_to_id": null,
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit 46520aacc43dd42a7968587ab9ece488bbe9503d: Should this line have been removed in the following commit (31e918afc3920a2f8aa367ad323f590b4856aa26)?",
      "created_at": "2024-06-05T21:07:05Z",
      "updated_at": "2024-06-05T22:36:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1628438776",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628438776"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1869,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628463550",
      "pull_request_review_id": 2089208116,
      "id": 1628463550,
      "node_id": "PRRC_kwDOABII585hEGG-",
      "diff_hunk": "@@ -500,7 +500,6 @@ class LegacyScriptPubKeyMan : public LegacyDataSPKM\n \n     /* Set the HD chain model (chain child index counters) and writes it to the database */\n     void AddHDChain(const CHDChain& chain);\n-    const CHDChain& GetHDChain() const { return m_hd_chain; }",
      "path": "src/wallet/scriptpubkeyman.h",
      "position": 205,
      "original_position": 4,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "in_reply_to_id": null,
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This was removed in e11fa4524723aebc0d879ee083c2d6d46849d89a but probably shouldn't have been included in 84a5fb96382960300ebbd2cf2fe8756142bea572 (verified through compiling on that commit + with it removed).",
      "created_at": "2024-06-05T21:28:25Z",
      "updated_at": "2024-06-05T22:36:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1628463550",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628463550"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 455,
      "original_line": 455,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628492436",
      "pull_request_review_id": 2089208116,
      "id": 1628492436,
      "node_id": "PRRC_kwDOABII585hENKU",
      "diff_hunk": "@@ -1812,7 +1953,7 @@ std::optional<MigrationData> LegacyScriptPubKeyMan::MigrateToDescriptor()\n         WalletDescriptor w_desc(std::move(desc), creation_time, 0, 0, 0);\n \n         // Make the DescriptorScriptPubKeyMan and get the scriptPubKeys\n-        auto desc_spk_man = std::unique_ptr<DescriptorScriptPubKeyMan>(new DescriptorScriptPubKeyMan(m_storage, w_desc, m_keypool_size));\n+        auto desc_spk_man = std::unique_ptr<DescriptorScriptPubKeyMan>(new DescriptorScriptPubKeyMan(m_storage, w_desc, /*keypool_size=*/0));",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 412,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "in_reply_to_id": null,
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Worth adding a comment about the consequences of setting `keypool_size=0`? I'm guessing there are still cases where we generate some pubkeys despite having a zero pool size, otherwise you would have removed some of the code and the for-loop below?",
      "created_at": "2024-06-05T22:04:32Z",
      "updated_at": "2024-06-05T22:36:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1628492436",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628492436"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1956,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628499316",
      "pull_request_review_id": 2089208116,
      "id": 1628499316,
      "node_id": "PRRC_kwDOABII585hEO10",
      "diff_hunk": "@@ -1812,7 +1953,7 @@ std::optional<MigrationData> LegacyScriptPubKeyMan::MigrateToDescriptor()\n         WalletDescriptor w_desc(std::move(desc), creation_time, 0, 0, 0);\n \n         // Make the DescriptorScriptPubKeyMan and get the scriptPubKeys\n-        auto desc_spk_man = std::unique_ptr<DescriptorScriptPubKeyMan>(new DescriptorScriptPubKeyMan(m_storage, w_desc, m_keypool_size));\n+        auto desc_spk_man = std::unique_ptr<DescriptorScriptPubKeyMan>(new DescriptorScriptPubKeyMan(m_storage, w_desc, /*keypool_size=*/0));",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 412,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "in_reply_to_id": null,
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: Might as well use `make_unique` on the lines you modify:\r\n```suggestion\r\n        auto desc_spk_man = std::make_unique<DescriptorScriptPubKeyMan>(m_storage, w_desc, /*keypool_size=*/0);\r\n```",
      "created_at": "2024-06-05T22:13:48Z",
      "updated_at": "2024-06-05T22:36:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1628499316",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628499316"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1956,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628506276",
      "pull_request_review_id": 2089208116,
      "id": 1628506276,
      "node_id": "PRRC_kwDOABII585hEQik",
      "diff_hunk": "@@ -763,7 +763,7 @@ static DBErrors LoadLegacyWalletRecords(CWallet* pwallet, DatabaseBatch& batch,\n \n         // nTimeFirstKey is only reliable if all keys have metadata\n         if (pwallet->IsLegacy() && (key_res.m_records + ckey_res.m_records + watch_script_res.m_records) != (keymeta_res.m_records + watch_meta_res.m_records)) {\n-            auto spk_man = pwallet->GetOrCreateLegacyScriptPubKeyMan();\n+            auto spk_man = pwallet->GetLegacyScriptPubKeyMan();",
      "path": "src/wallet/walletdb.cpp",
      "position": 95,
      "original_position": 86,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "in_reply_to_id": null,
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Why not `OrCreate` here any longer?",
      "created_at": "2024-06-05T22:25:00Z",
      "updated_at": "2024-06-05T22:36:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1628506276",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628506276"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 766,
      "original_line": 766,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628597865",
      "pull_request_review_id": 2100541202,
      "id": 1628597865,
      "node_id": "PRRC_kwDOABII585hEm5p",
      "diff_hunk": "@@ -4438,6 +4465,7 @@ util::Result<MigrationResult> MigrateLegacyToDescriptor(const std::string& walle\n     // both before and after reloading. This ensures the set is complete even if one of the wallets\n     // fails to reload.\n     std::set<fs::path> wallet_dirs;\n+    options.require_format = std::nullopt;",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "37df50fffab9de7862e56df84d72756e5308aed2",
      "in_reply_to_id": 1621331017,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "It's used by the `reload_wallet` calls which capture it.",
      "created_at": "2024-06-06T00:51:53Z",
      "updated_at": "2024-06-06T00:51:54Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1628597865",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628597865"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4484,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628598230",
      "pull_request_review_id": 2100543305,
      "id": 1628598230,
      "node_id": "PRRC_kwDOABII585hEm_W",
      "diff_hunk": "@@ -276,31 +276,106 @@ static const std::unordered_set<OutputType> LEGACY_OUTPUT_TYPES {\n \n class DescriptorScriptPubKeyMan;\n \n-class LegacyScriptPubKeyMan : public ScriptPubKeyMan, public FillableSigningProvider\n+class LegacyDataSPKM : public ScriptPubKeyMan, public FillableSigningProvider\n {\n-private:\n-    //! keeps track of whether Unlock has run a thorough check before\n-    bool fDecryptionThoroughlyChecked = true;\n-\n+protected:\n     using WatchOnlySet = std::set<CScript>;\n     using WatchKeyMap = std::map<CKeyID, CPubKey>;\n-\n-    WalletBatch *encrypted_batch GUARDED_BY(cs_KeyStore) = nullptr;\n-\n     using CryptedKeyMap = std::map<CKeyID, std::pair<CPubKey, std::vector<unsigned char>>>;\n \n     CryptedKeyMap mapCryptedKeys GUARDED_BY(cs_KeyStore);\n     WatchOnlySet setWatchOnly GUARDED_BY(cs_KeyStore);\n     WatchKeyMap mapWatchKeys GUARDED_BY(cs_KeyStore);\n \n+    /* the HD chain data model (external chain counters) */\n+    CHDChain m_hd_chain;\n+    std::unordered_map<CKeyID, CHDChain, SaltedSipHasher> m_inactive_hd_chains;\n+\n+    //! keeps track of whether Unlock has run a thorough check before\n+    bool fDecryptionThoroughlyChecked = true;\n+\n+    bool AddWatchOnlyInMem(const CScript &dest);\n+    virtual bool AddKeyPubKeyInner(const CKey& key, const CPubKey &pubkey);\n+    bool AddCryptedKeyInner(const CPubKey &vchPubKey, const std::vector<unsigned char> &vchCryptedSecret);\n+\n+public:\n+    using ScriptPubKeyMan::ScriptPubKeyMan;\n+\n+    // Map from Key ID to key metadata.\n+    std::map<CKeyID, CKeyMetadata> mapKeyMetadata GUARDED_BY(cs_KeyStore);\n+\n+    // Map from Script ID to key metadata (for watch-only keys).\n+    std::map<CScriptID, CKeyMetadata> m_script_metadata GUARDED_BY(cs_KeyStore);\n+\n+    // ScriptPubKeyMan overrides\n+    bool CheckDecryptionKey(const CKeyingMaterial& master_key) override;\n+    std::unordered_set<CScript, SaltedSipHasher> GetScriptPubKeys() const override;\n+    std::unique_ptr<SigningProvider> GetSolvingProvider(const CScript& script) const override;\n+    uint256 GetID() const override { return uint256::ONE; }\n+\n+    // FillableSigningProvider overrides\n+    bool HaveKey(const CKeyID &address) const override;\n+    bool GetKey(const CKeyID &address, CKey& keyOut) const override;\n+    bool GetPubKey(const CKeyID &address, CPubKey& vchPubKeyOut) const override;\n+    bool GetKeyOrigin(const CKeyID& keyid, KeyOriginInfo& info) const override;\n+\n+    std::set<int64_t> setInternalKeyPool GUARDED_BY(cs_KeyStore);\n+    std::set<int64_t> setExternalKeyPool GUARDED_BY(cs_KeyStore);\n+    std::set<int64_t> set_pre_split_keypool GUARDED_BY(cs_KeyStore);\n+    int64_t m_max_keypool_index GUARDED_BY(cs_KeyStore) = 0;\n+    std::map<CKeyID, int64_t> m_pool_key_to_index;\n+\n+    //! Load metadata (used by LoadWallet)\n+    virtual void LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata &metadata);\n+    virtual void LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata &metadata);\n+\n+    //! Adds a watch-only address to the store, without saving it to disk (used by LoadWallet)\n+    bool LoadWatchOnly(const CScript &dest);\n+    //! Returns whether the watch-only script is in the wallet\n+    bool HaveWatchOnly(const CScript &dest) const;\n+    //! Returns whether there are any watch-only things in the wallet\n+    bool HaveWatchOnly() const;\n+    //! Adds a key to the store, without saving it to disk (used by LoadWallet)\n+    bool LoadKey(const CKey& key, const CPubKey &pubkey);\n+    //! Adds an encrypted key to the store, without saving it to disk (used by LoadWallet)\n+    bool LoadCryptedKey(const CPubKey &vchPubKey, const std::vector<unsigned char> &vchCryptedSecret, bool checksum_valid);\n+    //! Adds a CScript to the store\n+    bool LoadCScript(const CScript& redeemScript);\n+    //! Load a HD chain model (used by LoadWallet)\n+    void LoadHDChain(const CHDChain& chain);\n+    void AddInactiveHDChain(const CHDChain& chain);\n+    const CHDChain& GetHDChain() const { return m_hd_chain; }\n+    //! Load a keypool entry\n+    void LoadKeyPool(int64_t nIndex, const CKeyPool &keypool);\n+\n+    //! Fetches a pubkey from mapWatchKeys if it exists there\n+    bool GetWatchPubKey(const CKeyID &address, CPubKey &pubkey_out) const;\n+\n+    /**\n+     * Retrieves scripts that were imported by bugs into the legacy spkm and are\n+     * simply invalid, such as a sh(sh(pkh())) script, or not watched.\n+     */\n+    std::unordered_set<CScript, SaltedSipHasher> GetNotMineScriptPubKeys() const;\n+\n+    /** Get the DescriptorScriptPubKeyMans (with private keys) that have the same scriptPubKeys as this LegacyScriptPubKeyMan.\n+     * Does not modify this ScriptPubKeyMan. */\n+    std::optional<MigrationData> MigrateToDescriptor();\n+    /** Delete all the records ofthis LegacyScriptPubKeyMan from disk*/\n+    bool DeleteRecords();\n+};\n+\n+class LegacyScriptPubKeyMan : public LegacyDataSPKM\n+{\n+private:\n+    WalletBatch *encrypted_batch GUARDED_BY(cs_KeyStore) = nullptr;\n+\n     // By default, do not scan any block until keys/scripts are generated/imported\n     int64_t nTimeFirstKey GUARDED_BY(cs_KeyStore) = UNKNOWN_TIME;\n \n     //! Number of pre-generated keys/scripts (part of the look-ahead process, used to detect payments)\n     int64_t m_keypool_size GUARDED_BY(cs_KeyStore){DEFAULT_KEYPOOL_SIZE};\n \n-    bool AddKeyPubKeyInner(const CKey& key, const CPubKey &pubkey);\n-    bool AddCryptedKeyInner(const CPubKey &vchPubKey, const std::vector<unsigned char> &vchCryptedSecret);\n+    bool AddKeyPubKeyInner(const CKey& key, const CPubKey &pubkey) override;\n \n     /**\n      * Private version of AddWatchOnly method which does not accept a",
      "path": "src/wallet/scriptpubkeyman.h",
      "position": 121,
      "original_position": 116,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "in_reply_to_id": 1628371045,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I don't think it's necessary to add changes that correct this documentation when it's all going to be deleted soon anyways.",
      "created_at": "2024-06-06T00:52:34Z",
      "updated_at": "2024-06-06T00:52:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1628598230",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628598230"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 386,
      "original_line": 386,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628598636",
      "pull_request_review_id": 2100545260,
      "id": 1628598636,
      "node_id": "PRRC_kwDOABII585hEnFs",
      "diff_hunk": "@@ -961,6 +961,8 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n     //! Get the LegacyScriptPubKeyMan which is used for all types, internal, and external.\n     LegacyScriptPubKeyMan* GetLegacyScriptPubKeyMan() const;\n     LegacyScriptPubKeyMan* GetOrCreateLegacyScriptPubKeyMan();\n+    LegacyDataSPKM* GetLegacyDataSPKM() const;\n+    LegacyDataSPKM* GetOrCreateLegacyDataSPKM();\n \n     //! Make a LegacyScriptPubKeyMan and set it for all types, internal, and external.",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 7,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "in_reply_to_id": 1628391489,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The function still creates a `LegacyScriptPubKeyMan` in normal operation.",
      "created_at": "2024-06-06T00:53:14Z",
      "updated_at": "2024-06-06T00:53:14Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1628598636",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628598636"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 967,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628600303",
      "pull_request_review_id": 2100552437,
      "id": 1628600303,
      "node_id": "PRRC_kwDOABII585hEnfv",
      "diff_hunk": "@@ -1887,7 +1886,6 @@ std::optional<MigrationData> LegacyScriptPubKeyMan::MigrateToDescriptor()\n             for (const CScript& spk : desc_spks) {\n                 size_t erased = spks.erase(spk);\n                 assert(erased == 1);\n-                assert(IsMine(spk) == ISMINE_SPENDABLE);",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 48,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "46520aacc43dd42a7968587ab9ece488bbe9503d",
      "in_reply_to_id": 1628438776,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "No. `LegacyDataSPKM` does not have an `IsMine()` function, so this call needs to be removed otherwise it will not compile.",
      "created_at": "2024-06-06T00:55:35Z",
      "updated_at": "2024-06-06T00:55:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1628600303",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628600303"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1869,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628603057",
      "pull_request_review_id": 2100558263,
      "id": 1628603057,
      "node_id": "PRRC_kwDOABII585hEoKx",
      "diff_hunk": "@@ -1812,7 +1953,7 @@ std::optional<MigrationData> LegacyScriptPubKeyMan::MigrateToDescriptor()\n         WalletDescriptor w_desc(std::move(desc), creation_time, 0, 0, 0);\n \n         // Make the DescriptorScriptPubKeyMan and get the scriptPubKeys\n-        auto desc_spk_man = std::unique_ptr<DescriptorScriptPubKeyMan>(new DescriptorScriptPubKeyMan(m_storage, w_desc, m_keypool_size));\n+        auto desc_spk_man = std::unique_ptr<DescriptorScriptPubKeyMan>(new DescriptorScriptPubKeyMan(m_storage, w_desc, /*keypool_size=*/0));",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 412,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "in_reply_to_id": 1628492436,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I don't think this needs to have any additional explanation. `keypool_size` only matters for ranged descriptors. Non-HD keys do not make ranged descriptors, so the value here is ignored. The loop below is for an entirely different set of descriptors and is unrelated to this.",
      "created_at": "2024-06-06T00:58:50Z",
      "updated_at": "2024-06-06T00:58:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1628603057",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628603057"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1956,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628610626",
      "pull_request_review_id": 2100571255,
      "id": 1628610626,
      "node_id": "PRRC_kwDOABII585hEqBC",
      "diff_hunk": "@@ -763,7 +763,7 @@ static DBErrors LoadLegacyWalletRecords(CWallet* pwallet, DatabaseBatch& batch,\n \n         // nTimeFirstKey is only reliable if all keys have metadata\n         if (pwallet->IsLegacy() && (key_res.m_records + ckey_res.m_records + watch_script_res.m_records) != (keymeta_res.m_records + watch_meta_res.m_records)) {\n-            auto spk_man = pwallet->GetOrCreateLegacyScriptPubKeyMan();\n+            auto spk_man = pwallet->GetLegacyScriptPubKeyMan();",
      "path": "src/wallet/walletdb.cpp",
      "position": 95,
      "original_position": 86,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "in_reply_to_id": 1628506276,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "It's redundant since `IsLegacy()` ensures the existence of a `LegacyScriptPubKeyMan`, so there's no need to try to create one.",
      "created_at": "2024-06-06T01:07:26Z",
      "updated_at": "2024-06-06T01:07:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1628610626",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628610626"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 766,
      "original_line": 766,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628612108",
      "pull_request_review_id": 2100574081,
      "id": 1628612108,
      "node_id": "PRRC_kwDOABII585hEqYM",
      "diff_hunk": "@@ -3618,13 +3628,26 @@ void CWallet::AddScriptPubKeyMan(const uint256& id, std::unique_ptr<ScriptPubKey\n     MaybeUpdateBirthTime(spkm->GetTimeFirstKey());\n }\n \n+LegacyDataSPKM* CWallet::GetOrCreateLegacyDataSPKM()\n+{\n+    SetupLegacyScriptPubKeyMan();\n+    return GetLegacyDataSPKM();\n+}\n+\n void CWallet::SetupLegacyScriptPubKeyMan()\n {\n     if (!m_internal_spk_managers.empty() || !m_external_spk_managers.empty() || !m_spk_managers.empty() || IsWalletFlagSet(WALLET_FLAG_DESCRIPTORS)) {\n         return;\n     }\n \n-    auto spk_manager = std::unique_ptr<ScriptPubKeyMan>(new LegacyScriptPubKeyMan(*this, m_keypool_size));\n+    std::unique_ptr<ScriptPubKeyMan> spk_manager;\n+\n+    // Only create base LegacyDataSPKM if using BERKELEY_RO\n+    if (m_database->Format() == \"bdb_ro\") {\n+        spk_manager = std::unique_ptr<ScriptPubKeyMan>(new LegacyDataSPKM(*this));\n+    } else {\n+        spk_manager = std::unique_ptr<ScriptPubKeyMan>(new LegacyScriptPubKeyMan(*this, m_keypool_size));\n+    }",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 41,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "20c8fd5dfc2dec2b46ad70bd1dcad5ba289cb889",
      "in_reply_to_id": 1621407661,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done as suggested",
      "created_at": "2024-06-06T01:09:03Z",
      "updated_at": "2024-06-06T01:09:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1628612108",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628612108"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": 3643,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 3659,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628612254",
      "pull_request_review_id": 2100574368,
      "id": 1628612254,
      "node_id": "PRRC_kwDOABII585hEqae",
      "diff_hunk": "@@ -276,31 +276,106 @@ static const std::unordered_set<OutputType> LEGACY_OUTPUT_TYPES {\n \n class DescriptorScriptPubKeyMan;\n \n-class LegacyScriptPubKeyMan : public ScriptPubKeyMan, public FillableSigningProvider\n+class LegacyDataSPKM : public ScriptPubKeyMan, public FillableSigningProvider",
      "path": "src/wallet/scriptpubkeyman.h",
      "position": 7,
      "original_position": 5,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "in_reply_to_id": 1628300902,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Add a comment to each",
      "created_at": "2024-06-06T01:09:11Z",
      "updated_at": "2024-06-06T01:09:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1628612254",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628612254"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 281,
      "original_line": 281,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628612380",
      "pull_request_review_id": 2100574577,
      "id": 1628612380,
      "node_id": "PRRC_kwDOABII585hEqcc",
      "diff_hunk": "@@ -354,7 +354,7 @@ bool LoadKey(CWallet* pwallet, DataStream& ssKey, DataStream& ssValue, std::stri\n             strErr = \"Error reading wallet database: CPrivKey corrupt\";\n             return false;\n         }\n-        if (!pwallet->GetOrCreateLegacyScriptPubKeyMan()->LoadKey(key, vchPubKey))\n+        if (!pwallet->GetOrCreateLegacyDataSPKM()->LoadKey(key, vchPubKey))\n         {\n             strErr = \"Error reading wallet database: LegacyScriptPubKeyMan::LoadKey failed\";",
      "path": "src/wallet/walletdb.cpp",
      "position": null,
      "original_position": 7,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "in_reply_to_id": 1628376667,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done as suggested",
      "created_at": "2024-06-06T01:09:19Z",
      "updated_at": "2024-06-06T01:09:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1628612380",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628612380"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 359,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628612502",
      "pull_request_review_id": 2100574748,
      "id": 1628612502,
      "node_id": "PRRC_kwDOABII585hEqeW",
      "diff_hunk": "@@ -2923,7 +2923,7 @@ bool CWallet::EraseAddressReceiveRequest(WalletBatch& batch, const CTxDestinatio\n     return true;\n }\n \n-std::unique_ptr<WalletDatabase> MakeWalletDatabase(const std::string& name, const DatabaseOptions& options, DatabaseStatus& status, bilingual_str& error_string)\n+util::Result<fs::path> GetWalletPath(const std::string& name)",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "in_reply_to_id": 1628408816,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2024-06-06T01:09:25Z",
      "updated_at": "2024-06-06T01:09:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1628612502",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628612502"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2926,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628612617",
      "pull_request_review_id": 2100574901,
      "id": 1628612617,
      "node_id": "PRRC_kwDOABII585hEqgJ",
      "diff_hunk": "@@ -500,7 +500,6 @@ class LegacyScriptPubKeyMan : public LegacyDataSPKM\n \n     /* Set the HD chain model (chain child index counters) and writes it to the database */\n     void AddHDChain(const CHDChain& chain);\n-    const CHDChain& GetHDChain() const { return m_hd_chain; }",
      "path": "src/wallet/scriptpubkeyman.h",
      "position": 205,
      "original_position": 4,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "in_reply_to_id": 1628463550,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2024-06-06T01:09:32Z",
      "updated_at": "2024-06-06T01:09:32Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1628612617",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628612617"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 455,
      "original_line": 455,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628612697",
      "pull_request_review_id": 2100575063,
      "id": 1628612697,
      "node_id": "PRRC_kwDOABII585hEqhZ",
      "diff_hunk": "@@ -1812,7 +1953,7 @@ std::optional<MigrationData> LegacyScriptPubKeyMan::MigrateToDescriptor()\n         WalletDescriptor w_desc(std::move(desc), creation_time, 0, 0, 0);\n \n         // Make the DescriptorScriptPubKeyMan and get the scriptPubKeys\n-        auto desc_spk_man = std::unique_ptr<DescriptorScriptPubKeyMan>(new DescriptorScriptPubKeyMan(m_storage, w_desc, m_keypool_size));\n+        auto desc_spk_man = std::unique_ptr<DescriptorScriptPubKeyMan>(new DescriptorScriptPubKeyMan(m_storage, w_desc, /*keypool_size=*/0));",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 412,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "in_reply_to_id": 1628499316,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done as suggested",
      "created_at": "2024-06-06T01:09:38Z",
      "updated_at": "2024-06-06T01:09:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1628612697",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1628612697"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1956,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1629131375",
      "pull_request_review_id": 2101437428,
      "id": 1629131375,
      "node_id": "PRRC_kwDOABII585hGpJv",
      "diff_hunk": "@@ -4438,6 +4465,7 @@ util::Result<MigrationResult> MigrateLegacyToDescriptor(const std::string& walle\n     // both before and after reloading. This ensures the set is complete even if one of the wallets\n     // fails to reload.\n     std::set<fs::path> wallet_dirs;\n+    options.require_format = std::nullopt;",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "37df50fffab9de7862e56df84d72756e5308aed2",
      "in_reply_to_id": 1621331017,
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks, sorry for missing that. Worth an explaining comment like `\"Reset require_format since reload_wallet will only be called on non-Berkeley DB sub-wallets from here on.\"` or something more correct?",
      "created_at": "2024-06-06T09:32:50Z",
      "updated_at": "2024-06-06T09:32:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1629131375",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1629131375"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4484,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1629143813",
      "pull_request_review_id": 2101465697,
      "id": 1629143813,
      "node_id": "PRRC_kwDOABII585hGsMF",
      "diff_hunk": "@@ -961,6 +961,8 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n     //! Get the LegacyScriptPubKeyMan which is used for all types, internal, and external.\n     LegacyScriptPubKeyMan* GetLegacyScriptPubKeyMan() const;\n     LegacyScriptPubKeyMan* GetOrCreateLegacyScriptPubKeyMan();\n+    LegacyDataSPKM* GetLegacyDataSPKM() const;\n+    LegacyDataSPKM* GetOrCreateLegacyDataSPKM();\n \n     //! Make a LegacyScriptPubKeyMan and set it for all types, internal, and external.",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 7,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "in_reply_to_id": 1628391489,
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "`LegacyScriptPubKeyMan` is a `LegacyDataSPKM`, so the comment would be more correct, but it could be corrected later when removing `LegacyScriptPubKeyMan` - unless you plan to rename `LegacyDataSPKM` back into `LegacyScriptPubKeyMan` once the deletion of the latter is complete.",
      "created_at": "2024-06-06T09:40:13Z",
      "updated_at": "2024-06-06T09:40:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1629143813",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1629143813"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 967,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1629164462",
      "pull_request_review_id": 2101490760,
      "id": 1629164462,
      "node_id": "PRRC_kwDOABII585hGxOu",
      "diff_hunk": "@@ -276,31 +276,109 @@ static const std::unordered_set<OutputType> LEGACY_OUTPUT_TYPES {\n \n class DescriptorScriptPubKeyMan;\n \n-class LegacyScriptPubKeyMan : public ScriptPubKeyMan, public FillableSigningProvider\n+// Manages the data for a LegacyScriptPubKeyMan.\n+// This is the minimum necessary to load a legacy wallet so that it can be migrated.\n+class LegacyDataSPKM : public ScriptPubKeyMan, public FillableSigningProvider\n {\n-private:\n-    //! keeps track of whether Unlock has run a thorough check before\n-    bool fDecryptionThoroughlyChecked = true;\n-\n+protected:\n     using WatchOnlySet = std::set<CScript>;\n     using WatchKeyMap = std::map<CKeyID, CPubKey>;\n-\n-    WalletBatch *encrypted_batch GUARDED_BY(cs_KeyStore) = nullptr;\n-\n     using CryptedKeyMap = std::map<CKeyID, std::pair<CPubKey, std::vector<unsigned char>>>;\n \n     CryptedKeyMap mapCryptedKeys GUARDED_BY(cs_KeyStore);\n     WatchOnlySet setWatchOnly GUARDED_BY(cs_KeyStore);\n     WatchKeyMap mapWatchKeys GUARDED_BY(cs_KeyStore);\n \n+    /* the HD chain data model (external chain counters) */\n+    CHDChain m_hd_chain;\n+    std::unordered_map<CKeyID, CHDChain, SaltedSipHasher> m_inactive_hd_chains;\n+\n+    //! keeps track of whether Unlock has run a thorough check before\n+    bool fDecryptionThoroughlyChecked = true;\n+\n+    bool AddWatchOnlyInMem(const CScript &dest);\n+    virtual bool AddKeyPubKeyInner(const CKey& key, const CPubKey &pubkey);\n+    bool AddCryptedKeyInner(const CPubKey &vchPubKey, const std::vector<unsigned char> &vchCryptedSecret);\n+\n+public:\n+    using ScriptPubKeyMan::ScriptPubKeyMan;\n+\n+    // Map from Key ID to key metadata.\n+    std::map<CKeyID, CKeyMetadata> mapKeyMetadata GUARDED_BY(cs_KeyStore);\n+\n+    // Map from Script ID to key metadata (for watch-only keys).\n+    std::map<CScriptID, CKeyMetadata> m_script_metadata GUARDED_BY(cs_KeyStore);\n+\n+    // ScriptPubKeyMan overrides\n+    bool CheckDecryptionKey(const CKeyingMaterial& master_key) override;\n+    std::unordered_set<CScript, SaltedSipHasher> GetScriptPubKeys() const override;\n+    std::unique_ptr<SigningProvider> GetSolvingProvider(const CScript& script) const override;\n+    uint256 GetID() const override { return uint256::ONE; }\n+\n+    // FillableSigningProvider overrides\n+    bool HaveKey(const CKeyID &address) const override;\n+    bool GetKey(const CKeyID &address, CKey& keyOut) const override;\n+    bool GetPubKey(const CKeyID &address, CPubKey& vchPubKeyOut) const override;\n+    bool GetKeyOrigin(const CKeyID& keyid, KeyOriginInfo& info) const override;\n+\n+    std::set<int64_t> setInternalKeyPool GUARDED_BY(cs_KeyStore);\n+    std::set<int64_t> setExternalKeyPool GUARDED_BY(cs_KeyStore);\n+    std::set<int64_t> set_pre_split_keypool GUARDED_BY(cs_KeyStore);\n+    int64_t m_max_keypool_index GUARDED_BY(cs_KeyStore) = 0;\n+    std::map<CKeyID, int64_t> m_pool_key_to_index;\n+\n+    //! Load metadata (used by LoadWallet)\n+    virtual void LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata &metadata);\n+    virtual void LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata &metadata);\n+\n+    //! Adds a watch-only address to the store, without saving it to disk (used by LoadWallet)\n+    bool LoadWatchOnly(const CScript &dest);\n+    //! Returns whether the watch-only script is in the wallet\n+    bool HaveWatchOnly(const CScript &dest) const;\n+    //! Returns whether there are any watch-only things in the wallet\n+    bool HaveWatchOnly() const;\n+    //! Adds a key to the store, without saving it to disk (used by LoadWallet)\n+    bool LoadKey(const CKey& key, const CPubKey &pubkey);\n+    //! Adds an encrypted key to the store, without saving it to disk (used by LoadWallet)\n+    bool LoadCryptedKey(const CPubKey &vchPubKey, const std::vector<unsigned char> &vchCryptedSecret, bool checksum_valid);\n+    //! Adds a CScript to the store\n+    bool LoadCScript(const CScript& redeemScript);\n+    //! Load a HD chain model (used by LoadWallet)\n+    void LoadHDChain(const CHDChain& chain);\n+    void AddInactiveHDChain(const CHDChain& chain);\n+    const CHDChain& GetHDChain() const { return m_hd_chain; }\n+    //! Load a keypool entry\n+    void LoadKeyPool(int64_t nIndex, const CKeyPool &keypool);\n+\n+    //! Fetches a pubkey from mapWatchKeys if it exists there\n+    bool GetWatchPubKey(const CKeyID &address, CPubKey &pubkey_out) const;\n+\n+    /**\n+     * Retrieves scripts that were imported by bugs into the legacy spkm and are\n+     * simply invalid, such as a sh(sh(pkh())) script, or not watched.\n+     */\n+    std::unordered_set<CScript, SaltedSipHasher> GetNotMineScriptPubKeys() const;\n+\n+    /** Get the DescriptorScriptPubKeyMans (with private keys) that have the same scriptPubKeys as this LegacyScriptPubKeyMan.\n+     * Does not modify this ScriptPubKeyMan. */\n+    std::optional<MigrationData> MigrateToDescriptor();\n+    /** Delete all the records ofthis LegacyScriptPubKeyMan from disk*/\n+    bool DeleteRecords();\n+};\n+\n+// Implements the full legacy wallet behavior\n+class LegacyScriptPubKeyMan : public LegacyDataSPKM",
      "path": "src/wallet/scriptpubkeyman.h",
      "position": 105,
      "original_position": 103,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "31632d18ea122def82820770f14d9aa009726114",
      "in_reply_to_id": null,
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "```suggestion\r\n// Implements the full legacy wallet behavior\r\n// Slated for deletion once Berkeley DB library dependency is removed.\r\nclass LegacyScriptPubKeyMan : public LegacyDataSPKM\r\n```",
      "created_at": "2024-06-06T09:48:54Z",
      "updated_at": "2024-06-06T10:59:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1629164462",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1629164462"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": 371,
      "original_start_line": 369,
      "start_side": "RIGHT",
      "line": 372,
      "original_line": 372,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1629293058",
      "pull_request_review_id": 2101490760,
      "id": 1629293058,
      "node_id": "PRRC_kwDOABII585hHQoC",
      "diff_hunk": "@@ -1812,7 +1953,7 @@ std::optional<MigrationData> LegacyScriptPubKeyMan::MigrateToDescriptor()\n         WalletDescriptor w_desc(std::move(desc), creation_time, 0, 0, 0);\n \n         // Make the DescriptorScriptPubKeyMan and get the scriptPubKeys\n-        auto desc_spk_man = std::unique_ptr<DescriptorScriptPubKeyMan>(new DescriptorScriptPubKeyMan(m_storage, w_desc, m_keypool_size));\n+        auto desc_spk_man = std::unique_ptr<DescriptorScriptPubKeyMan>(new DescriptorScriptPubKeyMan(m_storage, w_desc, /*keypool_size=*/0));",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 412,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "in_reply_to_id": 1628492436,
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Haven't fully grokked the code yet, so I understand if you'd rather not answer my questions, but if you want:\r\n\r\n> I don't think this needs to have any additional explanation. keypool_size only matters for ranged descriptors. Non-HD keys do not make ranged descriptors, so the value here is ignored. \r\n\r\nWe're in an HD chain `for`-loop, how is this not involving HD keys?\r\nSurely legacy wallets could be HD wallets.\r\n\r\n> The loop below is for an entirely different set of descriptors and is unrelated to this.\r\n\r\nI'm referring to the loop over `desc_spks` which is using the pubkeys from the `DescriptorScriptPubKeyMan` that's just been created and comes from `DescriptorScriptPubKeyMan::m_map_script_pub_keys` which is filled out in `DescriptorScriptPubKeyMan::TopUpWithDB()` which is affected by `m_keypool_size`.\r\n\r\nWould `m_keypool_size` already always be `0` before this change?",
      "created_at": "2024-06-06T10:59:44Z",
      "updated_at": "2024-06-06T10:59:44Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1629293058",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1629293058"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1956,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1629801393",
      "pull_request_review_id": 2102387625,
      "id": 1629801393,
      "node_id": "PRRC_kwDOABII585hJMux",
      "diff_hunk": "@@ -961,6 +961,8 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n     //! Get the LegacyScriptPubKeyMan which is used for all types, internal, and external.\n     LegacyScriptPubKeyMan* GetLegacyScriptPubKeyMan() const;\n     LegacyScriptPubKeyMan* GetOrCreateLegacyScriptPubKeyMan();\n+    LegacyDataSPKM* GetLegacyDataSPKM() const;\n+    LegacyDataSPKM* GetOrCreateLegacyDataSPKM();\n \n     //! Make a LegacyScriptPubKeyMan and set it for all types, internal, and external.",
      "path": "src/wallet/wallet.h",
      "position": null,
      "original_position": 7,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "in_reply_to_id": 1628391489,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think the meaning is well understood, both before and after `LegacyScriptPubKeyMan` is deleted. `SPKM` is an abbreviation for `ScriptPubKeyMan` anyways.\r\n\r\nChanged it to `Legacy(Data)SPKM`.",
      "created_at": "2024-06-06T15:57:32Z",
      "updated_at": "2024-06-06T16:12:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1629801393",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1629801393"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 967,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1629814874",
      "pull_request_review_id": 2102409360,
      "id": 1629814874,
      "node_id": "PRRC_kwDOABII585hJQBa",
      "diff_hunk": "@@ -1812,7 +1953,7 @@ std::optional<MigrationData> LegacyScriptPubKeyMan::MigrateToDescriptor()\n         WalletDescriptor w_desc(std::move(desc), creation_time, 0, 0, 0);\n \n         // Make the DescriptorScriptPubKeyMan and get the scriptPubKeys\n-        auto desc_spk_man = std::unique_ptr<DescriptorScriptPubKeyMan>(new DescriptorScriptPubKeyMan(m_storage, w_desc, m_keypool_size));\n+        auto desc_spk_man = std::unique_ptr<DescriptorScriptPubKeyMan>(new DescriptorScriptPubKeyMan(m_storage, w_desc, /*keypool_size=*/0));",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 412,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "in_reply_to_id": 1628492436,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The line this comment is on is in the one that goes over the non-HD keys. However, I see that you're confused about the similar line in the loop below that iterates the hd chains.\r\n\r\nThe `keypool_size` here is a runtime value that depends on the startup options. It's is set when the `DescriptorScriptPubKeyman` is instantiated on loading, and the value is never directly persisted to disk. It ends up written as part of `range_end` when `range_end` is updated during `TopUp()`, but `range_end` can also be set directly.\r\n\r\nThe value that does matter is the `range_end` stored in `WalletDescriptor`. When we are going over the hd chains, we set  `range_end` to match the chain counter stored in the `CHDChain` that is being migrated. This results in a descriptor that will produce exactly the same scriptPubKeys as the original hd chain, including it's keypool. We are enforcing that the migrated descriptors produce exactly the same scriptPubKeys (no more, no less). Setting `keypool_size` could mean that `TopUp()` would generate *more* scriptPubKeys than we need/expect, which would cause migration to assert and crash.",
      "created_at": "2024-06-06T16:07:35Z",
      "updated_at": "2024-06-06T16:11:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1629814874",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1629814874"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1956,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1629821488",
      "pull_request_review_id": 2102419939,
      "id": 1629821488,
      "node_id": "PRRC_kwDOABII585hJRow",
      "diff_hunk": "@@ -4438,6 +4465,7 @@ util::Result<MigrationResult> MigrateLegacyToDescriptor(const std::string& walle\n     // both before and after reloading. This ensures the set is complete even if one of the wallets\n     // fails to reload.\n     std::set<fs::path> wallet_dirs;\n+    options.require_format = std::nullopt;",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 50,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "37df50fffab9de7862e56df84d72756e5308aed2",
      "in_reply_to_id": 1621331017,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Added a comment.",
      "created_at": "2024-06-06T16:12:27Z",
      "updated_at": "2024-06-06T16:12:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1629821488",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1629821488"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4484,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1629823159",
      "pull_request_review_id": 2102422707,
      "id": 1629823159,
      "node_id": "PRRC_kwDOABII585hJSC3",
      "diff_hunk": "@@ -276,31 +276,109 @@ static const std::unordered_set<OutputType> LEGACY_OUTPUT_TYPES {\n \n class DescriptorScriptPubKeyMan;\n \n-class LegacyScriptPubKeyMan : public ScriptPubKeyMan, public FillableSigningProvider\n+// Manages the data for a LegacyScriptPubKeyMan.\n+// This is the minimum necessary to load a legacy wallet so that it can be migrated.\n+class LegacyDataSPKM : public ScriptPubKeyMan, public FillableSigningProvider\n {\n-private:\n-    //! keeps track of whether Unlock has run a thorough check before\n-    bool fDecryptionThoroughlyChecked = true;\n-\n+protected:\n     using WatchOnlySet = std::set<CScript>;\n     using WatchKeyMap = std::map<CKeyID, CPubKey>;\n-\n-    WalletBatch *encrypted_batch GUARDED_BY(cs_KeyStore) = nullptr;\n-\n     using CryptedKeyMap = std::map<CKeyID, std::pair<CPubKey, std::vector<unsigned char>>>;\n \n     CryptedKeyMap mapCryptedKeys GUARDED_BY(cs_KeyStore);\n     WatchOnlySet setWatchOnly GUARDED_BY(cs_KeyStore);\n     WatchKeyMap mapWatchKeys GUARDED_BY(cs_KeyStore);\n \n+    /* the HD chain data model (external chain counters) */\n+    CHDChain m_hd_chain;\n+    std::unordered_map<CKeyID, CHDChain, SaltedSipHasher> m_inactive_hd_chains;\n+\n+    //! keeps track of whether Unlock has run a thorough check before\n+    bool fDecryptionThoroughlyChecked = true;\n+\n+    bool AddWatchOnlyInMem(const CScript &dest);\n+    virtual bool AddKeyPubKeyInner(const CKey& key, const CPubKey &pubkey);\n+    bool AddCryptedKeyInner(const CPubKey &vchPubKey, const std::vector<unsigned char> &vchCryptedSecret);\n+\n+public:\n+    using ScriptPubKeyMan::ScriptPubKeyMan;\n+\n+    // Map from Key ID to key metadata.\n+    std::map<CKeyID, CKeyMetadata> mapKeyMetadata GUARDED_BY(cs_KeyStore);\n+\n+    // Map from Script ID to key metadata (for watch-only keys).\n+    std::map<CScriptID, CKeyMetadata> m_script_metadata GUARDED_BY(cs_KeyStore);\n+\n+    // ScriptPubKeyMan overrides\n+    bool CheckDecryptionKey(const CKeyingMaterial& master_key) override;\n+    std::unordered_set<CScript, SaltedSipHasher> GetScriptPubKeys() const override;\n+    std::unique_ptr<SigningProvider> GetSolvingProvider(const CScript& script) const override;\n+    uint256 GetID() const override { return uint256::ONE; }\n+\n+    // FillableSigningProvider overrides\n+    bool HaveKey(const CKeyID &address) const override;\n+    bool GetKey(const CKeyID &address, CKey& keyOut) const override;\n+    bool GetPubKey(const CKeyID &address, CPubKey& vchPubKeyOut) const override;\n+    bool GetKeyOrigin(const CKeyID& keyid, KeyOriginInfo& info) const override;\n+\n+    std::set<int64_t> setInternalKeyPool GUARDED_BY(cs_KeyStore);\n+    std::set<int64_t> setExternalKeyPool GUARDED_BY(cs_KeyStore);\n+    std::set<int64_t> set_pre_split_keypool GUARDED_BY(cs_KeyStore);\n+    int64_t m_max_keypool_index GUARDED_BY(cs_KeyStore) = 0;\n+    std::map<CKeyID, int64_t> m_pool_key_to_index;\n+\n+    //! Load metadata (used by LoadWallet)\n+    virtual void LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata &metadata);\n+    virtual void LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata &metadata);\n+\n+    //! Adds a watch-only address to the store, without saving it to disk (used by LoadWallet)\n+    bool LoadWatchOnly(const CScript &dest);\n+    //! Returns whether the watch-only script is in the wallet\n+    bool HaveWatchOnly(const CScript &dest) const;\n+    //! Returns whether there are any watch-only things in the wallet\n+    bool HaveWatchOnly() const;\n+    //! Adds a key to the store, without saving it to disk (used by LoadWallet)\n+    bool LoadKey(const CKey& key, const CPubKey &pubkey);\n+    //! Adds an encrypted key to the store, without saving it to disk (used by LoadWallet)\n+    bool LoadCryptedKey(const CPubKey &vchPubKey, const std::vector<unsigned char> &vchCryptedSecret, bool checksum_valid);\n+    //! Adds a CScript to the store\n+    bool LoadCScript(const CScript& redeemScript);\n+    //! Load a HD chain model (used by LoadWallet)\n+    void LoadHDChain(const CHDChain& chain);\n+    void AddInactiveHDChain(const CHDChain& chain);\n+    const CHDChain& GetHDChain() const { return m_hd_chain; }\n+    //! Load a keypool entry\n+    void LoadKeyPool(int64_t nIndex, const CKeyPool &keypool);\n+\n+    //! Fetches a pubkey from mapWatchKeys if it exists there\n+    bool GetWatchPubKey(const CKeyID &address, CPubKey &pubkey_out) const;\n+\n+    /**\n+     * Retrieves scripts that were imported by bugs into the legacy spkm and are\n+     * simply invalid, such as a sh(sh(pkh())) script, or not watched.\n+     */\n+    std::unordered_set<CScript, SaltedSipHasher> GetNotMineScriptPubKeys() const;\n+\n+    /** Get the DescriptorScriptPubKeyMans (with private keys) that have the same scriptPubKeys as this LegacyScriptPubKeyMan.\n+     * Does not modify this ScriptPubKeyMan. */\n+    std::optional<MigrationData> MigrateToDescriptor();\n+    /** Delete all the records ofthis LegacyScriptPubKeyMan from disk*/\n+    bool DeleteRecords();\n+};\n+\n+// Implements the full legacy wallet behavior\n+class LegacyScriptPubKeyMan : public LegacyDataSPKM",
      "path": "src/wallet/scriptpubkeyman.h",
      "position": 105,
      "original_position": 103,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "31632d18ea122def82820770f14d9aa009726114",
      "in_reply_to_id": 1629164462,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I don't think it's necessary to have a comment saying such.",
      "created_at": "2024-06-06T16:13:49Z",
      "updated_at": "2024-06-06T16:13:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1629823159",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1629823159"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": 371,
      "original_start_line": 369,
      "start_side": "RIGHT",
      "line": 372,
      "original_line": 372,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1630046789",
      "pull_request_review_id": 2102949629,
      "id": 1630046789,
      "node_id": "PRRC_kwDOABII585hKIpF",
      "diff_hunk": "@@ -276,31 +276,109 @@ static const std::unordered_set<OutputType> LEGACY_OUTPUT_TYPES {\n \n class DescriptorScriptPubKeyMan;\n \n-class LegacyScriptPubKeyMan : public ScriptPubKeyMan, public FillableSigningProvider\n+// Manages the data for a LegacyScriptPubKeyMan.\n+// This is the minimum necessary to load a legacy wallet so that it can be migrated.\n+class LegacyDataSPKM : public ScriptPubKeyMan, public FillableSigningProvider\n {\n-private:\n-    //! keeps track of whether Unlock has run a thorough check before\n-    bool fDecryptionThoroughlyChecked = true;\n-\n+protected:\n     using WatchOnlySet = std::set<CScript>;\n     using WatchKeyMap = std::map<CKeyID, CPubKey>;\n-\n-    WalletBatch *encrypted_batch GUARDED_BY(cs_KeyStore) = nullptr;\n-\n     using CryptedKeyMap = std::map<CKeyID, std::pair<CPubKey, std::vector<unsigned char>>>;\n \n     CryptedKeyMap mapCryptedKeys GUARDED_BY(cs_KeyStore);\n     WatchOnlySet setWatchOnly GUARDED_BY(cs_KeyStore);\n     WatchKeyMap mapWatchKeys GUARDED_BY(cs_KeyStore);\n \n+    /* the HD chain data model (external chain counters) */\n+    CHDChain m_hd_chain;\n+    std::unordered_map<CKeyID, CHDChain, SaltedSipHasher> m_inactive_hd_chains;\n+\n+    //! keeps track of whether Unlock has run a thorough check before\n+    bool fDecryptionThoroughlyChecked = true;\n+\n+    bool AddWatchOnlyInMem(const CScript &dest);\n+    virtual bool AddKeyPubKeyInner(const CKey& key, const CPubKey &pubkey);\n+    bool AddCryptedKeyInner(const CPubKey &vchPubKey, const std::vector<unsigned char> &vchCryptedSecret);\n+\n+public:\n+    using ScriptPubKeyMan::ScriptPubKeyMan;\n+\n+    // Map from Key ID to key metadata.\n+    std::map<CKeyID, CKeyMetadata> mapKeyMetadata GUARDED_BY(cs_KeyStore);\n+\n+    // Map from Script ID to key metadata (for watch-only keys).\n+    std::map<CScriptID, CKeyMetadata> m_script_metadata GUARDED_BY(cs_KeyStore);\n+\n+    // ScriptPubKeyMan overrides\n+    bool CheckDecryptionKey(const CKeyingMaterial& master_key) override;\n+    std::unordered_set<CScript, SaltedSipHasher> GetScriptPubKeys() const override;\n+    std::unique_ptr<SigningProvider> GetSolvingProvider(const CScript& script) const override;\n+    uint256 GetID() const override { return uint256::ONE; }\n+\n+    // FillableSigningProvider overrides\n+    bool HaveKey(const CKeyID &address) const override;\n+    bool GetKey(const CKeyID &address, CKey& keyOut) const override;\n+    bool GetPubKey(const CKeyID &address, CPubKey& vchPubKeyOut) const override;\n+    bool GetKeyOrigin(const CKeyID& keyid, KeyOriginInfo& info) const override;\n+\n+    std::set<int64_t> setInternalKeyPool GUARDED_BY(cs_KeyStore);\n+    std::set<int64_t> setExternalKeyPool GUARDED_BY(cs_KeyStore);\n+    std::set<int64_t> set_pre_split_keypool GUARDED_BY(cs_KeyStore);\n+    int64_t m_max_keypool_index GUARDED_BY(cs_KeyStore) = 0;\n+    std::map<CKeyID, int64_t> m_pool_key_to_index;\n+\n+    //! Load metadata (used by LoadWallet)\n+    virtual void LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata &metadata);\n+    virtual void LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata &metadata);\n+\n+    //! Adds a watch-only address to the store, without saving it to disk (used by LoadWallet)\n+    bool LoadWatchOnly(const CScript &dest);\n+    //! Returns whether the watch-only script is in the wallet\n+    bool HaveWatchOnly(const CScript &dest) const;\n+    //! Returns whether there are any watch-only things in the wallet\n+    bool HaveWatchOnly() const;\n+    //! Adds a key to the store, without saving it to disk (used by LoadWallet)\n+    bool LoadKey(const CKey& key, const CPubKey &pubkey);\n+    //! Adds an encrypted key to the store, without saving it to disk (used by LoadWallet)\n+    bool LoadCryptedKey(const CPubKey &vchPubKey, const std::vector<unsigned char> &vchCryptedSecret, bool checksum_valid);\n+    //! Adds a CScript to the store\n+    bool LoadCScript(const CScript& redeemScript);\n+    //! Load a HD chain model (used by LoadWallet)\n+    void LoadHDChain(const CHDChain& chain);\n+    void AddInactiveHDChain(const CHDChain& chain);\n+    const CHDChain& GetHDChain() const { return m_hd_chain; }\n+    //! Load a keypool entry\n+    void LoadKeyPool(int64_t nIndex, const CKeyPool &keypool);\n+\n+    //! Fetches a pubkey from mapWatchKeys if it exists there\n+    bool GetWatchPubKey(const CKeyID &address, CPubKey &pubkey_out) const;\n+\n+    /**\n+     * Retrieves scripts that were imported by bugs into the legacy spkm and are\n+     * simply invalid, such as a sh(sh(pkh())) script, or not watched.\n+     */\n+    std::unordered_set<CScript, SaltedSipHasher> GetNotMineScriptPubKeys() const;\n+\n+    /** Get the DescriptorScriptPubKeyMans (with private keys) that have the same scriptPubKeys as this LegacyScriptPubKeyMan.\n+     * Does not modify this ScriptPubKeyMan. */\n+    std::optional<MigrationData> MigrateToDescriptor();\n+    /** Delete all the records ofthis LegacyScriptPubKeyMan from disk*/\n+    bool DeleteRecords();\n+};\n+\n+// Implements the full legacy wallet behavior\n+class LegacyScriptPubKeyMan : public LegacyDataSPKM",
      "path": "src/wallet/scriptpubkeyman.h",
      "position": 105,
      "original_position": 103,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "31632d18ea122def82820770f14d9aa009726114",
      "in_reply_to_id": 1629164462,
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "If the code is unable to communicate why it is like it is, it's good to explain the otherwise surprising state of it. It would hopefully limit the amount of questions like my prior one from https://github.com/bitcoin/bitcoin/pull/26596#pullrequestreview-2089208116:\r\n> `LegacyScriptPubKeyMan::NewKeyPool()` only touches data from `LegacyDataSPKM`, should it be moved to that class as public (or protected and then exposed in the subclass?). \r\n\r\n But I guess you're fairly confident it will be deleted in time for the next release anyway.",
      "created_at": "2024-06-06T18:48:05Z",
      "updated_at": "2024-06-06T18:48:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1630046789",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1630046789"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": 371,
      "original_start_line": 369,
      "start_side": "RIGHT",
      "line": 372,
      "original_line": 372,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1630064452",
      "pull_request_review_id": 2102980515,
      "id": 1630064452,
      "node_id": "PRRC_kwDOABII585hKM9E",
      "diff_hunk": "@@ -1812,7 +1953,7 @@ std::optional<MigrationData> LegacyScriptPubKeyMan::MigrateToDescriptor()\n         WalletDescriptor w_desc(std::move(desc), creation_time, 0, 0, 0);\n \n         // Make the DescriptorScriptPubKeyMan and get the scriptPubKeys\n-        auto desc_spk_man = std::unique_ptr<DescriptorScriptPubKeyMan>(new DescriptorScriptPubKeyMan(m_storage, w_desc, m_keypool_size));\n+        auto desc_spk_man = std::unique_ptr<DescriptorScriptPubKeyMan>(new DescriptorScriptPubKeyMan(m_storage, w_desc, /*keypool_size=*/0));",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 412,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "e11fa4524723aebc0d879ee083c2d6d46849d89a",
      "in_reply_to_id": 1628492436,
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks for taking the time to clarify this matter!",
      "created_at": "2024-06-06T18:57:24Z",
      "updated_at": "2024-06-06T18:57:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1630064452",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1630064452"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1956,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1631133040",
      "pull_request_review_id": 2104427047,
      "id": 1631133040,
      "node_id": "PRRC_kwDOABII585hOR1w",
      "diff_hunk": "@@ -4346,11 +4355,24 @@ util::Result<MigrationResult> MigrateLegacyToDescriptor(const std::string& walle\n     // If the wallet is still loaded, unload it so that nothing else tries to use it while we're changing it\n     bool was_loaded = false;\n     if (auto wallet = GetWallet(context, wallet_name)) {\n+        if (wallet->IsWalletFlagSet(WALLET_FLAG_DESCRIPTORS)) {\n+            return util::Error{_(\"Error: This wallet is already a descriptor wallet\")};\n+        }\n+\n         if (!RemoveWallet(context, wallet, /*load_on_start=*/std::nullopt, warnings)) {\n             return util::Error{_(\"Unable to unload the wallet before migrating\")};\n         }\n         UnloadWallet(std::move(wallet));\n         was_loaded = true;\n+    } else {\n+        // Check if the wallet is BDB\n+        const auto& wallet_path = GetWalletPath(wallet_name);\n+        if (!wallet_path) {\n+            return util::Error{util::ErrorString(wallet_path)};\n+        }\n+        if (!IsBDBFile(BDBDataFile(*wallet_path))) {\n+            return util::Error{_(\"Error: This wallet is already a descriptor wallet\")};\n+        }",
      "path": "src/wallet/wallet.cpp",
      "position": 117,
      "original_position": 58,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "f732495191d346b877ffe8402ec68761713eaaf7",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "in commit f732495191d346b877ffe8402ec68761713eaaf7:  now that the legacy-wallet-check is done without loading the wallet, is the check for the descriptor flag below still needed? (can a BDB wallet ever have this flag set?)\r\n\r\n```\r\n    // Before anything else, check if there is something to migrate.\r\n    if (local_wallet->IsWalletFlagSet(WALLET_FLAG_DESCRIPTORS)) {\r\n        if (was_loaded) {\r\n            reload_wallet(local_wallet);\r\n        }\r\n        return util::Error{_(\"Error: This wallet is already a descriptor wallet\")};\r\n    }\r\n```\r\nhttps://github.com/achow101/bitcoin/blob/a8f8a2d5d0e2328cbe2e569c7e12f653d18f456d/src/wallet/wallet.cpp#L4425-L4431",
      "created_at": "2024-06-07T12:31:27Z",
      "updated_at": "2024-06-07T12:35:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1631133040",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1631133040"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": 4392,
      "original_start_line": 4373,
      "start_side": "RIGHT",
      "line": 4394,
      "original_line": 4394,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1631443918",
      "pull_request_review_id": 2104960096,
      "id": 1631443918,
      "node_id": "PRRC_kwDOABII585hPdvO",
      "diff_hunk": "@@ -4346,11 +4355,24 @@ util::Result<MigrationResult> MigrateLegacyToDescriptor(const std::string& walle\n     // If the wallet is still loaded, unload it so that nothing else tries to use it while we're changing it\n     bool was_loaded = false;\n     if (auto wallet = GetWallet(context, wallet_name)) {\n+        if (wallet->IsWalletFlagSet(WALLET_FLAG_DESCRIPTORS)) {\n+            return util::Error{_(\"Error: This wallet is already a descriptor wallet\")};\n+        }\n+\n         if (!RemoveWallet(context, wallet, /*load_on_start=*/std::nullopt, warnings)) {\n             return util::Error{_(\"Unable to unload the wallet before migrating\")};\n         }\n         UnloadWallet(std::move(wallet));\n         was_loaded = true;\n+    } else {\n+        // Check if the wallet is BDB\n+        const auto& wallet_path = GetWalletPath(wallet_name);\n+        if (!wallet_path) {\n+            return util::Error{util::ErrorString(wallet_path)};\n+        }\n+        if (!IsBDBFile(BDBDataFile(*wallet_path))) {\n+            return util::Error{_(\"Error: This wallet is already a descriptor wallet\")};\n+        }",
      "path": "src/wallet/wallet.cpp",
      "position": 117,
      "original_position": 58,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "f732495191d346b877ffe8402ec68761713eaaf7",
      "in_reply_to_id": 1631133040,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "It is theoretically possible to have a descriptor wallet using BDB under 2 scenarios, however this is still an unsupported configuration:\r\n\r\n1. The descriptor wallet was created on an unreleased version after #16528 but before #19077 (there was a period of about 6 months where this could have happened)\r\n2. The user manipulated the database using external tooling where they created a BDB file and manually inserted descriptor wallet records",
      "created_at": "2024-06-07T16:24:57Z",
      "updated_at": "2024-06-07T16:24:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1631443918",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1631443918"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": 4392,
      "original_start_line": 4373,
      "start_side": "RIGHT",
      "line": 4394,
      "original_line": 4394,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1635494042",
      "pull_request_review_id": 2111475077,
      "id": 1635494042,
      "node_id": "PRRC_kwDOABII585he6ia",
      "diff_hunk": "@@ -1887,7 +1886,6 @@ std::optional<MigrationData> LegacyScriptPubKeyMan::MigrateToDescriptor()\n             for (const CScript& spk : desc_spks) {\n                 size_t erased = spks.erase(spk);\n                 assert(erased == 1);\n-                assert(IsMine(spk) == ISMINE_SPENDABLE);",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 48,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "46520aacc43dd42a7968587ab9ece488bbe9503d",
      "in_reply_to_id": 1628438776,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> No. `LegacyDataSPKM` does not have an `IsMine()` function, so this call needs to be removed otherwise it will not compile.\r\n\r\nI think the outcome would be worst. It would compile using the base `ScriptPubKeyMan::IsMine` function. Returning `ISMINE_NO` for all `IsMine` calls. \r\n\r\nStill, I think we should state why this assertion removal is ok in the commit description too.",
      "created_at": "2024-06-11T21:21:24Z",
      "updated_at": "2024-06-18T13:47:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1635494042",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1635494042"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 1869,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1644499042",
      "pull_request_review_id": 2111475077,
      "id": 1644499042,
      "node_id": "PRRC_kwDOABII585iBRBi",
      "diff_hunk": "@@ -1833,7 +1833,7 @@ std::optional<MigrationData> LegacyScriptPubKeyMan::MigrateToDescriptor()\n         WalletDescriptor w_desc(std::move(desc), creation_time, 0, 0, 0);\n \n         // Make the DescriptorScriptPubKeyMan and get the scriptPubKeys\n-        auto desc_spk_man = std::unique_ptr<DescriptorScriptPubKeyMan>(new DescriptorScriptPubKeyMan(m_storage, w_desc, m_keypool_size));\n+        auto desc_spk_man = std::make_unique<DescriptorScriptPubKeyMan>(m_storage, w_desc, /*keypool_size=*/0);",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": 254,
      "original_position": 23,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "c653f4fdbfe0607ad9be27e80ad22c9aee314bb7",
      "in_reply_to_id": null,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Not really an issue but this works because `TopUp` sets the descriptor range_end to 1 on the first run when the descriptor is not ranged.\r\nAs this would fail if we ever change that, what if we set the range properly in `WalletDescriptor` constructor?\r\nE.g.\r\n\r\n```c++\r\nWalletDescriptor w_desc(std::move(desc), creation_time, /*range_start=*/0, /*range_end=*/1, /*next_index=*/0)\r\n```\r\n\r\n~~Also, this change doesn't seem to be related to c653f4fdbfe06 description?~~ --> nvm about this last point, theStack just made me notice that this is because `m_keypool_size` is not accesible from `LegacyDataSPKM`.",
      "created_at": "2024-06-18T13:46:18Z",
      "updated_at": "2024-06-18T15:01:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1644499042",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1644499042"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": 1830,
      "original_start_line": 1833,
      "start_side": "RIGHT",
      "line": 1833,
      "original_line": 1833,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1655435296",
      "pull_request_review_id": 2142809385,
      "id": 1655435296,
      "node_id": "PRRC_kwDOABII585iq_Ag",
      "diff_hunk": "@@ -4438,6 +4461,8 @@ util::Result<MigrationResult> MigrateLegacyToDescriptor(const std::string& walle\n     // both before and after reloading. This ensures the set is complete even if one of the wallets\n     // fails to reload.\n     std::set<fs::path> wallet_dirs;\n+    // Reset options.require_format as options are used by reload_wallet which may reload wallets of any format.\n+    options.require_format = std::nullopt;",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 75,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "f732495191d346b877ffe8402ec68761713eaaf7",
      "in_reply_to_id": null,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In f732495191d346b8:\r\n\r\nThe reset call needs to be moved above the `reload_wallet` function declaration. Otherwise, the wallet will be reloaded in read-only mode for any failure occurring in-between the `reload_wallet` declaration and this line, such as failures during backup creation or the decryption procedure.\r\n\r\nI have written a test to trigger this misbehavior: furszy@c24b673 (feel free to pull it here). The test passes when the fix is cherry-picked on top: furszy@2d5d9a4.",
      "created_at": "2024-06-26T19:49:16Z",
      "updated_at": "2024-06-26T19:52:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1655435296",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1655435296"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": 4464,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 4465,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1655499562",
      "pull_request_review_id": 2142928126,
      "id": 1655499562,
      "node_id": "PRRC_kwDOABII585irOsq",
      "diff_hunk": "@@ -4438,6 +4461,8 @@ util::Result<MigrationResult> MigrateLegacyToDescriptor(const std::string& walle\n     // both before and after reloading. This ensures the set is complete even if one of the wallets\n     // fails to reload.\n     std::set<fs::path> wallet_dirs;\n+    // Reset options.require_format as options are used by reload_wallet which may reload wallets of any format.\n+    options.require_format = std::nullopt;",
      "path": "src/wallet/wallet.cpp",
      "position": null,
      "original_position": 75,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "f732495191d346b877ffe8402ec68761713eaaf7",
      "in_reply_to_id": 1655435296,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Fixed and pulled the test. I decided to just move this into `reload_wallet` directly, it doesn't need to live outside of it.",
      "created_at": "2024-06-26T20:39:31Z",
      "updated_at": "2024-06-26T20:39:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1655499562",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1655499562"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": 4464,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 4465,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1655577477",
      "pull_request_review_id": 2143055500,
      "id": 1655577477,
      "node_id": "PRRC_kwDOABII585irhuF",
      "diff_hunk": "@@ -784,18 +784,39 @@ bool LegacyScriptPubKeyMan::LoadCScript(const CScript& redeemScript)\n     return FillableSigningProvider::AddCScript(redeemScript);\n }\n \n+void LegacyDataSPKM::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    mapKeyMetadata[keyID] = meta;\n+}\n+\n void LegacyScriptPubKeyMan::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadKeyMetadata(keyID, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    mapKeyMetadata[keyID] = meta;\n+}\n+\n+void LegacyDataSPKM::LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    m_script_metadata[script_id] = meta;\n }\n \n void LegacyScriptPubKeyMan::LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadScriptMetadata(script_id, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    m_script_metadata[script_id] = meta;\n+}\n+\n+bool LegacyDataSPKM::AddKeyPubKeyInner(const CKey& key, const CPubKey &pubkey)",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 77,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "5fee29f541ded9619219a64eeb278b008be90ebf",
      "in_reply_to_id": null,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nano nit:\r\n```suggestion\r\nbool LegacyDataSPKM::AddKeyPubKeyInner(const CKey& key, const CPubKey& pubkey)\r\n```",
      "created_at": "2024-06-26T22:09:27Z",
      "updated_at": "2024-06-26T22:27:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1655577477",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1655577477"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 813,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1655579858",
      "pull_request_review_id": 2143055500,
      "id": 1655579858,
      "node_id": "PRRC_kwDOABII585iriTS",
      "diff_hunk": "@@ -784,18 +784,39 @@ bool LegacyScriptPubKeyMan::LoadCScript(const CScript& redeemScript)\n     return FillableSigningProvider::AddCScript(redeemScript);\n }\n \n+void LegacyDataSPKM::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    mapKeyMetadata[keyID] = meta;\n+}\n+\n void LegacyScriptPubKeyMan::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadKeyMetadata(keyID, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    mapKeyMetadata[keyID] = meta;\n+}\n+\n+void LegacyDataSPKM::LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    m_script_metadata[script_id] = meta;\n }\n \n void LegacyScriptPubKeyMan::LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadScriptMetadata(script_id, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    m_script_metadata[script_id] = meta;\n+}\n+\n+bool LegacyDataSPKM::AddKeyPubKeyInner(const CKey& key, const CPubKey &pubkey)\n+{\n+    // This function should only be called during loading of a legacy to be migrated.\n+    // As such, the wallet should not be encrypted if this is called.\n+    LOCK(cs_KeyStore);\n+    assert(!m_storage.HasEncryptionKeys());",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 82,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "5fee29f541ded9619219a64eeb278b008be90ebf",
      "in_reply_to_id": null,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I'm not sure this is asserting what you expect. In the loading process, we load the encryption keys after the key records. So the encryption keys map should always be empty and `HasEncryptionKeys` should always return false but not for the reasons stated here.",
      "created_at": "2024-06-26T22:12:57Z",
      "updated_at": "2024-06-26T22:27:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1655579858",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1655579858"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": 815,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 818,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1655636322",
      "pull_request_review_id": 2143136679,
      "id": 1655636322,
      "node_id": "PRRC_kwDOABII585irwFi",
      "diff_hunk": "@@ -784,18 +784,39 @@ bool LegacyScriptPubKeyMan::LoadCScript(const CScript& redeemScript)\n     return FillableSigningProvider::AddCScript(redeemScript);\n }\n \n+void LegacyDataSPKM::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    mapKeyMetadata[keyID] = meta;\n+}\n+\n void LegacyScriptPubKeyMan::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadKeyMetadata(keyID, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    mapKeyMetadata[keyID] = meta;\n+}\n+\n+void LegacyDataSPKM::LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    m_script_metadata[script_id] = meta;\n }\n \n void LegacyScriptPubKeyMan::LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadScriptMetadata(script_id, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    m_script_metadata[script_id] = meta;\n+}\n+\n+bool LegacyDataSPKM::AddKeyPubKeyInner(const CKey& key, const CPubKey &pubkey)\n+{\n+    // This function should only be called during loading of a legacy to be migrated.\n+    // As such, the wallet should not be encrypted if this is called.\n+    LOCK(cs_KeyStore);\n+    assert(!m_storage.HasEncryptionKeys());",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 82,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "5fee29f541ded9619219a64eeb278b008be90ebf",
      "in_reply_to_id": 1655579858,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Yes, that's what the comment is saying. It is because this function is only called during loading, and because legacy wallet records are loaded first, that this assertion makes sense. After all, to be migrated legacy wallets can still be encrypted.",
      "created_at": "2024-06-26T23:30:11Z",
      "updated_at": "2024-06-26T23:30:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1655636322",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1655636322"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": 815,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 818,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1657761131",
      "pull_request_review_id": 2146429643,
      "id": 1657761131,
      "node_id": "PRRC_kwDOABII585iz21r",
      "diff_hunk": "@@ -784,18 +784,39 @@ bool LegacyScriptPubKeyMan::LoadCScript(const CScript& redeemScript)\n     return FillableSigningProvider::AddCScript(redeemScript);\n }\n \n+void LegacyDataSPKM::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    mapKeyMetadata[keyID] = meta;\n+}\n+\n void LegacyScriptPubKeyMan::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadKeyMetadata(keyID, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    mapKeyMetadata[keyID] = meta;\n+}\n+\n+void LegacyDataSPKM::LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    m_script_metadata[script_id] = meta;\n }\n \n void LegacyScriptPubKeyMan::LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadScriptMetadata(script_id, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    m_script_metadata[script_id] = meta;\n+}\n+\n+bool LegacyDataSPKM::AddKeyPubKeyInner(const CKey& key, const CPubKey &pubkey)\n+{\n+    // This function should only be called during loading of a legacy to be migrated.\n+    // As such, the wallet should not be encrypted if this is called.\n+    LOCK(cs_KeyStore);\n+    assert(!m_storage.HasEncryptionKeys());",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 82,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "5fee29f541ded9619219a64eeb278b008be90ebf",
      "in_reply_to_id": 1655579858,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think calling `IsLocked()` would be more precise and make more sense then. It seems confusing to say that the wallet can still be encrypted but expect no encryption keys (we understand it because we know the loading procedure but others might not understand it).\r\n\r\nOther than that, what if instead of creating this new `LegacyDataSPKM::AddKeyPubKeyInner` method you place this three lines inside the `LegacyDataSPKM::LoadKey` which is only called during load?",
      "created_at": "2024-06-27T20:11:23Z",
      "updated_at": "2024-06-27T20:35:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1657761131",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1657761131"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": 815,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 818,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1657873459",
      "pull_request_review_id": 2146541283,
      "id": 1657873459,
      "node_id": "PRRC_kwDOABII585i0SQz",
      "diff_hunk": "@@ -784,18 +784,39 @@ bool LegacyScriptPubKeyMan::LoadCScript(const CScript& redeemScript)\n     return FillableSigningProvider::AddCScript(redeemScript);\n }\n \n+void LegacyDataSPKM::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    mapKeyMetadata[keyID] = meta;\n+}\n+\n void LegacyScriptPubKeyMan::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadKeyMetadata(keyID, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    mapKeyMetadata[keyID] = meta;\n+}\n+\n+void LegacyDataSPKM::LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    m_script_metadata[script_id] = meta;\n }\n \n void LegacyScriptPubKeyMan::LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadScriptMetadata(script_id, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    m_script_metadata[script_id] = meta;\n+}\n+\n+bool LegacyDataSPKM::AddKeyPubKeyInner(const CKey& key, const CPubKey &pubkey)",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 77,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "5fee29f541ded9619219a64eeb278b008be90ebf",
      "in_reply_to_id": 1655577477,
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "(In response to https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1655577477)\r\n\r\nThis made me cringe when first looking at the code too, but I guess retaining the inconsistency makes it easier to search for `AddKeyPubKeyInner(const CKey& key, const CPubKey &pubkey)` and find all 4 places it exists. Changing it in this PR would arguably add noise (on the other hand - if not now, then when?).",
      "created_at": "2024-06-27T22:16:30Z",
      "updated_at": "2024-06-27T22:28:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1657873459",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1657873459"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 813,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1661399034",
      "pull_request_review_id": 2152020431,
      "id": 1661399034,
      "node_id": "PRRC_kwDOABII585jBu_6",
      "diff_hunk": "@@ -784,18 +784,39 @@ bool LegacyScriptPubKeyMan::LoadCScript(const CScript& redeemScript)\n     return FillableSigningProvider::AddCScript(redeemScript);\n }\n \n+void LegacyDataSPKM::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    mapKeyMetadata[keyID] = meta;\n+}\n+\n void LegacyScriptPubKeyMan::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadKeyMetadata(keyID, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    mapKeyMetadata[keyID] = meta;\n+}\n+\n+void LegacyDataSPKM::LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    m_script_metadata[script_id] = meta;\n }\n \n void LegacyScriptPubKeyMan::LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadScriptMetadata(script_id, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    m_script_metadata[script_id] = meta;\n+}\n+\n+bool LegacyDataSPKM::AddKeyPubKeyInner(const CKey& key, const CPubKey &pubkey)\n+{\n+    // This function should only be called during loading of a legacy to be migrated.\n+    // As such, the wallet should not be encrypted if this is called.\n+    LOCK(cs_KeyStore);\n+    assert(!m_storage.HasEncryptionKeys());",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 82,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "5fee29f541ded9619219a64eeb278b008be90ebf",
      "in_reply_to_id": 1655579858,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> Other than that, what if instead of creating this new `LegacyDataSPKM::AddKeyPubKeyInner` method you place this three lines inside the `LegacyDataSPKM::LoadKey` which is only called during load?\r\n\r\nWe can't do that because `LoadKey` needs to call `LegacyScriptPubKeyMan::AddKeyPubKeyInner` for legacy wallets that are being loaded normally. Since migration cannot do all of the things in `LegacyScriptPubKeyMan::AddKeyPubKeyInner`, we need to have `LegacyDataSPKM::AddKeyPubKeyInner`.\r\n\r\n> I think calling `IsLocked()` would be more precise and make more sense then. It seems confusing to say that the wallet can still be encrypted but expect no encryption keys (we understand it because we know the loading procedure but others might not understand it).\r\n\r\nActually, looking at this more closely, your original comment was correct. This function is only reached during legacy migration wallet migration loading for unencrypted keys only. Since the encryption keys are loaded later, this check doesn't actually do anything useful.\r\n",
      "created_at": "2024-07-01T18:23:09Z",
      "updated_at": "2024-07-01T18:23:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1661399034",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1661399034"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": 815,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 818,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1661402030",
      "pull_request_review_id": 2152025915,
      "id": 1661402030,
      "node_id": "PRRC_kwDOABII585jBvuu",
      "diff_hunk": "@@ -784,18 +784,39 @@ bool LegacyScriptPubKeyMan::LoadCScript(const CScript& redeemScript)\n     return FillableSigningProvider::AddCScript(redeemScript);\n }\n \n+void LegacyDataSPKM::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    mapKeyMetadata[keyID] = meta;\n+}\n+\n void LegacyScriptPubKeyMan::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadKeyMetadata(keyID, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    mapKeyMetadata[keyID] = meta;\n+}\n+\n+void LegacyDataSPKM::LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    m_script_metadata[script_id] = meta;\n }\n \n void LegacyScriptPubKeyMan::LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadScriptMetadata(script_id, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    m_script_metadata[script_id] = meta;\n+}\n+\n+bool LegacyDataSPKM::AddKeyPubKeyInner(const CKey& key, const CPubKey &pubkey)",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 77,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "5fee29f541ded9619219a64eeb278b008be90ebf",
      "in_reply_to_id": 1655577477,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2024-07-01T18:26:16Z",
      "updated_at": "2024-07-01T18:26:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1661402030",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1661402030"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 813,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1661402170",
      "pull_request_review_id": 2152026109,
      "id": 1661402170,
      "node_id": "PRRC_kwDOABII585jBvw6",
      "diff_hunk": "@@ -784,18 +784,39 @@ bool LegacyScriptPubKeyMan::LoadCScript(const CScript& redeemScript)\n     return FillableSigningProvider::AddCScript(redeemScript);\n }\n \n+void LegacyDataSPKM::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    mapKeyMetadata[keyID] = meta;\n+}\n+\n void LegacyScriptPubKeyMan::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadKeyMetadata(keyID, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    mapKeyMetadata[keyID] = meta;\n+}\n+\n+void LegacyDataSPKM::LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    m_script_metadata[script_id] = meta;\n }\n \n void LegacyScriptPubKeyMan::LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadScriptMetadata(script_id, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    m_script_metadata[script_id] = meta;\n+}\n+\n+bool LegacyDataSPKM::AddKeyPubKeyInner(const CKey& key, const CPubKey &pubkey)\n+{\n+    // This function should only be called during loading of a legacy to be migrated.\n+    // As such, the wallet should not be encrypted if this is called.\n+    LOCK(cs_KeyStore);\n+    assert(!m_storage.HasEncryptionKeys());",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 82,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "5fee29f541ded9619219a64eeb278b008be90ebf",
      "in_reply_to_id": 1655579858,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Removed the assert and the comment.",
      "created_at": "2024-07-01T18:26:25Z",
      "updated_at": "2024-07-01T18:26:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1661402170",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1661402170"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": 815,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 818,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1661566826",
      "pull_request_review_id": 2152287637,
      "id": 1661566826,
      "node_id": "PRRC_kwDOABII585jCX9q",
      "diff_hunk": "@@ -784,18 +784,39 @@ bool LegacyScriptPubKeyMan::LoadCScript(const CScript& redeemScript)\n     return FillableSigningProvider::AddCScript(redeemScript);\n }\n \n+void LegacyDataSPKM::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    mapKeyMetadata[keyID] = meta;\n+}\n+\n void LegacyScriptPubKeyMan::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadKeyMetadata(keyID, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    mapKeyMetadata[keyID] = meta;\n+}\n+\n+void LegacyDataSPKM::LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    m_script_metadata[script_id] = meta;\n }\n \n void LegacyScriptPubKeyMan::LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadScriptMetadata(script_id, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    m_script_metadata[script_id] = meta;\n+}\n+\n+bool LegacyDataSPKM::AddKeyPubKeyInner(const CKey& key, const CPubKey &pubkey)",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 77,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "5fee29f541ded9619219a64eeb278b008be90ebf",
      "in_reply_to_id": 1655577477,
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "(Now grepping \"AddKeyPubKeyInner(const CKey& key, const CPubKey& pubkey)\" gives 1 result.\r\ngrepping \"AddKeyPubKeyInner(const CKey& key, const CPubKey &pubkey)\" gives 3 results.\r\n\r\nIt would be nice to align style within the same class between .CPP/.H).",
      "created_at": "2024-07-01T21:38:32Z",
      "updated_at": "2024-07-01T21:38:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1661566826",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1661566826"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 813,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1661578955",
      "pull_request_review_id": 2152304693,
      "id": 1661578955,
      "node_id": "PRRC_kwDOABII585jCa7L",
      "diff_hunk": "@@ -784,18 +784,39 @@ bool LegacyScriptPubKeyMan::LoadCScript(const CScript& redeemScript)\n     return FillableSigningProvider::AddCScript(redeemScript);\n }\n \n+void LegacyDataSPKM::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    mapKeyMetadata[keyID] = meta;\n+}\n+\n void LegacyScriptPubKeyMan::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadKeyMetadata(keyID, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    mapKeyMetadata[keyID] = meta;\n+}\n+\n+void LegacyDataSPKM::LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    m_script_metadata[script_id] = meta;\n }\n \n void LegacyScriptPubKeyMan::LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadScriptMetadata(script_id, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    m_script_metadata[script_id] = meta;\n+}\n+\n+bool LegacyDataSPKM::AddKeyPubKeyInner(const CKey& key, const CPubKey &pubkey)",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 77,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "5fee29f541ded9619219a64eeb278b008be90ebf",
      "in_reply_to_id": 1655577477,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Not going to change existing code, especially code that will be deleted, to match style",
      "created_at": "2024-07-01T21:56:21Z",
      "updated_at": "2024-07-01T21:56:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1661578955",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1661578955"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 813,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1661582339",
      "pull_request_review_id": 2152309381,
      "id": 1661582339,
      "node_id": "PRRC_kwDOABII585jCbwD",
      "diff_hunk": "@@ -784,18 +784,39 @@ bool LegacyScriptPubKeyMan::LoadCScript(const CScript& redeemScript)\n     return FillableSigningProvider::AddCScript(redeemScript);\n }\n \n+void LegacyDataSPKM::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    mapKeyMetadata[keyID] = meta;\n+}\n+\n void LegacyScriptPubKeyMan::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadKeyMetadata(keyID, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    mapKeyMetadata[keyID] = meta;\n+}\n+\n+void LegacyDataSPKM::LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    m_script_metadata[script_id] = meta;\n }\n \n void LegacyScriptPubKeyMan::LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadScriptMetadata(script_id, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    m_script_metadata[script_id] = meta;\n+}\n+\n+bool LegacyDataSPKM::AddKeyPubKeyInner(const CKey& key, const CPubKey &pubkey)",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": null,
      "original_position": 77,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "5fee29f541ded9619219a64eeb278b008be90ebf",
      "in_reply_to_id": 1655577477,
      "user": {
        "login": "cbergqvist",
        "id": 581308,
        "node_id": "MDQ6VXNlcjU4MTMwOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/581308?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbergqvist",
        "html_url": "https://github.com/cbergqvist",
        "followers_url": "https://api.github.com/users/cbergqvist/followers",
        "following_url": "https://api.github.com/users/cbergqvist/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/cbergqvist/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/cbergqvist/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/cbergqvist/subscriptions",
        "organizations_url": "https://api.github.com/users/cbergqvist/orgs",
        "repos_url": "https://api.github.com/users/cbergqvist/repos",
        "events_url": "https://api.github.com/users/cbergqvist/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/cbergqvist/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "(Agreed, but then I would skip doing the suggested change in the .CPP file).",
      "created_at": "2024-07-01T22:01:40Z",
      "updated_at": "2024-07-01T22:01:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1661582339",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1661582339"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 813,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1664366237",
      "pull_request_review_id": 2156741773,
      "id": 1664366237,
      "node_id": "PRRC_kwDOABII585jNDad",
      "diff_hunk": "@@ -3611,6 +3611,16 @@ LegacyScriptPubKeyMan* CWallet::GetLegacyScriptPubKeyMan() const\n     return dynamic_cast<LegacyScriptPubKeyMan*>(it->second);\n }\n \n+LegacyDataSPKM* CWallet::GetLegacyDataSPKM() const\n+{\n+    if (IsWalletFlagSet(WALLET_FLAG_DESCRIPTORS)) {\n+        return nullptr;\n+    }\n+    auto it = m_internal_spk_managers.find(OutputType::LEGACY);\n+    if (it == m_internal_spk_managers.end()) return nullptr;\n+    return dynamic_cast<LegacyDataSPKM*>(it->second);\n+}",
      "path": "src/wallet/wallet.cpp",
      "position": 49,
      "original_position": 12,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "771bc60f134c002a027e799639f0fed59ae8123d",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: was about to suggest to deduplicate shared code between this method and `::GetLegacyScriptPubKeyMan` above, but since the latter is removed soon anyway (in PR #28710, commit https://github.com/bitcoin/bitcoin/pull/28710/commits/5652a9c59f9ec793886eff00126c382003e4ce02#diff-1f2db0e4d5c12d109c7f0962333c245b49b696cb39ff432da048e9d6c08944d8), it's probably not worth it.",
      "created_at": "2024-07-03T15:13:50Z",
      "updated_at": "2024-07-03T15:14:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1664366237",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1664366237"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": 3614,
      "original_start_line": 3614,
      "start_side": "RIGHT",
      "line": 3622,
      "original_line": 3622,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1664685526",
      "pull_request_review_id": 2157260912,
      "id": 1664685526,
      "node_id": "PRRC_kwDOABII585jORXW",
      "diff_hunk": "@@ -3611,6 +3611,16 @@ LegacyScriptPubKeyMan* CWallet::GetLegacyScriptPubKeyMan() const\n     return dynamic_cast<LegacyScriptPubKeyMan*>(it->second);\n }\n \n+LegacyDataSPKM* CWallet::GetLegacyDataSPKM() const\n+{\n+    if (IsWalletFlagSet(WALLET_FLAG_DESCRIPTORS)) {\n+        return nullptr;\n+    }\n+    auto it = m_internal_spk_managers.find(OutputType::LEGACY);\n+    if (it == m_internal_spk_managers.end()) return nullptr;\n+    return dynamic_cast<LegacyDataSPKM*>(it->second);\n+}",
      "path": "src/wallet/wallet.cpp",
      "position": 49,
      "original_position": 12,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "771bc60f134c002a027e799639f0fed59ae8123d",
      "in_reply_to_id": 1664366237,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "If you re-touch it again. Could:\r\n```c++\r\nLegacyDataSPKM* CWallet::GetLegacyDataSPKM() const\r\n{\r\n    if (IsWalletFlagSet(WALLET_FLAG_DESCRIPTORS)) { return nullptr; }\r\n    return dynamic_cast<LegacyDataSPKM*>(GetScriptPubKeyMan(OutputType::LEGACY, /*internal=*/true));\r\n}\r\n```",
      "created_at": "2024-07-03T19:51:31Z",
      "updated_at": "2024-07-03T20:10:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1664685526",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1664685526"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": 3614,
      "original_start_line": 3614,
      "start_side": "RIGHT",
      "line": 3622,
      "original_line": 3622,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1664699548",
      "pull_request_review_id": 2157260912,
      "id": 1664699548,
      "node_id": "PRRC_kwDOABII585jOUyc",
      "diff_hunk": "@@ -784,18 +784,36 @@ bool LegacyScriptPubKeyMan::LoadCScript(const CScript& redeemScript)\n     return FillableSigningProvider::AddCScript(redeemScript);\n }\n \n+void LegacyDataSPKM::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    mapKeyMetadata[keyID] = meta;\n+}\n+\n void LegacyScriptPubKeyMan::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadKeyMetadata(keyID, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    mapKeyMetadata[keyID] = meta;\n+}",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": 79,
      "original_position": 61,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "7461d0c006c92ede2f2595b79a5509eaf3509fb7",
      "in_reply_to_id": null,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 7461d0c006c92:\r\n\r\nAt this point, just a non-blocking nit but you are locking `cs_KeyStore` twice. One here, and another one inside `LegacyDataSPKM::LoadKeyMetadata`.\r\n\r\nSame for `LoadScriptMetadata`.",
      "created_at": "2024-07-03T20:00:08Z",
      "updated_at": "2024-07-04T14:08:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1664699548",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1664699548"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": 793,
      "original_start_line": 793,
      "start_side": "RIGHT",
      "line": 798,
      "original_line": 798,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1664702987",
      "pull_request_review_id": 2157260912,
      "id": 1664702987,
      "node_id": "PRRC_kwDOABII585jOVoL",
      "diff_hunk": "@@ -784,18 +784,36 @@ bool LegacyScriptPubKeyMan::LoadCScript(const CScript& redeemScript)\n     return FillableSigningProvider::AddCScript(redeemScript);\n }\n \n+void LegacyDataSPKM::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    mapKeyMetadata[keyID] = meta;\n+}\n+\n void LegacyScriptPubKeyMan::LoadKeyMetadata(const CKeyID& keyID, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadKeyMetadata(keyID, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    mapKeyMetadata[keyID] = meta;\n+}\n+\n+void LegacyDataSPKM::LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata& meta)\n+{\n+    LOCK(cs_KeyStore);\n+    m_script_metadata[script_id] = meta;\n }\n \n void LegacyScriptPubKeyMan::LoadScriptMetadata(const CScriptID& script_id, const CKeyMetadata& meta)\n {\n     LOCK(cs_KeyStore);\n+    LegacyDataSPKM::LoadScriptMetadata(script_id, meta);\n     UpdateTimeFirstKey(meta.nCreateTime);\n-    m_script_metadata[script_id] = meta;\n+}\n+\n+bool LegacyDataSPKM::AddKeyPubKeyInner(const CKey& key, const CPubKey& pubkey)\n+{\n+    LOCK(cs_KeyStore);\n+    return FillableSigningProvider::AddKeyPubKey(key, pubkey);",
      "path": "src/wallet/scriptpubkeyman.cpp",
      "position": 98,
      "original_position": 80,
      "commit_id": "8ce3739edbcf6437bf2695087e0ebe8c633df19b",
      "original_commit_id": "7461d0c006c92ede2f2595b79a5509eaf3509fb7",
      "in_reply_to_id": null,
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In https://github.com/bitcoin/bitcoin/commit/7461d0c006c92ede2f2595b79a5509eaf3509fb7:\r\n\r\n`FillableSigningProvider::AddKeyPubKey` already locks `cs_Keystore` internally.",
      "created_at": "2024-07-03T20:02:21Z",
      "updated_at": "2024-07-03T20:10:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/26596#discussion_r1664702987",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1664702987"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/26596"
        }
      },
      "start_line": 813,
      "original_start_line": 813,
      "start_side": "RIGHT",
      "line": 816,
      "original_line": 816,
      "side": "RIGHT"
    }
  ]
}