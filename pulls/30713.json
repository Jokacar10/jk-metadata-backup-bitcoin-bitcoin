{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713",
    "id": 2036010913,
    "node_id": "PR_kwDOABII5855Ww-h",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/30713",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/30713.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/30713.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30713",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30713/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/5b2d0216d871bd481f733506a2e8f80b8a34eca0",
    "number": 30713,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "rpc: add `relevant_blocks` to `scanblocks status`",
    "user": {
      "login": "tdb3",
      "id": 106488469,
      "node_id": "U_kgDOBljilQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tdb3",
      "html_url": "https://github.com/tdb3",
      "followers_url": "https://api.github.com/users/tdb3/followers",
      "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
      "organizations_url": "https://api.github.com/users/tdb3/orgs",
      "repos_url": "https://api.github.com/users/tdb3/repos",
      "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/tdb3/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "Currently, after starting a scan with `scanblocks` the user must wait until the scan is complete to see the associated/relevant block hashes.\r\nThis updates the `scanblocks status` result object to provide the `relevant_blocks` found so far.\r\nThis enables earlier subsequent lookup within matching blocks (e.g. to run `getdescriptoractivity` in PR #30708)\r\n\r\nBelow is an example tested on signet by starting and obtaining status of a scan for an address that has received many coinbase outputs (so there are matches over many blocks, showing the increase in `relevant_blocks` results in `scanblocks status` over the life of the scan).  Also tested on mainnet (see https://github.com/bitcoin/bitcoin/pull/30713#pullrequestreview-2296520203).\r\n\r\n```\r\nbuild/src/bitcoin-cli -signet scanblocks start '[\"addr(tb1qsygnet2jdqm8n2p7wmmklp9yel3k7agpnycv4f)\"]'\r\n```\r\n```\r\nbuild/src/bitcoin-cli -signet scanblocks status\r\n{\r\n  \"progress\": 14,\r\n  \"current_height\": 30002,\r\n  \"relevant_blocks\": [\r\n    \"0000012aee246273622a8fb3546454a1d6c11cb468dfb1cd536a3058b0590cba\",\r\n    \"0000002e043f797a967fca25c18fd2b0f66ddce76b443e540327d2e19928d0aa\",\r\n...\r\n    \"000000f7626bb9f7917f48d0c63a9c30a4692232e5cd96366192a62c7d1a89a4\",\r\n    \"000000db94d6817657bd9184ad5f6232981cfe60177b7395485260a339b32571\"\r\n  ]\r\n}\r\n```\r\nor (to show snapshots over time)\r\n```\r\nfor i in `seq 1 20`; do sleep 1; src/bitcoin-cli -signet scanblocks status > test$i.txt; done\r\n```\r\n\r\n`-deprecatedrpc` seems like overkill for the addition of a key (not a data type change). Release notes have been added (affecting user interface).\r\n\r\nIf testing, be sure to enable the block filter index feature (e.g. adding `blockfilterindex=1` to bitcoin.conf), and allow time for the index to build:\r\n```\r\n2024-09-11T12:17:49Z Config file arg: signet=\"1\"\r\n2024-09-11T12:17:49Z Config file arg: [signet] blockfilterindex=\"1\"\r\n2024-09-11T12:17:51Z Syncing basic block filter index with block chain from height 0\r\n...\r\n2024-09-11T12:19:41Z basic block filter index is enabled at height 212758\r\n2024-09-11T12:19:41Z basic block filter index thread exit\r\n```",
    "labels": [
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      }
    ],
    "created_at": "2024-08-25T13:29:04Z",
    "updated_at": "2025-02-01T01:06:25Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merge_commit_sha": "35b735c66b650629b6e87a11a06ed949a91bc47e",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    ],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "tdb3:relevant_blocks_in_scanblocks_status",
      "ref": "relevant_blocks_in_scanblocks_status",
      "sha": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 762424528,
        "node_id": "R_kgDOLXGs0A",
        "name": "bitcoin",
        "full_name": "tdb3/bitcoin",
        "owner": {
          "login": "tdb3",
          "id": 106488469,
          "node_id": "U_kgDOBljilQ",
          "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/tdb3",
          "html_url": "https://github.com/tdb3",
          "followers_url": "https://api.github.com/users/tdb3/followers",
          "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
          "organizations_url": "https://api.github.com/users/tdb3/orgs",
          "repos_url": "https://api.github.com/users/tdb3/repos",
          "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/tdb3/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/tdb3/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/tdb3/bitcoin",
        "archive_url": "https://api.github.com/repos/tdb3/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/tdb3/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/tdb3/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/tdb3/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/tdb3/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/tdb3/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/tdb3/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/tdb3/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/tdb3/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/tdb3/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/tdb3/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/tdb3/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/tdb3/bitcoin/events",
        "forks_url": "https://api.github.com/repos/tdb3/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/tdb3/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/tdb3/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/tdb3/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/tdb3/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/tdb3/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/tdb3/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/tdb3/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/tdb3/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/tdb3/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/tdb3/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/tdb3/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/tdb3/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/tdb3/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/tdb3/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/tdb3/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:tdb3/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/tdb3/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/tdb3/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/tdb3/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/tdb3/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/tdb3/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/tdb3/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/tdb3/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/tdb3/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/tdb3/bitcoin/hooks",
        "svn_url": "https://github.com/tdb3/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 273306,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-01-23T12:30:33Z",
        "created_at": "2024-02-23T18:50:13Z",
        "updated_at": "2025-01-23T00:47:02Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "dbc8ba12f3b3548dd6955293c5d650320ca39c5b",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 36646,
        "stargazers_count": 81767,
        "watchers_count": 81767,
        "size": 274981,
        "default_branch": "master",
        "open_issues_count": 695,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-01-31T20:45:20Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-02-01T01:40:46Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": true,
    "additions": 33,
    "deletions": 4,
    "changed_files": 2,
    "commits": 2,
    "review_comments": 16,
    "comments": 15
  },
  "events": [
    {
      "event": "commented",
      "id": 2308840993,
      "node_id": "IC_kwDOABII586Jnh4h",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2308840993",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-25T13:29:07Z",
      "updated_at": "2025-01-06T16:30:25Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/30713.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [ryanofsky](https://github.com/bitcoin/bitcoin/pull/30713#pullrequestreview-2532399834) |\n| Concept ACK | [jamesob](https://github.com/bitcoin/bitcoin/pull/30713#issuecomment-2309028680) |\n| Stale ACK | [pablomartin4btc](https://github.com/bitcoin/bitcoin/pull/30713#pullrequestreview-2296520203) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#issuecomment-2308840993",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30713"
    },
    {
      "event": "labeled",
      "id": 14004317213,
      "node_id": "LE_lADOABII586UIfmwzwAAAANCuOwd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14004317213",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-25T13:29:09Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "renamed",
      "id": 14004328530,
      "node_id": "RTE_lADOABII586UIfmwzwAAAANCuRhS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14004328530",
      "actor": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-25T13:33:52Z",
      "rename": {
        "from": "rpc: add revelant_blocks to scanblocks status",
        "to": "rpc: add `revelant_blocks` to `scanblocks status`"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14004340234,
      "node_id": "HRFPE_lADOABII586UIfmwzwAAAANCuUYK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14004340234",
      "actor": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "6bac76f25e30de2718be70cf9b7c131832b104a8",
      "commit_url": "https://api.github.com/repos/tdb3/bitcoin/commits/6bac76f25e30de2718be70cf9b7c131832b104a8",
      "created_at": "2024-08-25T13:38:40Z"
    },
    {
      "event": "labeled",
      "id": 14004340446,
      "node_id": "LE_lADOABII586UIfmwzwAAAANCuUbe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14004340446",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-25T13:38:44Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2308847138,
      "node_id": "IC_kwDOABII586JnjYi",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2308847138",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-25T13:38:45Z",
      "updated_at": "2024-08-25T13:38:45Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n🚧 At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/29219972894</sub>\n\n<details><summary>Hints</summary>\n\nMake sure to run all tests locally, according to the documentation.\n\nThe failure may happen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#issuecomment-2308847138",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30713"
    },
    {
      "event": "unlabeled",
      "id": 14004522103,
      "node_id": "UNLE_lADOABII586UIfmwzwAAAANCvAx3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14004522103",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-25T14:48:35Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2309028680,
      "node_id": "IC_kwDOABII586JoPtI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2309028680",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-08-25T22:59:49Z",
      "updated_at": "2024-08-25T22:59:49Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK. This'd be useful, especially in conjunction with https://github.com/bitcoin/bitcoin/pull/30708.",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#issuecomment-2309028680",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30713"
    },
    {
      "event": "reviewed",
      "id": 2261892002,
      "node_id": "PRR_kwDOABII586G0bui",
      "url": null,
      "actor": null,
      "commit_id": "6bac76f25e30de2718be70cf9b7c131832b104a8",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#pullrequestreview-2261892002",
      "submitted_at": "2024-08-27T00:52:50Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713"
    },
    {
      "event": "reviewed",
      "id": 2278003474,
      "node_id": "PRR_kwDOABII586Hx5MS",
      "url": null,
      "actor": null,
      "commit_id": "6bac76f25e30de2718be70cf9b7c131832b104a8",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK (coming from #30708).",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#pullrequestreview-2278003474",
      "submitted_at": "2024-09-03T17:01:39Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713"
    },
    {
      "event": "labeled",
      "id": 14121567326,
      "node_id": "LE_lADOABII586UIfmwzwAAAANJtgRe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14121567326",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-03T21:46:30Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 14186362113,
      "node_id": "HRFPE_lADOABII586UIfmwzwAAAANNkrUB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14186362113",
      "actor": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "bdda0c14d9bea36248b4e26fd8b059b046cb0e7a",
      "commit_url": "https://api.github.com/repos/tdb3/bitcoin/commits/bdda0c14d9bea36248b4e26fd8b059b046cb0e7a",
      "created_at": "2024-09-09T16:41:17Z"
    },
    {
      "event": "unlabeled",
      "id": 14187746878,
      "node_id": "UNLE_lADOABII586UIfmwzwAAAANNp9Y-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14187746878",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-09T18:24:08Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "ready_for_review",
      "id": 14189906688,
      "node_id": "RFRE_lADOABII586UIfmwzwAAAANNyMsA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14189906688",
      "actor": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-09T21:47:13Z"
    },
    {
      "event": "reviewed",
      "id": 2296520203,
      "node_id": "PRR_kwDOABII586I4h4L",
      "url": null,
      "actor": null,
      "commit_id": "39ee30c31f5b33a084f420ed49170e669a8f6440",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "tACK 39ee30c31f5b33a084f420ed49170e669a8f6440\r\n\r\nRelease notes has been added and `g_relevant_blocks` reset has been placed into the `start` conditional section since my last review.\r\n\r\n<details>\r\n<summary>Tested on mainnet.</summary>\r\n\r\n```\r\n/build/src/bitcoin-cli scanblocks start     '[\"addr(bc1p0cp0vyag6snlta2l7c4am3rue7eef9f72l7uhx52m4v27vfydx9s8tfs7t)\"]' 850263\r\n{\r\n  \"from_height\": 850263,\r\n  \"to_height\": 860861,\r\n  \"relevant_blocks\": [\r\n    \"00000000000000000002b3c2a395905df9d12ce30d2237f064cdafacb81eb33d\",\r\n    \"00000000000000000002bc5cc78f5b0913a5230a8f4b0d5060bc9a60900a5a88\",\r\n    \"00000000000000000001c5291ed6a40c06d3db5c8fb738567654b24a14b24ecb\"\r\n  ],\r\n  \"completed\": true\r\n}\r\n\r\n./build/src/bitcoin-cli scanblocks status\r\n{\r\n  \"progress\": 0,\r\n  \"current_height\": 850263,\r\n  \"relevant_blocks\": [\r\n    \"00000000000000000002b3c2a395905df9d12ce30d2237f064cdafacb81eb33d\"\r\n  ]\r\n}\r\n```\r\n\r\n</details>\r\n\r\nFor those not used to `scanblocks` I'd add a little note somewhere in the description that in order to testing this change the _block filter index_ feature should be enabled, by either passing `-blockfilterindex` as an argument on the node start up or putting it in the `bitcoin.conf` file (same for #30708), even it's specified in the help or an error would lead to that, it'd make it easier and straightforward. Also that if the feature was not enabled before it could take up to a few hours to create the indexes.\r\n\r\n<details>\r\n<summary>Out of the scope of this PR, having played around <code>start</code>, <code>status</code>, <code>abort</code> subcommands, I'd add some more context in the results of the first 2. Perhaps as \"good first issue\".</summary>\r\n\r\n- for `status` subcommand, instead of returning no results when there are no scans in progress:\r\n\r\n   ```\r\n   ./build/src/bitcoin-cli -datadir=${AU_DATADIR} scanblocks status\r\n   {\r\n     \"status\": \"No scan in progress\"\r\n   }\r\n   ```\r\n\r\n- for `start` subcommand, when the `abort` has been triggered and was no completion:\r\n\r\n   ```\r\n   /build/src/bitcoin-cli -datadir=${AU_DATADIR} scanblocks start  '[\"addr(bc1p0cp0vyag6snlta2l7c4am3rue7eef9f72l7uhx52m4v27vfydx9s8tfs7t)\"]' 750000\r\n   {\r\n     \"from_height\": 750000,\r\n     \"to_height\": 780002,\r\n     \"relevant_blocks\": [\r\n    ],\r\n     \"completed\": false,\r\n     \"status\": \"Abort call performed\"\r\n   }\r\n   ```\r\n\r\n\r\n\r\n</details>",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#pullrequestreview-2296520203",
      "submitted_at": "2024-09-11T11:23:32Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713"
    },
    {
      "event": "review_requested",
      "id": 14214404952,
      "node_id": "RRE_lADOABII586UIfmwzwAAAANPPptY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14214404952",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-11T11:23:36Z",
      "requested_reviewer": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "commented",
      "id": 2343545371,
      "node_id": "IC_kwDOABII586Lr6ob",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2343545371",
      "actor": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-11T12:33:05Z",
      "updated_at": "2024-09-11T12:33:05Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for reviewing.\r\n\r\n> Out of the scope of this PR, having played around `start`, `status`, `abort` subcommands, I'd add some more context in the results of the first 2. Perhaps as \"good first issue\".\r\n> * for `status` subcommand, instead of returning no results when there are no scans in progress:\r\n>   ```\r\n>   ./build/src/bitcoin-cli -datadir=${AU_DATADIR} scanblocks status\r\n>   {\r\n>     \"status\": \"No scan in progress\"\r\n>   }\r\n>   ```\r\n> * for `start` subcommand, when the `abort` has been triggered and was no completion:\r\n>   ```\r\n>   /build/src/bitcoin-cli -datadir=${AU_DATADIR} scanblocks start  '[\"addr(bc1p0cp0vyag6snlta2l7c4am3rue7eef9f72l7uhx52m4v27vfydx9s8tfs7t)\"]' 750000\r\n>   {\r\n>     \"from_height\": 750000,\r\n>     \"to_height\": 780002,\r\n>     \"relevant_blocks\": [\r\n>    ],\r\n>     \"completed\": false,\r\n>     \"status\": \"Abort call performed\"\r\n>   }\r\n>   ```\r\n\r\nThese are good ideas for follow-up PRs.\r\n\r\n> For those not used to `scanblocks` I'd add a little note somewhere in the description that in order to testing this change the _block filter index_ feature should be enabled\r\n\r\nGood idea. Description updated.",
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#issuecomment-2343545371",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30713"
    },
    {
      "event": "commented",
      "id": 2344004014,
      "node_id": "IC_kwDOABII586Ltqmu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2344004014",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-11T15:31:56Z",
      "updated_at": "2024-09-11T15:31:56Z",
      "author_association": "MEMBER",
      "body": "> Good idea. Description updated.\r\n\r\nThanks! It looks good.\r\n\r\nForgot to mention that it would be nice to add some test checking `relevant_blocks` is returned by `scanblocks status` in `test/functional/rpc_scanblocks.py` if possible.\r\n",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#issuecomment-2344004014",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30713"
    },
    {
      "event": "commented",
      "id": 2344018591,
      "node_id": "IC_kwDOABII586LtuKf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2344018591",
      "actor": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-11T15:38:26Z",
      "updated_at": "2024-09-11T15:44:05Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Forgot to mention that it would be nice to add some test checking `relevant_blocks` is returned by `scanblocks status` in `test/functional/rpc_scanblocks.py` if possible.\r\n\r\nIt would be.  I took a look at `rpc_sccanblocks` when building the PR.\r\nThe existing test for status is pretty minimal, but that's probably because it might be difficult to get the scan to run long enough to get status.\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/0725a374941355349bb4bc8a79dad1affb27d3b9/test/functional/rpc_scanblocks.py#L128-L129\r\n\r\nAny ideas on how to slow down `scanblocks()` enough to allow a `status` call to consistently return status of a scan in progress?  When testing locally, I had inserted `sleep_for()` statements into the `start` path of `scanblocks()` to simulate a long scan.  The only natural way I've thought of doing this is to build a purposefully complex/bloated chain, but even then, it wouldn't necessarily be consistent on different hardware (faster machines might have the test fail, and slower machines might make the test run unnecessarily long), and it's pretty bad practice.\r\n\r\n",
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#issuecomment-2344018591",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30713"
    },
    {
      "event": "commented",
      "id": 2346078539,
      "node_id": "IC_kwDOABII586L1lFL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2346078539",
      "actor": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-12T11:51:21Z",
      "updated_at": "2024-09-12T11:52:09Z",
      "author_association": "MEMBER",
      "body": "> The existing test for status is pretty minimal, \r\n\r\nExactly.\r\n\r\n> Any ideas on how to slow down `scanblocks()` enough to allow a `status` call to consistently return status of a scan in progress? \r\n\r\nI've been playing a bit around the `invalidateblock` as I had present in my mind the recent [issue](https://github.com/bitcoin/bitcoin/pull/30808#issue-2504050692) from the assume-utxo testing but that wouldn't make the trick either. I went thru the original PRs of `scanblocks` (#23549 and #20664) but it seems there were no questions around this 'status' call test either. Perhaps @furszy, that [worked](https://github.com/bitcoin/bitcoin/pull/26780) on a [speedup](https://github.com/bitcoin/bitcoin/pull/23549#pullrequestreview-1105712566) of the rpc command, has an idea if it's possible (and if worth it).\r\n\r\n",
      "user": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#issuecomment-2346078539",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30713"
    },
    {
      "event": "mentioned",
      "id": 14231527228,
      "node_id": "MEE_lADOABII586UIfmwzwAAAANQQ988",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14231527228",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-12T11:51:23Z"
    },
    {
      "event": "subscribed",
      "id": 14231527253,
      "node_id": "SE_lADOABII586UIfmwzwAAAANQQ99V",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14231527253",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-12T11:51:23Z"
    },
    {
      "event": "subscribed",
      "id": 14439902492,
      "node_id": "SE_lADOABII586UIfmwzwAAAANcr20c",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14439902492",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-28T09:03:11Z"
    },
    {
      "event": "reviewed",
      "id": 2366540973,
      "node_id": "PRR_kwDOABII586NDoyt",
      "url": null,
      "actor": null,
      "commit_id": "39ee30c31f5b33a084f420ed49170e669a8f6440",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Tested changes on mainnet \r\n\r\nStarted scanning\r\n`./build/src/bitcoin-cli scanblocks start '[\"addr(bc1qgqrn8gratlc59gn5v02nrz0rg8anjjaxt3efh8)\"]'`\r\n\r\nstatus check\r\n`./build/src/bitcoin-cli scanblocks status `\r\n```\r\n{\r\n  \"progress\": 98,\r\n  \"current_height\": 570056,\r\n  \"relevant_blocks\": [\r\n    \"0000000000005ecf9f819ea03abd8f2a3f0b2cad5e5124bdabd0d7a770fd9067\",\r\n    \"000000000000000479f286761e91b2c983ad63e19b0d53cffc67e731a7558d85\"\r\n  ]\r\n}\r\n```\r\nscan completed \r\n```\r\n./build/src/bitcoin-cli scanblocks start '[\"addr(bc1qgqrn8gratlc59gn5v02nrz0rg8anjjaxt3efh8)\"]' \r\n{\r\n  \"from_height\": 0,\r\n  \"to_height\": 577394,\r\n  \"relevant_blocks\": [\r\n    \"0000000000005ecf9f819ea03abd8f2a3f0b2cad5e5124bdabd0d7a770fd9067\",\r\n    \"000000000000000479f286761e91b2c983ad63e19b0d53cffc67e731a7558d85\"\r\n  ],\r\n  \"completed\": true\r\n}\r\n\r\n`\r\n```",
      "user": {
        "login": "naiyoma",
        "id": 40592031,
        "node_id": "MDQ6VXNlcjQwNTkyMDMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/40592031?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/naiyoma",
        "html_url": "https://github.com/naiyoma",
        "followers_url": "https://api.github.com/users/naiyoma/followers",
        "following_url": "https://api.github.com/users/naiyoma/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/naiyoma/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/naiyoma/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/naiyoma/subscriptions",
        "organizations_url": "https://api.github.com/users/naiyoma/orgs",
        "repos_url": "https://api.github.com/users/naiyoma/repos",
        "events_url": "https://api.github.com/users/naiyoma/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/naiyoma/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#pullrequestreview-2366540973",
      "submitted_at": "2024-10-14T12:52:25Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713"
    },
    {
      "event": "commented",
      "id": 2415235999,
      "node_id": "IC_kwDOABII586P9ZOf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2415235999",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-15T21:56:51Z",
      "updated_at": "2024-10-15T21:56:51Z",
      "author_association": "MEMBER",
      "body": "> Perhaps @furszy, that https://github.com/bitcoin/bitcoin/pull/26780 on a https://github.com/bitcoin/bitcoin/pull/23549#pullrequestreview-1105712566 of the rpc command, has an idea if it's possible (and if worth it).\r\n\r\nNot sure if it worth it but could craft an unit test that calls to the RPC command. Subclassing and setting the block manager class so the file opening method \"stops\" at a certain point. It would mimic the delay.\r\n\r\n",
      "user": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#issuecomment-2415235999",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30713"
    },
    {
      "event": "mentioned",
      "id": 14665067859,
      "node_id": "MEE_lADOABII586UIfmwzwAAAANqGy1T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14665067859",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-15T21:56:53Z"
    },
    {
      "event": "subscribed",
      "id": 14665067872,
      "node_id": "SE_lADOABII586UIfmwzwAAAANqGy1g",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/14665067872",
      "actor": {
        "login": "furszy",
        "id": 5377650,
        "node_id": "MDQ6VXNlcjUzNzc2NTA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5377650?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/furszy",
        "html_url": "https://github.com/furszy",
        "followers_url": "https://api.github.com/users/furszy/followers",
        "following_url": "https://api.github.com/users/furszy/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/furszy/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/furszy/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/furszy/subscriptions",
        "organizations_url": "https://api.github.com/users/furszy/orgs",
        "repos_url": "https://api.github.com/users/furszy/repos",
        "events_url": "https://api.github.com/users/furszy/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/furszy/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-15T21:56:53Z"
    },
    {
      "event": "referenced",
      "id": 15306603443,
      "node_id": "REFE_lADOABII586UIfmwzwAAAAOQWDuz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15306603443",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "17a01bce2400632f01440dc4d33cda7cdc2ddcf0",
      "commit_url": "https://api.github.com/repos/luke-jr/bitcoin/commits/17a01bce2400632f01440dc4d33cda7cdc2ddcf0",
      "created_at": "2024-11-15T02:54:44Z"
    },
    {
      "event": "referenced",
      "id": 15306603456,
      "node_id": "REFE_lADOABII586UIfmwzwAAAAOQWDvA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15306603456",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "632c672b3b3f459506ff3a521184b4891e068674",
      "commit_url": "https://api.github.com/repos/luke-jr/bitcoin/commits/632c672b3b3f459506ff3a521184b4891e068674",
      "created_at": "2024-11-15T02:54:45Z"
    },
    {
      "event": "commented",
      "id": 2477853828,
      "node_id": "IC_kwDOABII586TsQyE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2477853828",
      "actor": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-15T02:56:15Z",
      "updated_at": "2024-11-15T02:56:15Z",
      "author_association": "MEMBER",
      "body": "Any reason not to scope the new variables? https://github.com/luke-jr/bitcoin/commit/851d354fc4f94695aabd12d21e470dc90d267b93",
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#issuecomment-2477853828",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30713"
    },
    {
      "event": "commented",
      "id": 2490065953,
      "node_id": "IC_kwDOABII586Ua2Qh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2490065953",
      "actor": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-21T04:41:58Z",
      "updated_at": "2024-11-21T04:41:58Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks. Planning to touch this up soon.",
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#issuecomment-2490065953",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30713"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDRjOWRjNGJiZTZiMjNhZTdkYmE3YmFkYmRiNmRkNmMzZDBmNzRlMDg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4c9dc4bbe6b23ae7dba7badbdb6dd6c3d0f74e08",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4c9dc4bbe6b23ae7dba7badbdb6dd6c3d0f74e08",
      "tree": {
        "sha": "95c3987c8e5c05d370cd83bf7a42ae450bf9bb70",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/95c3987c8e5c05d370cd83bf7a42ae450bf9bb70"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 95c3987c8e5c05d370cd83bf7a42ae450bf9bb70\nparent 94bc3c4cc0845b5238c11e1c66d70882e459742a\nauthor tdb3 <106488469+tdb3@users.noreply.github.com> 1725898269 -0400\ncommitter tdb3 <106488469+tdb3@users.noreply.github.com> 1732844778 -0500\n\nrpc: add relevant_blocks to scanblocks status\n\nProvides relevant block hashes to status output.\nEnables a user to start looking through matching\nblocks without having to wait on scan completion.\n\nCo-Authored-By: Luke Dashjr <luke-jr+git@utopios.org>\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgHWo2LZvMDkdaWHJgOzFbLT0xwb\nkD9331C2G9L1ozQfQAAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQNYFY+F06QN10eUvFGlBU/HuvDKhgCbIbuY8eqm6H7xRyWeRJcUL/FLKgL9ihwMHNy\nOqpdjymNDiqN6swtumzgc=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/94bc3c4cc0845b5238c11e1c66d70882e459742a",
          "sha": "94bc3c4cc0845b5238c11e1c66d70882e459742a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/94bc3c4cc0845b5238c11e1c66d70882e459742a"
        }
      ],
      "message": "rpc: add relevant_blocks to scanblocks status\n\nProvides relevant block hashes to status output.\nEnables a user to start looking through matching\nblocks without having to wait on scan completion.\n\nCo-Authored-By: Luke Dashjr <luke-jr+git@utopios.org>",
      "committer": {
        "name": "tdb3",
        "email": "106488469+tdb3@users.noreply.github.com",
        "date": "2024-11-29T01:46:18Z"
      },
      "author": {
        "name": "tdb3",
        "email": "106488469+tdb3@users.noreply.github.com",
        "date": "2024-09-09T16:11:09Z"
      },
      "sha": "4c9dc4bbe6b23ae7dba7badbdb6dd6c3d0f74e08"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDViMmQwMjE2ZDg3MWJkNDgxZjczMzUwNmEyZThmODBiOGEzNGVjYTA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "tree": {
        "sha": "75ef56535b710bdf03ebf220bc88978b678093f4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/75ef56535b710bdf03ebf220bc88978b678093f4"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 75ef56535b710bdf03ebf220bc88978b678093f4\nparent 4c9dc4bbe6b23ae7dba7badbdb6dd6c3d0f74e08\nauthor tdb3 <106488469+tdb3@users.noreply.github.com> 1725971178 -0400\ncommitter tdb3 <106488469+tdb3@users.noreply.github.com> 1732844798 -0500\n\ndoc: add release notes for 30713\n",
        "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgHWo2LZvMDkdaWHJgOzFbLT0xwb\nkD9331C2G9L1ozQfQAAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQERUtBIPhxoHjBTBhTC4NWGlwutA+q3WB/sLYJZQAwbmRTdGdtI73VKoWUA5KLqTG7\nkRx4T/qvthqwvD9aLJog8=\n-----END SSH SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4c9dc4bbe6b23ae7dba7badbdb6dd6c3d0f74e08",
          "sha": "4c9dc4bbe6b23ae7dba7badbdb6dd6c3d0f74e08",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4c9dc4bbe6b23ae7dba7badbdb6dd6c3d0f74e08"
        }
      ],
      "message": "doc: add release notes for 30713",
      "committer": {
        "name": "tdb3",
        "email": "106488469+tdb3@users.noreply.github.com",
        "date": "2024-11-29T01:46:38Z"
      },
      "author": {
        "name": "tdb3",
        "email": "106488469+tdb3@users.noreply.github.com",
        "date": "2024-09-10T12:26:18Z"
      },
      "sha": "5b2d0216d871bd481f733506a2e8f80b8a34eca0"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 15481688827,
      "node_id": "HRFPE_lADOABII586UIfmwzwAAAAOax9L7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15481688827",
      "actor": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "commit_url": "https://api.github.com/repos/tdb3/bitcoin/commits/5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "created_at": "2024-11-30T17:57:59Z"
    },
    {
      "event": "commented",
      "id": 2509113519,
      "node_id": "IC_kwDOABII586Vjgiv",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2509113519",
      "actor": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-30T17:59:42Z",
      "updated_at": "2024-11-30T17:59:42Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Any reason not to scope the new variables? [luke-jr@851d354](https://github.com/luke-jr/bitcoin/commit/851d354fc4f94695aabd12d21e470dc90d267b93)\r\n\r\nmoved, thanks",
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#issuecomment-2509113519",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30713"
    },
    {
      "event": "commented",
      "id": 2509114510,
      "node_id": "IC_kwDOABII586VjgyO",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2509114510",
      "actor": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-11-30T18:00:03Z",
      "updated_at": "2024-11-30T18:00:03Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated with suggested changes",
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#issuecomment-2509114510",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30713"
    },
    {
      "event": "commented",
      "id": 2523555814,
      "node_id": "IC_kwDOABII586Wamfm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2523555814",
      "actor": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-12-06T15:54:03Z",
      "updated_at": "2024-12-06T15:54:03Z",
      "author_association": "CONTRIBUTOR",
      "body": "Want to reemphasize that I think this is a good change worth doing. I have some questions about using `static` vars rather than housing running state in a `BlockFiltersScanReserver` instance, but that's a pretty small implementation detail. Will review/suggest changes more formally soon.",
      "user": {
        "login": "jamesob",
        "id": 73197,
        "node_id": "MDQ6VXNlcjczMTk3",
        "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesob",
        "html_url": "https://github.com/jamesob",
        "followers_url": "https://api.github.com/users/jamesob/followers",
        "following_url": "https://api.github.com/users/jamesob/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jamesob/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jamesob/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesob/orgs",
        "repos_url": "https://api.github.com/users/jamesob/repos",
        "events_url": "https://api.github.com/users/jamesob/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jamesob/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#issuecomment-2523555814",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30713"
    },
    {
      "event": "reviewed",
      "id": 2532399834,
      "node_id": "PRR_kwDOABII586W8Vra",
      "url": null,
      "actor": null,
      "commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 5b2d0216d871bd481f733506a2e8f80b8a34eca0. Seems like a nice feature, and the implementation is pretty simple. I think there is a minor regression if scanblocks start is called from multiple threads, and suggested a fix below (https://github.com/bitcoin/bitcoin/pull/30713#discussion_r1904332839).\r\n\r\nre: https://github.com/bitcoin/bitcoin/pull/30713#issuecomment-2344018591\r\n\r\n> Any ideas on how to slow down `scanblocks()` enough to allow a `status` call to consistently return status of a scan in progress? \r\n\r\nWill suggest a very general solution that would probably be overkill here, but I think we could have a `setmockcondition` RPC that acts like the existing `setmocktime` RPC and lets tests toggle global state that could be useful for testing. In this case I imagine a test could call something like `setmockcondition({\"scanblocks_pause_at_height\": 50})` to make the scanning pause at a certain height and `setmockcondition({\"scanblocks_pause_at_height\": null})` to make it resume, and we could have some helpful functions that make this not too intrusive to implement.",
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#pullrequestreview-2532399834",
      "submitted_at": "2025-01-06T16:30:22Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713"
    },
    {
      "event": "review_requested",
      "id": 15828294419,
      "node_id": "RRE_lADOABII586UIfmwzwAAAAOvcJsT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15828294419",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-06T16:30:26Z",
      "requested_reviewer": {
        "login": "pablomartin4btc",
        "id": 110166421,
        "node_id": "U_kgDOBpEBlQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/110166421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pablomartin4btc",
        "html_url": "https://github.com/pablomartin4btc",
        "followers_url": "https://api.github.com/users/pablomartin4btc/followers",
        "following_url": "https://api.github.com/users/pablomartin4btc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/pablomartin4btc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/pablomartin4btc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/pablomartin4btc/subscriptions",
        "organizations_url": "https://api.github.com/users/pablomartin4btc/orgs",
        "repos_url": "https://api.github.com/users/pablomartin4btc/repos",
        "events_url": "https://api.github.com/users/pablomartin4btc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/pablomartin4btc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 2533027750,
      "node_id": "PRR_kwDOABII586W-u-m",
      "url": null,
      "actor": null,
      "commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#pullrequestreview-2533027750",
      "submitted_at": "2025-01-06T21:46:13Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713"
    },
    {
      "event": "renamed",
      "id": 15838639869,
      "node_id": "RTE_lADOABII586UIfmwzwAAAAOwDnb9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/15838639869",
      "actor": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-07T13:02:51Z",
      "rename": {
        "from": "rpc: add `revelant_blocks` to `scanblocks status`",
        "to": "rpc: add `relevant_blocks` to `scanblocks status`"
      }
    },
    {
      "event": "commented",
      "id": 2585385724,
      "node_id": "IC_kwDOABII586aGdr8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2585385724",
      "actor": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-01-11T19:36:05Z",
      "updated_at": "2025-01-11T19:36:56Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I think we could have a setmockcondition RPC that acts like the existing setmocktime RPC and lets tests toggle global state that could be useful for testing.\r\n\r\nGreat idea. Playing around with it locally. Perhaps it could eventually absorb `setmocktime` as well.",
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#issuecomment-2585385724",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30713"
    },
    {
      "event": "convert_to_draft",
      "id": 16147499658,
      "node_id": "CTDE_lADOABII586UIfmwzwAAAAPCd0qK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/16147499658",
      "actor": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-01T01:05:59Z"
    },
    {
      "event": "commented",
      "id": 2628649148,
      "node_id": "IC_kwDOABII586crgC8",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2628649148",
      "actor": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-02-01T01:06:23Z",
      "updated_at": "2025-02-01T01:06:23Z",
      "author_association": "CONTRIBUTOR",
      "body": "Will revisit later",
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#issuecomment-2628649148",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/30713"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1731984776",
      "pull_request_review_id": 2261892002,
      "id": 1731984776,
      "node_id": "PRRC_kwDOABII585nO_2I",
      "diff_hunk": "@@ -2550,7 +2563,8 @@ static RPCHelpMan scanblocks()\n \n         ret.pushKV(\"from_height\", start_block_height);\n         ret.pushKV(\"to_height\", start_index->nHeight); // start_index is always the last scanned block here\n-        ret.pushKV(\"relevant_blocks\", std::move(blocks));\n+        LOCK(cs_relevant_blocks);\n+        ret.pushKV(\"relevant_blocks\", g_relevant_blocks);",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 58,
      "commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "original_commit_id": "6bac76f25e30de2718be70cf9b7c131832b104a8",
      "in_reply_to_id": null,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Since status stops working when the scan completes, it seems like we should clear `g_relevant_blocks` here?",
      "created_at": "2024-08-27T00:52:47Z",
      "updated_at": "2024-08-27T00:52:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#discussion_r1731984776",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1731984776"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2592,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1732046737",
      "pull_request_review_id": 2261982473,
      "id": 1732046737,
      "node_id": "PRRC_kwDOABII585nPO-R",
      "diff_hunk": "@@ -2550,7 +2563,8 @@ static RPCHelpMan scanblocks()\n \n         ret.pushKV(\"from_height\", start_block_height);\n         ret.pushKV(\"to_height\", start_index->nHeight); // start_index is always the last scanned block here\n-        ret.pushKV(\"relevant_blocks\", std::move(blocks));\n+        LOCK(cs_relevant_blocks);\n+        ret.pushKV(\"relevant_blocks\", g_relevant_blocks);",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 58,
      "commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "original_commit_id": "6bac76f25e30de2718be70cf9b7c131832b104a8",
      "in_reply_to_id": 1731984776,
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Yes, thank you.  Will update.",
      "created_at": "2024-08-27T02:46:11Z",
      "updated_at": "2024-08-27T02:46:11Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#discussion_r1732046737",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1732046737"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2592,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1732132002",
      "pull_request_review_id": 2262117337,
      "id": 1732132002,
      "node_id": "PRRC_kwDOABII585nPjyi",
      "diff_hunk": "@@ -2550,7 +2563,8 @@ static RPCHelpMan scanblocks()\n \n         ret.pushKV(\"from_height\", start_block_height);\n         ret.pushKV(\"to_height\", start_index->nHeight); // start_index is always the last scanned block here\n-        ret.pushKV(\"relevant_blocks\", std::move(blocks));\n+        LOCK(cs_relevant_blocks);\n+        ret.pushKV(\"relevant_blocks\", g_relevant_blocks);",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 58,
      "commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "original_commit_id": "6bac76f25e30de2718be70cf9b7c131832b104a8",
      "in_reply_to_id": 1731984776,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "That'd introduce a race, where the relevant blocks are cleared before the reserver is destructed (and thus the status call may return an empty list where previously it didn't for the same call)\r\n\r\nNot sure if it matters, or worthy to address.",
      "created_at": "2024-08-27T05:05:38Z",
      "updated_at": "2024-08-27T05:05:38Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#discussion_r1732132002",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1732132002"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2592,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1750990127",
      "pull_request_review_id": 2291029341,
      "id": 1750990127,
      "node_id": "PRRC_kwDOABII585oXf0v",
      "diff_hunk": "@@ -2550,7 +2563,8 @@ static RPCHelpMan scanblocks()\n \n         ret.pushKV(\"from_height\", start_block_height);\n         ret.pushKV(\"to_height\", start_index->nHeight); // start_index is always the last scanned block here\n-        ret.pushKV(\"relevant_blocks\", std::move(blocks));\n+        LOCK(cs_relevant_blocks);\n+        ret.pushKV(\"relevant_blocks\", g_relevant_blocks);",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 58,
      "commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "original_commit_id": "6bac76f25e30de2718be70cf9b7c131832b104a8",
      "in_reply_to_id": 1731984776,
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "While leaving `scanblocks()` without resetting `g_relevant_blocks` isn't ideal, resetting `g_relevant_blocks` just before `BlockFiltersScanReserver` in the `start` branch seemed to be a good way to prevent `status` from accidentally seeing an empty `g_relevant_blocks` (at least in common cases). Please let me know if I'm overlooking a likely concurrency case, and it can be adjusted.",
      "created_at": "2024-09-09T21:58:55Z",
      "updated_at": "2024-09-10T11:50:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#discussion_r1750990127",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1750990127"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2592,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1843126749",
      "pull_request_review_id": 2437563714,
      "id": 1843126749,
      "node_id": "PRRC_kwDOABII585t2-Hd",
      "diff_hunk": "@@ -2550,7 +2563,8 @@ static RPCHelpMan scanblocks()\n \n         ret.pushKV(\"from_height\", start_block_height);\n         ret.pushKV(\"to_height\", start_index->nHeight); // start_index is always the last scanned block here\n-        ret.pushKV(\"relevant_blocks\", std::move(blocks));\n+        LOCK(cs_relevant_blocks);\n+        ret.pushKV(\"relevant_blocks\", g_relevant_blocks);",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 58,
      "commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "original_commit_id": "6bac76f25e30de2718be70cf9b7c131832b104a8",
      "in_reply_to_id": 1731984776,
      "user": {
        "login": "luke-jr",
        "id": 1095675,
        "node_id": "MDQ6VXNlcjEwOTU2NzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/luke-jr",
        "html_url": "https://github.com/luke-jr",
        "followers_url": "https://api.github.com/users/luke-jr/followers",
        "following_url": "https://api.github.com/users/luke-jr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/luke-jr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/luke-jr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
        "organizations_url": "https://api.github.com/users/luke-jr/orgs",
        "repos_url": "https://api.github.com/users/luke-jr/repos",
        "events_url": "https://api.github.com/users/luke-jr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/luke-jr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Seems trivial to fix properly? https://github.com/luke-jr/bitcoin/commit/56981318da5dc3145e9f244ad0584ef05c815f6b",
      "created_at": "2024-11-15T02:55:48Z",
      "updated_at": "2024-11-15T02:55:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#discussion_r1843126749",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1843126749"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2592,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1864403975",
      "pull_request_review_id": 2471015061,
      "id": 1864403975,
      "node_id": "PRRC_kwDOABII585vIIwH",
      "diff_hunk": "@@ -2550,7 +2563,8 @@ static RPCHelpMan scanblocks()\n \n         ret.pushKV(\"from_height\", start_block_height);\n         ret.pushKV(\"to_height\", start_index->nHeight); // start_index is always the last scanned block here\n-        ret.pushKV(\"relevant_blocks\", std::move(blocks));\n+        LOCK(cs_relevant_blocks);\n+        ret.pushKV(\"relevant_blocks\", g_relevant_blocks);",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 58,
      "commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "original_commit_id": "6bac76f25e30de2718be70cf9b7c131832b104a8",
      "in_reply_to_id": 1731984776,
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "included, thanks",
      "created_at": "2024-11-30T17:59:01Z",
      "updated_at": "2024-11-30T17:59:01Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#discussion_r1864403975",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1864403975"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2592,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1904300535",
      "pull_request_review_id": 2532399834,
      "id": 1904300535,
      "node_id": "PRRC_kwDOABII585xgVH3",
      "diff_hunk": "@@ -2441,15 +2452,20 @@ static RPCHelpMan scanblocks()\n         },\n         [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n {\n+    static GlobalMutex cs_relevant_blocks;\n+    static UniValue relevant_blocks GUARDED_BY(cs_relevant_blocks);",
      "path": "src/rpc/blockchain.cpp",
      "position": 34,
      "original_position": 34,
      "commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "original_commit_id": "4c9dc4bbe6b23ae7dba7badbdb6dd6c3d0f74e08",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"rpc: add relevant_blocks to scanblocks status\" (4c9dc4bbe6b23ae7dba7badbdb6dd6c3d0f74e08)\r\n\r\nIt would be good to declare these next to `g_scanfilter_` variables so all global state is declared in one place, and so other functions besides `scanblocks` can see this information (other RPCs and maybe tests should be able to access it). Would suggest renaming `relevant_blocks` to `g_scanfilter_relevant_blocks` and `cs_relevant_blocks` to `g_scanfilter_relevant_blocks_mutex`. (The \"critical section\" naming is also a little archaic.)",
      "created_at": "2025-01-06T15:34:06Z",
      "updated_at": "2025-01-06T16:30:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#discussion_r1904300535",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1904300535"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713"
        }
      },
      "start_line": 2455,
      "original_start_line": 2455,
      "start_side": "RIGHT",
      "line": 2456,
      "original_line": 2456,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1904320752",
      "pull_request_review_id": 2532399834,
      "id": 1904320752,
      "node_id": "PRRC_kwDOABII585xgaDw",
      "diff_hunk": "@@ -2574,8 +2596,10 @@ static RPCHelpMan scanblocks()\n \n         ret.pushKV(\"from_height\", start_block_height);\n         ret.pushKV(\"to_height\", start_index->nHeight); // start_index is always the last scanned block here\n-        ret.pushKV(\"relevant_blocks\", std::move(blocks));\n+        LOCK(cs_relevant_blocks);\n+        ret.pushKV(\"relevant_blocks\", std::move(relevant_blocks));\n         ret.pushKV(\"completed\", completed);\n+        reserver.release(); // ensure this is before cs_relevant_blocks is released, so status doesn't try to use moved relevant_blocks",
      "path": "src/rpc/blockchain.cpp",
      "position": 89,
      "original_position": 89,
      "commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "original_commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"rpc: add relevant_blocks to scanblocks status\" (4c9dc4bbe6b23ae7dba7badbdb6dd6c3d0f74e08)\r\n\r\nThink this is missing a word, suggest \"ensure this is _called_ before\"",
      "created_at": "2025-01-06T15:50:44Z",
      "updated_at": "2025-01-06T16:30:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#discussion_r1904320752",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1904320752"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2602,
      "original_line": 2602,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1904332839",
      "pull_request_review_id": 2532399834,
      "id": 1904332839,
      "node_id": "PRRC_kwDOABII585xgdAn",
      "diff_hunk": "@@ -2461,6 +2477,11 @@ static RPCHelpMan scanblocks()\n         g_scanfilter_should_abort_scan = true;\n         return true;\n     } else if (request.params[0].get_str() == \"start\") {\n+        {\n+            LOCK(cs_relevant_blocks);\n+            relevant_blocks = UniValue(UniValue::VARR);",
      "path": "src/rpc/blockchain.cpp",
      "position": 56,
      "original_position": 56,
      "commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "original_commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"rpc: add relevant_blocks to scanblocks status\" (4c9dc4bbe6b23ae7dba7badbdb6dd6c3d0f74e08)\r\n\r\nClearing `relevant_blocks` before checking `g_scanfilter_in_progress` seems not very nice, because it means if scanblocks start is called while another scan is in progress, instead of just returning an \"already in progress\" error, it will do that but also partially erase the state of the in-progress scan.\r\n\r\nThis behavior is not just a limitation of the new feature, but also a regression, because it messes up the \"relevant_blocks\" return value of the other RPC call when previously it would be accurate.\r\n\r\nI think it should be straightforward to fix this by moving this new code below the reserve() call below.",
      "created_at": "2025-01-06T16:00:31Z",
      "updated_at": "2025-01-06T16:30:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#discussion_r1904332839",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1904332839"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2482,
      "original_line": 2482,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1904339347",
      "pull_request_review_id": 2532399834,
      "id": 1904339347,
      "node_id": "PRRC_kwDOABII585xgemT",
      "diff_hunk": "@@ -2441,15 +2452,20 @@ static RPCHelpMan scanblocks()\n         },\n         [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n {\n+    static GlobalMutex cs_relevant_blocks;\n+    static UniValue relevant_blocks GUARDED_BY(cs_relevant_blocks);\n+\n     UniValue ret(UniValue::VOBJ);\n     if (request.params[0].get_str() == \"status\") {\n         BlockFiltersScanReserver reserver;\n+        LOCK(cs_relevant_blocks);",
      "path": "src/rpc/blockchain.cpp",
      "position": 39,
      "original_position": 39,
      "commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "original_commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "in_reply_to_id": null,
      "user": {
        "login": "ryanofsky",
        "id": 7133040,
        "node_id": "MDQ6VXNlcjcxMzMwNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ryanofsky",
        "html_url": "https://github.com/ryanofsky",
        "followers_url": "https://api.github.com/users/ryanofsky/followers",
        "following_url": "https://api.github.com/users/ryanofsky/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ryanofsky/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ryanofsky/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
        "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
        "repos_url": "https://api.github.com/users/ryanofsky/repos",
        "events_url": "https://api.github.com/users/ryanofsky/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit \"rpc: add relevant_blocks to scanblocks status\" (4c9dc4bbe6b23ae7dba7badbdb6dd6c3d0f74e08)\r\n\r\nLock order here seems a little subtle. Would be good to have a comment saying it is important to lock this before calling reserve so if a scan is currently happening but is about to finish, an accurate \"relevant_blocks\" value can be returned before the scanning thread clears it.",
      "created_at": "2025-01-06T16:06:10Z",
      "updated_at": "2025-01-06T16:30:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#discussion_r1904339347",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1904339347"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2461,
      "original_line": 2461,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1904669954",
      "pull_request_review_id": 2533027750,
      "id": 1904669954,
      "node_id": "PRRC_kwDOABII585xhvUC",
      "diff_hunk": "@@ -0,0 +1,5 @@\n+Updated RPCs\n+------------\n+\n+- The `status` action of the`scanblocks` RPC now returns an additional array `relevant_blocks` containing\n+  the matching block hashes found so far during a scan.",
      "path": "doc/release-notes-30713.md",
      "position": 5,
      "original_position": 5,
      "commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "original_commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Just a drive-by comment, but there is a typo in the PR title (revelant -> relevant)",
      "created_at": "2025-01-06T21:46:13Z",
      "updated_at": "2025-01-06T21:46:13Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#discussion_r1904669954",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1904669954"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 5,
      "original_line": 5,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1912183107",
      "pull_request_review_id": 2545135755,
      "id": 1912183107,
      "node_id": "PRRC_kwDOABII585x-ZlD",
      "diff_hunk": "@@ -2441,15 +2452,20 @@ static RPCHelpMan scanblocks()\n         },\n         [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n {\n+    static GlobalMutex cs_relevant_blocks;\n+    static UniValue relevant_blocks GUARDED_BY(cs_relevant_blocks);",
      "path": "src/rpc/blockchain.cpp",
      "position": 34,
      "original_position": 34,
      "commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "original_commit_id": "4c9dc4bbe6b23ae7dba7badbdb6dd6c3d0f74e08",
      "in_reply_to_id": 1904300535,
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks. Will include in next update.",
      "created_at": "2025-01-11T19:30:30Z",
      "updated_at": "2025-01-11T19:30:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#discussion_r1912183107",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1912183107"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713"
        }
      },
      "start_line": 2455,
      "original_start_line": 2455,
      "start_side": "RIGHT",
      "line": 2456,
      "original_line": 2456,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1912183235",
      "pull_request_review_id": 2545135771,
      "id": 1912183235,
      "node_id": "PRRC_kwDOABII585x-ZnD",
      "diff_hunk": "@@ -2574,8 +2596,10 @@ static RPCHelpMan scanblocks()\n \n         ret.pushKV(\"from_height\", start_block_height);\n         ret.pushKV(\"to_height\", start_index->nHeight); // start_index is always the last scanned block here\n-        ret.pushKV(\"relevant_blocks\", std::move(blocks));\n+        LOCK(cs_relevant_blocks);\n+        ret.pushKV(\"relevant_blocks\", std::move(relevant_blocks));\n         ret.pushKV(\"completed\", completed);\n+        reserver.release(); // ensure this is before cs_relevant_blocks is released, so status doesn't try to use moved relevant_blocks",
      "path": "src/rpc/blockchain.cpp",
      "position": 89,
      "original_position": 89,
      "commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "original_commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "in_reply_to_id": 1904320752,
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Will include",
      "created_at": "2025-01-11T19:30:42Z",
      "updated_at": "2025-01-11T19:30:42Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#discussion_r1912183235",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1912183235"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2602,
      "original_line": 2602,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1912183772",
      "pull_request_review_id": 2545135873,
      "id": 1912183772,
      "node_id": "PRRC_kwDOABII585x-Zvc",
      "diff_hunk": "@@ -2461,6 +2477,11 @@ static RPCHelpMan scanblocks()\n         g_scanfilter_should_abort_scan = true;\n         return true;\n     } else if (request.params[0].get_str() == \"start\") {\n+        {\n+            LOCK(cs_relevant_blocks);\n+            relevant_blocks = UniValue(UniValue::VARR);",
      "path": "src/rpc/blockchain.cpp",
      "position": 56,
      "original_position": 56,
      "commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "original_commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "in_reply_to_id": 1904332839,
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Good catch. Verified locally that truncation occurs. Fixed for next update.",
      "created_at": "2025-01-11T19:31:41Z",
      "updated_at": "2025-01-11T19:31:41Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#discussion_r1912183772",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1912183772"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2482,
      "original_line": 2482,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1912184018",
      "pull_request_review_id": 2545135924,
      "id": 1912184018,
      "node_id": "PRRC_kwDOABII585x-ZzS",
      "diff_hunk": "@@ -2441,15 +2452,20 @@ static RPCHelpMan scanblocks()\n         },\n         [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n {\n+    static GlobalMutex cs_relevant_blocks;\n+    static UniValue relevant_blocks GUARDED_BY(cs_relevant_blocks);\n+\n     UniValue ret(UniValue::VOBJ);\n     if (request.params[0].get_str() == \"status\") {\n         BlockFiltersScanReserver reserver;\n+        LOCK(cs_relevant_blocks);",
      "path": "src/rpc/blockchain.cpp",
      "position": 39,
      "original_position": 39,
      "commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "original_commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "in_reply_to_id": 1904339347,
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Agreed. Comment will be added.",
      "created_at": "2025-01-11T19:32:04Z",
      "updated_at": "2025-01-11T19:32:04Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#discussion_r1912184018",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1912184018"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2461,
      "original_line": 2461,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1912184109",
      "pull_request_review_id": 2545135935,
      "id": 1912184109,
      "node_id": "PRRC_kwDOABII585x-Z0t",
      "diff_hunk": "@@ -0,0 +1,5 @@\n+Updated RPCs\n+------------\n+\n+- The `status` action of the`scanblocks` RPC now returns an additional array `relevant_blocks` containing\n+  the matching block hashes found so far during a scan.",
      "path": "doc/release-notes-30713.md",
      "position": 5,
      "original_position": 5,
      "commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "original_commit_id": "5b2d0216d871bd481f733506a2e8f80b8a34eca0",
      "in_reply_to_id": 1904669954,
      "user": {
        "login": "tdb3",
        "id": 106488469,
        "node_id": "U_kgDOBljilQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/106488469?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tdb3",
        "html_url": "https://github.com/tdb3",
        "followers_url": "https://api.github.com/users/tdb3/followers",
        "following_url": "https://api.github.com/users/tdb3/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/tdb3/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/tdb3/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/tdb3/subscriptions",
        "organizations_url": "https://api.github.com/users/tdb3/orgs",
        "repos_url": "https://api.github.com/users/tdb3/repos",
        "events_url": "https://api.github.com/users/tdb3/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/tdb3/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks, fixed.",
      "created_at": "2025-01-11T19:32:12Z",
      "updated_at": "2025-01-11T19:32:12Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/30713#discussion_r1912184109",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1912184109"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/30713"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 5,
      "original_line": 5,
      "side": "RIGHT"
    }
  ]
}