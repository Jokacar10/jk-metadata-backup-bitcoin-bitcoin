{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32740",
    "id": 2588407950,
    "node_id": "PR_kwDOABII586aR_iO",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/32740",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/32740.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/32740.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32740",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32740/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32740/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32740/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/7634d81da54546596108be6966a8786709b9b1eb",
    "number": 32740,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "refactor: Header sync optimisations & simplifications",
    "user": {
      "login": "danielabrozzoni",
      "id": 25042473,
      "node_id": "MDQ6VXNlcjI1MDQyNDcz",
      "avatar_url": "https://avatars.githubusercontent.com/u/25042473?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danielabrozzoni",
      "html_url": "https://github.com/danielabrozzoni",
      "followers_url": "https://api.github.com/users/danielabrozzoni/followers",
      "following_url": "https://api.github.com/users/danielabrozzoni/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/danielabrozzoni/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/danielabrozzoni/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/danielabrozzoni/subscriptions",
      "organizations_url": "https://api.github.com/users/danielabrozzoni/orgs",
      "repos_url": "https://api.github.com/users/danielabrozzoni/repos",
      "events_url": "https://api.github.com/users/danielabrozzoni/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/danielabrozzoni/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "This is a partial* revival of #25968\r\n\r\nIt contains a list of most-unrelated simplifications and optimizations to the code merged in #25717:\r\n\r\n- Make ProcessNextHeaders use the headers argument as in/out: This allows reusing the same vector storage for input and output headers to HeadersSync::ProcessNextHeaders. It's also natural in the sense that this argument just represents the headers-to-be-processed, both in the caller and the callee, and both before and after the calls.\r\n- Avoid an IsAncestorOfBestHeaderOrTip call: Just don't call this function when it won't have any effect.\r\n- Compute work from headers without CBlockIndex: Avoid the need to construct a CBlockIndex object just to compute work for a header, when its nBits value suffices for that. Also use some Spans where possible.\r\n- Remove useless CBlock::GetBlockHeader: There is no need for a function to convert a CBlock to a CBlockHeader, as it's a child class of it.\r\n\r\nIt also contains the following code cleanups, which were suggested by reviewers in #25968:\r\n- Remove redundant parameter from CheckHeadersPoW: No need to pass consensusParams, as CheckHeadersPow already has access to m_chainparams.GetConsensus()\r\n- Remove unused parameter in ReportHeadersPresync\r\n- Use initializer list in CompressedHeader, also make GetFullHeader const\r\n- Use reference for chain_start in HeadersSyncState: chain_start can never be null, so it's better to pass it as a reference rather than a raw pointer\r\n\r\n*I decided to leave out two commits that were in #25968 (ab52fb4e95aa2732d1a1391331ea01362e035984, 7f1cf440ca1a9c86085716745ca64d3ac26957c0), since they're a bit more involved, and I'm a new contributor. If this PR gets merged, I'll comment under #25968 to note that these two commits are still up for grabs :)\r\n",
    "labels": [
      {
        "id": 135961,
        "node_id": "MDU6TGFiZWwxMzU5NjE=",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/Refactoring",
        "name": "Refactoring",
        "color": "E6F6D6",
        "default": false
      }
    ],
    "created_at": "2025-06-12T20:20:06Z",
    "updated_at": "2025-07-07T11:26:14Z",
    "mergeable": true,
    "mergeable_state": "blocked",
    "merged": false,
    "merge_commit_sha": "c2f113042cd8bbe19e4e271b58428d896e706d6a",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "danielabrozzoni:upforgrabs/25968",
      "ref": "upforgrabs/25968",
      "sha": "7634d81da54546596108be6966a8786709b9b1eb",
      "user": {
        "login": "danielabrozzoni",
        "id": 25042473,
        "node_id": "MDQ6VXNlcjI1MDQyNDcz",
        "avatar_url": "https://avatars.githubusercontent.com/u/25042473?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/danielabrozzoni",
        "html_url": "https://github.com/danielabrozzoni",
        "followers_url": "https://api.github.com/users/danielabrozzoni/followers",
        "following_url": "https://api.github.com/users/danielabrozzoni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/danielabrozzoni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/danielabrozzoni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/danielabrozzoni/subscriptions",
        "organizations_url": "https://api.github.com/users/danielabrozzoni/orgs",
        "repos_url": "https://api.github.com/users/danielabrozzoni/repos",
        "events_url": "https://api.github.com/users/danielabrozzoni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/danielabrozzoni/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 487334034,
        "node_id": "R_kgDOHQwgkg",
        "name": "bitcoin",
        "full_name": "danielabrozzoni/bitcoin",
        "owner": {
          "login": "danielabrozzoni",
          "id": 25042473,
          "node_id": "MDQ6VXNlcjI1MDQyNDcz",
          "avatar_url": "https://avatars.githubusercontent.com/u/25042473?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/danielabrozzoni",
          "html_url": "https://github.com/danielabrozzoni",
          "followers_url": "https://api.github.com/users/danielabrozzoni/followers",
          "following_url": "https://api.github.com/users/danielabrozzoni/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/danielabrozzoni/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/danielabrozzoni/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/danielabrozzoni/subscriptions",
          "organizations_url": "https://api.github.com/users/danielabrozzoni/orgs",
          "repos_url": "https://api.github.com/users/danielabrozzoni/repos",
          "events_url": "https://api.github.com/users/danielabrozzoni/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/danielabrozzoni/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/danielabrozzoni/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/danielabrozzoni/bitcoin",
        "archive_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/events",
        "forks_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/danielabrozzoni/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:danielabrozzoni/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/danielabrozzoni/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/hooks",
        "svn_url": "https://github.com/danielabrozzoni/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 277727,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-07-04T15:28:47Z",
        "created_at": "2022-04-30T17:02:30Z",
        "updated_at": "2022-04-30T16:28:56Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "e95bfc1d537e06d223dfcaec510181aa3d3f8386",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37494,
        "stargazers_count": 84451,
        "watchers_count": 84451,
        "size": 288727,
        "default_branch": "master",
        "open_issues_count": 743,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-07-03T23:45:43Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-07-07T11:33:35Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32740"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 101,
    "deletions": 109,
    "changed_files": 15,
    "commits": 8,
    "review_comments": 6,
    "comments": 3
  },
  "events": [
    {
      "event": "commented",
      "id": 2968054282,
      "node_id": "IC_kwDOABII586w6OoK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2968054282",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-12T20:20:17Z",
      "updated_at": "2025-06-24T12:31:22Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32740.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#32579](https://github.com/bitcoin/bitcoin/pull/32579) (headerssync: Preempt unrealistic unit test behavior by hodlinator)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (✨ experimental)\n\nPossible typos and grammar issues:\n\n- In validation.h/doc comment: “Check with the proof of work on each blockheader matches the value in nBits” -> “Check that the proof of work on each block header matches the value in nBits” [“with” is wrong and “blockheader” should be two words for clarity]\n- In validation.cpp/doc comment: same line needs the same fix as above.  \n\nNo other typos were found.\n\n<sup>drahtbot_id_4_m</sup>\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32740#issuecomment-2968054282",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32740"
    },
    {
      "event": "labeled",
      "id": 18122259637,
      "node_id": "LE_lADOABII5867PvR8zwAAAAQ4K7y1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18122259637",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-12T20:20:29Z",
      "label": {
        "name": "Refactoring",
        "color": "E6F6D6"
      }
    },
    {
      "event": "commented",
      "id": 2968813874,
      "node_id": "IC_kwDOABII586w9IEy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2968813874",
      "actor": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-13T02:43:25Z",
      "updated_at": "2025-06-13T02:43:25Z",
      "author_association": "CONTRIBUTOR",
      "body": "Maybe change the title to describe what's actually going on for those of us who don't memorise every pr number? :) (\"Header sync optimisations/simplifications\" ?)",
      "user": {
        "login": "ajtowns",
        "id": 127186,
        "node_id": "MDQ6VXNlcjEyNzE4Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajtowns",
        "html_url": "https://github.com/ajtowns",
        "followers_url": "https://api.github.com/users/ajtowns/followers",
        "following_url": "https://api.github.com/users/ajtowns/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ajtowns/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ajtowns/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
        "organizations_url": "https://api.github.com/users/ajtowns/orgs",
        "repos_url": "https://api.github.com/users/ajtowns/repos",
        "events_url": "https://api.github.com/users/ajtowns/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ajtowns/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32740#issuecomment-2968813874",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32740"
    },
    {
      "event": "renamed",
      "id": 18130068979,
      "node_id": "RTE_lADOABII5867PvR8zwAAAAQ4ouXz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18130068979",
      "actor": {
        "login": "danielabrozzoni",
        "id": 25042473,
        "node_id": "MDQ6VXNlcjI1MDQyNDcz",
        "avatar_url": "https://avatars.githubusercontent.com/u/25042473?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/danielabrozzoni",
        "html_url": "https://github.com/danielabrozzoni",
        "followers_url": "https://api.github.com/users/danielabrozzoni/followers",
        "following_url": "https://api.github.com/users/danielabrozzoni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/danielabrozzoni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/danielabrozzoni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/danielabrozzoni/subscriptions",
        "organizations_url": "https://api.github.com/users/danielabrozzoni/orgs",
        "repos_url": "https://api.github.com/users/danielabrozzoni/repos",
        "events_url": "https://api.github.com/users/danielabrozzoni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/danielabrozzoni/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-13T09:12:18Z",
      "rename": {
        "from": "refactor: Optimizations & simplifications following #25717",
        "to": "refactor: Header sync optimisations & simplifications #25717"
      }
    },
    {
      "event": "renamed",
      "id": 18130071207,
      "node_id": "RTE_lADOABII5867PvR8zwAAAAQ4ou6n",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18130071207",
      "actor": {
        "login": "danielabrozzoni",
        "id": 25042473,
        "node_id": "MDQ6VXNlcjI1MDQyNDcz",
        "avatar_url": "https://avatars.githubusercontent.com/u/25042473?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/danielabrozzoni",
        "html_url": "https://github.com/danielabrozzoni",
        "followers_url": "https://api.github.com/users/danielabrozzoni/followers",
        "following_url": "https://api.github.com/users/danielabrozzoni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/danielabrozzoni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/danielabrozzoni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/danielabrozzoni/subscriptions",
        "organizations_url": "https://api.github.com/users/danielabrozzoni/orgs",
        "repos_url": "https://api.github.com/users/danielabrozzoni/repos",
        "events_url": "https://api.github.com/users/danielabrozzoni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/danielabrozzoni/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-13T09:12:27Z",
      "rename": {
        "from": "refactor: Header sync optimisations & simplifications #25717",
        "to": "refactor: Header sync optimisations & simplifications"
      }
    },
    {
      "event": "reviewed",
      "id": 2931156929,
      "node_id": "PRR_kwDOABII586utefB",
      "url": null,
      "actor": null,
      "commit_id": "13e123e7cc185760bb9dafc1a6892c92112e5450",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Reviewed 13e123e7cc185760bb9dafc1a6892c92112e5450\r\n\r\nThanks for picking this up!\r\n\r\nConflicts somewhat with #32579 where I was aiming to change the headers-parameter to a span. But if we follow through and also take my `enum` suggestion I would still see it as an improvement on balance (see inline comment).",
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32740#pullrequestreview-2931156929",
      "submitted_at": "2025-06-16T09:19:55Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32740"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDA5YzdkMGY3MDMwNjdkNDU1YWFlNGVlNDU4YmE3OTUzYzI5ZDcyZmI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/09c7d0f703067d455aae4ee458ba7953c29d72fb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/09c7d0f703067d455aae4ee458ba7953c29d72fb",
      "tree": {
        "sha": "fbae1d287eeefd9f633afa9dbf34b08bf35f2443",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fbae1d287eeefd9f633afa9dbf34b08bf35f2443"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree fbae1d287eeefd9f633afa9dbf34b08bf35f2443\nparent 2def85847318513afa7765e042567d13f616c54c\nauthor Pieter Wuille <pieter@wuille.net> 1661290177 -0400\ncommitter Daniela Brozzoni <danielabrozzoni@protonmail.com> 1750767952 +0200\n\nrefactor: Make ProcessNextHeaders use the headers argument as in/out\n\nThis allows reusing the same vector storage for input and output headers to\nHeadersSync::ProcessNextHeaders. It's also natural in the sense that this argument\njust represents the headers-to-be-processed, both in the caller and the callee, and\nboth before and after the calls.\n\nCo-Authored-By: Daniela Brozzoni <danielabrozzoni@protonmail.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZkx/loNGWB3axvvxfeTx/c7Qq4cFAmhamVAACgkQfeTx/c7Q\nq4dIwA//d+A7pa6kBakyifaBZ1uHcNQpcVKaC+gBC5kutxbwnrfBvPYVTCNp8q0n\n0l/Sz1idpXvEOJvB90UShn4NHehrwd+hqFI4zhRYPJIFdbYtaVP1rElG4utRU45c\nQG/mSzsiLHfZlEnEKyudsvY8si+RRUwSeRxUe3yzqFzv1ro3atoaSBysOcjPNdyZ\n14Vw5XkmTLjEIh4F4+x8UjMFBXGUZ0qdsU2RRf7ODd/jp82CqSsppO5bdJdpejRf\nbozr0oZC3tB9GWkEZDBVDA9ijy1kDqun98yTdqGB93CZxq9VFs8ejtSfcIcnvz1z\nU5uYLoMHtM6COwieDbWi3zUmoBmGO2pG4y/F6Sj3WVEs0AC6CQr+LEBRcnThG18C\nxqoDCJiMlWayesZ2wEZvSjdCl0HE4it5CD0dcPRE9pbLuswTNvSsxwdhhhP39Usx\n8hLIr0lVhxo7Ddd2fiVnLiR3ZaIpX2XobJHi45psZqMEYWdNuaTCSzcIXFJQgfd8\n15i+IPrl+qyUJ21bYcSMW27vwVY2f1+7a58aYY8lWLP3er0e4ufYw98Gz8PQ/L02\nwLP+5X0P85m6XpjiUnrTKRqLGaKymJCUuHQ0m4fPyfnw9QZzsmG+px4DgKD10Hl9\n9SlQb8poVQpZwZPtPJJd2pdNWHyi7NXDinMXNEChbkgJV4spkio=\n=BO0Y\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2def85847318513afa7765e042567d13f616c54c",
          "sha": "2def85847318513afa7765e042567d13f616c54c",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/2def85847318513afa7765e042567d13f616c54c"
        }
      ],
      "message": "refactor: Make ProcessNextHeaders use the headers argument as in/out\n\nThis allows reusing the same vector storage for input and output headers to\nHeadersSync::ProcessNextHeaders. It's also natural in the sense that this argument\njust represents the headers-to-be-processed, both in the caller and the callee, and\nboth before and after the calls.\n\nCo-Authored-By: Daniela Brozzoni <danielabrozzoni@protonmail.com>",
      "committer": {
        "name": "Daniela Brozzoni",
        "email": "danielabrozzoni@protonmail.com",
        "date": "2025-06-24T12:25:52Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2022-08-23T21:29:37Z"
      },
      "sha": "09c7d0f703067d455aae4ee458ba7953c29d72fb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGJkNzMxM2M1ZDhlMzFmNmM0YTJkZjliYTg3Y2ViYjZlNjM2OWUzMDk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bd7313c5d8e31f6c4a2df9ba87cebb6e6369e309",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/bd7313c5d8e31f6c4a2df9ba87cebb6e6369e309",
      "tree": {
        "sha": "38f14bb8de93e917998860d2ebbf6e2e4bbae6dc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/38f14bb8de93e917998860d2ebbf6e2e4bbae6dc"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 38f14bb8de93e917998860d2ebbf6e2e4bbae6dc\nparent 09c7d0f703067d455aae4ee458ba7953c29d72fb\nauthor Pieter Wuille <pieter@wuille.net> 1661293191 -0400\ncommitter Daniela Brozzoni <danielabrozzoni@protonmail.com> 1750767953 +0200\n\np2p: Avoid an IsAncestorOfBestHeaderOrTip call\n\nJust don't call this function when it won't have any effect.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZkx/loNGWB3axvvxfeTx/c7Qq4cFAmhamVEACgkQfeTx/c7Q\nq4cpHA//QO3FQtrx2vzIcGhJl0njNPOVsbi++ODCKw0u8mhAQFlUw37NHiggoCmc\nLzRBoi0pVT3ACZl/Ck20GPy+mFFZ/KanQCT3vI6SogOjMUFxB6fXYfbbCDa3r0+E\nxzuAKliVwyp5dlvNQ+8IsSOytuF6M7nXTxyufvJC3gu3GB6tZcdqIPhFkq7Tdlbe\nI0gExeLFn8O497BCts/XA6Nc9Z+coMxscAaSAG/s5jPAltYC2et7nSIow4/QZMa1\nNWGOJQ1uNnjQlZLoacfErcIaWLJs8opVbhlgJCiR0Ut9/eBKGcT3uSRS+HNVmAVx\nKROYQ1hPDH3nXeSFzkToh8RwPcVob1Sz75Oj4993C0H0W3w+V7ug5+2PrJqPMqqi\neLfgRkb4CUFUHNvZ9QYKs5tkmez7zPQg1SuzHMPNscDxsr/x0B3NedCSRkPNmHwM\nGhqIktr2QNH3QjkDMLgx/fJVFT9SaeCBjvNOsm2cM3MP+t0dvKrIiXzraQYmwwxw\n1A7juS6wcSSY6yQvHvuhC/uey9ywe2ODzN/VDrSb3+eIoB/CirfRBhL9QvZO1KD9\nhZ0Hnj6bYgZDCEfl0kkcYly2WV2ALrCTzGtrhmfy1YOmXU1HiWy9tPvjpAcW4sQZ\nkm2BsCI5CbyJN4b9c+cMcE0861v/7E5AMs0Fd5K32WvslEEMums=\n=5964\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/09c7d0f703067d455aae4ee458ba7953c29d72fb",
          "sha": "09c7d0f703067d455aae4ee458ba7953c29d72fb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/09c7d0f703067d455aae4ee458ba7953c29d72fb"
        }
      ],
      "message": "p2p: Avoid an IsAncestorOfBestHeaderOrTip call\n\nJust don't call this function when it won't have any effect.",
      "committer": {
        "name": "Daniela Brozzoni",
        "email": "danielabrozzoni@protonmail.com",
        "date": "2025-06-24T12:25:53Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2022-08-23T22:19:51Z"
      },
      "sha": "bd7313c5d8e31f6c4a2df9ba87cebb6e6369e309"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDM5MjAwY2E0N2RjMjkxZDY3OWNkZjk3N2JkYWE4OTJhMTEyNmQyY2I",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/39200ca47dc291d679cdf977bdaa892a1126d2cb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/39200ca47dc291d679cdf977bdaa892a1126d2cb",
      "tree": {
        "sha": "a34dc0fd5a8e7c5b20585f7c9002ef8470117d0b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a34dc0fd5a8e7c5b20585f7c9002ef8470117d0b"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a34dc0fd5a8e7c5b20585f7c9002ef8470117d0b\nparent bd7313c5d8e31f6c4a2df9ba87cebb6e6369e309\nauthor Pieter Wuille <pieter@wuille.net> 1661956803 -0400\ncommitter Daniela Brozzoni <danielabrozzoni@protonmail.com> 1750767955 +0200\n\nrefactor: Compute work from headers without CBlockIndex\n\nAvoid the need to construct a CBlockIndex object just to compute work for a header,\nwhen its nBits value suffices for that. Also use some Spans where possible.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZkx/loNGWB3axvvxfeTx/c7Qq4cFAmhamVMACgkQfeTx/c7Q\nq4exuhAAmxeIuHbkp/Mr9L83vUwB2bA2Quxv2os0j/GFU5Lah660m+kJobe1q8WG\ncFWdBOPSPETbMMTFxuTfs4ccVmDO/dSGJf3xzzuT9drCIWgQ32raBcy7n+R8vn8J\nVSR3FFBhE0S8HXZ7ZbAzX4KEUhY/7jylQ+8obpgoMxG+5oOrk/1rJUeo4SEZewk0\n1ZgjL1hPPS4v+2LRYwK40QGsQAyJWhaDcSLROcyK2UzS9vGglVBe5sBJqE7DL8f5\nMLbFY2m81O44kmdzn0ZLiIXIznduT1r1VZjhcCGlT1bW0NDTq6MJn8DM8s/xhb7x\n74K50CLGJFYYioi66IRd60piLLATK75mp+mWk+7YSfkQVKFacRZ8qKFpTeelmygY\npWBp26H2EHMPxLoVCD0rTjbWM95ku4VH4gcnlnFWhS6M5SMO0hDlVH94hPcxZPDY\n9JKQ/OHp1su/cxSdM4e3LlkfI1qbiVn0IP5gdOWbTC6NnuS56lHl0OJAQXFhz4bg\nLq5D188XUOx9s1Wx7K5BaEO7RHoqPGLUoUr1GxINXfs/YI3nzEMOv7wb4RM+dtax\nen9E+J82izC/dlQsvGAVcEX//ywnqgsGLQn4PLXmh/aDqUdVvC9VugMeEWzSE+GI\n8pvl0sxksT7TLfMBViTv12GNNOzsRNyYmWSMRxq87AwKwMiwiQk=\n=/wyA\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bd7313c5d8e31f6c4a2df9ba87cebb6e6369e309",
          "sha": "bd7313c5d8e31f6c4a2df9ba87cebb6e6369e309",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/bd7313c5d8e31f6c4a2df9ba87cebb6e6369e309"
        }
      ],
      "message": "refactor: Compute work from headers without CBlockIndex\n\nAvoid the need to construct a CBlockIndex object just to compute work for a header,\nwhen its nBits value suffices for that. Also use some Spans where possible.",
      "committer": {
        "name": "Daniela Brozzoni",
        "email": "danielabrozzoni@protonmail.com",
        "date": "2025-06-24T12:25:55Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2022-08-31T14:40:03Z"
      },
      "sha": "39200ca47dc291d679cdf977bdaa892a1126d2cb"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDAzZmFlNjk2ZThjMzJlODg5YWY5ODI1ODBiOWRhMWJlYTJlZjEwMTc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/03fae696e8c32e889af982580b9da1bea2ef1017",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/03fae696e8c32e889af982580b9da1bea2ef1017",
      "tree": {
        "sha": "a63989512990941d3660c988723c9ab24d20c63b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a63989512990941d3660c988723c9ab24d20c63b"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree a63989512990941d3660c988723c9ab24d20c63b\nparent 39200ca47dc291d679cdf977bdaa892a1126d2cb\nauthor Pieter Wuille <pieter@wuille.net> 1661957236 -0400\ncommitter Daniela Brozzoni <danielabrozzoni@protonmail.com> 1750767956 +0200\n\nrefactor: Remove useless CBlock::GetBlockHeader\n\nThere is no need for a function to convert a CBlock to a CBlockHeader, as it's a child\nclass of it.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZkx/loNGWB3axvvxfeTx/c7Qq4cFAmhamVQACgkQfeTx/c7Q\nq4dtBA/+KdWuT8W4SEMxDfuJsPfdzqMWr+8stHgbxKEIv6Jpg9CD3OJkJ0A8bOo7\nr7Rl/34biTHqnG6NGqUZa+vTPyaJ05qF3iw6I4NTWGVPBgEQGfuQqpGOLAXT70qh\nnpz01FA0IHbeOu95spZm2Eh6tdxatkSWfXmMXVxYalP06EBYDm9d+Q/B/tdQaQeL\ndD7o8PivkpXNttH/a0rhEQavnrQPyKWSwvC8+2sekGMApUT3vqtReSdqaw/zN4Th\nW8qdY5DG6eO6ObZAfK1v4bSbdmN6N7I4wSgg8xfGbSemcbsTR/HfVdt5JxWhXMBM\nv+A9whEHh5XUUKMRTXhOGIyG/8nVAOEZ6uXMS2sHX+dKIRAp7tHz1lIvLu09yX0w\nlPowFDAZ9gA2xKV8kPho25F9sKDdm2FbyT+EjXdrvZE15eIxv4aguYCBlxw6eV6m\niON1pnBXQmVhblxjQmtWlJwu+0dIO5xWXxGxf6VP8JrkXMXq1tLuCbA6DSoy6iIj\nxPXtD0+6valttpDer3IxVBdIfpLZJxnUp5NWuNy5HJ6VD6xWUFPK1Gd8yZkkhgP5\n/ooQETzalh5OKXeGjDTDzJOzQjIBElCHcJRgcMKX7w6hxZBOxTLmB5Xa6/5H9V0u\nnytUZ1XABpCNHKwv+cGDB/fqivqiG8BdYOxNaZZ8olRMEMjJaUg=\n=3ghm\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/39200ca47dc291d679cdf977bdaa892a1126d2cb",
          "sha": "39200ca47dc291d679cdf977bdaa892a1126d2cb",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/39200ca47dc291d679cdf977bdaa892a1126d2cb"
        }
      ],
      "message": "refactor: Remove useless CBlock::GetBlockHeader\n\nThere is no need for a function to convert a CBlock to a CBlockHeader, as it's a child\nclass of it.",
      "committer": {
        "name": "Daniela Brozzoni",
        "email": "danielabrozzoni@protonmail.com",
        "date": "2025-06-24T12:25:56Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2022-08-31T14:47:16Z"
      },
      "sha": "03fae696e8c32e889af982580b9da1bea2ef1017"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDc5ZmU5MWQ1MDhjZTBkZDRmYmZlZGY2ODI2N2ZjOTUwZDhkNDE0Mjc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/79fe91d508ce0dd4fbfedf68267fc950d8d41427",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/79fe91d508ce0dd4fbfedf68267fc950d8d41427",
      "tree": {
        "sha": "ad49675ac4195d8ca9d150572d285d811dac7fa2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ad49675ac4195d8ca9d150572d285d811dac7fa2"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree ad49675ac4195d8ca9d150572d285d811dac7fa2\nparent 03fae696e8c32e889af982580b9da1bea2ef1017\nauthor Daniela Brozzoni <danielabrozzoni@protonmail.com> 1749124754 +0200\ncommitter Daniela Brozzoni <danielabrozzoni@protonmail.com> 1750767957 +0200\n\nrefactor: Remove redundant parameter from CheckHeadersPoW\n\nNo need to pass consensusParams, as CheckHeadersPow already has access\nto m_chainparams.GetConsensus()\n\nCo-Authored-By: maflcko <6399679+maflcko@users.noreply.github.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZkx/loNGWB3axvvxfeTx/c7Qq4cFAmhamVUACgkQfeTx/c7Q\nq4eXihAAnQowHY2svGo4NzAg4+T3g6gnoBPXB2VsEi/IZ+KGLGvDfi4m6tkiSaYC\nGY0sHug/yZ9bMF9uqIvF46MIV4zN7FdOKsV2sF3sXno2cRTR+xgAhLA9Bu7S+BYb\nXg7nTEY2M98ZZJfj8HHldPoXzNUs+9oXuwMu94AtbeFRWJT97Iopr+QLKRr8967Y\nNwmBlRTmFqrgQ49QIhQSKfRO2wJL1lIJ4o3ehR5kzpcwYdpwIqx98JjluGDB9FCx\nx4GKEz8L+XSagT7SwjLomTncRLOhyhkJVqXmns6gR7IgVHK8OWV0lNZanoBUeI+o\nVK+ROAT86u70jIFBsH2N5c9ElB/KwjbvjRh4WZSSgsYmGsuy8tEYzKz5K9t1+hfJ\nUvzr3BnOL1bP8pLOwyVH2FF19dOC9giX5tWLR9BJFA+Tsjmq/gqLTOYW77FTOJr1\nCoroT7nh+iPwgdoKJi7K/i+uh2kcmV9+ZRl3bD6aPX1YCHgEwOjhTPA1+4EpiGXx\nszYBWck+HLAvm7b3mvtUp3IoV6WK/pzd+X2vZWc0taJKJFmeCHR1YU3CsBcDM6t/\n182PwM/rxPWywkqfKFnpBJHWXjgtSdIabUh/aCx3b/fk/GAH0qDs8Y2d2tflowMD\n4hPCuVpt3uLa6bUIRTfgvZnQ4M+cO3P8Fc9QgznmIQR4I/IOhaw=\n=nN/5\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/03fae696e8c32e889af982580b9da1bea2ef1017",
          "sha": "03fae696e8c32e889af982580b9da1bea2ef1017",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/03fae696e8c32e889af982580b9da1bea2ef1017"
        }
      ],
      "message": "refactor: Remove redundant parameter from CheckHeadersPoW\n\nNo need to pass consensusParams, as CheckHeadersPow already has access\nto m_chainparams.GetConsensus()\n\nCo-Authored-By: maflcko <6399679+maflcko@users.noreply.github.com>",
      "committer": {
        "name": "Daniela Brozzoni",
        "email": "danielabrozzoni@protonmail.com",
        "date": "2025-06-24T12:25:57Z"
      },
      "author": {
        "name": "Daniela Brozzoni",
        "email": "danielabrozzoni@protonmail.com",
        "date": "2025-06-05T11:59:14Z"
      },
      "sha": "79fe91d508ce0dd4fbfedf68267fc950d8d41427"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDY0OGVlOTA4NDNkYzc5YTBjMjRjZmEyMmYyOTVjMzNjMzcxMzJiMWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/648ee90843dc79a0c24cfa22f295c33c37132b1b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/648ee90843dc79a0c24cfa22f295c33c37132b1b",
      "tree": {
        "sha": "8927dc05119e6a7b42640d379fffaab488905d43",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8927dc05119e6a7b42640d379fffaab488905d43"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8927dc05119e6a7b42640d379fffaab488905d43\nparent 79fe91d508ce0dd4fbfedf68267fc950d8d41427\nauthor Daniela Brozzoni <danielabrozzoni@protonmail.com> 1749658452 +0200\ncommitter Daniela Brozzoni <danielabrozzoni@protonmail.com> 1750767958 +0200\n\nrefactor: Remove unused parameter in ReportHeadersPresync\n\nCo-Authored-By: Aurèle Oulès <aurele@oules.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZkx/loNGWB3axvvxfeTx/c7Qq4cFAmhamVYACgkQfeTx/c7Q\nq4d1nQ/7BT1pKPJN2azGPm+MnqRjdgYgFwH3WL6Tr+pkgk10fe8vEP871k+8fGOP\no51p7ze9BlcueX8MDCAJAsb5FqQKpOY5+NEFC6jybhDSEwGYsku1peWKEJnmEkkX\nOQTGlrVR9y6HUJRdvaYH88INTVN8cBZFWGgIfYQ9ca+dhWr1MlN2VJr+21JA6JKG\ndy87XircMSyrEWTEvpHRCS3XP+zVfA7/MkxK6mi8hXOtFcoVyEFnXgbi9kZ1XxgC\nOPoXHGLfHgQ7ued1KGP6skomIIfim9sHYTcScFExgNYyYvHpWPyoSvWBF41B7r9x\nsopO6C7IAsXBVeNjWJFmnWScsP+AIyUm4pWajxiauROunMc5eyuwJORWtZJ8SRRj\nMno4CrmYHesadJ3i//QtUQZGP2D1S7Z/o9bBIeA5eMixlukKEq2txCTHWGSBoZgk\n6azF/v5LoO6eHoSBFcRgsaxCg52Vcsht8UxiQujFLJMpJvUuF6/EI61XMLV5wdqf\n+MFhvP5hMmCJmgtD96wrs7C29nebM+wZmtyh6r6MCo5+i0TsdnIRXoAwamb+KREo\nN79XDIUGQI7YOIHuGHwzwO0H0tLaVW/Co13K2e1QqANUgpYODyo2XlldqLXWGLp9\npI+Pa0GE7AGLmdMlKhgT4c/RP5P8c9a97sRHUX0PZW61+62Tlcs=\n=GLZ7\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/79fe91d508ce0dd4fbfedf68267fc950d8d41427",
          "sha": "79fe91d508ce0dd4fbfedf68267fc950d8d41427",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/79fe91d508ce0dd4fbfedf68267fc950d8d41427"
        }
      ],
      "message": "refactor: Remove unused parameter in ReportHeadersPresync\n\nCo-Authored-By: Aurèle Oulès <aurele@oules.com>",
      "committer": {
        "name": "Daniela Brozzoni",
        "email": "danielabrozzoni@protonmail.com",
        "date": "2025-06-24T12:25:58Z"
      },
      "author": {
        "name": "Daniela Brozzoni",
        "email": "danielabrozzoni@protonmail.com",
        "date": "2025-06-11T16:14:12Z"
      },
      "sha": "648ee90843dc79a0c24cfa22f295c33c37132b1b"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDdjYTVlMzFkMDhmMDYwNGYxOTRlN2M0YjliMWRiYzdjNWNkNmVjZjk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7ca5e31d08f0604f194e7c4b9b1dbc7c5cd6ecf9",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7ca5e31d08f0604f194e7c4b9b1dbc7c5cd6ecf9",
      "tree": {
        "sha": "7e3cabadcbe5f36042c17ddb20d5c197490b7b81",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7e3cabadcbe5f36042c17ddb20d5c197490b7b81"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 7e3cabadcbe5f36042c17ddb20d5c197490b7b81\nparent 648ee90843dc79a0c24cfa22f295c33c37132b1b\nauthor Daniela Brozzoni <danielabrozzoni@protonmail.com> 1749658489 +0200\ncommitter Daniela Brozzoni <danielabrozzoni@protonmail.com> 1750767960 +0200\n\nrefactor: Use initializer list in CompressedHeader\n\nAlso mark GetFullHeader as const\n\nCo-Authored-By: Aurèle Oulès <aurele@oules.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZkx/loNGWB3axvvxfeTx/c7Qq4cFAmhamVgACgkQfeTx/c7Q\nq4fwaw/+MWBBgwdmMiq8HXpPy2ldBcbc9rfZoPYt7XDmfCfduq5zCJ5SJQDkpo9s\nL9UZx5G9PbyaHUKksqrA/40eKJ9O9AHwOlqCByfR34mmjQfb2tYGigNgwa+iXUro\nY2BMOgb3kBsPwv4APpQNwwZ/lxELdQ9IsB1HqJzckvsvLSbPWqsv/80cfGht/p9z\nTT3dbIKXXGbotuzSnf86vuEUvUD+0+l65O2o+lVmp6WbScKq/pL6i7QmQRkbHm6M\n5U62d1wEHAtOvhyqGfkxysqmFh1rROIrXp0/3+nHk6+bY1MZhrf57vRT9AoXOo0n\nkmqbduvikedrEqcc/0QyK1Vs/cqoHJ8HnV8T7xLCVIt9IBRzf7JPf0Dy8U4j4krc\nDrLR/KW6+MLkn4TVnpX2rQBLexfhXjtNiYip3/dIohkUIRgJqtwZrxQ7M18EA7wI\nJEpAMkSv/P003fITVWMkdIZheCrFSKT97Z0XhCb+lzhTy7oS981LV37/GAIX1+MG\nNp5CaQ2vs6eTRBLjPt57S7BAcR6SKy+dkGri0LEcpgUg/9mcDK51rnbIrP2HEJK+\nhxT1pb/5ixFgm/IP+DtJoNlIiyQHdU6bEUnW9mcDgDdGy0JHTGDTpCQjQuQcfVwe\nmYLbCvd8mgP8Njyp/zOUuIfHhdnlPeZceaMfuPLCDa1HLRzC0J0=\n=eGdB\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/648ee90843dc79a0c24cfa22f295c33c37132b1b",
          "sha": "648ee90843dc79a0c24cfa22f295c33c37132b1b",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/648ee90843dc79a0c24cfa22f295c33c37132b1b"
        }
      ],
      "message": "refactor: Use initializer list in CompressedHeader\n\nAlso mark GetFullHeader as const\n\nCo-Authored-By: Aurèle Oulès <aurele@oules.com>",
      "committer": {
        "name": "Daniela Brozzoni",
        "email": "danielabrozzoni@protonmail.com",
        "date": "2025-06-24T12:26:00Z"
      },
      "author": {
        "name": "Daniela Brozzoni",
        "email": "danielabrozzoni@protonmail.com",
        "date": "2025-06-11T16:14:49Z"
      },
      "sha": "7ca5e31d08f0604f194e7c4b9b1dbc7c5cd6ecf9"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDc2MzRkODFkYTU0NTQ2NTk2MTA4YmU2OTY2YTg3ODY3MDliOWIxZWI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7634d81da54546596108be6966a8786709b9b1eb",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7634d81da54546596108be6966a8786709b9b1eb",
      "tree": {
        "sha": "11120e31fc0f4d12273b0d435a70fb11fc6dd093",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/11120e31fc0f4d12273b0d435a70fb11fc6dd093"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 11120e31fc0f4d12273b0d435a70fb11fc6dd093\nparent 7ca5e31d08f0604f194e7c4b9b1dbc7c5cd6ecf9\nauthor Daniela Brozzoni <danielabrozzoni@protonmail.com> 1749659610 +0200\ncommitter Daniela Brozzoni <danielabrozzoni@protonmail.com> 1750767961 +0200\n\nrefactor: Use reference for chain_start in HeadersSyncState\n\nchain_start can never be null, so it's better to pass it as a reference\nrather than a raw pointer\n\nCo-Authored-By: maflcko <6399679+maflcko@users.noreply.github.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZkx/loNGWB3axvvxfeTx/c7Qq4cFAmhamVkACgkQfeTx/c7Q\nq4czKQ/+MtMlqp14Dvxup2c3MMFPwwS9k2IoTljI+29NrdnTLVzHoHjcwlTnWa1r\njt+K6QaEAJT9efyr0GTHr4WKYr1lCqzR7hkk6v3WKug7DqdEkwWqaQc9dWKVWif9\nBQb0zSs+H7v8eZ1a4Yvlw4sITgX3/20m4uhthUERCzXK3ksnpura5IN8dGzHbCFk\ntUWon3p3mIPQXzTF3Clxa3Qg9zIzNZHVuwv2UczKgsvDlJ29Uk4ly3e9EfDbILOK\nqbKb84KjljRnkQosaWXomVgDSrftgapcUxVP1f71ibioVY1tGdYZIUItICl5CDZe\nTKKkezx+eEECaBkP+81U0dnLOuK+s+/n2lQEpA6kyZTwB1MmQEJOKVHlWyALmCvy\nwgFps+4ONQ8ALXQse25a3P25TmF1D9agQ5nZRAFd6eeCDmRW5ZSWJjb87sfFraHc\n6WIoHWdxVmzZv7f30M1+12KSVmcjaCqfi0eOQLZDwat7eVsWzNRw8MkAumbc4OOc\n+W7iR5sDCi65PlqI5kF2v+2Vy0KDmoCJaciBfEwV2u4JGYySVwMebtobwVL79DLv\nSKrY+ZVYV1a2N269ZVjAHNhJKYAT7LYBkCZ5j+OWMNTcKfwiGEREb4MPaD+IHMZS\n5z9OOsc32HoI5HZIAWY8bdoDq2LYR4qRS9XsNJDL06MRlEROk4w=\n=avmU\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7ca5e31d08f0604f194e7c4b9b1dbc7c5cd6ecf9",
          "sha": "7ca5e31d08f0604f194e7c4b9b1dbc7c5cd6ecf9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7ca5e31d08f0604f194e7c4b9b1dbc7c5cd6ecf9"
        }
      ],
      "message": "refactor: Use reference for chain_start in HeadersSyncState\n\nchain_start can never be null, so it's better to pass it as a reference\nrather than a raw pointer\n\nCo-Authored-By: maflcko <6399679+maflcko@users.noreply.github.com>",
      "committer": {
        "name": "Daniela Brozzoni",
        "email": "danielabrozzoni@protonmail.com",
        "date": "2025-06-24T12:26:01Z"
      },
      "author": {
        "name": "Daniela Brozzoni",
        "email": "danielabrozzoni@protonmail.com",
        "date": "2025-06-11T16:33:30Z"
      },
      "sha": "7634d81da54546596108be6966a8786709b9b1eb"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 18293928233,
      "node_id": "HRFPE_lADOABII5867PvR8zwAAAARCZzEp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18293928233",
      "actor": {
        "login": "danielabrozzoni",
        "id": 25042473,
        "node_id": "MDQ6VXNlcjI1MDQyNDcz",
        "avatar_url": "https://avatars.githubusercontent.com/u/25042473?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/danielabrozzoni",
        "html_url": "https://github.com/danielabrozzoni",
        "followers_url": "https://api.github.com/users/danielabrozzoni/followers",
        "following_url": "https://api.github.com/users/danielabrozzoni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/danielabrozzoni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/danielabrozzoni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/danielabrozzoni/subscriptions",
        "organizations_url": "https://api.github.com/users/danielabrozzoni/orgs",
        "repos_url": "https://api.github.com/users/danielabrozzoni/repos",
        "events_url": "https://api.github.com/users/danielabrozzoni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/danielabrozzoni/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "7634d81da54546596108be6966a8786709b9b1eb",
      "commit_url": "https://api.github.com/repos/danielabrozzoni/bitcoin/commits/7634d81da54546596108be6966a8786709b9b1eb",
      "created_at": "2025-06-24T12:31:11Z"
    },
    {
      "event": "commented",
      "id": 3000290032,
      "node_id": "IC_kwDOABII586y1Mrw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/3000290032",
      "actor": {
        "login": "danielabrozzoni",
        "id": 25042473,
        "node_id": "MDQ6VXNlcjI1MDQyNDcz",
        "avatar_url": "https://avatars.githubusercontent.com/u/25042473?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/danielabrozzoni",
        "html_url": "https://github.com/danielabrozzoni",
        "followers_url": "https://api.github.com/users/danielabrozzoni/followers",
        "following_url": "https://api.github.com/users/danielabrozzoni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/danielabrozzoni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/danielabrozzoni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/danielabrozzoni/subscriptions",
        "organizations_url": "https://api.github.com/users/danielabrozzoni/orgs",
        "repos_url": "https://api.github.com/users/danielabrozzoni/repos",
        "events_url": "https://api.github.com/users/danielabrozzoni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/danielabrozzoni/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-24T12:40:49Z",
      "updated_at": "2025-06-24T12:40:49Z",
      "author_association": "CONTRIBUTOR",
      "body": "@hodlinator thank you for your review!\r\n\r\nI like the idea of converting `ProcessingResult` to an enum, I think it makes the code easier to read.\r\n\r\nAs for `pow_validated_headers`, I don’t have a strong preference between using a span or an argument for I/O just yet. I’ll take a closer look at #32579 over the next few days and should have a more informed opinion afterward :) I’d also be interested to hear what other reviewers think!\r\n\r\nLatest push:\r\n- style improvements based on review comments",
      "user": {
        "login": "danielabrozzoni",
        "id": 25042473,
        "node_id": "MDQ6VXNlcjI1MDQyNDcz",
        "avatar_url": "https://avatars.githubusercontent.com/u/25042473?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/danielabrozzoni",
        "html_url": "https://github.com/danielabrozzoni",
        "followers_url": "https://api.github.com/users/danielabrozzoni/followers",
        "following_url": "https://api.github.com/users/danielabrozzoni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/danielabrozzoni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/danielabrozzoni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/danielabrozzoni/subscriptions",
        "organizations_url": "https://api.github.com/users/danielabrozzoni/orgs",
        "repos_url": "https://api.github.com/users/danielabrozzoni/repos",
        "events_url": "https://api.github.com/users/danielabrozzoni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/danielabrozzoni/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32740#issuecomment-3000290032",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/32740"
    },
    {
      "event": "mentioned",
      "id": 18294091183,
      "node_id": "MEE_lADOABII5867PvR8zwAAAARCaa2v",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18294091183",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-24T12:40:51Z"
    },
    {
      "event": "subscribed",
      "id": 18294091213,
      "node_id": "SE_lADOABII5867PvR8zwAAAARCaa3N",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18294091213",
      "actor": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-24T12:40:51Z"
    },
    {
      "event": "reviewed",
      "id": 2986979853,
      "node_id": "PRR_kwDOABII586yCbIN",
      "url": null,
      "actor": null,
      "commit_id": "7634d81da54546596108be6966a8786709b9b1eb",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "I'd like to review this - can you tell me how to measure the effect of the \"optimizations\" using either the microbenchmarks or a reindex or anything that shows the magnitude of change?\nWould be helpful if you could publish your measurements if you have any.",
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32740#pullrequestreview-2986979853",
      "submitted_at": "2025-07-04T12:50:43Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32740"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2149379657",
      "pull_request_review_id": 2931156929,
      "id": 2149379657,
      "node_id": "PRRC_kwDOABII586AHO5J",
      "diff_hunk": "@@ -140,33 +140,30 @@ class HeadersSyncState {\n \n     /** Result data structure for ProcessNextHeaders. */\n     struct ProcessingResult {\n-        std::vector<CBlockHeader> pow_validated_headers;",
      "path": "src/headerssync.h",
      "position": 33,
      "original_position": 4,
      "commit_id": "7634d81da54546596108be6966a8786709b9b1eb",
      "original_commit_id": "16d16f3e083f13f82e7b64c59d67f478959832e2",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Not thrilled by increasing the number of in/out parameters - it pushes readers towards having to lean on comments more, rather than having the code somewhat self-documenting. It also makes the unit tests more cumbersome. What makes the change somewhat acceptable is that it conforms to the style of *net_processing.cpp*.\r\n\r\nIf we keep this, I would also suggest further simplification of `ProcessingResult` through converting it to an enum: f2a617955e65682b0765c7909c06aea19ca43eae",
      "created_at": "2025-06-16T08:42:30Z",
      "updated_at": "2025-06-16T09:19:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32740#discussion_r2149379657",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2149379657"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 143,
      "original_line": 143,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2149400186",
      "pull_request_review_id": 2931156929,
      "id": 2149400186,
      "node_id": "PRRC_kwDOABII586AHT56",
      "diff_hunk": "@@ -4199,10 +4199,7 @@ bool IsBlockMutated(const CBlock& block, bool check_witness_root)\n arith_uint256 CalculateClaimedHeadersWork(std::span<const CBlockHeader> headers)\n {\n     arith_uint256 total_work{0};\n-    for (const CBlockHeader& header : headers) {\n-        CBlockIndex dummy(header);\n-        total_work += GetBlockProof(dummy);\n-    }\n+    for (const CBlockHeader& header : headers) total_work += GetBlockProof(header);",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "7634d81da54546596108be6966a8786709b9b1eb",
      "original_commit_id": "13e123e7cc185760bb9dafc1a6892c92112e5450",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit in 2dcf2e4a854c21b71dc133e2fd891b0757204f43:\r\nIMO should keep braces as they already existed on master and only `if` are allowed to omit braces according to *developer-notes.md*.\r\n```suggestion\r\n    for (const CBlockHeader& header : headers) {\r\n        total_work += GetBlockProof(header);\r\n    }\r\n```",
      "created_at": "2025-06-16T08:52:13Z",
      "updated_at": "2025-06-16T09:19:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32740#discussion_r2149400186",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2149400186"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 4202,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2149413531",
      "pull_request_review_id": 2931156929,
      "id": 2149413531,
      "node_id": "PRRC_kwDOABII586AHXKb",
      "diff_hunk": "",
      "path": "src/headerssync.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "13e123e7cc185760bb9dafc1a6892c92112e5450",
      "original_commit_id": "13e123e7cc185760bb9dafc1a6892c92112e5450",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Could simplify `GetBlockProof` calls in line with the other changes:\r\n```diff\r\n@@ -207,7 +207,7 @@ bool HeadersSyncState::ValidateAndProcessSingleHeader(const CBlockHeader& curren\r\n         }\r\n     }\r\n \r\n-    m_current_chain_work += GetBlockProof(CBlockIndex(current));\r\n+    m_current_chain_work += GetBlockProof(current);\r\n     m_last_header_received = current;\r\n     m_current_height = next_height;\r\n \r\n@@ -243,7 +243,7 @@ bool HeadersSyncState::ValidateAndStoreRedownloadedHeader(const CBlockHeader& he\r\n     }\r\n \r\n     // Track work on the redownloaded chain\r\n-    m_redownload_chain_work += GetBlockProof(CBlockIndex(header));\r\n+    m_redownload_chain_work += GetBlockProof(header);\r\n \r\n     if (m_redownload_chain_work >= m_minimum_required_work) {\r\n         m_process_all_remaining_headers = true;\r\n```",
      "created_at": "2025-06-16T08:58:48Z",
      "updated_at": "2025-06-16T09:19:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32740#discussion_r2149413531",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2149413531"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2149417391",
      "pull_request_review_id": 2931156929,
      "id": 2149417391,
      "node_id": "PRRC_kwDOABII586AHYGv",
      "diff_hunk": "@@ -31,16 +31,14 @@ struct CompressedHeader {\n         hashMerkleRoot.SetNull();\n     }\n \n-    CompressedHeader(const CBlockHeader& header)\n-    {\n-        nVersion = header.nVersion;\n-        hashMerkleRoot = header.hashMerkleRoot;\n-        nTime = header.nTime;\n-        nBits = header.nBits;\n-        nNonce = header.nNonce;\n-    }\n-\n-    CBlockHeader GetFullHeader(const uint256& hash_prev_block) {\n+    CompressedHeader(const CBlockHeader& header) :\n+        nVersion(header.nVersion),\n+        hashMerkleRoot(header.hashMerkleRoot),\n+        nTime(header.nTime),\n+        nBits(header.nBits),\n+        nNonce(header.nNonce) {}\n+\n+    CBlockHeader GetFullHeader(const uint256& hash_prev_block) const {",
      "path": "src/headerssync.h",
      "position": null,
      "original_position": 21,
      "commit_id": "7634d81da54546596108be6966a8786709b9b1eb",
      "original_commit_id": "13e123e7cc185760bb9dafc1a6892c92112e5450",
      "in_reply_to_id": null,
      "user": {
        "login": "hodlinator",
        "id": 172445034,
        "node_id": "U_kgDOCkdNag",
        "avatar_url": "https://avatars.githubusercontent.com/u/172445034?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hodlinator",
        "html_url": "https://github.com/hodlinator",
        "followers_url": "https://api.github.com/users/hodlinator/followers",
        "following_url": "https://api.github.com/users/hodlinator/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hodlinator/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hodlinator/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hodlinator/subscriptions",
        "organizations_url": "https://api.github.com/users/hodlinator/orgs",
        "repos_url": "https://api.github.com/users/hodlinator/repos",
        "events_url": "https://api.github.com/users/hodlinator/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hodlinator/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit in 3ff26e5c060a1076c2ae61ec521b7595e413dd08:\r\nShould have brace on new line as per developer-notes.md.\r\n```suggestion\r\n    CBlockHeader GetFullHeader(const uint256& hash_prev_block) const\r\n    {\r\n```",
      "created_at": "2025-06-16T09:00:43Z",
      "updated_at": "2025-06-16T09:19:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32740#discussion_r2149417391",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2149417391"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 41,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2185221868",
      "pull_request_review_id": 2986979853,
      "id": 2185221868,
      "node_id": "PRRC_kwDOABII586CP9bs",
      "diff_hunk": "@@ -136,37 +134,34 @@ class HeadersSyncState {\n      * minimum_required_work: amount of chain work required to accept the chain\n      */\n     HeadersSyncState(NodeId id, const Consensus::Params& consensus_params,\n-            const CBlockIndex* chain_start, const arith_uint256& minimum_required_work);\n+            const CBlockIndex& chain_start, const arith_uint256& minimum_required_work);\n \n     /** Result data structure for ProcessNextHeaders. */\n     struct ProcessingResult {\n-        std::vector<CBlockHeader> pow_validated_headers;\n         bool success{false};\n         bool request_more{false};\n     };\n \n     /** Process a batch of headers, once a sync via this mechanism has started\n      *\n-     * received_headers: headers that were received over the network for processing.\n+     * headers: headers that were received over the network for processing.",
      "path": "src/headerssync.h",
      "position": 41,
      "original_position": 41,
      "commit_id": "7634d81da54546596108be6966a8786709b9b1eb",
      "original_commit_id": "7634d81da54546596108be6966a8786709b9b1eb",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: please reformat the whole block",
      "created_at": "2025-07-04T12:19:27Z",
      "updated_at": "2025-07-04T13:07:36Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32740#discussion_r2185221868",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2185221868"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 147,
      "original_line": 147,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2185233124",
      "pull_request_review_id": 2986979853,
      "id": 2185233124,
      "node_id": "PRRC_kwDOABII586CQALk",
      "diff_hunk": "@@ -85,17 +85,19 @@ BOOST_AUTO_TEST_CASE(headers_sync_state)\n             Params().GenesisBlock().nVersion, Params().GenesisBlock().nTime,\n             ArithToUint256(1), Params().GenesisBlock().nBits);\n \n-    const CBlockIndex* chain_start = WITH_LOCK(::cs_main, return m_node.chainman->m_blockman.LookupBlockIndex(Params().GenesisBlock().GetHash()));\n+    const CBlockIndex& chain_start = {*Assert(WITH_LOCK(::cs_main, return m_node.chainman->m_blockman.LookupBlockIndex(Params().GenesisBlock().GetHash())))};\n     std::vector<CBlockHeader> headers_batch;\n \n     // Feed the first chain to HeadersSyncState, by delivering 1 header\n     // initially and then the rest.\n     headers_batch.insert(headers_batch.end(), std::next(first_chain.begin()), first_chain.end());\n \n     hss.reset(new HeadersSyncState(0, Params().GetConsensus(), chain_start, chain_work));\n-    (void)hss->ProcessNextHeaders({first_chain.front()}, true);\n+    std::vector<CBlockHeader> to_proc{first_chain.front()};",
      "path": "src/test/headers_sync_chainwork_tests.cpp",
      "position": 14,
      "original_position": 14,
      "commit_id": "7634d81da54546596108be6966a8786709b9b1eb",
      "original_commit_id": "7634d81da54546596108be6966a8786709b9b1eb",
      "in_reply_to_id": null,
      "user": {
        "login": "l0rinc",
        "id": 1841944,
        "node_id": "MDQ6VXNlcjE4NDE5NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1841944?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/l0rinc",
        "html_url": "https://github.com/l0rinc",
        "followers_url": "https://api.github.com/users/l0rinc/followers",
        "following_url": "https://api.github.com/users/l0rinc/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/l0rinc/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/l0rinc/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/l0rinc/subscriptions",
        "organizations_url": "https://api.github.com/users/l0rinc/orgs",
        "repos_url": "https://api.github.com/users/l0rinc/repos",
        "events_url": "https://api.github.com/users/l0rinc/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/l0rinc/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "There's a significant overlap with https://github.com/bitcoin/bitcoin/pull/32579/files#diff-46faf106e779941e78de61d061d7817f9dd7b1f12a4157e6991417c7f0a7e9d3L95 - would be great if we could avoid a complete rewrite after one of them is merged",
      "created_at": "2025-07-04T12:24:11Z",
      "updated_at": "2025-07-04T12:50:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/32740#discussion_r2185233124",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/2185233124"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/32740"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 96,
      "original_line": 96,
      "side": "RIGHT"
    }
  ]
}