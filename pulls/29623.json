{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623",
    "id": 1766377028,
    "node_id": "PR_kwDOABII585pSMZE",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/29623",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/29623.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/29623.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29623",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29623/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/c6be144c4b774a03a8bcab5a165768cf81e9b06b",
    "number": 29623,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "Simplify network-adjusted time warning logic",
    "user": {
      "login": "stickies-v",
      "id": 69010457,
      "node_id": "MDQ6VXNlcjY5MDEwNDU3",
      "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stickies-v",
      "html_url": "https://github.com/stickies-v",
      "followers_url": "https://api.github.com/users/stickies-v/followers",
      "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
      "organizations_url": "https://api.github.com/users/stickies-v/orgs",
      "repos_url": "https://api.github.com/users/stickies-v/repos",
      "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/stickies-v/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "[An earlier approach](https://github.com/bitcoin/bitcoin/commits/1d226ae1f984c5c808f5c24c431b959cdefa692e/) in #28956 involved simplifying and refactoring the network-adjusted time calculation logic, but this was eventually [left out](https://github.com/bitcoin/bitcoin/pull/28956#issuecomment-1904214370) of the PR to make it easier for reviewers to focus on consensus logic changes.\r\n\r\nSince network-adjusted time is now only used for warning/informational purposes, cleaning up the logic (building on @dergoegge's approach in #28956) should be quite straightforward and uncontroversial. The main changes are:\r\n\r\n- Previously, we would only calculate the time offset from the first 199 outbound peers that we connected to. This limitation is now removed, and we have a proper rolling calculation. I've reduced the set to 50 outbound peers, which seems plenty.\r\n- Previously, we would automatically use the network-adjusted time if the difference was < 70 mins, and warn the user if the difference was larger than that. Since there is no longer any automated time adjustment, I've changed the warning threshold to ~~20~~ 10 minutes (which is an arbitrary number).\r\n- Previously, a warning would only be raised once, and then never again until node restart. This behaviour is now updated to  1) warn to log for every new outbound peer for as long as we appear out of sync, 2) have the RPC warning toggled on/off whenever we go in/out of sync, and 3) have the GUI warn whenever we are out of sync (again), but limited to 1 messagebox per 60 minutes\r\n- no more globals\r\n- remove the `-maxtimeadjustment` startup arg\r\n\r\nCloses #4521",
    "labels": [],
    "created_at": "2024-03-11T18:18:21Z",
    "updated_at": "2025-05-04T07:52:40Z",
    "closed_at": "2024-04-30T22:49:44Z",
    "mergeable_state": "unknown",
    "merged": true,
    "merged_at": "2024-04-30T22:49:44Z",
    "merged_by": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "merge_commit_sha": "0c3a3c9394e608c4beb92722ad034648af81dee7",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    ],
    "requested_teams": [],
    "head": {
      "label": "stickies-v:2024-03/remove-timedata",
      "ref": "2024-03/remove-timedata",
      "sha": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 431644530,
        "node_id": "R_kgDOGbpfcg",
        "name": "bitcoin",
        "full_name": "stickies-v/bitcoin",
        "owner": {
          "login": "stickies-v",
          "id": 69010457,
          "node_id": "MDQ6VXNlcjY5MDEwNDU3",
          "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/stickies-v",
          "html_url": "https://github.com/stickies-v",
          "followers_url": "https://api.github.com/users/stickies-v/followers",
          "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
          "organizations_url": "https://api.github.com/users/stickies-v/orgs",
          "repos_url": "https://api.github.com/users/stickies-v/repos",
          "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/stickies-v/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/stickies-v/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/stickies-v/bitcoin",
        "archive_url": "https://api.github.com/repos/stickies-v/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/stickies-v/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/stickies-v/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/stickies-v/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/stickies-v/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/stickies-v/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/stickies-v/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/stickies-v/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/stickies-v/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/stickies-v/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/stickies-v/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/stickies-v/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/stickies-v/bitcoin/events",
        "forks_url": "https://api.github.com/repos/stickies-v/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/stickies-v/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/stickies-v/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/stickies-v/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/stickies-v/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/stickies-v/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/stickies-v/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/stickies-v/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/stickies-v/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/stickies-v/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/stickies-v/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/stickies-v/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/stickies-v/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/stickies-v/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/stickies-v/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/stickies-v/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:stickies-v/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/stickies-v/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/stickies-v/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/stickies-v/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/stickies-v/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/stickies-v/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/stickies-v/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/stickies-v/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/stickies-v/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/stickies-v/bitcoin/hooks",
        "svn_url": "https://github.com/stickies-v/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 2,
        "watchers_count": 2,
        "size": 270831,
        "default_branch": "master",
        "open_issues_count": 1,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-04-30T11:22:38Z",
        "created_at": "2021-11-24T22:26:41Z",
        "updated_at": "2024-06-19T14:39:47Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "3f6a6da3b08da15c10cbf2806f672da4a57254f6",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37167,
        "stargazers_count": 83348,
        "watchers_count": 83348,
        "size": 280735,
        "default_branch": "master",
        "open_issues_count": 723,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-05-02T21:10:46Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-05-04T07:07:27Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 268,
    "deletions": 368,
    "changed_files": 25,
    "commits": 6,
    "review_comments": 105,
    "comments": 21
  },
  "events": [
    {
      "event": "mentioned",
      "id": 12078114535,
      "node_id": "MEE_lADOABII586B7mAKzwAAAALP6Wbn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12078114535",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-11T18:18:21Z"
    },
    {
      "event": "subscribed",
      "id": 12078114561,
      "node_id": "SE_lADOABII586B7mAKzwAAAALP6WcB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12078114561",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-11T18:18:22Z"
    },
    {
      "event": "commented",
      "id": 1989137776,
      "node_id": "IC_kwDOABII5852j9Vw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1989137776",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-11T18:18:24Z",
      "updated_at": "2024-04-30T10:42:37Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29623).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [sr-gi](https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-2057192875), [achow101](https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-2059790024), [dergoegge](https://github.com/bitcoin/bitcoin/pull/29623#pullrequestreview-2030922611) |\n| Concept ACK | [fanquake](https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-1991345405), [theStack](https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-2014055501), [glozow](https://github.com/bitcoin/bitcoin/pull/29623#pullrequestreview-1977282272) |\n| Approach ACK | [vasild](https://github.com/bitcoin/bitcoin/pull/29623#pullrequestreview-1976691061) |\n| Stale ACK | [alfonsoromanz](https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-1991824028), [sipa](https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-2004415109) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#29845](https://github.com/bitcoin/bitcoin/pull/29845) (rpc: return warnings as an array instead of just a single one by stickies-v)\n* [#29641](https://github.com/bitcoin/bitcoin/pull/29641) (scripted-diff: Use LogInfo/LogDebug over LogPrintf/LogPrint by maflcko)\n* [#29494](https://github.com/bitcoin/bitcoin/pull/29494) (build: Assume HAVE_CONFIG_H, Add IWYU pragma keep to bitcoin-config.h includes by maflcko)\n* [#29346](https://github.com/bitcoin/bitcoin/pull/29346) (Stratum v2 Noise Protocol by Sjors)\n* [#29015](https://github.com/bitcoin/bitcoin/pull/29015) (kernel: Streamline util library by ryanofsky)\n* [#27052](https://github.com/bitcoin/bitcoin/pull/27052) (test: rpc: add last block announcement time to getpeerinfo result by LarryRuane)\n* [#26966](https://github.com/bitcoin/bitcoin/pull/26966) (index: blockfilter initial sync speedup, parallelize process by furszy)\n* [#15218](https://github.com/bitcoin/bitcoin/pull/15218) (validation: sync chainstate to disk after syncing to tip by andrewtoth)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-1989137776",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29623"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12078266994,
      "node_id": "HRFPE_lADOABII586B7mAKzwAAAALP67py",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12078266994",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "db55a3191406c5182365c675edca1c0cc40c0d4f",
      "commit_url": "https://api.github.com/repos/stickies-v/bitcoin/commits/db55a3191406c5182365c675edca1c0cc40c0d4f",
      "created_at": "2024-03-11T18:26:41Z"
    },
    {
      "event": "labeled",
      "id": 12078268319,
      "node_id": "LE_lADOABII586B7mAKzwAAAALP67-f",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12078268319",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-11T18:26:46Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1989159135,
      "node_id": "IC_kwDOABII5852kCjf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1989159135",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-11T18:26:47Z",
      "updated_at": "2024-03-11T18:26:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n\n🚧 At least one of the CI tasks failed. Make sure to run all tests locally, according to the\ndocumentation.\n\nPossibly this is due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/22527379458</sub>",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-1989159135",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29623"
    },
    {
      "event": "commented",
      "id": 1991258113,
      "node_id": "IC_kwDOABII5852sDAB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1991258113",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-12T10:10:26Z",
      "updated_at": "2024-03-12T10:10:26Z",
      "author_association": "MEMBER",
      "body": "Concept ACK\r\n\r\nThanks for picking this up!",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-1991258113",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29623"
    },
    {
      "event": "commented",
      "id": 1991345405,
      "node_id": "IC_kwDOABII5852sYT9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1991345405",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-12T10:46:18Z",
      "updated_at": "2024-03-12T10:46:18Z",
      "author_association": "MEMBER",
      "body": "Concept ACK",
      "user": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-1991345405",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29623"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12087926755,
      "node_id": "HRFPE_lADOABII586B7mAKzwAAAALQfx_j",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12087926755",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "d15b847b2904c3701c6f173c8a7a7e685d610ad2",
      "commit_url": "https://api.github.com/repos/stickies-v/bitcoin/commits/d15b847b2904c3701c6f173c8a7a7e685d610ad2",
      "created_at": "2024-03-12T11:49:59Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12088006079,
      "node_id": "HRFPE_lADOABII586B7mAKzwAAAALQgFW_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12088006079",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "55b476b015d3a79ec5ea176247d2a70163cd034b",
      "commit_url": "https://api.github.com/repos/stickies-v/bitcoin/commits/55b476b015d3a79ec5ea176247d2a70163cd034b",
      "created_at": "2024-03-12T11:56:16Z"
    },
    {
      "event": "reviewed",
      "id": 1931011543,
      "node_id": "PRR_kwDOABII585zGOXX",
      "url": null,
      "actor": null,
      "commit_id": "55b476b015d3a79ec5ea176247d2a70163cd034b",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#pullrequestreview-1931011543",
      "submitted_at": "2024-03-12T13:07:21Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
    },
    {
      "event": "commented",
      "id": 1991741743,
      "node_id": "IC_kwDOABII5852t5Ev",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1991741743",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-12T14:09:45Z",
      "updated_at": "2024-03-12T14:09:45Z",
      "author_association": "CONTRIBUTOR",
      "body": "Force pushed to:\r\n- address a [thread safety analysis issue](https://github.com/bitcoin/bitcoin/pull/29623/checks?check_run_id=22527737631) by annotating `WarnIfOutOfSync()` with a `EXCLUSIVE_LOCKS_REQUIRED(!m_mutex)` \r\n- fix [failing functional test](https://github.com/bitcoin/bitcoin/pull/29623/checks?check_run_id=22527737628) by resetting node_miner's mocktime before connecting to the next outbound\r\n- rebase to latest master to fix native macos job",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-1991741743",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29623"
    },
    {
      "event": "commented",
      "id": 1991824028,
      "node_id": "IC_kwDOABII5852uNKc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1991824028",
      "actor": {
        "login": "alfonsoromanz",
        "id": 19962151,
        "node_id": "MDQ6VXNlcjE5OTYyMTUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/19962151?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alfonsoromanz",
        "html_url": "https://github.com/alfonsoromanz",
        "followers_url": "https://api.github.com/users/alfonsoromanz/followers",
        "following_url": "https://api.github.com/users/alfonsoromanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/alfonsoromanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/alfonsoromanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/alfonsoromanz/subscriptions",
        "organizations_url": "https://api.github.com/users/alfonsoromanz/orgs",
        "repos_url": "https://api.github.com/users/alfonsoromanz/repos",
        "events_url": "https://api.github.com/users/alfonsoromanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/alfonsoromanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-12T14:46:48Z",
      "updated_at": "2024-03-12T14:46:48Z",
      "author_association": "CONTRIBUTOR",
      "body": "Code review ACK 55b476b015d3a79ec5ea176247d2a70163cd034b\r\n\r\nI also:\r\n- Ran the unit test, which is passing\r\n- Ran the functional test, which is passing\r\n- Verified that the peer window now shows the offset of each peer.\r\n\r\n<img width=\"300\" alt=\"Screenshot 2024-03-12 at 11 36 48\" src=\"https://github.com/bitcoin/bitcoin/assets/19962151/7cd58278-085c-4047-b43f-e71b538096f3\">\r\n<img width=\"303\" alt=\"Screenshot 2024-03-12 at 11 37 20\" src=\"https://github.com/bitcoin/bitcoin/assets/19962151/84801775-c730-4f03-bbd2-87571124a73d\">\r\n<img width=\"250\" alt=\"Screenshot 2024-03-12 at 11 06 07\" src=\"https://github.com/bitcoin/bitcoin/assets/19962151/32f3256e-fb57-4b69-af4b-97ecdfee9017\">\r\n ",
      "user": {
        "login": "alfonsoromanz",
        "id": 19962151,
        "node_id": "MDQ6VXNlcjE5OTYyMTUx",
        "avatar_url": "https://avatars.githubusercontent.com/u/19962151?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alfonsoromanz",
        "html_url": "https://github.com/alfonsoromanz",
        "followers_url": "https://api.github.com/users/alfonsoromanz/followers",
        "following_url": "https://api.github.com/users/alfonsoromanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/alfonsoromanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/alfonsoromanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/alfonsoromanz/subscriptions",
        "organizations_url": "https://api.github.com/users/alfonsoromanz/orgs",
        "repos_url": "https://api.github.com/users/alfonsoromanz/repos",
        "events_url": "https://api.github.com/users/alfonsoromanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/alfonsoromanz/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-1991824028",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29623"
    },
    {
      "event": "review_requested",
      "id": 12090523697,
      "node_id": "RRE_lADOABII586B7mAKzwAAAALQpsAx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12090523697",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-12T14:46:51Z",
      "requested_reviewer": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 12090523880,
      "node_id": "RRE_lADOABII586B7mAKzwAAAALQpsDo",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12090523880",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-12T14:46:52Z",
      "requested_reviewer": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12092157390,
      "node_id": "HRFPE_lADOABII586B7mAKzwAAAALQv63O",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12092157390",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "59e7dbdd332fd63e5a21b833a7a439f748c76f2f",
      "commit_url": "https://api.github.com/repos/stickies-v/bitcoin/commits/59e7dbdd332fd63e5a21b833a7a439f748c76f2f",
      "created_at": "2024-03-12T16:37:42Z"
    },
    {
      "event": "commented",
      "id": 1992103130,
      "node_id": "IC_kwDOABII5852vRTa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1992103130",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-12T16:43:06Z",
      "updated_at": "2024-03-12T16:49:08Z",
      "author_association": "CONTRIBUTOR",
      "body": "Force pushed to:\r\n- remove dependency on C++20's `std::ranges::sort` which is [not yet supported](https://github.com/bitcoin/bitcoin/pull/29623/checks?check_run_id=22558502170) by the `no wallet, libbitcoinkernel` ci task\r\n- add `timeoffsets` fuzz target as per [review comment](https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1521434495)\r\n- improve includes and copyright headers\r\n\r\n> Verified that the peer window now shows the offset of each peer.\r\n\r\nFYI this is not new functionality, you should see the same behaviour on `master`.",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-1992103130",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29623"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12096211065,
      "node_id": "HRFPE_lADOABII586B7mAKzwAAAALQ_Yh5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12096211065",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "5c8e71cb2b827586efd052a87ccc463c99387fcf",
      "commit_url": "https://api.github.com/repos/stickies-v/bitcoin/commits/5c8e71cb2b827586efd052a87ccc463c99387fcf",
      "created_at": "2024-03-13T00:02:01Z"
    },
    {
      "event": "commented",
      "id": 1993768211,
      "node_id": "IC_kwDOABII58521n0T",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1993768211",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T08:02:22Z",
      "updated_at": "2024-03-13T08:02:22Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK, I love simplifications or refactors that are net removing code (+213 −363).",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-1993768211",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29623"
    },
    {
      "event": "unlabeled",
      "id": 12100755026,
      "node_id": "UNLE_lADOABII586B7mAKzwAAAALRQt5S",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12100755026",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T09:51:40Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2002051915,
      "node_id": "IC_kwDOABII5853VONL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2002051915",
      "actor": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-16T17:14:52Z",
      "updated_at": "2024-03-16T17:14:52Z",
      "author_association": "NONE",
      "body": "> Previously, we would only calculate the time offset from the first 199 outbound peers that we connected to. This limitation is now removed, and we have a proper rolling calculation. I've reduced the set to 50 outbound peers, which seems plenty.\r\nPreviously, we would automatically use the network-adjusted time if the difference was < 70 mins, and warn the user if the difference was larger than that. Since there is no longer any automated time adjustment, I've changed the warning threshold to 20 minutes (which is an arbitrary number).\r\n\r\non the 2 value selections (50 outbound peers):\r\n- 50 sounds reasonable, to be fair best would be to add timestamp in `m_outbound_time_offsets` from `FEELER` connection, it’s an outbound connection type per se. shuffling things more at the AS-level.\r\n- 20 min, i can suggest to pick up 10 min to match average interval-block-time of ~10 min",
      "user": {
        "login": "ariard",
        "id": 23310655,
        "node_id": "MDQ6VXNlcjIzMzEwNjU1",
        "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ariard",
        "html_url": "https://github.com/ariard",
        "followers_url": "https://api.github.com/users/ariard/followers",
        "following_url": "https://api.github.com/users/ariard/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/ariard/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/ariard/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
        "organizations_url": "https://api.github.com/users/ariard/orgs",
        "repos_url": "https://api.github.com/users/ariard/repos",
        "events_url": "https://api.github.com/users/ariard/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/ariard/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-2002051915",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29623"
    },
    {
      "event": "commented",
      "id": 2002537033,
      "node_id": "IC_kwDOABII5853XEpJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2002537033",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-17T16:52:59Z",
      "updated_at": "2024-03-17T16:52:59Z",
      "author_association": "MEMBER",
      "body": "utACK 5c8e71cb2b827586efd052a87ccc463c99387fcf",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-2002537033",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29623"
    },
    {
      "event": "review_requested",
      "id": 12143449817,
      "node_id": "RRE_lADOABII586B7mAKzwAAAALTzlbZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12143449817",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-17T16:53:04Z",
      "requested_reviewer": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 1942197813,
      "node_id": "PRR_kwDOABII585zw5Y1",
      "url": null,
      "actor": null,
      "commit_id": "5c8e71cb2b827586efd052a87ccc463c99387fcf",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "left a nit, might review later",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#pullrequestreview-1942197813",
      "submitted_at": "2024-03-18T08:23:31Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
    },
    {
      "event": "reviewed",
      "id": 1942256562,
      "node_id": "PRR_kwDOABII585zxHuy",
      "url": null,
      "actor": null,
      "commit_id": "5c8e71cb2b827586efd052a87ccc463c99387fcf",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#pullrequestreview-1942256562",
      "submitted_at": "2024-03-18T08:34:59Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
    },
    {
      "event": "reviewed",
      "id": 1942257420,
      "node_id": "PRR_kwDOABII585zxH8M",
      "url": null,
      "actor": null,
      "commit_id": "5c8e71cb2b827586efd052a87ccc463c99387fcf",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#pullrequestreview-1942257420",
      "submitted_at": "2024-03-18T08:41:10Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12151200371,
      "node_id": "HRFPE_lADOABII586B7mAKzwAAAALURJpz",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12151200371",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "e07d0f2c5718f927bad14cc3d37f6dfab8013a5d",
      "commit_url": "https://api.github.com/repos/stickies-v/bitcoin/commits/e07d0f2c5718f927bad14cc3d37f6dfab8013a5d",
      "created_at": "2024-03-18T12:24:51Z"
    },
    {
      "event": "reviewed",
      "id": 1942726434,
      "node_id": "PRR_kwDOABII585zy6ci",
      "url": null,
      "actor": null,
      "commit_id": "5c8e71cb2b827586efd052a87ccc463c99387fcf",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Thank you for the reviews everyone, I've force-pushed to address all comments (and no other changes).\r\n\r\n> 50 sounds reasonable, to be fair best would be to add timestamp in m_outbound_time_offsets from FEELER connection, it’s an outbound connection type per se. shuffling things more at the AS-level.\r\n\r\nThat's already happening, we're considering all types of outbound connections (including feelers)\r\n\r\n> 20 min, i can suggest to pick up 10 min to match average interval-block-time of ~10 min\r\n\r\nWhat's your rationale for matching it with the average block-time interval? I don't see how they're related. I'm not opposed to a shorter threshold (like 10 minutes), just want to avoid warnings occurring too frequently so users start to get used to and ignore them. ~~Want to avoid bikeshedding over this, so going to keep as is for now until more reviewers voice their preference.~~ _edit: updated threshold to 10 minutes_",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#pullrequestreview-1942726434",
      "submitted_at": "2024-03-18T12:24:57Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12151582501,
      "node_id": "HRFPE_lADOABII586B7mAKzwAAAALUSm8l",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12151582501",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "64c8fee28ede245a1bfe0e8fb64c0bcdb587585e",
      "commit_url": "https://api.github.com/repos/stickies-v/bitcoin/commits/64c8fee28ede245a1bfe0e8fb64c0bcdb587585e",
      "created_at": "2024-03-18T12:51:53Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12152638203,
      "node_id": "HRFPE_lADOABII586B7mAKzwAAAALUWor7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12152638203",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "commit_url": "https://api.github.com/repos/stickies-v/bitcoin/commits/a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "created_at": "2024-03-18T13:56:56Z"
    },
    {
      "event": "commented",
      "id": 2004000023,
      "node_id": "IC_kwDOABII5853cp0X",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2004000023",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-18T14:00:25Z",
      "updated_at": "2024-03-18T17:39:13Z",
      "author_association": "CONTRIBUTOR",
      "body": "Force-pushed to revert the [fuzz harness name change](https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1528075169), because for a couple of commits, we now have two harnesses with the same name - until the old one is removed in `Remove timedata` commit. I've [opened a PR](https://github.com/bitcoin-core/qa-assets/pull/178) in `qa-assets` to rename the input folder (thx dergoegge for the suggestion).",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-2004000023",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29623"
    },
    {
      "event": "reviewed",
      "id": 1943595639,
      "node_id": "PRR_kwDOABII585z2Op3",
      "url": null,
      "actor": null,
      "commit_id": "a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Code review ACK a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#pullrequestreview-1943595639",
      "submitted_at": "2024-03-18T16:26:12Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
    },
    {
      "event": "review_requested",
      "id": 12155382247,
      "node_id": "RRE_lADOABII586B7mAKzwAAAALUhGnn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12155382247",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-18T16:26:17Z",
      "requested_reviewer": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "commented",
      "id": 2004415109,
      "node_id": "IC_kwDOABII5853ePKF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2004415109",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-18T16:40:25Z",
      "updated_at": "2024-03-18T16:40:25Z",
      "author_association": "MEMBER",
      "body": "utACK a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-2004415109",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29623"
    },
    {
      "event": "referenced",
      "id": 12156420215,
      "node_id": "REFE_lADOABII586B7mAKzwAAAALUlEB3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12156420215",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "84c2d9607b2ef771ec21d2fbf726b434d6d1c691",
      "commit_url": "https://api.github.com/repos/stickies-v/bitcoin-core-qa-assets/commits/84c2d9607b2ef771ec21d2fbf726b434d6d1c691",
      "created_at": "2024-03-18T17:29:46Z"
    },
    {
      "event": "referenced",
      "id": 12168533660,
      "node_id": "REFE_lADOABII586B7mAKzwAAAALVTRac",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12168533660",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "373778c1fd3cc25b644111b4ff7cec4360fbd74d",
      "commit_url": "https://api.github.com/repos/stickies-v/bitcoin-core-qa-assets/commits/373778c1fd3cc25b644111b4ff7cec4360fbd74d",
      "created_at": "2024-03-19T12:22:13Z"
    },
    {
      "event": "reviewed",
      "id": 1945882168,
      "node_id": "PRR_kwDOABII585z-844",
      "url": null,
      "actor": null,
      "commit_id": "a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#pullrequestreview-1945882168",
      "submitted_at": "2024-03-19T17:42:17Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
    },
    {
      "event": "review_requested",
      "id": 12173306482,
      "node_id": "RRE_lADOABII586B7mAKzwAAAALVlepy",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12173306482",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T17:42:20Z",
      "requested_reviewer": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 1946972313,
      "node_id": "PRR_kwDOABII5850DHCZ",
      "url": null,
      "actor": null,
      "commit_id": "a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#pullrequestreview-1946972313",
      "submitted_at": "2024-03-19T17:47:40Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
    },
    {
      "event": "review_requested",
      "id": 12173372401,
      "node_id": "RRE_lADOABII586B7mAKzwAAAALVluvx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12173372401",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-19T17:47:43Z",
      "requested_reviewer": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 1951424515,
      "node_id": "PRR_kwDOABII5850UGAD",
      "url": null,
      "actor": null,
      "commit_id": "a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#pullrequestreview-1951424515",
      "submitted_at": "2024-03-21T09:31:15Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
    },
    {
      "event": "labeled",
      "id": 12202609609,
      "node_id": "LE_lADOABII586B7mAKzwAAAALXVQvJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12202609609",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-21T15:20:36Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12205730698,
      "node_id": "HRFPE_lADOABII586B7mAKzwAAAALXhKuK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12205730698",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "3dfdb22c1da687bd86e3325ec02c7b38e15895b4",
      "commit_url": "https://api.github.com/repos/stickies-v/bitcoin/commits/3dfdb22c1da687bd86e3325ec02c7b38e15895b4",
      "created_at": "2024-03-21T19:14:49Z"
    },
    {
      "event": "commented",
      "id": 2013414886,
      "node_id": "IC_kwDOABII5854AkXm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2013414886",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-21T19:19:40Z",
      "updated_at": "2024-03-21T19:19:40Z",
      "author_association": "CONTRIBUTOR",
      "body": "While [working on the fuzz inputs](https://github.com/bitcoin-core/qa-assets/pull/178#issuecomment-2012479018), I noticed that the memory usage for this new `timeoffsets` harness is unusually high. Doing one more small force-push to patch the fuzz and unit test to:\r\n- disable logging in the fuzz test, which was causing the memory leak (thanks @dergoegge)\r\n- use `noui.h` to prevent the GUI from flooding the fuzz and unit test with (expected) warnings\r\n\r\nIt's a pretty small test-only diff, so I'm hoping reviewers can give this a quick re-review? Thank you!\r\n\r\n`git range-diff a42d9b5041cdc522e8a4b81944e45b7f30458c26...3dfdb22c1da687bd86e3325ec02c7b38e15895b4`",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-2013414886",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29623"
    },
    {
      "event": "mentioned",
      "id": 12205796010,
      "node_id": "MEE_lADOABII586B7mAKzwAAAALXhaqq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12205796010",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-21T19:19:42Z"
    },
    {
      "event": "subscribed",
      "id": 12205796024,
      "node_id": "SE_lADOABII586B7mAKzwAAAALXhaq4",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12205796024",
      "actor": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-21T19:19:42Z"
    },
    {
      "event": "commented",
      "id": 2013423329,
      "node_id": "IC_kwDOABII5854Ambh",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2013423329",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-21T19:22:13Z",
      "updated_at": "2024-03-21T19:22:13Z",
      "author_association": "MEMBER",
      "body": "Maybe there should be an assertion failure in the fuzz tests, if log messages have been written to the buffer, but logging is still disabled when the program exits?",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-2013423329",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29623"
    },
    {
      "event": "convert_to_draft",
      "id": 12206420359,
      "node_id": "CTDE_lADOABII586B7mAKzwAAAALXjzGH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12206420359",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-21T20:03:41Z"
    },
    {
      "event": "commented",
      "id": 2013607897,
      "node_id": "IC_kwDOABII5854BTfZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2013607897",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-21T20:05:25Z",
      "updated_at": "2024-03-21T20:05:25Z",
      "author_association": "CONTRIBUTOR",
      "body": "Changed to draft until I've resolved the merge conflict with #29279 which relies on setmocktime",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-2013607897",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29623"
    },
    {
      "event": "commented",
      "id": 2014055501,
      "node_id": "IC_kwDOABII5854DAxN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2014055501",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-21T23:43:32Z",
      "updated_at": "2024-03-21T23:43:32Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-2014055501",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29623"
    },
    {
      "event": "reviewed",
      "id": 1954401947,
      "node_id": "PRR_kwDOABII5850fc6b",
      "url": null,
      "actor": null,
      "commit_id": "3dfdb22c1da687bd86e3325ec02c7b38e15895b4",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "lgtm 3dfdb22c1da687bd86e3325ec02c7b38e15895b4 🌽\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: lgtm 3dfdb22c1da687bd86e3325ec02c7b38e15895b4 🌽\r\n3k5YN4x2rtvpoxcx88mjfPhCYoWnOCqHeZLoKsYaWrghV1HDaqNUzr4RiQ0kTXkWkdr/HPRYmcI77mwR2WiBBg==\r\n```\r\n\r\n</details>\r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#pullrequestreview-1954401947",
      "submitted_at": "2024-03-22T11:10:20Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
    },
    {
      "event": "reviewed",
      "id": 1954539581,
      "node_id": "PRR_kwDOABII5850f-g9",
      "url": null,
      "actor": null,
      "commit_id": "9f2904b621cc945005570fc6e94832d73d36d92b",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#pullrequestreview-1954539581",
      "submitted_at": "2024-03-22T11:12:41Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
    },
    {
      "event": "reviewed",
      "id": 1954561288,
      "node_id": "PRR_kwDOABII5850gD0I",
      "url": null,
      "actor": null,
      "commit_id": "0b372c0ab3c800e70bd81fc647742f1d50953188",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#pullrequestreview-1954561288",
      "submitted_at": "2024-03-22T11:26:06Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
    },
    {
      "event": "referenced",
      "id": 12216717449,
      "node_id": "REFE_lADOABII586B7mAKzwAAAALYLFCJ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12216717449",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "032a59748295859845b2a9181ceb1c4ae70bae5c",
      "commit_url": "https://api.github.com/repos/stickies-v/bitcoin/commits/032a59748295859845b2a9181ceb1c4ae70bae5c",
      "created_at": "2024-03-22T14:38:43Z"
    },
    {
      "event": "referenced",
      "id": 12219110934,
      "node_id": "REFE_lADOABII586B7mAKzwAAAALYUNYW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12219110934",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "a175efe768892f6e983a7c814a201c506c4d1ce5",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a175efe768892f6e983a7c814a201c506c4d1ce5",
      "created_at": "2024-03-22T17:53:56Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12220408745,
      "node_id": "HRFPE_lADOABII586B7mAKzwAAAALYZKOp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12220408745",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "999953f09c6137aa6bbdf4318c9672c5c47110bd",
      "commit_url": "https://api.github.com/repos/stickies-v/bitcoin/commits/999953f09c6137aa6bbdf4318c9672c5c47110bd",
      "created_at": "2024-03-22T20:00:01Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12221152441,
      "node_id": "HRFPE_lADOABII586B7mAKzwAAAALYb_y5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12221152441",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "commit_url": "https://api.github.com/repos/stickies-v/bitcoin/commits/2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "created_at": "2024-03-22T21:20:44Z"
    },
    {
      "event": "reviewed",
      "id": 1955178305,
      "node_id": "PRR_kwDOABII5850iadB",
      "url": null,
      "actor": null,
      "commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for the in-depth review everyone.\r\n\r\nForce-pushed to rebase to make CI green again (#29704) and address all outstanding review comments, given that this has now become a larger push anyway. The main changes are:\r\n- RPC warnings are properly reset when the issue is resolved, GUI warnings can now be shown more than once (e.g. when the node falls out of sync again), but only once per 60 minutes to prevent flooding.\r\n- the warning message has been improved to make it more clear what the user has to/can do\r\n- re-added debug log whenever an offset is added (i.e. an outbound peer connects)",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#pullrequestreview-1955178305",
      "submitted_at": "2024-03-22T22:39:58Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
    },
    {
      "event": "ready_for_review",
      "id": 12221778322,
      "node_id": "RFRE_lADOABII586B7mAKzwAAAALYeYmS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12221778322",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-22T22:40:08Z"
    },
    {
      "event": "unlabeled",
      "id": 12221994245,
      "node_id": "UNLE_lADOABII586B7mAKzwAAAALYfNUF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12221994245",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-22T23:10:34Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2033146002,
      "node_id": "IC_kwDOABII5855L1iS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2033146002",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-02T21:40:42Z",
      "updated_at": "2024-04-02T21:40:42Z",
      "author_association": "MEMBER",
      "body": "ACK 2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-2033146002",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29623"
    },
    {
      "event": "review_requested",
      "id": 12332366022,
      "node_id": "RRE_lADOABII586B7mAKzwAAAALfEPjG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12332366022",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-02T21:40:46Z",
      "requested_reviewer": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 12332366161,
      "node_id": "RRE_lADOABII586B7mAKzwAAAALfEPlR",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12332366161",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-02T21:40:47Z",
      "requested_reviewer": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 12332366275,
      "node_id": "RRE_lADOABII586B7mAKzwAAAALfEPnD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12332366275",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-02T21:40:48Z",
      "requested_reviewer": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 1973887290,
      "node_id": "PRR_kwDOABII5851pyE6",
      "url": null,
      "actor": null,
      "commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "ACK https://github.com/bitcoin/bitcoin/commit/2ef71c73582be554e565ada3f8a6ca77c2cd79f1\r\n\r\nLeft some comments inline, mostly nits/things that may need renaming. \r\n\r\nAlso, `qt/guiutils.h` still refers to `CNodeCombinedStats.nTimeOffset` after 5084ad48462b3169c99a81aeb21a339c3a9a4728, in a couple of places, but it may be better to change that for `time_offset` given `nTimeOffset` is not a thing anymore.",
      "user": {
        "login": "sr-gi",
        "id": 6665628,
        "node_id": "MDQ6VXNlcjY2NjU2Mjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6665628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sr-gi",
        "html_url": "https://github.com/sr-gi",
        "followers_url": "https://api.github.com/users/sr-gi/followers",
        "following_url": "https://api.github.com/users/sr-gi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sr-gi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sr-gi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sr-gi/subscriptions",
        "organizations_url": "https://api.github.com/users/sr-gi/orgs",
        "repos_url": "https://api.github.com/users/sr-gi/repos",
        "events_url": "https://api.github.com/users/sr-gi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sr-gi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#pullrequestreview-1973887290",
      "submitted_at": "2024-04-03T11:35:15Z",
      "state": "CHANGES_REQUESTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
    },
    {
      "event": "reviewed",
      "id": 1976762473,
      "node_id": "PRR_kwDOABII58510wBp",
      "url": null,
      "actor": null,
      "commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "lgtm 2ef71c73582be554e565ada3f8a6ca77c2cd79f1   🛴\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: lgtm 2ef71c73582be554e565ada3f8a6ca77c2cd79f1   🛴\r\nQ9sgCN5S+/6cPhk6lYNjDonkzAs6Gm8QI7XynAlXDMCM29pQnMy67XGFMTPuBfZCMwdyVCo/S1sFWJI8l5xkCw==\r\n```\r\n\r\n</details>\r\n",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#pullrequestreview-1976762473",
      "submitted_at": "2024-04-03T13:13:56Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
    },
    {
      "event": "commented",
      "id": 2034583200,
      "node_id": "IC_kwDOABII5855RUag",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2034583200",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-03T13:14:41Z",
      "updated_at": "2024-04-03T13:14:41Z",
      "author_association": "MEMBER",
      "body": "Reminder for myself: https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1535417573",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-2034583200",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29623"
    },
    {
      "event": "reviewed",
      "id": 1976691061,
      "node_id": "PRR_kwDOABII58510el1",
      "url": null,
      "actor": null,
      "commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Approach ACK 2ef71c73582be554e565ada3f8a6ca77c2cd79f1\r\n\r\nWrt adjusting the peer's offset with local clock corrections in order to stop the warnings immediately after the local clock is fixed (instead of after 4-5h) https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1544783265, consider this:\r\n\r\n<details>\r\n<summary>[patch] adjust peer time with local clock corrections (untested)</summary>\r\n\r\n```diff\r\ndiff --git i/src/node/timeoffsets.cpp w/src/node/timeoffsets.cpp\r\nindex 8488e47ff5..4dce6f9edd 100644\r\n--- i/src/node/timeoffsets.cpp\r\n+++ w/src/node/timeoffsets.cpp\r\n@@ -24,27 +24,31 @@ void TimeOffsets::Add(std::chrono::seconds offset)\r\n {\r\n     LOCK(m_mutex);\r\n \r\n     if (m_offsets.size() >= N) {\r\n         m_offsets.pop_front();\r\n     }\r\n-    m_offsets.push_back(offset);\r\n+    m_offsets.emplace_back(offset, std::chrono::steady_clock::now(), std::chrono::system_clock::now());\r\n     LogDebug(BCLog::NET, \"Added time offset %+ds, total samples %d\\n\",\r\n              Ticks<std::chrono::seconds>(offset), m_offsets.size());\r\n }\r\n \r\n std::chrono::seconds TimeOffsets::Median() const\r\n {\r\n     LOCK(m_mutex);\r\n \r\n     // Only calculate the median if we have 5 or more offsets\r\n     if (m_offsets.size() < 5) return 0s;\r\n \r\n+    const auto steady_now = std::chrono::steady_clock::now();\r\n+    const auto system_now = std::chrono::system_clock::now();\r\n     auto sorted_copy = m_offsets;\r\n-    std::sort(sorted_copy.begin(), sorted_copy.end());\r\n-    return sorted_copy[m_offsets.size() / 2];  // approximate median is good enough, keep it simple\r\n+    std::sort(sorted_copy.begin(), sorted_copy.end(), [&](const peer_time_data& a, const peer_time_data& b) {\r\n+        return a.Offset(steady_now, system_now) < b.Offset(steady_now, system_now);\r\n+    });\r\n+    return sorted_copy[m_offsets.size() / 2].Offset(steady_now, system_now);  // approximate median is good enough, keep it simple\r\n }\r\n \r\n bool TimeOffsets::WarnIfOutOfSync() const\r\n {\r\n     // when median == std::numeric_limits<int64_t>::min(), calling std::chrono::abs is UB\r\n     auto median{std::max(Median(), std::chrono::seconds(std::numeric_limits<int64_t>::min() + 1))};\r\ndiff --git i/src/node/timeoffsets.h w/src/node/timeoffsets.h\r\nindex 8bccae20e8..1d7a9f0153 100644\r\n--- i/src/node/timeoffsets.h\r\n+++ w/src/node/timeoffsets.h\r\n@@ -21,13 +21,29 @@ private:\r\n     //! Log the last time a GUI warning was raised to avoid flooding user with them\r\n     mutable std::optional<std::chrono::steady_clock::time_point> m_warning_emitted GUARDED_BY(m_mutex){};\r\n     //! Minimum time to wait before raising a new GUI warning\r\n     static constexpr std::chrono::minutes m_warning_wait{60};\r\n \r\n     mutable Mutex m_mutex;\r\n-    std::deque<std::chrono::seconds> m_offsets GUARDED_BY(m_mutex){};\r\n+    struct peer_time_data {\r\n+        //! The difference between peer's time and our time, at the time of the P2P handshake.\r\n+        std::chrono::seconds handshake_offset;\r\n+        // The following two are used to detect system clock corrections/adjustments.\r\n+        std::chrono::time_point<std::chrono::steady_clock> handshake_steady;\r\n+        std::chrono::time_point<std::chrono::system_clock> handshake_system;\r\n+\r\n+        /// Calculate the offset as of now, taking into account any system clock corrections that\r\n+        /// have happened since the peer connected.\r\n+        std::chrono::seconds Offset(std::chrono::time_point<std::chrono::steady_clock> steady_now,\r\n+                                    std::chrono::time_point<std::chrono::system_clock> system_now) const {\r\n+            return handshake_offset +\r\n+                std::chrono::duration_cast<std::chrono::seconds>(steady_now - handshake_steady) -\r\n+                std::chrono::duration_cast<std::chrono::seconds>(system_now - handshake_system);\r\n+        }\r\n+    };\r\n+    std::deque<peer_time_data> m_offsets GUARDED_BY(m_mutex){};\r\n \r\n public:\r\n     /** Add a new time offset sample. */\r\n     void Add(std::chrono::seconds offset) EXCLUSIVE_LOCKS_REQUIRED(!m_mutex);\r\n \r\n     /** Compute and return the median of the collected time offset samples. */\r\n```\r\n</details>",
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#pullrequestreview-1976691061",
      "submitted_at": "2024-04-03T15:28:30Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
    },
    {
      "event": "reviewed",
      "id": 1977282272,
      "node_id": "PRR_kwDOABII58512u7g",
      "url": null,
      "actor": null,
      "commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "approach ACK",
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#pullrequestreview-1977282272",
      "submitted_at": "2024-04-03T16:17:56Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
    },
    {
      "event": "reviewed",
      "id": 1979986391,
      "node_id": "PRR_kwDOABII5852BDHX",
      "url": null,
      "actor": null,
      "commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#pullrequestreview-1979986391",
      "submitted_at": "2024-04-04T13:51:06Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
    },
    {
      "event": "referenced",
      "id": 12382314947,
      "node_id": "REFE_lADOABII586B7mAKzwAAAALiCyHD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12382314947",
      "actor": {
        "login": "janus",
        "id": 6726,
        "node_id": "MDQ6VXNlcjY3MjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6726?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/janus",
        "html_url": "https://github.com/janus",
        "followers_url": "https://api.github.com/users/janus/followers",
        "following_url": "https://api.github.com/users/janus/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/janus/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/janus/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/janus/subscriptions",
        "organizations_url": "https://api.github.com/users/janus/orgs",
        "repos_url": "https://api.github.com/users/janus/repos",
        "events_url": "https://api.github.com/users/janus/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/janus/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "561b4b5d2d25d4e423c4d81ca856884782e1adbd",
      "commit_url": "https://api.github.com/repos/BitgesellOfficial/bitgesell/commits/561b4b5d2d25d4e423c4d81ca856884782e1adbd",
      "created_at": "2024-04-06T20:00:12Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDAzOGZkOTc5ZWZmYjU0ZWU3NmNlMWI3Y2YwNzhlOTIwYzY1MjMyNmE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/038fd979effb54ee76ce1b7cf078e920c652326a",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/038fd979effb54ee76ce1b7cf078e920c652326a",
      "tree": {
        "sha": "6f395ed7eaf7038a7db31d00fe4939929822d9cd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6f395ed7eaf7038a7db31d00fe4939929822d9cd"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 6f395ed7eaf7038a7db31d00fe4939929822d9cd\nparent a175efe768892f6e983a7c814a201c506c4d1ce5\nauthor dergoegge <n.goeggi@gmail.com> 1669390264 +0000\ncommitter stickies-v <stickies-v@protonmail.com> 1712758546 +0200\n\n[net processing] Move nTimeOffset to net_processing\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE5g/ggIZt5fccjfOgXLHObl5mp1cFAmYWnxIACgkQXLHObl5m\np1diYBAAtxZJkudG9tEJgfPngDMgMWKrHDRzwQW83tn2nYzTZpkgEQDTHq0Y2fTM\nOSGl8CQJ3UkaUCcCb4gKsIhUyigi5jeb/4gWAJ9HuIheY0fQaBke3BtZtk+yYhuJ\n6JxQMCWRzf4Ewf5TjGtUqh46pVq+sAkbYgRCBNbkUCv10ZMIyAK8lzgdN3Cy3V50\n9lM34IWtWTwXMP1uGp9P2e2g6bwKjSUdtUsOFKbLingmyzcBOsYyy0BxJUI5ymne\n5gK73yB7Akr1B3o89+lITpDhF/rU+eieWiZqr9ucECbtBKi615W6K/4DfKQKD2CB\n+74/UQw609O6kIx0vi2YJXeCjFNdn+CYPKidDOAOqUC7IYwvlhPSgxVMg7SDUabA\nxmYPuNsBghB5IZW1xRC9G1dFvDUf++RNCMPqFD8K0r9L97k+9gkKslFPN+OpOew6\nmhyRBJ6JhmGnzIi4wy/E9jYqg0xIkS6/jYSd+/mkm+PqdL+977I07cmdzXgoSfPG\nX7Out4R7tRxhfjkd18iL5a886/Y3HR++hkFLLy24KtgpIkbWHV1dVQ2czdQOCqZy\n1PDGHC7c+eIUJRsxvKIAuAUvQfPz/vhgs0IVXpKVtm5W/sHtTwjGXMny9YcvY1yb\nJnYNXjNpiU9aKG97LYsEXa6XqPOxhyLbAewP+JF96G9r24paprQ=\n=zITH\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a175efe768892f6e983a7c814a201c506c4d1ce5",
          "sha": "a175efe768892f6e983a7c814a201c506c4d1ce5",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/a175efe768892f6e983a7c814a201c506c4d1ce5"
        }
      ],
      "message": "[net processing] Move nTimeOffset to net_processing",
      "committer": {
        "name": "stickies-v",
        "email": "stickies-v@protonmail.com",
        "date": "2024-04-10T14:15:46Z"
      },
      "author": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2022-11-25T15:31:04Z"
      },
      "sha": "038fd979effb54ee76ce1b7cf078e920c652326a"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU1MzYxYTE1ZDFhYTY5ODQwNTE0NDFiY2U4ODExMjAwMDY4OGZiNDM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/55361a15d1aa6984051441bce88112000688fb43",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/55361a15d1aa6984051441bce88112000688fb43",
      "tree": {
        "sha": "28eab9ca3974271e6ae563c186cc8f687b4522c7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/28eab9ca3974271e6ae563c186cc8f687b4522c7"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 28eab9ca3974271e6ae563c186cc8f687b4522c7\nparent 038fd979effb54ee76ce1b7cf078e920c652326a\nauthor stickies-v <stickies-v@protonmail.com> 1706980541 +0000\ncommitter stickies-v <stickies-v@protonmail.com> 1712758546 +0200\n\n[net processing] Use std::chrono for type-safe time offsets\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE5g/ggIZt5fccjfOgXLHObl5mp1cFAmYWnxIACgkQXLHObl5m\np1c1yw/9GZucT+HAgxfspfIl25lorDVG6OqE6eV8NCVj4kFP+8Y+Doqq9hlmZtuR\nfexvFHInuTCKL33Fo3z/QapjsOYlChehCSsgNWqwFJdCC8eDe476pJi7IJyMY+pX\noIvQGkn+Zz5ubSMHAP89VhSvB2zx7XDVx0vrthiHbxfmckjQyYPB46uZTotBdhYL\ns/XDuk3zjIUKrG0so+ktcxIo97zFS+BZ7OKjIG3asOExLyhDxiPeNSfhSP6HsKlP\nbt0DCgxI5AQyOHWHHhUqH7rwaQ8VfGpw/Zvis1EAlKI/ZiGEwT7hnDDMP6jEnUbF\nvK8EY2OSrWbiLMX5nPGCUHLLEKaaKBRvrme+RI3YHKjZakuSTGaoVGCHLfqs0Qyn\nm6DNdA+HXrGJw+Mx0gaxhyW7pQ51tibADfHmaXnY2jBtc63eJtKnmyHTyxYVHXYJ\nr2jJluYbw19vEi+7Wxzkq0rCcTieNa5jZjiogYsrg6ORi6zme6wEAmQRSficPeQA\n4LjtxYrPAr4r7Eay8tz77AGq4Z9c3BnRZHv8xQZKqfbR9NuJ4hPCg14s8BQa+dNP\nNCPGOeaauuzlNbO6bC+Sa9mFMDAOfsMJ1yebQG+8uxnpOBekooTlKoV5P3S0kSJJ\nVUqDUYycIG+Q/X4a/0VHTRQpTWSw31agc8kX7UaH/+vEN0P9ZG4=\n=Pm9Q\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/038fd979effb54ee76ce1b7cf078e920c652326a",
          "sha": "038fd979effb54ee76ce1b7cf078e920c652326a",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/038fd979effb54ee76ce1b7cf078e920c652326a"
        }
      ],
      "message": "[net processing] Use std::chrono for type-safe time offsets",
      "committer": {
        "name": "stickies-v",
        "email": "stickies-v@protonmail.com",
        "date": "2024-04-10T14:15:46Z"
      },
      "author": {
        "name": "stickies-v",
        "email": "stickies-v@protonmail.com",
        "date": "2024-02-03T17:15:41Z"
      },
      "sha": "55361a15d1aa6984051441bce88112000688fb43"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12423521312,
      "node_id": "HRFPE_lADOABII586B7mAKzwAAAALkf-Qg",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12423521312",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "5362db10ab6d1d6697807c8f8494a2fc5bf41ff8",
      "commit_url": "https://api.github.com/repos/stickies-v/bitcoin/commits/5362db10ab6d1d6697807c8f8494a2fc5bf41ff8",
      "created_at": "2024-04-10T14:49:38Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGVlMTc4ZGZjYzExNzVlMGFmODE2MzIxNmM5YzAyNGY0YmZjOTc5NjU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ee178dfcc1175e0af8163216c9c024f4bfc97965",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/ee178dfcc1175e0af8163216c9c024f4bfc97965",
      "tree": {
        "sha": "29d04d09dcc21862dcaf6627986a68b38f1e31bc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/29d04d09dcc21862dcaf6627986a68b38f1e31bc"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 29d04d09dcc21862dcaf6627986a68b38f1e31bc\nparent 55361a15d1aa6984051441bce88112000688fb43\nauthor stickies-v <stickies-v@protonmail.com> 1709810580 +0000\ncommitter stickies-v <stickies-v@protonmail.com> 1712761287 +0200\n\nAdd TimeOffsets helper class\n\nThis helper class is an alternative to CMedianFilter, but without a\nlot of the special logic and exceptions that we needed while it was\nstill used for consensus.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE5g/ggIZt5fccjfOgXLHObl5mp1cFAmYWqccACgkQXLHObl5m\np1f1aQ/9HfgLApS8DvN718hnaGBnVM/UVGGyZRJ/bbwXgodq0+LS0hXZEixYyIX9\nc63UCBKm7Kmv6sh4/rfgxKxQfRWfF4dQEm/Xsfr3XuUtcdnqpkWey0LR0GH837QW\nFKRILrzTKDOKnczjHX8U/EWN7m98AqvdYlcGQ0U7G6c93d93Y6SssdEwZ/Ymm2Yw\nyAK7u5k47OzSYMZGlF3e6GJtT/UIzY0hUhjjy+9jez4g+h886HkczK/lQc2oZt+B\nxINLTVLy/4zFQYpCRK4FwakKS768hetRTSGOJ1RiHxJohuNN4fe/RPmPEJdbIjPt\nJCtDBm735/1D7wGN5oL3CI1PxIH6JEJy40OXBKZ+z5A18QPU801JT0pRjKtCEyGl\nIOD/Pdn9XbnsVRTqM+la1uDR20P/zUSn5z42AEU2p7WlXEM5H+o8E+TbRYOJJoq8\nTuAFcisX6RVx8v2esNulVIkMGpnZD8U8xRHyhCKBj603GtjCAL7Vq/KYubsfwChA\nzPBgPfJ66AWbfgOMfcwvukSrxVqkIXd+ZbK+hIkoYlHrP+vPqeiOJ8K1v4jiEuRS\nohDTL5p43Hx9sIQUfN87+5pl4tTga4PFBY3BSuu5ZARJNZUJGRG5Pb3+81Q35UVJ\nvmjHNUu8tQCpQnuV0rhlibtLU/CzzWFDKW6/NHqbY90GrOvDCII=\n=GHMV\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/55361a15d1aa6984051441bce88112000688fb43",
          "sha": "55361a15d1aa6984051441bce88112000688fb43",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/55361a15d1aa6984051441bce88112000688fb43"
        }
      ],
      "message": "Add TimeOffsets helper class\n\nThis helper class is an alternative to CMedianFilter, but without a\nlot of the special logic and exceptions that we needed while it was\nstill used for consensus.",
      "committer": {
        "name": "stickies-v",
        "email": "stickies-v@protonmail.com",
        "date": "2024-04-10T15:01:27Z"
      },
      "author": {
        "name": "stickies-v",
        "email": "stickies-v@protonmail.com",
        "date": "2024-03-07T11:23:00Z"
      },
      "sha": "ee178dfcc1175e0af8163216c9c024f4bfc97965"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDdkOWMzZWM2MjJkNzNhOThkMDdhYjNjZWU3ODc1MTcxODk4MmE1YmM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7d9c3ec622d73a98d07ab3cee78751718982a5bc",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/7d9c3ec622d73a98d07ab3cee78751718982a5bc",
      "tree": {
        "sha": "1ca23797dae50e9d814a2512128199457e235a8c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1ca23797dae50e9d814a2512128199457e235a8c"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1ca23797dae50e9d814a2512128199457e235a8c\nparent ee178dfcc1175e0af8163216c9c024f4bfc97965\nauthor dergoegge <n.goeggi@gmail.com> 1701105761 +0000\ncommitter stickies-v <stickies-v@protonmail.com> 1712761287 +0200\n\n[net processing] Introduce PeerManagerInfo\n\nFor querying statistics/info from PeerManager. The median outbound time\noffset is the only initial field.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE5g/ggIZt5fccjfOgXLHObl5mp1cFAmYWqccACgkQXLHObl5m\np1dikRAAhUqyc0Po4f2aq29+G0+IXRMsK8g5xWZE/H1shtQkvOx1N5s+J5ARlEqb\nMzaNGef1mluLvF88BtsiNcTxri/rPvWLLBU5lBNkGAnNjH3Enaosm2X0YkvEWMAI\nrOoTOMBotffh6jKKR4R6ihGRfCBlweATpSd0x68PbSXggzpfD09jZ3Eyqei7osv9\nyESt4wHkTb8TNKzsgFQUhfLt1pmrKhnjpm9qezPekJJn6/kzeX9GT9ASnOCic4vn\nsXyTm6PvsXDeKxahJtjyTUFZt73lwBCHH5MU2HEZTD9uPvLClB7i/cLFPj6ULvTE\nbntwHmoBAtQrtE3ROLoGK7Km1Z+V6WK0foHfqtYRDrX2Kx2q7raVvAVmBvgAxNEQ\nhufrCRDknitZ8vw0wjAfAf7pCdRwBoOMhsRxQ+8pZg7Xx73X2nCb0DoxuiMoTvqj\nzIo030REwSYbYskTma8+2Hk+qoCL86fQgkEfA7UxqnSuxj64gwMDVWh0KYxheB6C\nbWYFOuZUBTS7nfxpZP7hQaKtbagFxPmbMQE41Oa0PyTtE+6HCCSKT5zLghhAhKxb\ntI8mLTNDFh5zEVOBU1JfciQoq+is+0poa8zAuQIjRPp9aWRhR5elct3aEukKnlIZ\nBIih4PQl7LfqFYFB/55HaQLUAIZxTmX3Lz2j8rmyD9MqsNVl6Mg=\n=VXES\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ee178dfcc1175e0af8163216c9c024f4bfc97965",
          "sha": "ee178dfcc1175e0af8163216c9c024f4bfc97965",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/ee178dfcc1175e0af8163216c9c024f4bfc97965"
        }
      ],
      "message": "[net processing] Introduce PeerManagerInfo\n\nFor querying statistics/info from PeerManager. The median outbound time\noffset is the only initial field.",
      "committer": {
        "name": "stickies-v",
        "email": "stickies-v@protonmail.com",
        "date": "2024-04-10T15:01:27Z"
      },
      "author": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2023-11-27T17:22:41Z"
      },
      "sha": "7d9c3ec622d73a98d07ab3cee78751718982a5bc"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDkyZTcyYjVkMGQ0OWFhMzk1ZTYyNmMyMzhiYzI4YWJhOGU0YzNkNDQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/92e72b5d0d49aa395e626c238bc28aba8e4c3d44",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/92e72b5d0d49aa395e626c238bc28aba8e4c3d44",
      "tree": {
        "sha": "559ee35563847f2d6a4cfe6011fd6d32ad8fa7a1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/559ee35563847f2d6a4cfe6011fd6d32ad8fa7a1"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 559ee35563847f2d6a4cfe6011fd6d32ad8fa7a1\nparent 7d9c3ec622d73a98d07ab3cee78751718982a5bc\nauthor dergoegge <n.goeggi@gmail.com> 1701259429 +0000\ncommitter stickies-v <stickies-v@protonmail.com> 1712761287 +0200\n\n[net processing] Move IgnoresIncomingTxs to PeerManagerInfo\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE5g/ggIZt5fccjfOgXLHObl5mp1cFAmYWqccACgkQXLHObl5m\np1dmrA//XQJ3ABszKHGTpGZRWN9pQjl8XqqwV6+IaVJIc3HHnjSB8+NPpTmGmJKh\nnFhMZTn61lOoONh/+/xtmn4funAc0m03fMS3zZLxbL4MisLl0hwUFJRpM7EKHGyB\nW03RHHpa3MQINHnzrtEYmh8POytUx2ie4mebJxds8mATuvH7RDv+RLcXLUHXFg+G\nRK8agc0mTnM0zp9QFzMmHMF+7Ii4jeAzJCRxaZ+a2Zf5EFSLtFMrk0YortTdnZLT\nCyFbOA9YDk5OX0NOx+kG4NRbaSnAFf/QfMbPtlkx5zhkTrg8oMN3LYfueWfmRaDt\nBsaZx0dNG/Bp3Qt0L3M+CWt1tlxf3zXSeyrCKZkV0Pou009S+2aijstaYFG+Mlht\ny+YSQlqrrwqp+JvTvYQgz+1mGUs071r4jL6RwKvMTrOGVek76f5T7yzLHcOKN05n\nrUKAG8qtC5ET36ahxZpv4eSWs71t0Ekntk1W4GGbveZuiQklC1fm+t4SdltGl05H\nyt4lJbFPteQm8VXpkLu6muvq2o0jzQEwXZiqKZ/FVqCdOruozxsGeM/W/MCPyIBp\nIsXLi1oRES1ZXoGtwm3sspygdyWpy87odCOtyICtEejElLvh76/sr41ZxysJLeem\nvsfYJH8eEwWGzPjbfv78F1qSTMzTcztDZU5A7AcqH+4DRcw6eUY=\n=ShTD\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7d9c3ec622d73a98d07ab3cee78751718982a5bc",
          "sha": "7d9c3ec622d73a98d07ab3cee78751718982a5bc",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/7d9c3ec622d73a98d07ab3cee78751718982a5bc"
        }
      ],
      "message": "[net processing] Move IgnoresIncomingTxs to PeerManagerInfo",
      "committer": {
        "name": "stickies-v",
        "email": "stickies-v@protonmail.com",
        "date": "2024-04-10T15:01:27Z"
      },
      "author": {
        "name": "dergoegge",
        "email": "n.goeggi@gmail.com",
        "date": "2023-11-29T12:03:49Z"
      },
      "sha": "92e72b5d0d49aa395e626c238bc28aba8e4c3d44"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGM2YmUxNDRjNGI3NzRhMDNhOGJjYWI1YTE2NTc2OGNmODFlOWIwNmI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "tree": {
        "sha": "992c9ce52acd68df94bf51a49bd36d2e762cf2a8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/992c9ce52acd68df94bf51a49bd36d2e762cf2a8"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 992c9ce52acd68df94bf51a49bd36d2e762cf2a8\nparent 92e72b5d0d49aa395e626c238bc28aba8e4c3d44\nauthor stickies-v <stickies-v@protonmail.com> 1707023306 +0000\ncommitter stickies-v <stickies-v@protonmail.com> 1712761287 +0200\n\nRemove timedata\n\nWith the introduction and usage of TimeOffsets, there is no more need\nfor this file. Remove it.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE5g/ggIZt5fccjfOgXLHObl5mp1cFAmYWqccACgkQXLHObl5m\np1c3Iw//XzUM29adtRAZzhQ0FurS2LsILMTvjqnforE8q8P6afuVgDorltx/0Rjr\n/aLdSvnx6Nyvhfg/XvgVpzSSB4W5zLfFl22s/SaQf4LV+FtJmB9U5NVeb/SdYsq6\n26hcPpHv3RPvtc0edkyEnYyZInRUzHkLBi0ouDV+qS5AHGLUOpWd+1et2ZKBREOu\nUU3aZjANDO0tj+ezvJSUS6E3Xq8XMEwnMdc2/y75nsqvXSwUActnX4NmEWpdT+ow\nR6Rl4BM8pKGmq+GGwSpMz7kSibtzFQkttP3XInq08jpOdUGAwoN6y2epAK4wrjkF\n4M1/HcvqvghUiZzo60hyBlIAZerQYyTti+saXAgLG84nOZacOErjdglytR3jEco4\npVhWsuizfsc3ZXRT4qfzNe7qpVgEwmF7ctIWFwTDhUgkgkHE7N5egCCj5EjyoERk\ntdIws45kccSAAFHj5xBytdsRtTy+wIaTWfo2Ay0M2FCWBeNWzL+r+AKGj77Fzdb7\n73YMvCd+6aUCdrvfi4BgbNE2AXFY+roMAEWVbxSZVeXtOjvCuNMj58S3JolmgfT+\nZoTJh1mhZ9JDdcQlCkUwOAnbiSf55OZrB4CcCTftXdoiv8270TEQOcM6SDKW9BEs\n+szbqnUFZcROa+K9MMNreOaFrfd7KgvJ85N6QacgjF8vXw+vFG4=\n=DPyI\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/92e72b5d0d49aa395e626c238bc28aba8e4c3d44",
          "sha": "92e72b5d0d49aa395e626c238bc28aba8e4c3d44",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/92e72b5d0d49aa395e626c238bc28aba8e4c3d44"
        }
      ],
      "message": "Remove timedata\n\nWith the introduction and usage of TimeOffsets, there is no more need\nfor this file. Remove it.",
      "committer": {
        "name": "stickies-v",
        "email": "stickies-v@protonmail.com",
        "date": "2024-04-10T15:01:27Z"
      },
      "author": {
        "name": "stickies-v",
        "email": "stickies-v@protonmail.com",
        "date": "2024-02-04T05:08:26Z"
      },
      "sha": "c6be144c4b774a03a8bcab5a165768cf81e9b06b"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12423750483,
      "node_id": "HRFPE_lADOABII586B7mAKzwAAAALkg2NT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12423750483",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "commit_url": "https://api.github.com/repos/stickies-v/bitcoin/commits/c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "created_at": "2024-04-10T15:01:56Z"
    },
    {
      "event": "mentioned",
      "id": 12423839874,
      "node_id": "MEE_lADOABII586B7mAKzwAAAALkhMCC",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12423839874",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-10T15:06:56Z"
    },
    {
      "event": "subscribed",
      "id": 12423839894,
      "node_id": "SE_lADOABII586B7mAKzwAAAALkhMCW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12423839894",
      "actor": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-10T15:06:56Z"
    },
    {
      "event": "mentioned",
      "id": 12423839933,
      "node_id": "MEE_lADOABII586B7mAKzwAAAALkhMC9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12423839933",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-10T15:06:56Z"
    },
    {
      "event": "subscribed",
      "id": 12423839944,
      "node_id": "SE_lADOABII586B7mAKzwAAAALkhMDI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12423839944",
      "actor": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-10T15:06:57Z"
    },
    {
      "event": "mentioned",
      "id": 12423839979,
      "node_id": "MEE_lADOABII586B7mAKzwAAAALkhMDr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12423839979",
      "actor": {
        "login": "sr-gi",
        "id": 6665628,
        "node_id": "MDQ6VXNlcjY2NjU2Mjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6665628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sr-gi",
        "html_url": "https://github.com/sr-gi",
        "followers_url": "https://api.github.com/users/sr-gi/followers",
        "following_url": "https://api.github.com/users/sr-gi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sr-gi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sr-gi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sr-gi/subscriptions",
        "organizations_url": "https://api.github.com/users/sr-gi/orgs",
        "repos_url": "https://api.github.com/users/sr-gi/repos",
        "events_url": "https://api.github.com/users/sr-gi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sr-gi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-10T15:06:57Z"
    },
    {
      "event": "subscribed",
      "id": 12423840018,
      "node_id": "SE_lADOABII586B7mAKzwAAAALkhMES",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12423840018",
      "actor": {
        "login": "sr-gi",
        "id": 6665628,
        "node_id": "MDQ6VXNlcjY2NjU2Mjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6665628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sr-gi",
        "html_url": "https://github.com/sr-gi",
        "followers_url": "https://api.github.com/users/sr-gi/followers",
        "following_url": "https://api.github.com/users/sr-gi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sr-gi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sr-gi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sr-gi/subscriptions",
        "organizations_url": "https://api.github.com/users/sr-gi/orgs",
        "repos_url": "https://api.github.com/users/sr-gi/repos",
        "events_url": "https://api.github.com/users/sr-gi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sr-gi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-10T15:06:57Z"
    },
    {
      "event": "mentioned",
      "id": 12423840048,
      "node_id": "MEE_lADOABII586B7mAKzwAAAALkhMEw",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12423840048",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-10T15:06:57Z"
    },
    {
      "event": "subscribed",
      "id": 12423840069,
      "node_id": "SE_lADOABII586B7mAKzwAAAALkhMFF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12423840069",
      "actor": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-10T15:06:57Z"
    },
    {
      "event": "mentioned",
      "id": 12423840099,
      "node_id": "MEE_lADOABII586B7mAKzwAAAALkhMFj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12423840099",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-10T15:06:57Z"
    },
    {
      "event": "subscribed",
      "id": 12423840116,
      "node_id": "SE_lADOABII586B7mAKzwAAAALkhMF0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12423840116",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-10T15:06:57Z"
    },
    {
      "event": "reviewed",
      "id": 1984476214,
      "node_id": "PRR_kwDOABII5852SLQ2",
      "url": null,
      "actor": null,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Thank you very much @sr-gi @maflcko @vasild @glozow @mzumsande for your extensive review.\r\n\r\nForce pushed to address all review comments:\r\n- in GUI: display the warning along with other warnings, instead of in a messagebox. This prevents the warning from https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1551733252 (and is a nicer approach in general)\r\n- various nits around improved documentation, variable naming, references, help messages, ...\r\n- I probably won't be addressing nits in this PR anymore to minimize review burden, so if there are any left (please keep posting them if you see any) I'll keep them for a follow-up.\r\n\r\n> Also, qt/guiutils.h still refers to CNodeCombinedStats.nTimeOffset\r\n\r\nReferences updated, thanks\r\n\r\n> Wrt adjusting the peer's offset with local clock corrections in order to stop the warnings immediately after the local clock is fixed (instead of after 4-5h) https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1544783265, consider this:\r\n\r\nI like the idea of using steady_clock here, but I would prefer to do it in a follow-up if there's appetite for it. It's nice to have the warning disappear more quickly when the issue is resolved, but I think a downside is that the timeoffset peer stats in GUI and RPC will be inconsistent with the ones we use for the warning. I'd started implementing a PeerClock approach based on your suggestion, and I think it's quite elegant, but it's a lot more code overhaul so not really ideal for this PR. WIP commit at https://github.com/bitcoin/bitcoin/compare/master...stickies-v:bitcoin:2024-03/remove-timedata-keep-clock",
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#pullrequestreview-1984476214",
      "submitted_at": "2024-04-10T15:11:08Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
    },
    {
      "event": "commented",
      "id": 2057192875,
      "node_id": "IC_kwDOABII5856nkWr",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2057192875",
      "actor": {
        "login": "sr-gi",
        "id": 6665628,
        "node_id": "MDQ6VXNlcjY2NjU2Mjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6665628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sr-gi",
        "html_url": "https://github.com/sr-gi",
        "followers_url": "https://api.github.com/users/sr-gi/followers",
        "following_url": "https://api.github.com/users/sr-gi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sr-gi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sr-gi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sr-gi/subscriptions",
        "organizations_url": "https://api.github.com/users/sr-gi/orgs",
        "repos_url": "https://api.github.com/users/sr-gi/repos",
        "events_url": "https://api.github.com/users/sr-gi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sr-gi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-15T15:54:35Z",
      "updated_at": "2024-04-15T15:54:35Z",
      "author_association": "MEMBER",
      "body": "Re-ACK [c6be144](https://github.com/bitcoin/bitcoin/pull/29623/commits/c6be144c4b774a03a8bcab5a165768cf81e9b06b)",
      "user": {
        "login": "sr-gi",
        "id": 6665628,
        "node_id": "MDQ6VXNlcjY2NjU2Mjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6665628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sr-gi",
        "html_url": "https://github.com/sr-gi",
        "followers_url": "https://api.github.com/users/sr-gi/followers",
        "following_url": "https://api.github.com/users/sr-gi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sr-gi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sr-gi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sr-gi/subscriptions",
        "organizations_url": "https://api.github.com/users/sr-gi/orgs",
        "repos_url": "https://api.github.com/users/sr-gi/repos",
        "events_url": "https://api.github.com/users/sr-gi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sr-gi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-2057192875",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29623"
    },
    {
      "event": "review_requested",
      "id": 12472869829,
      "node_id": "RRE_lADOABII586B7mAKzwAAAALncOPF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12472869829",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-15T15:54:42Z",
      "requested_reviewer": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 12472870083,
      "node_id": "RRE_lADOABII586B7mAKzwAAAALncOTD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12472870083",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-15T15:54:43Z",
      "requested_reviewer": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 12472870413,
      "node_id": "RRE_lADOABII586B7mAKzwAAAALncOYN",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12472870413",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-15T15:54:44Z",
      "requested_reviewer": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "commented",
      "id": 2059790024,
      "node_id": "IC_kwDOABII5856xebI",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2059790024",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-16T19:30:48Z",
      "updated_at": "2024-04-16T19:30:48Z",
      "author_association": "MEMBER",
      "body": "reACK c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-2059790024",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29623"
    },
    {
      "event": "review_request_removed",
      "id": 12495497409,
      "node_id": "RRRE_lADOABII586B7mAKzwAAAALoyijB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12495497409",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-16T19:30:55Z",
      "requested_reviewer": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 2030922611,
      "node_id": "PRR_kwDOABII5855DWtz",
      "url": null,
      "actor": null,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "utACK c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#pullrequestreview-2030922611",
      "submitted_at": "2024-04-30T10:42:34Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
    },
    {
      "event": "merged",
      "id": 12664837380,
      "node_id": "ME_lADOABII586B7mAKzwAAAALy4hUE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12664837380",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "0c3a3c9394e608c4beb92722ad034648af81dee7",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0c3a3c9394e608c4beb92722ad034648af81dee7",
      "created_at": "2024-04-30T22:49:44Z"
    },
    {
      "event": "closed",
      "id": 12664837413,
      "node_id": "CE_lADOABII586B7mAKzwAAAALy4hUl",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12664837413",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-30T22:49:44Z"
    },
    {
      "event": "head_ref_deleted",
      "id": 12669213433,
      "node_id": "HRDE_lADOABII586B7mAKzwAAAALzJNr5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12669213433",
      "actor": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-01T10:45:45Z"
    },
    {
      "event": "labeled",
      "id": 12689296377,
      "node_id": "LE_lADOABII586B7mAKzwAAAAL0V0v5",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12689296377",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-02T21:06:59Z",
      "label": {
        "name": "Needs CMake port",
        "color": "0e8a16"
      }
    },
    {
      "event": "commented",
      "id": 2094140548,
      "node_id": "IC_kwDOABII58580gyE",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2094140548",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-04T12:05:53Z",
      "updated_at": "2024-05-04T12:05:53Z",
      "author_association": "MEMBER",
      "body": "Ported to the CMake-based build system in https://github.com/hebasto/bitcoin/pull/186.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-2094140548",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29623"
    },
    {
      "event": "unlabeled",
      "id": 12704308072,
      "node_id": "UNLE_lADOABII586B7mAKzwAAAAL1PFto",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12704308072",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-04T12:05:59Z",
      "label": {
        "name": "Needs CMake port",
        "color": "0e8a16"
      }
    },
    {
      "event": "referenced",
      "id": 12733503509,
      "node_id": "REFE_lADOABII586B7mAKzwAAAAL2-dgV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12733503509",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "8efd03ad04726aa34219ad83115a3d45030412c3",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8efd03ad04726aa34219ad83115a3d45030412c3",
      "created_at": "2024-05-07T18:14:18Z"
    },
    {
      "event": "locked",
      "id": 17509718188,
      "node_id": "LOE_lADOABII586B7mAKzwAAAAQTqRis",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17509718188",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-05-04T07:52:40Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1521434495",
      "pull_request_review_id": 1931011543,
      "id": 1521434495,
      "node_id": "PRRC_kwDOABII585arz9_",
      "diff_hunk": "@@ -1,31 +0,0 @@\n-// Copyright (c) 2020-2021 The Bitcoin Core developers",
      "path": "src/test/fuzz/timedata.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "55b476b015d3a79ec5ea176247d2a70163cd034b",
      "in_reply_to_id": null,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Could you add a fuzz test for `TimeOffsets` to replace the timedata one?",
      "created_at": "2024-03-12T13:07:20Z",
      "updated_at": "2024-03-12T13:07:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1521434495",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1521434495"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1521538653",
      "pull_request_review_id": 1931182887,
      "id": 1521538653,
      "node_id": "PRRC_kwDOABII585asNZd",
      "diff_hunk": "@@ -1,31 +0,0 @@\n-// Copyright (c) 2020-2021 The Bitcoin Core developers",
      "path": "src/test/fuzz/timedata.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "55b476b015d3a79ec5ea176247d2a70163cd034b",
      "in_reply_to_id": 1521434495,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Can do, but given how simple the interface is I think it wouldn't be anything more than the below (untested)? Could e.g. add the `.Size()` method back but adding it just for fuzzing might not be ideal?\r\n\r\n<details>\r\n<summary>git diff on 55b476b015</summary>\r\n\r\n```diff\r\ndiff --git a/src/Makefile.test.include b/src/Makefile.test.include\r\nindex c77056f29c..c20b531032 100644\r\n--- a/src/Makefile.test.include\r\n+++ b/src/Makefile.test.include\r\n@@ -381,6 +381,7 @@ test_fuzz_fuzz_SOURCES = \\\r\n  test/fuzz/string.cpp \\\r\n  test/fuzz/strprintf.cpp \\\r\n  test/fuzz/system.cpp \\\r\n+ test/fuzz/timeoffsets.cpp \\\r\n  test/fuzz/torcontrol.cpp \\\r\n  test/fuzz/transaction.cpp \\\r\n  test/fuzz/tx_in.cpp \\\r\ndiff --git a/src/test/fuzz/timeoffsets.cpp b/src/test/fuzz/timeoffsets.cpp\r\nnew file mode 100644\r\nindex 0000000000..f0d2a8f739\r\n--- /dev/null\r\n+++ b/src/test/fuzz/timeoffsets.cpp\r\n@@ -0,0 +1,22 @@\r\n+// Copyright (c) 2020-present The Bitcoin Core developers\r\n+// Distributed under the MIT software license, see the accompanying\r\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\r\n+\r\n+#include <test/fuzz/FuzzedDataProvider.h>\r\n+#include <test/fuzz/fuzz.h>\r\n+#include <test/fuzz/util.h>\r\n+#include <node/timeoffsets.h>\r\n+\r\n+#include <chrono>\r\n+\r\n+\r\n+FUZZ_TARGET(timeoffsets)\r\n+{\r\n+    FuzzedDataProvider fuzzed_data_provider(buffer.data(), buffer.size());\r\n+    TimeOffsets offsets{};\r\n+    while (fuzzed_data_provider.remaining_bytes() > 0) {\r\n+        (void)offsets.Median();\r\n+        offsets.Add(std::chrono::seconds{fuzzed_data_provider.ConsumeIntegral<int64_t>()});\r\n+        offsets.WarnIfOutOfSync();\r\n+    }\r\n+}\r\n\r\n```\r\n</details>\r\n",
      "created_at": "2024-03-12T14:09:21Z",
      "updated_at": "2024-03-12T14:09:21Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1521538653",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1521538653"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1521564417",
      "pull_request_review_id": 1931224627,
      "id": 1521564417,
      "node_id": "PRRC_kwDOABII585asTsB",
      "diff_hunk": "@@ -1,31 +0,0 @@\n-// Copyright (c) 2020-2021 The Bitcoin Core developers",
      "path": "src/test/fuzz/timedata.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "55b476b015d3a79ec5ea176247d2a70163cd034b",
      "in_reply_to_id": 1521434495,
      "user": {
        "login": "dergoegge",
        "id": 8077169,
        "node_id": "MDQ6VXNlcjgwNzcxNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8077169?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dergoegge",
        "html_url": "https://github.com/dergoegge",
        "followers_url": "https://api.github.com/users/dergoegge/followers",
        "following_url": "https://api.github.com/users/dergoegge/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dergoegge/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dergoegge/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dergoegge/subscriptions",
        "organizations_url": "https://api.github.com/users/dergoegge/orgs",
        "repos_url": "https://api.github.com/users/dergoegge/repos",
        "events_url": "https://api.github.com/users/dergoegge/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dergoegge/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> but given how simple the interface is I think it wouldn't be anything more than the below\r\n\r\nThat's good enough. We just want the code to be under test, in case we have change it in the future.",
      "created_at": "2024-03-12T14:24:19Z",
      "updated_at": "2024-03-12T14:24:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1521564417",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1521564417"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1521798433",
      "pull_request_review_id": 1931607697,
      "id": 1521798433,
      "node_id": "PRRC_kwDOABII585atM0h",
      "diff_hunk": "@@ -1,31 +0,0 @@\n-// Copyright (c) 2020-2021 The Bitcoin Core developers",
      "path": "src/test/fuzz/timedata.cpp",
      "position": 1,
      "original_position": 1,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "55b476b015d3a79ec5ea176247d2a70163cd034b",
      "in_reply_to_id": 1521434495,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done. I was a bit worried `WarnIfOutOfSync()` outputting to stderr would mess with the fuzzer (as [here](https://github.com/bitcoin/bitcoin/pull/29623/commits/48cc160d70e4d918f5e2e5440b0ab5891499f5cf)), but running it locally seems to work fine so far, not sure if the appropriate paths have been hit already though.\r\n\r\nResolving for now.",
      "created_at": "2024-03-12T16:39:25Z",
      "updated_at": "2024-03-12T16:39:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1521798433",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1521798433"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 1,
      "original_line": 1,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528024055",
      "pull_request_review_id": 1942197813,
      "id": 1528024055,
      "node_id": "PRRC_kwDOABII585bE8v3",
      "diff_hunk": "@@ -239,7 +238,7 @@ static RPCHelpMan getpeerinfo()\n         obj.pushKV(\"bytessent\", stats.nSendBytes);\n         obj.pushKV(\"bytesrecv\", stats.nRecvBytes);\n         obj.pushKV(\"conntime\", count_seconds(stats.m_connected));\n-        obj.pushKV(\"timeoffset\", stats.nTimeOffset);\n+        obj.pushKV(\"timeoffset\", statestats.time_offset.count());",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "5c8e71cb2b827586efd052a87ccc463c99387fcf",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "`count` isn't type-safe. If the type were to change, the RPC result would silently change as well. It may be better to use a casting tick counter `Ticks<>`.",
      "created_at": "2024-03-18T08:03:08Z",
      "updated_at": "2024-03-18T08:23:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1528024055",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528024055"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 241,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528024823",
      "pull_request_review_id": 1942197813,
      "id": 1528024823,
      "node_id": "PRRC_kwDOABII585bE873",
      "diff_hunk": "@@ -679,9 +678,10 @@ static RPCHelpMan getnetworkinfo()\n         obj.pushKV(\"localservicesnames\", GetServicesNames(services));\n     }\n     if (node.peerman) {\n-        obj.pushKV(\"localrelay\", !node.peerman->IgnoresIncomingTxs());\n+        auto peerman_info{node.peerman->GetInfo()};\n+        obj.pushKV(\"localrelay\", !peerman_info.ignores_incoming_txs);\n+        obj.pushKV(\"timeoffset\", peerman_info.median_outbound_time_offset.count());",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "5c8e71cb2b827586efd052a87ccc463c99387fcf",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Same",
      "created_at": "2024-03-18T08:03:44Z",
      "updated_at": "2024-03-18T08:23:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1528024823",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528024823"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 683,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528025910",
      "pull_request_review_id": 1942197813,
      "id": 1528025910,
      "node_id": "PRRC_kwDOABII585bE9M2",
      "diff_hunk": "@@ -239,7 +238,7 @@ static RPCHelpMan getpeerinfo()\n         obj.pushKV(\"bytessent\", stats.nSendBytes);\n         obj.pushKV(\"bytesrecv\", stats.nRecvBytes);\n         obj.pushKV(\"conntime\", count_seconds(stats.m_connected));\n-        obj.pushKV(\"timeoffset\", stats.nTimeOffset);\n+        obj.pushKV(\"timeoffset\", statestats.time_offset.count());",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "5c8e71cb2b827586efd052a87ccc463c99387fcf",
      "in_reply_to_id": 1528024055,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "(See also the line below)",
      "created_at": "2024-03-18T08:04:34Z",
      "updated_at": "2024-03-18T08:23:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1528025910",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528025910"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 241,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528068942",
      "pull_request_review_id": 1942256562,
      "id": 1528068942,
      "node_id": "PRRC_kwDOABII585bFHtO",
      "diff_hunk": "@@ -0,0 +1,57 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <deque>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return {0s};\n+\n+    auto sorted_copy = m_offsets;\n+    std::sort(sorted_copy.begin(), sorted_copy.end());\n+    return sorted_copy[m_offsets.size() / 2];  // approximate median is good enough, keep it simple\n+}\n+\n+bool TimeOffsets::WarnIfOutOfSync() const\n+{\n+    // when median == std::numeric_limits<int64_t>::min(), calling std::chrono::abs is UB\n+    auto median{std::max(Median(), std::chrono::seconds(std::numeric_limits<int64_t>::min() + 1))};\n+    if (std::chrono::abs(median) <= m_warn_threshold) return false;\n+\n+    bilingual_str msg{_(\"Your computer's date and time appear out of sync with the network, \"\n+                        \"this may lead to consensus failure. Please ensure it is correct.\")};\n+    LogWarning(\"%s\\n\", msg.translated);",
      "path": "src/node/timeoffsets.cpp",
      "position": null,
      "original_position": 48,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "5c8e71cb2b827586efd052a87ccc463c99387fcf",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The debug log should not log translated messages, but the original ones",
      "created_at": "2024-03-18T08:34:59Z",
      "updated_at": "2024-03-18T08:34:59Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1528068942",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528068942"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 48,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528069606",
      "pull_request_review_id": 1942257420,
      "id": 1528069606,
      "node_id": "PRRC_kwDOABII585bFH3m",
      "diff_hunk": "@@ -0,0 +1,57 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <deque>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return {0s};",
      "path": "src/node/timeoffsets.cpp",
      "position": null,
      "original_position": 33,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "5c8e71cb2b827586efd052a87ccc463c99387fcf",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: \r\n```suggestion\r\n    if (m_offsets.size() < 5) return 0s;\r\n```",
      "created_at": "2024-03-18T08:35:28Z",
      "updated_at": "2024-03-18T08:41:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1528069606",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528069606"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528075169",
      "pull_request_review_id": 1942257420,
      "id": 1528075169,
      "node_id": "PRRC_kwDOABII585bFJOh",
      "diff_hunk": "@@ -0,0 +1,22 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <node/timeoffsets.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+\n+#include <chrono>\n+\n+\n+FUZZ_TARGET(timeoffsets)",
      "path": "src/test/fuzz/timeoffsets.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "5c8e71cb2b827586efd052a87ccc463c99387fcf",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think it is fine to keep calling the target `timedata`, to avoid deleting a fuzz input folder and adding a fuzz input folder, with similar data.",
      "created_at": "2024-03-18T08:39:30Z",
      "updated_at": "2024-03-18T08:41:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1528075169",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528075169"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 13,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528076376",
      "pull_request_review_id": 1942257420,
      "id": 1528076376,
      "node_id": "PRRC_kwDOABII585bFJhY",
      "diff_hunk": "@@ -0,0 +1,22 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <node/timeoffsets.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+\n+#include <chrono>\n+\n+\n+FUZZ_TARGET(timeoffsets)\n+{\n+    FuzzedDataProvider fuzzed_data_provider(buffer.data(), buffer.size());\n+    TimeOffsets offsets{};\n+    while (fuzzed_data_provider.remaining_bytes() > 0) {",
      "path": "src/test/fuzz/timeoffsets.cpp",
      "position": null,
      "original_position": 17,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "5c8e71cb2b827586efd052a87ccc463c99387fcf",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "in fuzz tests, you'll have to use LIMITED_WHILE. Otherwise, the fuzz target will never terminate, if the fuzz input is unlimited in length.",
      "created_at": "2024-03-18T08:40:16Z",
      "updated_at": "2024-03-18T08:41:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1528076376",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528076376"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528391847",
      "pull_request_review_id": 1942726434,
      "id": 1528391847,
      "node_id": "PRRC_kwDOABII585bGWin",
      "diff_hunk": "@@ -239,7 +238,7 @@ static RPCHelpMan getpeerinfo()\n         obj.pushKV(\"bytessent\", stats.nSendBytes);\n         obj.pushKV(\"bytesrecv\", stats.nRecvBytes);\n         obj.pushKV(\"conntime\", count_seconds(stats.m_connected));\n-        obj.pushKV(\"timeoffset\", stats.nTimeOffset);\n+        obj.pushKV(\"timeoffset\", statestats.time_offset.count());",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "5c8e71cb2b827586efd052a87ccc463c99387fcf",
      "in_reply_to_id": 1528024055,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Good point, I've replaced all new usage of `count()` with `Ticks<std::chrono::seconds>`, thanks. ",
      "created_at": "2024-03-18T11:43:53Z",
      "updated_at": "2024-03-18T12:24:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1528391847",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528391847"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 241,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528405153",
      "pull_request_review_id": 1942726434,
      "id": 1528405153,
      "node_id": "PRRC_kwDOABII585bGZyh",
      "diff_hunk": "@@ -0,0 +1,22 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <node/timeoffsets.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+\n+#include <chrono>\n+\n+\n+FUZZ_TARGET(timeoffsets)\n+{\n+    FuzzedDataProvider fuzzed_data_provider(buffer.data(), buffer.size());\n+    TimeOffsets offsets{};\n+    while (fuzzed_data_provider.remaining_bytes() > 0) {",
      "path": "src/test/fuzz/timeoffsets.cpp",
      "position": null,
      "original_position": 17,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "5c8e71cb2b827586efd052a87ccc463c99387fcf",
      "in_reply_to_id": 1528076376,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks, now using `LIMITED_WHILE(..., 4'000)` to keep the same number of iterations as the max in the previous fuzz test.",
      "created_at": "2024-03-18T11:54:32Z",
      "updated_at": "2024-03-18T12:24:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1528405153",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528405153"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528408296",
      "pull_request_review_id": 1942726434,
      "id": 1528408296,
      "node_id": "PRRC_kwDOABII585bGajo",
      "diff_hunk": "@@ -0,0 +1,57 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <deque>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return {0s};\n+\n+    auto sorted_copy = m_offsets;\n+    std::sort(sorted_copy.begin(), sorted_copy.end());\n+    return sorted_copy[m_offsets.size() / 2];  // approximate median is good enough, keep it simple\n+}\n+\n+bool TimeOffsets::WarnIfOutOfSync() const\n+{\n+    // when median == std::numeric_limits<int64_t>::min(), calling std::chrono::abs is UB\n+    auto median{std::max(Median(), std::chrono::seconds(std::numeric_limits<int64_t>::min() + 1))};\n+    if (std::chrono::abs(median) <= m_warn_threshold) return false;\n+\n+    bilingual_str msg{_(\"Your computer's date and time appear out of sync with the network, \"\n+                        \"this may lead to consensus failure. Please ensure it is correct.\")};\n+    LogWarning(\"%s\\n\", msg.translated);",
      "path": "src/node/timeoffsets.cpp",
      "position": null,
      "original_position": 48,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "5c8e71cb2b827586efd052a87ccc463c99387fcf",
      "in_reply_to_id": 1528068942,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks, changed",
      "created_at": "2024-03-18T11:56:56Z",
      "updated_at": "2024-03-18T12:24:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1528408296",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528408296"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 48,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528408431",
      "pull_request_review_id": 1942726434,
      "id": 1528408431,
      "node_id": "PRRC_kwDOABII585bGalv",
      "diff_hunk": "@@ -0,0 +1,57 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <deque>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return {0s};",
      "path": "src/node/timeoffsets.cpp",
      "position": null,
      "original_position": 33,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "5c8e71cb2b827586efd052a87ccc463c99387fcf",
      "in_reply_to_id": 1528069606,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks, changed",
      "created_at": "2024-03-18T11:57:04Z",
      "updated_at": "2024-03-18T12:24:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1528408431",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528408431"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 33,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528426601",
      "pull_request_review_id": 1942726434,
      "id": 1528426601,
      "node_id": "PRRC_kwDOABII585bGfBp",
      "diff_hunk": "@@ -0,0 +1,22 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <node/timeoffsets.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+\n+#include <chrono>\n+\n+\n+FUZZ_TARGET(timeoffsets)",
      "path": "src/test/fuzz/timeoffsets.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "5c8e71cb2b827586efd052a87ccc463c99387fcf",
      "in_reply_to_id": 1528075169,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done.",
      "created_at": "2024-03-18T12:10:39Z",
      "updated_at": "2024-03-18T12:24:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1528426601",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528426601"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 13,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528427747",
      "pull_request_review_id": 1942726434,
      "id": 1528427747,
      "node_id": "PRRC_kwDOABII585bGfTj",
      "diff_hunk": "@@ -679,9 +678,10 @@ static RPCHelpMan getnetworkinfo()\n         obj.pushKV(\"localservicesnames\", GetServicesNames(services));\n     }\n     if (node.peerman) {\n-        obj.pushKV(\"localrelay\", !node.peerman->IgnoresIncomingTxs());\n+        auto peerman_info{node.peerman->GetInfo()};\n+        obj.pushKV(\"localrelay\", !peerman_info.ignores_incoming_txs);\n+        obj.pushKV(\"timeoffset\", peerman_info.median_outbound_time_offset.count());",
      "path": "src/rpc/net.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "5c8e71cb2b827586efd052a87ccc463c99387fcf",
      "in_reply_to_id": 1528024823,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Done",
      "created_at": "2024-03-18T12:11:34Z",
      "updated_at": "2024-03-18T12:24:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1528427747",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528427747"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 683,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528623473",
      "pull_request_review_id": 1943170577,
      "id": 1528623473,
      "node_id": "PRRC_kwDOABII585bHPFx",
      "diff_hunk": "@@ -0,0 +1,22 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <node/timeoffsets.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+\n+#include <chrono>\n+\n+\n+FUZZ_TARGET(timeoffsets)",
      "path": "src/test/fuzz/timeoffsets.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "5c8e71cb2b827586efd052a87ccc463c99387fcf",
      "in_reply_to_id": 1528075169,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "[Reverted back to `timeoffsets`](https://github.com/bitcoin/bitcoin/pull/29623#issuecomment-2004000023)",
      "created_at": "2024-03-18T14:01:09Z",
      "updated_at": "2024-03-18T14:01:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1528623473",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1528623473"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 13,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1530164745",
      "pull_request_review_id": 1945882168,
      "id": 1530164745,
      "node_id": "PRRC_kwDOABII585bNHYJ",
      "diff_hunk": "@@ -0,0 +1,57 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <deque>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return 0s;\n+\n+    auto sorted_copy = m_offsets;\n+    std::sort(sorted_copy.begin(), sorted_copy.end());\n+    return sorted_copy[m_offsets.size() / 2];  // approximate median is good enough, keep it simple\n+}\n+\n+bool TimeOffsets::WarnIfOutOfSync() const\n+{\n+    // when median == std::numeric_limits<int64_t>::min(), calling std::chrono::abs is UB\n+    auto median{std::max(Median(), std::chrono::seconds(std::numeric_limits<int64_t>::min() + 1))};\n+    if (std::chrono::abs(median) <= m_warn_threshold) return false;\n+\n+    bilingual_str msg{_(\"Your computer's date and time appear out of sync with the network, \"\n+                        \"this may lead to consensus failure. Please ensure it is correct.\")};",
      "path": "src/node/timeoffsets.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "It would be more useful to print the offset and the threshold.",
      "created_at": "2024-03-19T11:14:19Z",
      "updated_at": "2024-03-19T17:42:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1530164745",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1530164745"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": 46,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1530170447",
      "pull_request_review_id": 1945882168,
      "id": 1530170447,
      "node_id": "PRRC_kwDOABII585bNIxP",
      "diff_hunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_TIMEOFFSETS_H\n+#define BITCOIN_NODE_TIMEOFFSETS_H\n+\n+#include <sync.h>\n+\n+#include <atomic>\n+#include <chrono>\n+#include <deque>\n+#include <stddef.h>\n+\n+class TimeOffsets\n+{\n+private:\n+    static constexpr size_t N{50};\n+    //! Minimum difference between system and network time for a warning to be raised.\n+    static constexpr std::chrono::minutes m_warn_threshold{10};\n+    mutable std::atomic<bool> m_warning_emitted{false};  // Avoid flooding the user with warnings.",
      "path": "src/node/timeoffsets.h",
      "position": null,
      "original_position": 21,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This way the warning will be printed just once in the lifetime of the process. If the user does something in an attempt to resolve the issue, how would they know that the issue is resolved? Usually if a message is logged every, e.g. 10 minutes (to avoid flooding the log), the disappearance of the message is an indication that the problem is resolved.\r\n\r\nIs there a way for the user to see the median network time, as perceived by his node? If yes, then they can manually compare.\r\n\r\nAlso, the time offset issue is one that can come and go as time passes. Imagine a `bitcoind` running for 1 month. It had issues with the time soon after it was started which the operator has resolved. 1 month later the issues resurface - there is no warning or indication about it?\r\n\r\nMaybe replace that `bool` with a timestamp of the last log and print the error message if the last log was e.g. 10 minutes ago?",
      "created_at": "2024-03-19T11:19:12Z",
      "updated_at": "2024-03-19T17:42:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1530170447",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1530170447"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 21,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1530801883",
      "pull_request_review_id": 1945882168,
      "id": 1530801883,
      "node_id": "PRRC_kwDOABII585bPi7b",
      "diff_hunk": "@@ -56,6 +62,11 @@ bilingual_str GetWarnings(bool verbose)\n         warnings_verbose.emplace_back(warnings_concise);\n     }\n \n+    if (g_timeoffset_warning) {\n+        warnings_concise = _(\"Your computer's date and time appear out of sync with the network, this may lead to consensus failure. Please ensure it is correct.\");\n+        warnings_verbose.emplace_back(warnings_concise);\n+    }",
      "path": "src/warnings.cpp",
      "position": null,
      "original_position": 27,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Once `g_timeoffset_warning` is set to `true` it will never be set back to `false` and this will warning will persist even after the problem is resolved?",
      "created_at": "2024-03-19T17:27:16Z",
      "updated_at": "2024-03-19T17:42:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1530801883",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1530801883"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": 65,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 68,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1530818676",
      "pull_request_review_id": 1945882168,
      "id": 1530818676,
      "node_id": "PRRC_kwDOABII585bPnB0",
      "diff_hunk": "@@ -43,6 +43,10 @@ def test_maxtipage(self, maxtipage, set_parameter=True, test_deltas=True):\n         self.generate(node_miner, 1)\n         assert_equal(node_ibd.getblockchaininfo()['initialblockdownload'], False)\n \n+        # reset time to system time so we don't have a time offset with the ibd node the next\n+        # time we connect to it, ensuring TimeOffsets::WarnIfOutOfSync() doesn't output to stderr\n+        node_miner.setmocktime(0)",
      "path": "test/functional/feature_maxtipage.py",
      "position": 6,
      "original_position": 6,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Could squash commits:\r\n587349072f `[net processing] Use TimeOffsets to warn when node is out of sync`\r\nd790e776ca `[test] reset miner mocktime in maxtipage to prevent time offset warning`\r\n",
      "created_at": "2024-03-19T17:37:15Z",
      "updated_at": "2024-03-19T17:42:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1530818676",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1530818676"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 48,
      "original_line": 48,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1530832723",
      "pull_request_review_id": 1946972313,
      "id": 1530832723,
      "node_id": "PRRC_kwDOABII585bPqdT",
      "diff_hunk": "@@ -1,116 +0,0 @@\n-// Copyright (c) 2014-2022 The Bitcoin Core developers\n-// Distributed under the MIT software license, see the accompanying\n-// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n-\n-#if defined(HAVE_CONFIG_H)\n-#include <config/bitcoin-config.h>\n-#endif\n-\n-#include <timedata.h>\n-\n-#include <common/args.h>\n-#include <logging.h>\n-#include <netaddress.h>\n-#include <node/interface_ui.h>\n-#include <sync.h>\n-#include <tinyformat.h>\n-#include <util/translation.h>\n-#include <warnings.h>\n-\n-static GlobalMutex g_timeoffset_mutex;\n-static int64_t nTimeOffset GUARDED_BY(g_timeoffset_mutex) = 0;\n-\n-/**\n- * \"Never go to sea with two chronometers; take one or three.\"\n- * Our three time sources are:\n- *  - System clock\n- *  - Median of other nodes clocks\n- *  - The user (asking the user to fix the system clock if the first two disagree)\n- */\n-int64_t GetTimeOffset()\n-{\n-    LOCK(g_timeoffset_mutex);\n-    return nTimeOffset;\n-}\n-\n-#define BITCOIN_TIMEDATA_MAX_SAMPLES 200\n-\n-static std::set<CNetAddr> g_sources;\n-static CMedianFilter<int64_t> g_time_offsets{BITCOIN_TIMEDATA_MAX_SAMPLES, 0};\n-static bool g_warning_emitted;\n-\n-void AddTimeData(const CNetAddr& ip, int64_t nOffsetSample)\n-{\n-    LOCK(g_timeoffset_mutex);\n-    // Ignore duplicates\n-    if (g_sources.size() == BITCOIN_TIMEDATA_MAX_SAMPLES)\n-        return;\n-    if (!g_sources.insert(ip).second)\n-        return;\n-\n-    // Add data\n-    g_time_offsets.input(nOffsetSample);\n-    LogPrint(BCLog::NET, \"added time data, samples %d, offset %+d (%+d minutes)\\n\", g_time_offsets.size(), nOffsetSample, nOffsetSample / 60);\n-\n-    // There is a known issue here (see issue #4521):\n-    //\n-    // - The structure g_time_offsets contains up to 200 elements, after which\n-    // any new element added to it will not increase its size, replacing the\n-    // oldest element.\n-    //\n-    // - The condition to update nTimeOffset includes checking whether the\n-    // number of elements in g_time_offsets is odd, which will never happen after\n-    // there are 200 elements.\n-    //\n-    // But in this case the 'bug' is protective against some attacks, and may\n-    // actually explain why we've never seen attacks which manipulate the\n-    // clock offset.\n-    //\n-    // So we should hold off on fixing this and clean it up as part of\n-    // a timing cleanup that strengthens it in a number of other ways.",
      "path": "src/timedata.cpp",
      "position": 70,
      "original_position": 70,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "https://github.com/bitcoin/bitcoin/pull/4526#issuecomment-49115517\r\nI wonder what those \"attacks\" are? @gmaxwell ",
      "created_at": "2024-03-19T17:47:39Z",
      "updated_at": "2024-03-19T17:47:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1530832723",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1530832723"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": 55,
      "original_start_line": 55,
      "start_side": "LEFT",
      "line": 70,
      "original_line": 70,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1531234359",
      "pull_request_review_id": 1947571374,
      "id": 1531234359,
      "node_id": "PRRC_kwDOABII585bRMg3",
      "diff_hunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_TIMEOFFSETS_H\n+#define BITCOIN_NODE_TIMEOFFSETS_H\n+\n+#include <sync.h>\n+\n+#include <atomic>\n+#include <chrono>\n+#include <deque>\n+#include <stddef.h>\n+\n+class TimeOffsets\n+{\n+private:\n+    static constexpr size_t N{50};\n+    //! Minimum difference between system and network time for a warning to be raised.\n+    static constexpr std::chrono::minutes m_warn_threshold{10};\n+    mutable std::atomic<bool> m_warning_emitted{false};  // Avoid flooding the user with warnings.",
      "path": "src/node/timeoffsets.h",
      "position": null,
      "original_position": 21,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "in_reply_to_id": 1530170447,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "For GUI and RPC warnings, this PR pretty much preserves the current behaviour: GUI messagebox gets shown only once (until restarted), and the RPC will keep firing forever (on master, it will be reset when another `SetMiscWarning()` is called, but in practice I don't think that really happens frequently).\r\n\r\nFor the debug log, however, this PR quite significantly improves things by\r\n1) doing an actual rolling calculation, which means that if clocks start drifting, the user will eventually still get a warning, whereas on master the time adjustment system completely stops after the first 199 outbound handshakes\r\n2) producing repeated log warnings (one for every outbound handshake) for as long _and only for as long_ as the median time offset exceeds the threshold.\r\n\r\nWhile I agree that for GUI & RPC things should be improved, this PR is no regression, and I'd rather it be done in a separate PR. Avoiding flooding seems less trivial to me than adding a simple timer: having a GUI message popup every 10 minutes is quite annoying if someone decides to flood the network with nodes with wrong clocks.\r\n\r\n> Is there a way for the user to see the median network time, as perceived by his node?\r\n\r\nyes, through `getnetworkinfo` a user can see the median offset\r\n\r\n> 1 month later the issues resurface - there is no warning or indication about it?\r\n\r\nthere will be warning logs every time we handshake with an outbound peer and the median timeoffset exceeds the threshold",
      "created_at": "2024-03-19T23:08:41Z",
      "updated_at": "2024-03-19T23:08:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1531234359",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1531234359"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 21,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1531234992",
      "pull_request_review_id": 1947572252,
      "id": 1531234992,
      "node_id": "PRRC_kwDOABII585bRMqw",
      "diff_hunk": "@@ -56,6 +62,11 @@ bilingual_str GetWarnings(bool verbose)\n         warnings_verbose.emplace_back(warnings_concise);\n     }\n \n+    if (g_timeoffset_warning) {\n+        warnings_concise = _(\"Your computer's date and time appear out of sync with the network, this may lead to consensus failure. Please ensure it is correct.\");\n+        warnings_verbose.emplace_back(warnings_concise);\n+    }",
      "path": "src/warnings.cpp",
      "position": null,
      "original_position": 27,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "in_reply_to_id": 1530801883,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Correct, as is roughly the current behaviour, as per https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1531234359",
      "created_at": "2024-03-19T23:09:49Z",
      "updated_at": "2024-03-19T23:09:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1531234992",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1531234992"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": 65,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 68,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1531235380",
      "pull_request_review_id": 1947572802,
      "id": 1531235380,
      "node_id": "PRRC_kwDOABII585bRMw0",
      "diff_hunk": "@@ -1,116 +0,0 @@\n-// Copyright (c) 2014-2022 The Bitcoin Core developers\n-// Distributed under the MIT software license, see the accompanying\n-// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n-\n-#if defined(HAVE_CONFIG_H)\n-#include <config/bitcoin-config.h>\n-#endif\n-\n-#include <timedata.h>\n-\n-#include <common/args.h>\n-#include <logging.h>\n-#include <netaddress.h>\n-#include <node/interface_ui.h>\n-#include <sync.h>\n-#include <tinyformat.h>\n-#include <util/translation.h>\n-#include <warnings.h>\n-\n-static GlobalMutex g_timeoffset_mutex;\n-static int64_t nTimeOffset GUARDED_BY(g_timeoffset_mutex) = 0;\n-\n-/**\n- * \"Never go to sea with two chronometers; take one or three.\"\n- * Our three time sources are:\n- *  - System clock\n- *  - Median of other nodes clocks\n- *  - The user (asking the user to fix the system clock if the first two disagree)\n- */\n-int64_t GetTimeOffset()\n-{\n-    LOCK(g_timeoffset_mutex);\n-    return nTimeOffset;\n-}\n-\n-#define BITCOIN_TIMEDATA_MAX_SAMPLES 200\n-\n-static std::set<CNetAddr> g_sources;\n-static CMedianFilter<int64_t> g_time_offsets{BITCOIN_TIMEDATA_MAX_SAMPLES, 0};\n-static bool g_warning_emitted;\n-\n-void AddTimeData(const CNetAddr& ip, int64_t nOffsetSample)\n-{\n-    LOCK(g_timeoffset_mutex);\n-    // Ignore duplicates\n-    if (g_sources.size() == BITCOIN_TIMEDATA_MAX_SAMPLES)\n-        return;\n-    if (!g_sources.insert(ip).second)\n-        return;\n-\n-    // Add data\n-    g_time_offsets.input(nOffsetSample);\n-    LogPrint(BCLog::NET, \"added time data, samples %d, offset %+d (%+d minutes)\\n\", g_time_offsets.size(), nOffsetSample, nOffsetSample / 60);\n-\n-    // There is a known issue here (see issue #4521):\n-    //\n-    // - The structure g_time_offsets contains up to 200 elements, after which\n-    // any new element added to it will not increase its size, replacing the\n-    // oldest element.\n-    //\n-    // - The condition to update nTimeOffset includes checking whether the\n-    // number of elements in g_time_offsets is odd, which will never happen after\n-    // there are 200 elements.\n-    //\n-    // But in this case the 'bug' is protective against some attacks, and may\n-    // actually explain why we've never seen attacks which manipulate the\n-    // clock offset.\n-    //\n-    // So we should hold off on fixing this and clean it up as part of\n-    // a timing cleanup that strengthens it in a number of other ways.",
      "path": "src/timedata.cpp",
      "position": 70,
      "original_position": 70,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "in_reply_to_id": 1530832723,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I don't know myself, but I'd argue it's probably not relevant anymore as consensus dependencies on network-adjusted time have been removed",
      "created_at": "2024-03-19T23:10:31Z",
      "updated_at": "2024-03-19T23:10:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1531235380",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1531235380"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": 55,
      "original_start_line": 55,
      "start_side": "LEFT",
      "line": 70,
      "original_line": 70,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1531235768",
      "pull_request_review_id": 1947573322,
      "id": 1531235768,
      "node_id": "PRRC_kwDOABII585bRM24",
      "diff_hunk": "@@ -0,0 +1,57 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <deque>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return 0s;\n+\n+    auto sorted_copy = m_offsets;\n+    std::sort(sorted_copy.begin(), sorted_copy.end());\n+    return sorted_copy[m_offsets.size() / 2];  // approximate median is good enough, keep it simple\n+}\n+\n+bool TimeOffsets::WarnIfOutOfSync() const\n+{\n+    // when median == std::numeric_limits<int64_t>::min(), calling std::chrono::abs is UB\n+    auto median{std::max(Median(), std::chrono::seconds(std::numeric_limits<int64_t>::min() + 1))};\n+    if (std::chrono::abs(median) <= m_warn_threshold) return false;\n+\n+    bilingual_str msg{_(\"Your computer's date and time appear out of sync with the network, \"\n+                        \"this may lead to consensus failure. Please ensure it is correct.\")};",
      "path": "src/node/timeoffsets.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "in_reply_to_id": 1530164745,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I don't immediately see what practical benefit it would offer to the user (but I'm happy to add it if I need to re-touch (or in follow-up)",
      "created_at": "2024-03-19T23:11:12Z",
      "updated_at": "2024-03-20T16:46:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1531235768",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1531235768"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": 46,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1532435284",
      "pull_request_review_id": 1949459384,
      "id": 1532435284,
      "node_id": "PRRC_kwDOABII585bVxtU",
      "diff_hunk": "@@ -1,116 +0,0 @@\n-// Copyright (c) 2014-2022 The Bitcoin Core developers\n-// Distributed under the MIT software license, see the accompanying\n-// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n-\n-#if defined(HAVE_CONFIG_H)\n-#include <config/bitcoin-config.h>\n-#endif\n-\n-#include <timedata.h>\n-\n-#include <common/args.h>\n-#include <logging.h>\n-#include <netaddress.h>\n-#include <node/interface_ui.h>\n-#include <sync.h>\n-#include <tinyformat.h>\n-#include <util/translation.h>\n-#include <warnings.h>\n-\n-static GlobalMutex g_timeoffset_mutex;\n-static int64_t nTimeOffset GUARDED_BY(g_timeoffset_mutex) = 0;\n-\n-/**\n- * \"Never go to sea with two chronometers; take one or three.\"\n- * Our three time sources are:\n- *  - System clock\n- *  - Median of other nodes clocks\n- *  - The user (asking the user to fix the system clock if the first two disagree)\n- */\n-int64_t GetTimeOffset()\n-{\n-    LOCK(g_timeoffset_mutex);\n-    return nTimeOffset;\n-}\n-\n-#define BITCOIN_TIMEDATA_MAX_SAMPLES 200\n-\n-static std::set<CNetAddr> g_sources;\n-static CMedianFilter<int64_t> g_time_offsets{BITCOIN_TIMEDATA_MAX_SAMPLES, 0};\n-static bool g_warning_emitted;\n-\n-void AddTimeData(const CNetAddr& ip, int64_t nOffsetSample)\n-{\n-    LOCK(g_timeoffset_mutex);\n-    // Ignore duplicates\n-    if (g_sources.size() == BITCOIN_TIMEDATA_MAX_SAMPLES)\n-        return;\n-    if (!g_sources.insert(ip).second)\n-        return;\n-\n-    // Add data\n-    g_time_offsets.input(nOffsetSample);\n-    LogPrint(BCLog::NET, \"added time data, samples %d, offset %+d (%+d minutes)\\n\", g_time_offsets.size(), nOffsetSample, nOffsetSample / 60);\n-\n-    // There is a known issue here (see issue #4521):\n-    //\n-    // - The structure g_time_offsets contains up to 200 elements, after which\n-    // any new element added to it will not increase its size, replacing the\n-    // oldest element.\n-    //\n-    // - The condition to update nTimeOffset includes checking whether the\n-    // number of elements in g_time_offsets is odd, which will never happen after\n-    // there are 200 elements.\n-    //\n-    // But in this case the 'bug' is protective against some attacks, and may\n-    // actually explain why we've never seen attacks which manipulate the\n-    // clock offset.\n-    //\n-    // So we should hold off on fixing this and clean it up as part of\n-    // a timing cleanup that strengthens it in a number of other ways.",
      "path": "src/timedata.cpp",
      "position": 70,
      "original_position": 70,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "in_reply_to_id": 1530832723,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Right, it dawned on me that previously we would assume the network's time, ie \"adjust\" our time according to the network and this has been removed, so \"the network\" can no longer mess with our clock. Sorry for the noise.",
      "created_at": "2024-03-20T16:38:06Z",
      "updated_at": "2024-03-20T16:38:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1532435284",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1532435284"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": 55,
      "original_start_line": 55,
      "start_side": "LEFT",
      "line": 70,
      "original_line": 70,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1532450956",
      "pull_request_review_id": 1949484941,
      "id": 1532450956,
      "node_id": "PRRC_kwDOABII585bV1iM",
      "diff_hunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_TIMEOFFSETS_H\n+#define BITCOIN_NODE_TIMEOFFSETS_H\n+\n+#include <sync.h>\n+\n+#include <atomic>\n+#include <chrono>\n+#include <deque>\n+#include <stddef.h>\n+\n+class TimeOffsets\n+{\n+private:\n+    static constexpr size_t N{50};\n+    //! Minimum difference between system and network time for a warning to be raised.\n+    static constexpr std::chrono::minutes m_warn_threshold{10};\n+    mutable std::atomic<bool> m_warning_emitted{false};  // Avoid flooding the user with warnings.",
      "path": "src/node/timeoffsets.h",
      "position": null,
      "original_position": 21,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "in_reply_to_id": 1530170447,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "See https://github.com/stickies-v/bitcoin/commit/0146553aaab53b6092bb54e0b2c71282fef44787 for a potential implementation on turning {GUI, RPC} warnings off again when the offsets fall within the threshold again. Happy to open a follow-up PR with this if you like the approach, I think this PR is too close to merge to overhaul it again as per my previous comment, what do you think?",
      "created_at": "2024-03-20T16:45:38Z",
      "updated_at": "2024-03-20T16:45:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1532450956",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1532450956"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 21,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1533496726",
      "pull_request_review_id": 1951384235,
      "id": 1533496726,
      "node_id": "PRRC_kwDOABII585bZ02W",
      "diff_hunk": "@@ -0,0 +1,57 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <deque>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return 0s;\n+\n+    auto sorted_copy = m_offsets;\n+    std::sort(sorted_copy.begin(), sorted_copy.end());\n+    return sorted_copy[m_offsets.size() / 2];  // approximate median is good enough, keep it simple\n+}\n+\n+bool TimeOffsets::WarnIfOutOfSync() const\n+{\n+    // when median == std::numeric_limits<int64_t>::min(), calling std::chrono::abs is UB\n+    auto median{std::max(Median(), std::chrono::seconds(std::numeric_limits<int64_t>::min() + 1))};\n+    if (std::chrono::abs(median) <= m_warn_threshold) return false;\n+\n+    bilingual_str msg{_(\"Your computer's date and time appear out of sync with the network, \"\n+                        \"this may lead to consensus failure. Please ensure it is correct.\")};",
      "path": "src/node/timeoffsets.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "in_reply_to_id": 1530164745,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "\"Your computer's clock is 765 seconds behind the network. The difference is more than 600 seconds and this may lead to a consensus failure. Please ensure your computer's clock is correct.\"",
      "created_at": "2024-03-21T09:21:02Z",
      "updated_at": "2024-03-21T09:21:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1533496726",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1533496726"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": 46,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1533509979",
      "pull_request_review_id": 1951421086,
      "id": 1533509979,
      "node_id": "PRRC_kwDOABII585bZ4Fb",
      "diff_hunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_TIMEOFFSETS_H\n+#define BITCOIN_NODE_TIMEOFFSETS_H\n+\n+#include <sync.h>\n+\n+#include <atomic>\n+#include <chrono>\n+#include <deque>\n+#include <stddef.h>\n+\n+class TimeOffsets\n+{\n+private:\n+    static constexpr size_t N{50};\n+    //! Minimum difference between system and network time for a warning to be raised.\n+    static constexpr std::chrono::minutes m_warn_threshold{10};\n+    mutable std::atomic<bool> m_warning_emitted{false};  // Avoid flooding the user with warnings.",
      "path": "src/node/timeoffsets.h",
      "position": null,
      "original_position": 21,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "in_reply_to_id": 1530170447,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> what do you think?\r\n\r\nI agree.\r\n\r\nI would be happy to review that commit if you PR it. Early suggestion:\r\n\r\n```diff\r\n-     m_warning_emitted.value() - now > m_warning_wait\r\n+     now - m_warning_emitted.value() > m_warning_wait\r\n```",
      "created_at": "2024-03-21T09:30:22Z",
      "updated_at": "2024-03-21T09:30:22Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1533509979",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1533509979"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 21,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535332514",
      "pull_request_review_id": 1954401947,
      "id": 1535332514,
      "node_id": "PRRC_kwDOABII585bg1Ci",
      "diff_hunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_TIMEOFFSETS_H\n+#define BITCOIN_NODE_TIMEOFFSETS_H\n+\n+#include <sync.h>\n+\n+#include <atomic>\n+#include <chrono>\n+#include <deque>\n+#include <stddef.h>",
      "path": "src/node/timeoffsets.h",
      "position": null,
      "original_position": 13,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "9f2904b621cc945005570fc6e94832d73d36d92b",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit in 9f2904b621cc945005570fc6e94832d73d36d92b: `<cstddef>`",
      "created_at": "2024-03-22T09:59:14Z",
      "updated_at": "2024-03-22T11:10:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1535332514",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535332514"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 13,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535374706",
      "pull_request_review_id": 1954467885,
      "id": 1535374706,
      "node_id": "PRRC_kwDOABII585bg_Vy",
      "diff_hunk": "@@ -0,0 +1,57 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <deque>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return 0s;\n+\n+    auto sorted_copy = m_offsets;\n+    std::sort(sorted_copy.begin(), sorted_copy.end());\n+    return sorted_copy[m_offsets.size() / 2];  // approximate median is good enough, keep it simple\n+}\n+\n+bool TimeOffsets::WarnIfOutOfSync() const\n+{\n+    // when median == std::numeric_limits<int64_t>::min(), calling std::chrono::abs is UB\n+    auto median{std::max(Median(), std::chrono::seconds(std::numeric_limits<int64_t>::min() + 1))};\n+    if (std::chrono::abs(median) <= m_warn_threshold) return false;\n+\n+    bilingual_str msg{_(\"Your computer's date and time appear out of sync with the network, \"\n+                        \"this may lead to consensus failure. Please ensure it is correct.\")};",
      "path": "src/node/timeoffsets.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "in_reply_to_id": 1530164745,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Consider this ^ while retouching. I think it is more useful because it tells the user how wrong is the clock and what are the expectations of Bitcoin Core. Otherwise (to the user) it is not clear whether Bitcoin Core is too picky and whether this is about +/- 1 second or something like that. Referring the user to the `getnetworkinfo` RPC may also be useful.",
      "created_at": "2024-03-22T10:32:58Z",
      "updated_at": "2024-03-22T10:32:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1535374706",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535374706"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": 46,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535383140",
      "pull_request_review_id": 1954401947,
      "id": 1535383140,
      "node_id": "PRRC_kwDOABII585bhBZk",
      "diff_hunk": "@@ -0,0 +1,57 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <deque>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return 0s;\n+\n+    auto sorted_copy = m_offsets;\n+    std::sort(sorted_copy.begin(), sorted_copy.end());\n+    return sorted_copy[m_offsets.size() / 2];  // approximate median is good enough, keep it simple\n+}\n+\n+bool TimeOffsets::WarnIfOutOfSync() const\n+{\n+    // when median == std::numeric_limits<int64_t>::min(), calling std::chrono::abs is UB\n+    auto median{std::max(Median(), std::chrono::seconds(std::numeric_limits<int64_t>::min() + 1))};\n+    if (std::chrono::abs(median) <= m_warn_threshold) return false;\n+\n+    bilingual_str msg{_(\"Your computer's date and time appear out of sync with the network, \"\n+                        \"this may lead to consensus failure. Please ensure it is correct.\")};\n+    LogWarning(\"%s\\n\", msg.original);",
      "path": "src/node/timeoffsets.cpp",
      "position": 65,
      "original_position": 48,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "9f2904b621cc945005570fc6e94832d73d36d92b",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit in 9f2904b621cc945005570fc6e94832d73d36d92b:  This may keep printing the warning, even if the user adjusted the clock, because the offsets are not discarded when the clock changes.",
      "created_at": "2024-03-22T10:40:01Z",
      "updated_at": "2024-03-22T11:10:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1535383140",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535383140"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 65,
      "original_line": 65,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535386795",
      "pull_request_review_id": 1954401947,
      "id": 1535386795,
      "node_id": "PRRC_kwDOABII585bhCSr",
      "diff_hunk": "@@ -0,0 +1,57 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <deque>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return 0s;\n+\n+    auto sorted_copy = m_offsets;\n+    std::sort(sorted_copy.begin(), sorted_copy.end());\n+    return sorted_copy[m_offsets.size() / 2];  // approximate median is good enough, keep it simple\n+}\n+\n+bool TimeOffsets::WarnIfOutOfSync() const\n+{\n+    // when median == std::numeric_limits<int64_t>::min(), calling std::chrono::abs is UB\n+    auto median{std::max(Median(), std::chrono::seconds(std::numeric_limits<int64_t>::min() + 1))};\n+    if (std::chrono::abs(median) <= m_warn_threshold) return false;\n+\n+    bilingual_str msg{_(\"Your computer's date and time appear out of sync with the network, \"\n+                        \"this may lead to consensus failure. Please ensure it is correct.\")};\n+    LogWarning(\"%s\\n\", msg.original);\n+\n+    if (!m_warning_emitted) {\n+        m_warning_emitted = true;\n+        SetMedianTimeOffsetWarning();",
      "path": "src/node/timeoffsets.cpp",
      "position": null,
      "original_position": 52,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "9f2904b621cc945005570fc6e94832d73d36d92b",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit in https://github.com/bitcoin/bitcoin/commit/9f2904b621cc945005570fc6e94832d73d36d92b: Any reason to duplicate the message in two translation units? Why not pass it from here into this function?",
      "created_at": "2024-03-22T10:43:16Z",
      "updated_at": "2024-03-22T11:10:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1535386795",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535386795"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 52,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535401675",
      "pull_request_review_id": 1954401947,
      "id": 1535401675,
      "node_id": "PRRC_kwDOABII585bhF7L",
      "diff_hunk": "@@ -0,0 +1,57 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <deque>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)",
      "path": "src/node/timeoffsets.cpp",
      "position": 23,
      "original_position": 18,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "9f2904b621cc945005570fc6e94832d73d36d92b",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit in https://github.com/bitcoin/bitcoin/commit/9f2904b621cc945005570fc6e94832d73d36d92b: You are also removing the debug log that logged the time offset. Is it intentional?",
      "created_at": "2024-03-22T10:56:59Z",
      "updated_at": "2024-03-22T11:10:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1535401675",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535401675"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 23,
      "original_line": 23,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535408725",
      "pull_request_review_id": 1954401947,
      "id": 1535408725,
      "node_id": "PRRC_kwDOABII585bhHpV",
      "diff_hunk": "@@ -3625,8 +3624,8 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         if (!pfrom.IsInboundConn()) {\n             // Don't use timedata samples from inbound peers to make it\n             // harder for others to tamper with our adjusted time.\n-            AddTimeData(pfrom.addr, Ticks<std::chrono::seconds>(peer->m_time_offset.load()));",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e5c3b2807921caa6f2717fa84915cb02b1f4d9fb",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit in e5c3b2807921caa6f2717fa84915cb02b1f4d9fb: Not that it matters, but the commit itself is broken, because `GetTimeOffset` in the rpc will now always be zero in this commit. The next commit fixes it.",
      "created_at": "2024-03-22T11:03:44Z",
      "updated_at": "2024-03-22T11:10:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1535408725",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535408725"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3628,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535417573",
      "pull_request_review_id": 1954539581,
      "id": 1535417573,
      "node_id": "PRRC_kwDOABII585bhJzl",
      "diff_hunk": "@@ -0,0 +1,29 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <node/timeoffsets.h>\n+#include <noui.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+#include <test/util/setup_common.h>\n+\n+#include <chrono>\n+\n+void initialize_timeoffsets()\n+{\n+    static const auto testing_setup = MakeNoLogFileContext<>(ChainType::MAIN);\n+    noui_test_redirect();  // prevent the TimeOffsets::WarnIfOutOfSync() GUI MessageBoxes from flooding the log",
      "path": "src/test/fuzz/timeoffsets.cpp",
      "position": null,
      "original_position": 17,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "9f2904b621cc945005570fc6e94832d73d36d92b",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think it would be fine to globally set this in MakeNoLogFileContext, or all tests, or should there ever be a case where one would want stuff printed to stderr (from `ThreadSafeMessageBox`) in tests instead of to the test log?",
      "created_at": "2024-03-22T11:12:40Z",
      "updated_at": "2024-05-03T14:04:37Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1535417573",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535417573"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535424851",
      "pull_request_review_id": 1954551761,
      "id": 1535424851,
      "node_id": "PRRC_kwDOABII585bhLlT",
      "diff_hunk": "@@ -0,0 +1,57 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <deque>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return 0s;\n+\n+    auto sorted_copy = m_offsets;\n+    std::sort(sorted_copy.begin(), sorted_copy.end());\n+    return sorted_copy[m_offsets.size() / 2];  // approximate median is good enough, keep it simple\n+}\n+\n+bool TimeOffsets::WarnIfOutOfSync() const\n+{\n+    // when median == std::numeric_limits<int64_t>::min(), calling std::chrono::abs is UB\n+    auto median{std::max(Median(), std::chrono::seconds(std::numeric_limits<int64_t>::min() + 1))};\n+    if (std::chrono::abs(median) <= m_warn_threshold) return false;\n+\n+    bilingual_str msg{_(\"Your computer's date and time appear out of sync with the network, \"\n+                        \"this may lead to consensus failure. Please ensure it is correct.\")};",
      "path": "src/node/timeoffsets.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "in_reply_to_id": 1530164745,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "> I think it is more useful because it tells the user how wrong is the clock\r\n\r\nNot sure. Just because it is the median does not mean that it is an accurate representation of the current time. For example, the time offsets could all be widely different numbers larger than the warning threshold. Or, it could be an outdated number, because the median is calculated based on samples from random points in the past.",
      "created_at": "2024-03-22T11:20:00Z",
      "updated_at": "2024-03-22T11:20:00Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1535424851",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535424851"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": 46,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535430433",
      "pull_request_review_id": 1954561288,
      "id": 1535430433,
      "node_id": "PRRC_kwDOABII585bhM8h",
      "diff_hunk": "@@ -3610,11 +3610,11 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n                   peer->m_starting_height, addrMe.ToStringAddrPort(), fRelay, pfrom.GetId(),\n                   remoteAddr, (mapped_as ? strprintf(\", mapped_as=%d\", mapped_as) : \"\"));\n \n-        peer->m_time_offset = nTime - GetTime();\n+        peer->m_time_offset = std::chrono::seconds{nTime - GetTime()};",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "0b372c0ab3c800e70bd81fc647742f1d50953188",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit in 0b372c0ab3c800e70bd81fc647742f1d50953188: Could use the type-safe `NodeClock/NodeSeconds`, which is identical to `GetTime`?\r\n\r\n```cpp\r\npeer->m_time_offset = NodeSeconds{std::chrono::seconds{nTime}} - Now<NodeSeconds>();",
      "created_at": "2024-03-22T11:26:06Z",
      "updated_at": "2024-03-22T11:37:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1535430433",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535430433"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3613,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535813414",
      "pull_request_review_id": 1955178305,
      "id": 1535813414,
      "node_id": "PRRC_kwDOABII585biqcm",
      "diff_hunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_TIMEOFFSETS_H\n+#define BITCOIN_NODE_TIMEOFFSETS_H\n+\n+#include <sync.h>\n+\n+#include <atomic>\n+#include <chrono>\n+#include <deque>\n+#include <stddef.h>",
      "path": "src/node/timeoffsets.h",
      "position": null,
      "original_position": 13,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "9f2904b621cc945005570fc6e94832d73d36d92b",
      "in_reply_to_id": 1535332514,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "fixed",
      "created_at": "2024-03-22T15:56:54Z",
      "updated_at": "2024-03-22T22:39:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1535813414",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535813414"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 13,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535848511",
      "pull_request_review_id": 1955178305,
      "id": 1535848511,
      "node_id": "PRRC_kwDOABII585bizA_",
      "diff_hunk": "@@ -0,0 +1,57 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <deque>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)",
      "path": "src/node/timeoffsets.cpp",
      "position": 23,
      "original_position": 18,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "9f2904b621cc945005570fc6e94832d73d36d92b",
      "in_reply_to_id": 1535401675,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I didn't think about it much, have re-added a debug log line.",
      "created_at": "2024-03-22T16:22:04Z",
      "updated_at": "2024-03-22T22:39:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1535848511",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535848511"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 23,
      "original_line": 23,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535926994",
      "pull_request_review_id": 1955178305,
      "id": 1535926994,
      "node_id": "PRRC_kwDOABII585bjGLS",
      "diff_hunk": "@@ -0,0 +1,57 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <deque>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return 0s;\n+\n+    auto sorted_copy = m_offsets;\n+    std::sort(sorted_copy.begin(), sorted_copy.end());\n+    return sorted_copy[m_offsets.size() / 2];  // approximate median is good enough, keep it simple\n+}\n+\n+bool TimeOffsets::WarnIfOutOfSync() const\n+{\n+    // when median == std::numeric_limits<int64_t>::min(), calling std::chrono::abs is UB\n+    auto median{std::max(Median(), std::chrono::seconds(std::numeric_limits<int64_t>::min() + 1))};\n+    if (std::chrono::abs(median) <= m_warn_threshold) return false;\n+\n+    bilingual_str msg{_(\"Your computer's date and time appear out of sync with the network, \"\n+                        \"this may lead to consensus failure. Please ensure it is correct.\")};\n+    LogWarning(\"%s\\n\", msg.original);\n+\n+    if (!m_warning_emitted) {\n+        m_warning_emitted = true;\n+        SetMedianTimeOffsetWarning();",
      "path": "src/node/timeoffsets.cpp",
      "position": null,
      "original_position": 52,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "9f2904b621cc945005570fc6e94832d73d36d92b",
      "in_reply_to_id": 1535386795,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks, updated.",
      "created_at": "2024-03-22T17:15:41Z",
      "updated_at": "2024-03-22T22:39:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1535926994",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535926994"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 52,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535938911",
      "pull_request_review_id": 1955178305,
      "id": 1535938911,
      "node_id": "PRRC_kwDOABII585bjJFf",
      "diff_hunk": "@@ -3610,11 +3610,11 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n                   peer->m_starting_height, addrMe.ToStringAddrPort(), fRelay, pfrom.GetId(),\n                   remoteAddr, (mapped_as ? strprintf(\", mapped_as=%d\", mapped_as) : \"\"));\n \n-        peer->m_time_offset = nTime - GetTime();\n+        peer->m_time_offset = std::chrono::seconds{nTime - GetTime()};",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "0b372c0ab3c800e70bd81fc647742f1d50953188",
      "in_reply_to_id": 1535430433,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Neat, updated thanks",
      "created_at": "2024-03-22T17:23:45Z",
      "updated_at": "2024-03-22T22:39:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1535938911",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535938911"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3613,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535995235",
      "pull_request_review_id": 1955178305,
      "id": 1535995235,
      "node_id": "PRRC_kwDOABII585bjW1j",
      "diff_hunk": "@@ -0,0 +1,57 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <deque>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return 0s;\n+\n+    auto sorted_copy = m_offsets;\n+    std::sort(sorted_copy.begin(), sorted_copy.end());\n+    return sorted_copy[m_offsets.size() / 2];  // approximate median is good enough, keep it simple\n+}\n+\n+bool TimeOffsets::WarnIfOutOfSync() const\n+{\n+    // when median == std::numeric_limits<int64_t>::min(), calling std::chrono::abs is UB\n+    auto median{std::max(Median(), std::chrono::seconds(std::numeric_limits<int64_t>::min() + 1))};\n+    if (std::chrono::abs(median) <= m_warn_threshold) return false;\n+\n+    bilingual_str msg{_(\"Your computer's date and time appear out of sync with the network, \"\n+                        \"this may lead to consensus failure. Please ensure it is correct.\")};",
      "path": "src/node/timeoffsets.cpp",
      "position": null,
      "original_position": 47,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "in_reply_to_id": 1530164745,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I agree that the specific numbers don't matter too much here. The main goal is to have the user double check, and correct their settings if necessary, which should be obvious very quickly. I've updated the help message to reinforce that, and also to give context on when the message will disappear:\r\n\r\n```c++\r\n    bilingual_str msg{strprintf(_(\r\n        \"Your computer's date and time appears to be more than %d minutes out of sync with the network, \"\r\n        \"this may lead to consensus failure. After you've corrected your settings, this message \"\r\n        \"should no longer appear when you restart your node. Without a restart, it should stop showing \"\r\n        \"automatically after you've connected to a sufficient number of new outbound peers, which may \"\r\n        \"take some time.\"\r\n    ), Ticks<std::chrono::minutes>(m_warn_threshold))};\r\n```\r\n\r\nIt's quite a long message, but it should only very rarely pop up, and when it does, we really want the user to address it ASAP, so I suppose that's fair.\r\n\r\nI hope this works for both of you?",
      "created_at": "2024-03-22T18:05:07Z",
      "updated_at": "2024-03-22T22:39:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1535995235",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1535995235"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": 46,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 47,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1536019268",
      "pull_request_review_id": 1955178305,
      "id": 1536019268,
      "node_id": "PRRC_kwDOABII585bjctE",
      "diff_hunk": "@@ -43,6 +43,10 @@ def test_maxtipage(self, maxtipage, set_parameter=True, test_deltas=True):\n         self.generate(node_miner, 1)\n         assert_equal(node_ibd.getblockchaininfo()['initialblockdownload'], False)\n \n+        # reset time to system time so we don't have a time offset with the ibd node the next\n+        # time we connect to it, ensuring TimeOffsets::WarnIfOutOfSync() doesn't output to stderr\n+        node_miner.setmocktime(0)",
      "path": "test/functional/feature_maxtipage.py",
      "position": 6,
      "original_position": 6,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "in_reply_to_id": 1530818676,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Squashed",
      "created_at": "2024-03-22T18:27:28Z",
      "updated_at": "2024-03-22T22:39:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1536019268",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1536019268"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 48,
      "original_line": 48,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1536019771",
      "pull_request_review_id": 1955178305,
      "id": 1536019771,
      "node_id": "PRRC_kwDOABII585bjc07",
      "diff_hunk": "@@ -3625,8 +3624,8 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         if (!pfrom.IsInboundConn()) {\n             // Don't use timedata samples from inbound peers to make it\n             // harder for others to tamper with our adjusted time.\n-            AddTimeData(pfrom.addr, Ticks<std::chrono::seconds>(peer->m_time_offset.load()));",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e5c3b2807921caa6f2717fa84915cb02b1f4d9fb",
      "in_reply_to_id": 1535408725,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Ah, right. I've squashed the commit so it's no longer relevant.",
      "created_at": "2024-03-22T18:27:55Z",
      "updated_at": "2024-03-22T22:39:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1536019771",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1536019771"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3628,
      "side": "LEFT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1536093822",
      "pull_request_review_id": 1955178305,
      "id": 1536093822,
      "node_id": "PRRC_kwDOABII585bju5-",
      "diff_hunk": "@@ -0,0 +1,29 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <node/timeoffsets.h>\n+#include <noui.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/fuzz/util.h>\n+#include <test/util/setup_common.h>\n+\n+#include <chrono>\n+\n+void initialize_timeoffsets()\n+{\n+    static const auto testing_setup = MakeNoLogFileContext<>(ChainType::MAIN);\n+    noui_test_redirect();  // prevent the TimeOffsets::WarnIfOutOfSync() GUI MessageBoxes from flooding the log",
      "path": "src/test/fuzz/timeoffsets.cpp",
      "position": null,
      "original_position": 17,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "9f2904b621cc945005570fc6e94832d73d36d92b",
      "in_reply_to_id": 1535417573,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Seems sensible, but given that `MakeNoLogFileContext` is used in quite a few other places I'd rather keep that for a separate pull",
      "created_at": "2024-03-22T19:30:05Z",
      "updated_at": "2024-03-22T22:39:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1536093822",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1536093822"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1536222982",
      "pull_request_review_id": 1955178305,
      "id": 1536222982,
      "node_id": "PRRC_kwDOABII585bkOcG",
      "diff_hunk": "@@ -0,0 +1,39 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_TIMEOFFSETS_H\n+#define BITCOIN_NODE_TIMEOFFSETS_H\n+\n+#include <sync.h>\n+\n+#include <atomic>\n+#include <chrono>\n+#include <deque>\n+#include <stddef.h>\n+\n+class TimeOffsets\n+{\n+private:\n+    static constexpr size_t N{50};\n+    //! Minimum difference between system and network time for a warning to be raised.\n+    static constexpr std::chrono::minutes m_warn_threshold{10};\n+    mutable std::atomic<bool> m_warning_emitted{false};  // Avoid flooding the user with warnings.",
      "path": "src/node/timeoffsets.h",
      "position": null,
      "original_position": 21,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "a42d9b5041cdc522e8a4b81944e45b7f30458c26",
      "in_reply_to_id": 1530170447,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The latest force-push now also includes proper GUI and RPC warning behaviour. RPC warnings are now only shown when the median exceeds the threshold. GUI warnings are shown whenever the node falls out of sync, but max once per 60 minutes. I think this should fully address your comment? Thanks!",
      "created_at": "2024-03-22T21:05:55Z",
      "updated_at": "2024-03-22T22:39:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1536222982",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1536222982"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 21,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1536225506",
      "pull_request_review_id": 1955178305,
      "id": 1536225506,
      "node_id": "PRRC_kwDOABII585bkPDi",
      "diff_hunk": "@@ -0,0 +1,57 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <deque>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return 0s;\n+\n+    auto sorted_copy = m_offsets;\n+    std::sort(sorted_copy.begin(), sorted_copy.end());\n+    return sorted_copy[m_offsets.size() / 2];  // approximate median is good enough, keep it simple\n+}\n+\n+bool TimeOffsets::WarnIfOutOfSync() const\n+{\n+    // when median == std::numeric_limits<int64_t>::min(), calling std::chrono::abs is UB\n+    auto median{std::max(Median(), std::chrono::seconds(std::numeric_limits<int64_t>::min() + 1))};\n+    if (std::chrono::abs(median) <= m_warn_threshold) return false;\n+\n+    bilingual_str msg{_(\"Your computer's date and time appear out of sync with the network, \"\n+                        \"this may lead to consensus failure. Please ensure it is correct.\")};\n+    LogWarning(\"%s\\n\", msg.original);",
      "path": "src/node/timeoffsets.cpp",
      "position": 65,
      "original_position": 48,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "9f2904b621cc945005570fc6e94832d73d36d92b",
      "in_reply_to_id": 1535383140,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The log message has been updated to highlight that the message may persist for a while, thanks.",
      "created_at": "2024-03-22T21:09:03Z",
      "updated_at": "2024-03-22T22:39:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1536225506",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1536225506"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 65,
      "original_line": 65,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1544783265",
      "pull_request_review_id": 1969386851,
      "id": 1544783265,
      "node_id": "PRRC_kwDOABII585cE4Wh",
      "diff_hunk": "@@ -0,0 +1,57 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <deque>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return 0s;\n+\n+    auto sorted_copy = m_offsets;\n+    std::sort(sorted_copy.begin(), sorted_copy.end());\n+    return sorted_copy[m_offsets.size() / 2];  // approximate median is good enough, keep it simple\n+}\n+\n+bool TimeOffsets::WarnIfOutOfSync() const\n+{\n+    // when median == std::numeric_limits<int64_t>::min(), calling std::chrono::abs is UB\n+    auto median{std::max(Median(), std::chrono::seconds(std::numeric_limits<int64_t>::min() + 1))};\n+    if (std::chrono::abs(median) <= m_warn_threshold) return false;\n+\n+    bilingual_str msg{_(\"Your computer's date and time appear out of sync with the network, \"\n+                        \"this may lead to consensus failure. Please ensure it is correct.\")};\n+    LogWarning(\"%s\\n\", msg.original);",
      "path": "src/node/timeoffsets.cpp",
      "position": 65,
      "original_position": 48,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "9f2904b621cc945005570fc6e94832d73d36d92b",
      "in_reply_to_id": 1535383140,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Grepping in my node's log for how frequent outbound connections are made - it would take about 1.5 days to make 200 new outbound connections. Since this is about the median, I guess 101 new connections after fixing the clock will be enough for us to stop the warning. That is like 20ish hours. Quite long. Can we do better?\r\n\r\nCurrently we only save the difference between our time and the peer's time at the start of the connection and we have no clue that this difference has changed due to our clock being adjusted/corrected. If we save the value of the system_clock and steady_clock at the start of the connection, in addition to the peer's offset, at a later time we can deduce that our clock has been adjusted and add that diff/adjustment to the peer's offset to immediately figure out that \"now our clock is in sync with that peer's clock\".\r\n\r\nSo, instead of `peer_offset`, it would be a matter of using the following instead:\r\n`peer_offset + steady_clock_diff - system_clock_diff`, assuming:\r\n`steady_clock_diff = steady_clock_now - steady_clock_when_connected`\r\n`system_clock_diff = system_clock_now - system_clock_when_connected`.\r\n\r\nExample:\r\n---\r\nLets say our clock is wrong, 15 minutes ahead. When we connect to a peer at `17:00:00` our time they send us a time that is 15 minutes ago and we save:\r\n`peer_offset = -15min`,\r\n`system_clock_when_connected = 17:00:00`,\r\n`steady_clock_when_connected = 1000` (some obscure value [seconds]).\r\nOne hour later, our clock has been fixed/corrected, by moving it 15 min backwards (or stopping to move for 15 min). So,\r\n`system_clock_now = 17:45:00`,\r\n`steady_clock_now = 4600` (the obscure value 1000 plus 3600 because 1 hour has passed).\r\nAnd then:\r\n`steady_clock_diff = 4600 - 1000 = 60 min`\r\n`system_clock_diff = 17:45:00 - 17:00:00 = 45 min`\r\nThe difference between those is 15 minutes and adding that to `peer_offset` gives us offset 0, meaning that now our clock is in sync with the peer's clock.",
      "created_at": "2024-03-29T18:55:43Z",
      "updated_at": "2024-03-29T18:55:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1544783265",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1544783265"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 65,
      "original_line": 65,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1545503259",
      "pull_request_review_id": 1970063571,
      "id": 1545503259,
      "node_id": "PRRC_kwDOABII585cHoIb",
      "diff_hunk": "@@ -0,0 +1,57 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <deque>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return 0s;\n+\n+    auto sorted_copy = m_offsets;\n+    std::sort(sorted_copy.begin(), sorted_copy.end());\n+    return sorted_copy[m_offsets.size() / 2];  // approximate median is good enough, keep it simple\n+}\n+\n+bool TimeOffsets::WarnIfOutOfSync() const\n+{\n+    // when median == std::numeric_limits<int64_t>::min(), calling std::chrono::abs is UB\n+    auto median{std::max(Median(), std::chrono::seconds(std::numeric_limits<int64_t>::min() + 1))};\n+    if (std::chrono::abs(median) <= m_warn_threshold) return false;\n+\n+    bilingual_str msg{_(\"Your computer's date and time appear out of sync with the network, \"\n+                        \"this may lead to consensus failure. Please ensure it is correct.\")};\n+    LogWarning(\"%s\\n\", msg.original);",
      "path": "src/node/timeoffsets.cpp",
      "position": 65,
      "original_position": 48,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "9f2904b621cc945005570fc6e94832d73d36d92b",
      "in_reply_to_id": 1535383140,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Using both system and steady clock is an interesting idea and one I hadn't considered, thanks. I'm going to look into this a bit more and will follow up shortly.\r\n\r\n> it would take about 1.5 days to make 200 new outbound connections\r\n\r\nFYI this PR reduces 200 -> 50 outbounds so your calculations are a bit off.\r\n",
      "created_at": "2024-03-30T22:10:16Z",
      "updated_at": "2024-03-30T22:10:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1545503259",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1545503259"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 65,
      "original_line": 65,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547927278",
      "pull_request_review_id": 1973887290,
      "id": 1547927278,
      "node_id": "PRRC_kwDOABII585cQ37u",
      "diff_hunk": "@@ -390,6 +390,10 @@ struct Peer {\n     /** Whether this peer wants invs or headers (when possible) for block announcements */\n     bool m_prefers_headers GUARDED_BY(NetEventsInterface::g_msgproc_mutex){false};\n \n+    /** Time offset computed during the version handshake based on the\n+     * timestamp the peer send in the version message. */",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 5,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "5084ad48462b3169c99a81aeb21a339c3a9a4728",
      "in_reply_to_id": null,
      "user": {
        "login": "sr-gi",
        "id": 6665628,
        "node_id": "MDQ6VXNlcjY2NjU2Mjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6665628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sr-gi",
        "html_url": "https://github.com/sr-gi",
        "followers_url": "https://api.github.com/users/sr-gi/followers",
        "following_url": "https://api.github.com/users/sr-gi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sr-gi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sr-gi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sr-gi/subscriptions",
        "organizations_url": "https://api.github.com/users/sr-gi/orgs",
        "repos_url": "https://api.github.com/users/sr-gi/repos",
        "events_url": "https://api.github.com/users/sr-gi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sr-gi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "5084ad48462b3169c99a81aeb21a339c3a9a4728 nit: sends/sent",
      "created_at": "2024-04-02T13:47:51Z",
      "updated_at": "2024-04-03T11:35:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1547927278",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547927278"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 394,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547973617",
      "pull_request_review_id": 1973887290,
      "id": 1547973617,
      "node_id": "PRRC_kwDOABII585cRDPx",
      "diff_hunk": "@@ -392,7 +392,7 @@ struct Peer {\n \n     /** Time offset computed during the version handshake based on the\n      * timestamp the peer send in the version message. */\n-    std::atomic<int64_t> m_time_offset{0};\n+    std::atomic<std::chrono::seconds> m_time_offset{0s};",
      "path": "src/net_processing.cpp",
      "position": 22,
      "original_position": 5,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "16dededcd8d52b6d0fdbe9e0ffab6a177aa8aa17",
      "in_reply_to_id": null,
      "user": {
        "login": "sr-gi",
        "id": 6665628,
        "node_id": "MDQ6VXNlcjY2NjU2Mjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6665628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sr-gi",
        "html_url": "https://github.com/sr-gi",
        "followers_url": "https://api.github.com/users/sr-gi/followers",
        "following_url": "https://api.github.com/users/sr-gi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sr-gi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sr-gi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sr-gi/subscriptions",
        "organizations_url": "https://api.github.com/users/sr-gi/orgs",
        "repos_url": "https://api.github.com/users/sr-gi/repos",
        "events_url": "https://api.github.com/users/sr-gi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sr-gi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In 16dededcd8d52b6d0fdbe9e0ffab6a177aa8aa17, why is this defined as `0s`, but `time_offset` is defined as `0` in `net_processing.cpp`?",
      "created_at": "2024-04-02T14:10:57Z",
      "updated_at": "2024-04-03T11:35:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1547973617",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1547973617"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 395,
      "original_line": 395,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548002240",
      "pull_request_review_id": 1973887290,
      "id": 1548002240,
      "node_id": "PRRC_kwDOABII585cRKPA",
      "diff_hunk": "@@ -3666,12 +3671,11 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n                   peer->m_starting_height, addrMe.ToStringAddrPort(), fRelay, pfrom.GetId(),\n                   remoteAddr, (mapped_as ? strprintf(\", mapped_as=%d\", mapped_as) : \"\"));\n \n-        int64_t nTimeOffset = nTime - GetTime();\n-        pfrom.nTimeOffset = nTimeOffset;\n+        peer->m_time_offset = nTime - GetTime();\n         if (!pfrom.IsInboundConn()) {\n             // Don't use timedata samples from inbound peers to make it\n             // harder for others to tamper with our adjusted time.",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "5084ad48462b3169c99a81aeb21a339c3a9a4728",
      "in_reply_to_id": null,
      "user": {
        "login": "sr-gi",
        "id": 6665628,
        "node_id": "MDQ6VXNlcjY2NjU2Mjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6665628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sr-gi",
        "html_url": "https://github.com/sr-gi",
        "followers_url": "https://api.github.com/users/sr-gi/followers",
        "following_url": "https://api.github.com/users/sr-gi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sr-gi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sr-gi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sr-gi/subscriptions",
        "organizations_url": "https://api.github.com/users/sr-gi/orgs",
        "repos_url": "https://api.github.com/users/sr-gi/repos",
        "events_url": "https://api.github.com/users/sr-gi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sr-gi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: Not sure what commit this may better fit in, but there is no such thing as adjusted time anymore, so the comment may need updating",
      "created_at": "2024-04-02T14:27:04Z",
      "updated_at": "2024-04-03T11:35:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1548002240",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548002240"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3677,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548013616",
      "pull_request_review_id": 1973887290,
      "id": 1548013616,
      "node_id": "PRRC_kwDOABII585cRNAw",
      "diff_hunk": "@@ -0,0 +1,76 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <tinyformat.h>\n+#include <util/time.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <cstdint>\n+#include <deque>\n+#include <limits>\n+#include <optional>\n+\n+using namespace std::chrono_literals;",
      "path": "src/node/timeoffsets.cpp",
      "position": 21,
      "original_position": 21,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": null,
      "user": {
        "login": "sr-gi",
        "id": 6665628,
        "node_id": "MDQ6VXNlcjY2NjU2Mjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6665628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sr-gi",
        "html_url": "https://github.com/sr-gi",
        "followers_url": "https://api.github.com/users/sr-gi/followers",
        "following_url": "https://api.github.com/users/sr-gi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sr-gi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sr-gi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sr-gi/subscriptions",
        "organizations_url": "https://api.github.com/users/sr-gi/orgs",
        "repos_url": "https://api.github.com/users/sr-gi/repos",
        "events_url": "https://api.github.com/users/sr-gi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sr-gi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47 doesn't look like `chrono_literals` is required here",
      "created_at": "2024-04-02T14:33:28Z",
      "updated_at": "2024-04-03T11:35:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1548013616",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548013616"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 21,
      "original_line": 21,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548018941",
      "pull_request_review_id": 1973887290,
      "id": 1548018941,
      "node_id": "PRRC_kwDOABII585cROT9",
      "diff_hunk": "@@ -0,0 +1,42 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_TIMEOFFSETS_H\n+#define BITCOIN_NODE_TIMEOFFSETS_H\n+\n+#include <sync.h>\n+\n+#include <chrono>\n+#include <cstddef>\n+#include <deque>\n+#include <optional>\n+\n+class TimeOffsets\n+{\n+private:\n+    static constexpr size_t N{50};\n+    //! Minimum difference between system and network time for a warning to be raised.\n+    static constexpr std::chrono::minutes m_warn_threshold{10};\n+    //! Log the last time a GUI warning was raised to avoid flooding user with them",
      "path": "src/node/timeoffsets.h",
      "position": null,
      "original_position": 21,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": null,
      "user": {
        "login": "sr-gi",
        "id": 6665628,
        "node_id": "MDQ6VXNlcjY2NjU2Mjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6665628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sr-gi",
        "html_url": "https://github.com/sr-gi",
        "followers_url": "https://api.github.com/users/sr-gi/followers",
        "following_url": "https://api.github.com/users/sr-gi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sr-gi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sr-gi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sr-gi/subscriptions",
        "organizations_url": "https://api.github.com/users/sr-gi/orgs",
        "repos_url": "https://api.github.com/users/sr-gi/repos",
        "events_url": "https://api.github.com/users/sr-gi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sr-gi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47 nit: full stop (for consistency with the rest).\r\n\r\n",
      "created_at": "2024-04-02T14:35:57Z",
      "updated_at": "2024-04-03T11:35:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1548018941",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548018941"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 21,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548019018",
      "pull_request_review_id": 1973887290,
      "id": 1548019018,
      "node_id": "PRRC_kwDOABII585cROVK",
      "diff_hunk": "@@ -0,0 +1,42 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_TIMEOFFSETS_H\n+#define BITCOIN_NODE_TIMEOFFSETS_H\n+\n+#include <sync.h>\n+\n+#include <chrono>\n+#include <cstddef>\n+#include <deque>\n+#include <optional>\n+\n+class TimeOffsets\n+{\n+private:\n+    static constexpr size_t N{50};\n+    //! Minimum difference between system and network time for a warning to be raised.\n+    static constexpr std::chrono::minutes m_warn_threshold{10};\n+    //! Log the last time a GUI warning was raised to avoid flooding user with them\n+    mutable std::optional<std::chrono::steady_clock::time_point> m_warning_emitted GUARDED_BY(m_mutex){};\n+    //! Minimum time to wait before raising a new GUI warning",
      "path": "src/node/timeoffsets.h",
      "position": null,
      "original_position": 23,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": null,
      "user": {
        "login": "sr-gi",
        "id": 6665628,
        "node_id": "MDQ6VXNlcjY2NjU2Mjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6665628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sr-gi",
        "html_url": "https://github.com/sr-gi",
        "followers_url": "https://api.github.com/users/sr-gi/followers",
        "following_url": "https://api.github.com/users/sr-gi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sr-gi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sr-gi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sr-gi/subscriptions",
        "organizations_url": "https://api.github.com/users/sr-gi/orgs",
        "repos_url": "https://api.github.com/users/sr-gi/repos",
        "events_url": "https://api.github.com/users/sr-gi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sr-gi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47 nit: full stop (for consistency with the rest)",
      "created_at": "2024-04-02T14:36:01Z",
      "updated_at": "2024-04-03T11:35:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1548019018",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548019018"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 23,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548021353",
      "pull_request_review_id": 1973887290,
      "id": 1548021353,
      "node_id": "PRRC_kwDOABII585cRO5p",
      "diff_hunk": "@@ -0,0 +1,42 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_TIMEOFFSETS_H\n+#define BITCOIN_NODE_TIMEOFFSETS_H\n+\n+#include <sync.h>\n+\n+#include <chrono>\n+#include <cstddef>\n+#include <deque>\n+#include <optional>\n+\n+class TimeOffsets\n+{\n+private:\n+    static constexpr size_t N{50};\n+    //! Minimum difference between system and network time for a warning to be raised.\n+    static constexpr std::chrono::minutes m_warn_threshold{10};\n+    //! Log the last time a GUI warning was raised to avoid flooding user with them",
      "path": "src/node/timeoffsets.h",
      "position": null,
      "original_position": 21,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": 1548018941,
      "user": {
        "login": "sr-gi",
        "id": 6665628,
        "node_id": "MDQ6VXNlcjY2NjU2Mjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6665628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sr-gi",
        "html_url": "https://github.com/sr-gi",
        "followers_url": "https://api.github.com/users/sr-gi/followers",
        "following_url": "https://api.github.com/users/sr-gi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sr-gi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sr-gi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sr-gi/subscriptions",
        "organizations_url": "https://api.github.com/users/sr-gi/orgs",
        "repos_url": "https://api.github.com/users/sr-gi/repos",
        "events_url": "https://api.github.com/users/sr-gi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sr-gi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "https://github.com/bitcoin/bitcoin/commit/e6d7bcf7689e38dcda45a1cdbff98fd610864e47 nit: Also, _the user_/_users_",
      "created_at": "2024-04-02T14:37:25Z",
      "updated_at": "2024-04-03T11:35:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1548021353",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548021353"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 21,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548024454",
      "pull_request_review_id": 1973887290,
      "id": 1548024454,
      "node_id": "PRRC_kwDOABII585cRPqG",
      "diff_hunk": "@@ -0,0 +1,76 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <tinyformat.h>\n+#include <util/time.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <cstdint>\n+#include <deque>\n+#include <limits>\n+#include <optional>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+    LogDebug(BCLog::NET, \"Added time offset %+ds, total samples %d\\n\",\n+             Ticks<std::chrono::seconds>(offset), m_offsets.size());\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets",
      "path": "src/node/timeoffsets.cpp",
      "position": 39,
      "original_position": 39,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": null,
      "user": {
        "login": "sr-gi",
        "id": 6665628,
        "node_id": "MDQ6VXNlcjY2NjU2Mjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6665628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sr-gi",
        "html_url": "https://github.com/sr-gi",
        "followers_url": "https://api.github.com/users/sr-gi/followers",
        "following_url": "https://api.github.com/users/sr-gi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sr-gi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sr-gi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sr-gi/subscriptions",
        "organizations_url": "https://api.github.com/users/sr-gi/orgs",
        "repos_url": "https://api.github.com/users/sr-gi/repos",
        "events_url": "https://api.github.com/users/sr-gi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sr-gi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47 it may be worth mentioning this in the header file",
      "created_at": "2024-04-02T14:39:08Z",
      "updated_at": "2024-04-03T11:35:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1548024454",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548024454"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 39,
      "original_line": 39,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548030687",
      "pull_request_review_id": 1973887290,
      "id": 1548030687,
      "node_id": "PRRC_kwDOABII585cRRLf",
      "diff_hunk": "@@ -0,0 +1,76 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <tinyformat.h>\n+#include <util/time.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <cstdint>\n+#include <deque>\n+#include <limits>\n+#include <optional>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+    LogDebug(BCLog::NET, \"Added time offset %+ds, total samples %d\\n\",\n+             Ticks<std::chrono::seconds>(offset), m_offsets.size());\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return 0s;\n+\n+    auto sorted_copy = m_offsets;",
      "path": "src/node/timeoffsets.cpp",
      "position": 42,
      "original_position": 42,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": null,
      "user": {
        "login": "sr-gi",
        "id": 6665628,
        "node_id": "MDQ6VXNlcjY2NjU2Mjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6665628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sr-gi",
        "html_url": "https://github.com/sr-gi",
        "followers_url": "https://api.github.com/users/sr-gi/followers",
        "following_url": "https://api.github.com/users/sr-gi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sr-gi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sr-gi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sr-gi/subscriptions",
        "organizations_url": "https://api.github.com/users/sr-gi/orgs",
        "repos_url": "https://api.github.com/users/sr-gi/repos",
        "events_url": "https://api.github.com/users/sr-gi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sr-gi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47 nit: theoretically, you only need to hold the mutex up to here, right?\r\n\r\nNot that it matters much given the small size of the collection anyway",
      "created_at": "2024-04-02T14:42:51Z",
      "updated_at": "2024-04-03T11:35:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1548030687",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548030687"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": 40,
      "original_start_line": 40,
      "start_side": "RIGHT",
      "line": 42,
      "original_line": 42,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548041767",
      "pull_request_review_id": 1973887290,
      "id": 1548041767,
      "node_id": "PRRC_kwDOABII585cRT4n",
      "diff_hunk": "@@ -0,0 +1,76 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <tinyformat.h>\n+#include <util/time.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <cstdint>\n+#include <deque>\n+#include <limits>\n+#include <optional>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+    LogDebug(BCLog::NET, \"Added time offset %+ds, total samples %d\\n\",\n+             Ticks<std::chrono::seconds>(offset), m_offsets.size());\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return 0s;\n+\n+    auto sorted_copy = m_offsets;\n+    std::sort(sorted_copy.begin(), sorted_copy.end());\n+    return sorted_copy[m_offsets.size() / 2];  // approximate median is good enough, keep it simple\n+}\n+\n+bool TimeOffsets::WarnIfOutOfSync() const\n+{\n+    // when median == std::numeric_limits<int64_t>::min(), calling std::chrono::abs is UB\n+    auto median{std::max(Median(), std::chrono::seconds(std::numeric_limits<int64_t>::min() + 1))};\n+    if (std::chrono::abs(median) <= m_warn_threshold) {\n+        SetMedianTimeOffsetWarning(std::nullopt);\n+        return false;\n+    }\n+\n+    bilingual_str msg{strprintf(_(\n+        \"Your computer's date and time appears to be more than %d minutes out of sync with the network, \"",
      "path": "src/node/timeoffsets.cpp",
      "position": null,
      "original_position": 57,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": null,
      "user": {
        "login": "sr-gi",
        "id": 6665628,
        "node_id": "MDQ6VXNlcjY2NjU2Mjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6665628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sr-gi",
        "html_url": "https://github.com/sr-gi",
        "followers_url": "https://api.github.com/users/sr-gi/followers",
        "following_url": "https://api.github.com/users/sr-gi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sr-gi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sr-gi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sr-gi/subscriptions",
        "organizations_url": "https://api.github.com/users/sr-gi/orgs",
        "repos_url": "https://api.github.com/users/sr-gi/repos",
        "events_url": "https://api.github.com/users/sr-gi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sr-gi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47 nit: _appear_",
      "created_at": "2024-04-02T14:47:58Z",
      "updated_at": "2024-04-03T11:35:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1548041767",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548041767"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 57,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548070604",
      "pull_request_review_id": 1973887290,
      "id": 1548070604,
      "node_id": "PRRC_kwDOABII585cRa7M",
      "diff_hunk": "@@ -3666,12 +3681,12 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n                   peer->m_starting_height, addrMe.ToStringAddrPort(), fRelay, pfrom.GetId(),\n                   remoteAddr, (mapped_as ? strprintf(\", mapped_as=%d\", mapped_as) : \"\"));\n \n-        int64_t nTimeOffset = nTime - GetTime();\n-        pfrom.nTimeOffset = nTimeOffset;\n+        peer->m_time_offset = NodeSeconds{std::chrono::seconds{nTime}} - Now<NodeSeconds>();\n         if (!pfrom.IsInboundConn()) {\n             // Don't use timedata samples from inbound peers to make it",
      "path": "src/net_processing.cpp",
      "position": 73,
      "original_position": 73,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "in_reply_to_id": null,
      "user": {
        "login": "sr-gi",
        "id": 6665628,
        "node_id": "MDQ6VXNlcjY2NjU2Mjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6665628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sr-gi",
        "html_url": "https://github.com/sr-gi",
        "followers_url": "https://api.github.com/users/sr-gi/followers",
        "following_url": "https://api.github.com/users/sr-gi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sr-gi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sr-gi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sr-gi/subscriptions",
        "organizations_url": "https://api.github.com/users/sr-gi/orgs",
        "repos_url": "https://api.github.com/users/sr-gi/repos",
        "events_url": "https://api.github.com/users/sr-gi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sr-gi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "After 2ef71c73582be554e565ada3f8a6ca77c2cd79f1, `timedata` is not a thing anymore, so this may need updating ",
      "created_at": "2024-04-02T15:02:50Z",
      "updated_at": "2024-04-03T11:35:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1548070604",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548070604"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 3686,
      "original_line": 3686,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548075026",
      "pull_request_review_id": 1973887290,
      "id": 1548075026,
      "node_id": "PRRC_kwDOABII585cRcAS",
      "diff_hunk": "@@ -681,8 +680,8 @@ static RPCHelpMan getnetworkinfo()\n     if (node.peerman) {\n         auto peerman_info{node.peerman->GetInfo()};\n         obj.pushKV(\"localrelay\", !peerman_info.ignores_incoming_txs);\n+        obj.pushKV(\"timeoffset\", Ticks<std::chrono::seconds>(peerman_info.median_outbound_time_offset));",
      "path": "src/rpc/net.cpp",
      "position": 24,
      "original_position": 12,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "in_reply_to_id": null,
      "user": {
        "login": "sr-gi",
        "id": 6665628,
        "node_id": "MDQ6VXNlcjY2NjU2Mjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6665628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sr-gi",
        "html_url": "https://github.com/sr-gi",
        "followers_url": "https://api.github.com/users/sr-gi/followers",
        "following_url": "https://api.github.com/users/sr-gi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sr-gi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sr-gi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sr-gi/subscriptions",
        "organizations_url": "https://api.github.com/users/sr-gi/orgs",
        "repos_url": "https://api.github.com/users/sr-gi/repos",
        "events_url": "https://api.github.com/users/sr-gi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sr-gi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1 shouldn't this belong to d81d969290e911904636bdd0bf6ba732615a7b68?",
      "created_at": "2024-04-02T15:05:29Z",
      "updated_at": "2024-04-03T11:35:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1548075026",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548075026"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 683,
      "original_line": 683,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1549492464",
      "pull_request_review_id": 1973887290,
      "id": 1549492464,
      "node_id": "PRRC_kwDOABII585cW2Dw",
      "diff_hunk": "@@ -0,0 +1,71 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+//\n+\n+#include <node/timeoffsets.h>\n+#include <noui.h>\n+#include <test/util/setup_common.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+#include <chrono>\n+#include <vector>\n+\n+using namespace std::chrono_literals;\n+\n+void AddMulti(TimeOffsets& offsets, std::vector<std::chrono::seconds> to_add)\n+{\n+    for (auto offset : to_add) {\n+        offsets.Add(offset);\n+    }\n+}\n+\n+BOOST_FIXTURE_TEST_SUITE(timeoffsets_tests, BasicTestingSetup)\n+\n+BOOST_AUTO_TEST_CASE(timeoffsets)\n+{\n+    TimeOffsets offsets{};\n+    BOOST_CHECK(offsets.Median() == 0s);\n+\n+    AddMulti(offsets, {{0s, -1s, -2s, -3s}});\n+    // median should be zero for < 5 offsets\n+    BOOST_CHECK(offsets.Median() == 0s);\n+\n+    offsets.Add(-4s);\n+    // we now have 5 offsets: [-4, -3, -2, -1, 0]\n+    BOOST_CHECK(offsets.Median() == -2s);\n+\n+    AddMulti(offsets, {4, 5s});\n+    // we now have 9 offsets: [-4, -3, -2, -1, 0, 5, 5, 5, 5]\n+    BOOST_CHECK(offsets.Median() == 0s);\n+\n+    AddMulti(offsets, {41, 10s});\n+    // the TimeOffsets is now at capacity with 50 offsets, oldest offsets is discarded for any additional offset\n+    BOOST_CHECK(offsets.Median() == 10s);\n+\n+    AddMulti(offsets, {25, 15s});\n+    // we now have 25 offsets of 10s followed by 25 offsets of 15s\n+    BOOST_CHECK(offsets.Median() == 15s);\n+}\n+\n+bool IsWarningRaised(std::vector<std::chrono::seconds> check_offsets)\n+{\n+    TimeOffsets offsets{};\n+    AddMulti(offsets, check_offsets);\n+    return offsets.WarnIfOutOfSync();\n+}\n+\n+\n+BOOST_AUTO_TEST_CASE(timeoffsets_warning)\n+{\n+    noui_test_redirect();  // prevent the TimeOffsets::WarnIfOutOfSync() GUI MessageBoxes from flooding the log\n+    BOOST_CHECK(IsWarningRaised({{-60min, -40min, -30min, 0min, 10min}}));\n+    BOOST_CHECK(IsWarningRaised({5, 21min}));",
      "path": "src/test/timeoffsets_tests.cpp",
      "position": null,
      "original_position": 64,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": null,
      "user": {
        "login": "sr-gi",
        "id": 6665628,
        "node_id": "MDQ6VXNlcjY2NjU2Mjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6665628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sr-gi",
        "html_url": "https://github.com/sr-gi",
        "followers_url": "https://api.github.com/users/sr-gi/followers",
        "following_url": "https://api.github.com/users/sr-gi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sr-gi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sr-gi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sr-gi/subscriptions",
        "organizations_url": "https://api.github.com/users/sr-gi/orgs",
        "repos_url": "https://api.github.com/users/sr-gi/repos",
        "events_url": "https://api.github.com/users/sr-gi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sr-gi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Since the warn threshold was reduced from 20 to 10, it may make more sense to change this to 11",
      "created_at": "2024-04-03T11:04:44Z",
      "updated_at": "2024-04-03T11:35:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1549492464",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1549492464"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 64,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1549666557",
      "pull_request_review_id": 1976691061,
      "id": 1549666557,
      "node_id": "PRRC_kwDOABII585cXgj9",
      "diff_hunk": "@@ -0,0 +1,42 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_TIMEOFFSETS_H\n+#define BITCOIN_NODE_TIMEOFFSETS_H\n+\n+#include <sync.h>\n+\n+#include <chrono>\n+#include <cstddef>\n+#include <deque>\n+#include <optional>\n+\n+class TimeOffsets\n+{\n+private:\n+    static constexpr size_t N{50};\n+    //! Minimum difference between system and network time for a warning to be raised.\n+    static constexpr std::chrono::minutes m_warn_threshold{10};",
      "path": "src/node/timeoffsets.h",
      "position": null,
      "original_position": 20,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Since this is a constant, like `N`:\r\n\r\n```suggestion\r\n    static constexpr std::chrono::minutes WARN_THRESHOLD{10};\r\n```",
      "created_at": "2024-04-03T12:43:50Z",
      "updated_at": "2024-04-03T15:28:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1549666557",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1549666557"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 20,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1549674844",
      "pull_request_review_id": 1976691061,
      "id": 1549674844,
      "node_id": "PRRC_kwDOABII585cXilc",
      "diff_hunk": "@@ -0,0 +1,42 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_TIMEOFFSETS_H\n+#define BITCOIN_NODE_TIMEOFFSETS_H\n+\n+#include <sync.h>\n+\n+#include <chrono>\n+#include <cstddef>\n+#include <deque>\n+#include <optional>\n+\n+class TimeOffsets\n+{\n+private:\n+    static constexpr size_t N{50};\n+    //! Minimum difference between system and network time for a warning to be raised.\n+    static constexpr std::chrono::minutes m_warn_threshold{10};\n+    //! Log the last time a GUI warning was raised to avoid flooding user with them\n+    mutable std::optional<std::chrono::steady_clock::time_point> m_warning_emitted GUARDED_BY(m_mutex){};\n+    //! Minimum time to wait before raising a new GUI warning\n+    static constexpr std::chrono::minutes m_warning_wait{60};",
      "path": "src/node/timeoffsets.h",
      "position": null,
      "original_position": 24,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Same as above:\r\n\r\n```suggestion\r\n    static constexpr std::chrono::minutes WARNING_WAIT{60};\r\n```",
      "created_at": "2024-04-03T12:49:30Z",
      "updated_at": "2024-04-03T15:28:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1549674844",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1549674844"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1549711736",
      "pull_request_review_id": 1976762473,
      "id": 1549711736,
      "node_id": "PRRC_kwDOABII585cXrl4",
      "diff_hunk": "@@ -0,0 +1,42 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_TIMEOFFSETS_H\n+#define BITCOIN_NODE_TIMEOFFSETS_H\n+\n+#include <sync.h>\n+\n+#include <chrono>\n+#include <cstddef>\n+#include <deque>\n+#include <optional>\n+\n+class TimeOffsets\n+{\n+private:\n+    static constexpr size_t N{50};\n+    //! Minimum difference between system and network time for a warning to be raised.\n+    static constexpr std::chrono::minutes m_warn_threshold{10};\n+    //! Log the last time a GUI warning was raised to avoid flooding user with them\n+    mutable std::optional<std::chrono::steady_clock::time_point> m_warning_emitted GUARDED_BY(m_mutex){};\n+    //! Minimum time to wait before raising a new GUI warning",
      "path": "src/node/timeoffsets.h",
      "position": null,
      "original_position": 23,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I don't think the use of \"GUI\" is correct here, is it?\r\n\r\nThe GUI only calls `getWarnings()`, aka `GetWarnings(true)`, aka `warnings_concise`, which is never set in this pull request.\r\n\r\nCurrently it is only set for RPC and the \"No-UI\" interface.",
      "created_at": "2024-04-03T13:10:50Z",
      "updated_at": "2024-04-03T13:13:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1549711736",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1549711736"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 23,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1549713660",
      "pull_request_review_id": 1976691061,
      "id": 1549713660,
      "node_id": "PRRC_kwDOABII585cXsD8",
      "diff_hunk": "@@ -0,0 +1,30 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <node/timeoffsets.h>\n+#include <noui.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/util/setup_common.h>\n+\n+#include <chrono>\n+#include <cstdint>\n+#include <functional>\n+\n+void initialize_timeoffsets()\n+{\n+    static const auto testing_setup = MakeNoLogFileContext<>(ChainType::MAIN);\n+    noui_test_redirect();  // prevent the TimeOffsets::WarnIfOutOfSync() GUI MessageBoxes from flooding the log\n+}\n+\n+FUZZ_TARGET(timeoffsets, .init = initialize_timeoffsets)\n+{\n+    FuzzedDataProvider fuzzed_data_provider(buffer.data(), buffer.size());\n+    TimeOffsets offsets{};\n+    LIMITED_WHILE(fuzzed_data_provider.remaining_bytes() > 0, 4'000) {\n+        (void)offsets.Median();\n+        offsets.Add(std::chrono::seconds{fuzzed_data_provider.ConsumeIntegral<int64_t>()});",
      "path": "src/test/fuzz/timeoffsets.cpp",
      "position": null,
      "original_position": 27,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This implies that `int64_t` is the same as the internal type of `std::chrono::seconds`. Better get a random integer in the range of `[std::chrono::seconds::min().count(), std::chrono::seconds::max().count()]`.",
      "created_at": "2024-04-03T13:11:55Z",
      "updated_at": "2024-04-03T15:28:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1549713660",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1549713660"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 27,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1549717587",
      "pull_request_review_id": 1976762473,
      "id": 1549717587,
      "node_id": "PRRC_kwDOABII585cXtBT",
      "diff_hunk": "@@ -0,0 +1,76 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <tinyformat.h>\n+#include <util/time.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <cstdint>\n+#include <deque>\n+#include <limits>\n+#include <optional>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+    LogDebug(BCLog::NET, \"Added time offset %+ds, total samples %d\\n\",\n+             Ticks<std::chrono::seconds>(offset), m_offsets.size());\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return 0s;\n+\n+    auto sorted_copy = m_offsets;\n+    std::sort(sorted_copy.begin(), sorted_copy.end());\n+    return sorted_copy[m_offsets.size() / 2];  // approximate median is good enough, keep it simple\n+}\n+\n+bool TimeOffsets::WarnIfOutOfSync() const\n+{\n+    // when median == std::numeric_limits<int64_t>::min(), calling std::chrono::abs is UB\n+    auto median{std::max(Median(), std::chrono::seconds(std::numeric_limits<int64_t>::min() + 1))};\n+    if (std::chrono::abs(median) <= m_warn_threshold) {\n+        SetMedianTimeOffsetWarning(std::nullopt);\n+        return false;\n+    }\n+\n+    bilingual_str msg{strprintf(_(\n+        \"Your computer's date and time appears to be more than %d minutes out of sync with the network, \"\n+        \"this may lead to consensus failure. After you've corrected your settings, this message \"",
      "path": "src/node/timeoffsets.cpp",
      "position": null,
      "original_position": 58,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "```suggestion\r\n        \"this may lead to consensus failure. After you've confirmed your computer's clock, this message \"\r\n```\r\n\r\nnit: The clock may or may not already be correct, so there may be nothing to correct, only to confirm.",
      "created_at": "2024-04-03T13:13:32Z",
      "updated_at": "2024-04-03T13:13:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1549717587",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1549717587"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1549730951",
      "pull_request_review_id": 1976691061,
      "id": 1549730951,
      "node_id": "PRRC_kwDOABII585cXwSH",
      "diff_hunk": "@@ -0,0 +1,71 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+//\n+\n+#include <node/timeoffsets.h>\n+#include <noui.h>\n+#include <test/util/setup_common.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+#include <chrono>\n+#include <vector>\n+\n+using namespace std::chrono_literals;\n+\n+void AddMulti(TimeOffsets& offsets, std::vector<std::chrono::seconds> to_add)",
      "path": "src/test/timeoffsets_tests.cpp",
      "position": null,
      "original_position": 17,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In this case performance is irrelevant but in general `in` arguments that are expensive to copy like `vector` are passed by const reference.",
      "created_at": "2024-04-03T13:20:34Z",
      "updated_at": "2024-04-03T15:28:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1549730951",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1549730951"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1549731528",
      "pull_request_review_id": 1976796622,
      "id": 1549731528,
      "node_id": "PRRC_kwDOABII585cXwbI",
      "diff_hunk": "@@ -0,0 +1,76 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <tinyformat.h>\n+#include <util/time.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <cstdint>\n+#include <deque>\n+#include <limits>\n+#include <optional>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+    LogDebug(BCLog::NET, \"Added time offset %+ds, total samples %d\\n\",\n+             Ticks<std::chrono::seconds>(offset), m_offsets.size());\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return 0s;\n+\n+    auto sorted_copy = m_offsets;\n+    std::sort(sorted_copy.begin(), sorted_copy.end());\n+    return sorted_copy[m_offsets.size() / 2];  // approximate median is good enough, keep it simple\n+}\n+\n+bool TimeOffsets::WarnIfOutOfSync() const\n+{\n+    // when median == std::numeric_limits<int64_t>::min(), calling std::chrono::abs is UB\n+    auto median{std::max(Median(), std::chrono::seconds(std::numeric_limits<int64_t>::min() + 1))};\n+    if (std::chrono::abs(median) <= m_warn_threshold) {\n+        SetMedianTimeOffsetWarning(std::nullopt);\n+        return false;\n+    }\n+\n+    bilingual_str msg{strprintf(_(\n+        \"Your computer's date and time appears to be more than %d minutes out of sync with the network, \"\n+        \"this may lead to consensus failure. After you've corrected your settings, this message \"",
      "path": "src/node/timeoffsets.cpp",
      "position": null,
      "original_position": 58,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "in_reply_to_id": 1549717587,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: Could also mention the RPCs to get the per-peer offset, and the median, as well as the NodeClock time?",
      "created_at": "2024-04-03T13:20:57Z",
      "updated_at": "2024-04-03T13:20:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1549731528",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1549731528"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1549743266",
      "pull_request_review_id": 1976691061,
      "id": 1549743266,
      "node_id": "PRRC_kwDOABII585cXzSi",
      "diff_hunk": "@@ -0,0 +1,71 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+//\n+\n+#include <node/timeoffsets.h>\n+#include <noui.h>\n+#include <test/util/setup_common.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+#include <chrono>\n+#include <vector>\n+\n+using namespace std::chrono_literals;\n+\n+void AddMulti(TimeOffsets& offsets, std::vector<std::chrono::seconds> to_add)\n+{\n+    for (auto offset : to_add) {\n+        offsets.Add(offset);\n+    }\n+}\n+\n+BOOST_FIXTURE_TEST_SUITE(timeoffsets_tests, BasicTestingSetup)\n+\n+BOOST_AUTO_TEST_CASE(timeoffsets)\n+{\n+    TimeOffsets offsets{};\n+    BOOST_CHECK(offsets.Median() == 0s);\n+\n+    AddMulti(offsets, {{0s, -1s, -2s, -3s}});\n+    // median should be zero for < 5 offsets\n+    BOOST_CHECK(offsets.Median() == 0s);\n+\n+    offsets.Add(-4s);\n+    // we now have 5 offsets: [-4, -3, -2, -1, 0]\n+    BOOST_CHECK(offsets.Median() == -2s);\n+\n+    AddMulti(offsets, {4, 5s});\n+    // we now have 9 offsets: [-4, -3, -2, -1, 0, 5, 5, 5, 5]\n+    BOOST_CHECK(offsets.Median() == 0s);\n+\n+    AddMulti(offsets, {41, 10s});\n+    // the TimeOffsets is now at capacity with 50 offsets, oldest offsets is discarded for any additional offset\n+    BOOST_CHECK(offsets.Median() == 10s);\n+\n+    AddMulti(offsets, {25, 15s});\n+    // we now have 25 offsets of 10s followed by 25 offsets of 15s\n+    BOOST_CHECK(offsets.Median() == 15s);\n+}\n+\n+bool IsWarningRaised(std::vector<std::chrono::seconds> check_offsets)",
      "path": "src/test/timeoffsets_tests.cpp",
      "position": null,
      "original_position": 52,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "in_reply_to_id": null,
      "user": {
        "login": "vasild",
        "id": 266751,
        "node_id": "MDQ6VXNlcjI2Njc1MQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasild",
        "html_url": "https://github.com/vasild",
        "followers_url": "https://api.github.com/users/vasild/followers",
        "following_url": "https://api.github.com/users/vasild/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/vasild/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/vasild/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
        "organizations_url": "https://api.github.com/users/vasild/orgs",
        "repos_url": "https://api.github.com/users/vasild/repos",
        "events_url": "https://api.github.com/users/vasild/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/vasild/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "```suggestion\r\nstatic bool IsWarningRaised(std::vector<std::chrono::seconds> check_offsets)\r\n```",
      "created_at": "2024-04-03T13:26:54Z",
      "updated_at": "2024-04-03T15:28:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1549743266",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1549743266"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 52,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1550033829",
      "pull_request_review_id": 1977282272,
      "id": 1550033829,
      "node_id": "PRRC_kwDOABII585cY6Ol",
      "diff_hunk": "@@ -0,0 +1,42 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_TIMEOFFSETS_H\n+#define BITCOIN_NODE_TIMEOFFSETS_H\n+\n+#include <sync.h>\n+\n+#include <chrono>\n+#include <cstddef>\n+#include <deque>\n+#include <optional>\n+\n+class TimeOffsets\n+{\n+private:",
      "path": "src/node/timeoffsets.h",
      "position": null,
      "original_position": 17,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: this is unnecessary",
      "created_at": "2024-04-03T15:59:31Z",
      "updated_at": "2024-04-03T16:17:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1550033829",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1550033829"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1550035286",
      "pull_request_review_id": 1977282272,
      "id": 1550035286,
      "node_id": "PRRC_kwDOABII585cY6lW",
      "diff_hunk": "@@ -753,6 +753,8 @@ class PeerManagerImpl final : public PeerManager\n     /** Next time to check for stale tip */\n     std::chrono::seconds m_stale_tip_check_time GUARDED_BY(cs_main){0s};\n \n+    TimeOffsets m_outbound_time_offsets;",
      "path": "src/net_processing.cpp",
      "position": 40,
      "original_position": 20,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "needs doc?",
      "created_at": "2024-04-03T16:00:35Z",
      "updated_at": "2024-04-03T16:17:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1550035286",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1550035286"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 756,
      "original_line": 756,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1550042121",
      "pull_request_review_id": 1977282272,
      "id": 1550042121,
      "node_id": "PRRC_kwDOABII585cY8QJ",
      "diff_hunk": "@@ -681,8 +680,8 @@ static RPCHelpMan getnetworkinfo()\n     if (node.peerman) {\n         auto peerman_info{node.peerman->GetInfo()};\n         obj.pushKV(\"localrelay\", !peerman_info.ignores_incoming_txs);\n+        obj.pushKV(\"timeoffset\", Ticks<std::chrono::seconds>(peerman_info.median_outbound_time_offset));",
      "path": "src/rpc/net.cpp",
      "position": 24,
      "original_position": 12,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "in_reply_to_id": 1548075026,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Or its own rpc commit?",
      "created_at": "2024-04-03T16:05:47Z",
      "updated_at": "2024-04-03T16:17:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1550042121",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1550042121"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 683,
      "original_line": 683,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1550045138",
      "pull_request_review_id": 1977282272,
      "id": 1550045138,
      "node_id": "PRRC_kwDOABII585cY8_S",
      "diff_hunk": "@@ -3666,12 +3671,11 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n                   peer->m_starting_height, addrMe.ToStringAddrPort(), fRelay, pfrom.GetId(),\n                   remoteAddr, (mapped_as ? strprintf(\", mapped_as=%d\", mapped_as) : \"\"));\n \n-        int64_t nTimeOffset = nTime - GetTime();\n-        pfrom.nTimeOffset = nTimeOffset;\n+        peer->m_time_offset = nTime - GetTime();\n         if (!pfrom.IsInboundConn()) {\n             // Don't use timedata samples from inbound peers to make it\n             // harder for others to tamper with our adjusted time.",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "5084ad48462b3169c99a81aeb21a339c3a9a4728",
      "in_reply_to_id": 1548002240,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "+1, was going to say this should be removed in 2ef71c73582be554e565ada3f8a6ca77c2cd79f1, or say we are avoiding false warnings instead of preventing tampering of adjusted time",
      "created_at": "2024-04-03T16:08:08Z",
      "updated_at": "2024-04-03T16:17:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1550045138",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1550045138"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3677,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1550056609",
      "pull_request_review_id": 1977282272,
      "id": 1550056609,
      "node_id": "PRRC_kwDOABII585cY_yh",
      "diff_hunk": "@@ -0,0 +1,42 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_TIMEOFFSETS_H\n+#define BITCOIN_NODE_TIMEOFFSETS_H\n+\n+#include <sync.h>\n+\n+#include <chrono>\n+#include <cstddef>\n+#include <deque>\n+#include <optional>\n+\n+class TimeOffsets\n+{\n+private:\n+    static constexpr size_t N{50};",
      "path": "src/node/timeoffsets.h",
      "position": null,
      "original_position": 18,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": null,
      "user": {
        "login": "glozow",
        "id": 25183001,
        "node_id": "MDQ6VXNlcjI1MTgzMDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/25183001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/glozow",
        "html_url": "https://github.com/glozow",
        "followers_url": "https://api.github.com/users/glozow/followers",
        "following_url": "https://api.github.com/users/glozow/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/glozow/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/glozow/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/glozow/subscriptions",
        "organizations_url": "https://api.github.com/users/glozow/orgs",
        "repos_url": "https://api.github.com/users/glozow/repos",
        "events_url": "https://api.github.com/users/glozow/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/glozow/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: documentation please, e.g. number of elements to track",
      "created_at": "2024-04-03T16:17:19Z",
      "updated_at": "2024-04-03T16:17:57Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1550056609",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1550056609"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1551733252",
      "pull_request_review_id": 1979986391,
      "id": 1551733252,
      "node_id": "PRRC_kwDOABII585cfZIE",
      "diff_hunk": "@@ -0,0 +1,76 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <tinyformat.h>\n+#include <util/time.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <cstdint>\n+#include <deque>\n+#include <limits>\n+#include <optional>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+    LogDebug(BCLog::NET, \"Added time offset %+ds, total samples %d\\n\",\n+             Ticks<std::chrono::seconds>(offset), m_offsets.size());\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return 0s;\n+\n+    auto sorted_copy = m_offsets;\n+    std::sort(sorted_copy.begin(), sorted_copy.end());\n+    return sorted_copy[m_offsets.size() / 2];  // approximate median is good enough, keep it simple\n+}\n+\n+bool TimeOffsets::WarnIfOutOfSync() const\n+{\n+    // when median == std::numeric_limits<int64_t>::min(), calling std::chrono::abs is UB\n+    auto median{std::max(Median(), std::chrono::seconds(std::numeric_limits<int64_t>::min() + 1))};\n+    if (std::chrono::abs(median) <= m_warn_threshold) {\n+        SetMedianTimeOffsetWarning(std::nullopt);\n+        return false;\n+    }\n+\n+    bilingual_str msg{strprintf(_(\n+        \"Your computer's date and time appears to be more than %d minutes out of sync with the network, \"\n+        \"this may lead to consensus failure. After you've corrected your settings, this message \"\n+        \"should no longer appear when you restart your node. Without a restart, it should stop showing \"\n+        \"automatically after you've connected to a sufficient number of new outbound peers, which may \"\n+        \"take some time.\"\n+    ), Ticks<std::chrono::minutes>(m_warn_threshold))};\n+    LogWarning(\"%s\\n\", msg.original);\n+    SetMedianTimeOffsetWarning(msg);\n+\n+    const auto now{SteadyClock::now()};\n+    {\n+        LOCK(m_mutex);\n+        if (!m_warning_emitted || now - m_warning_emitted.value() > m_warning_wait) {\n+            m_warning_emitted = now;\n+            uiInterface.ThreadSafeMessageBox(msg, \"\", CClientUIInterface::MSG_WARNING);",
      "path": "src/node/timeoffsets.cpp",
      "position": null,
      "original_position": 71,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "This isn't  changed behavior, but with the threshold reduced to 10 minutes it may be a bit more relevant now:\r\nAs far as I understand it, for GUI users `ThreadSafeMessageBox()` blocks the calling thread (here `msghand`) until the user has clicked away the warning:\r\nThat means that for as long as the user didn't click anything (e.g. because they are afk), most activity stops: No more received messages are processed, the tip is no longer updated etc. The current peers will disconnect us soon (because we don't answer their pings anymore), and we will constantly open new connections (that is done separately in the `opencon` thrad) that will then timeout because we never process their version message - leading to a lot of churn. This behavior doesn't seem ideal to me, I wonder if it wouldn't be better to display a warning in the GUI that is non blocking.",
      "created_at": "2024-04-04T13:50:37Z",
      "updated_at": "2024-04-04T13:51:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1551733252",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1551733252"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 71,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554563217",
      "pull_request_review_id": 1984476214,
      "id": 1554563217,
      "node_id": "PRRC_kwDOABII585cqMCR",
      "diff_hunk": "@@ -3666,12 +3671,11 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n                   peer->m_starting_height, addrMe.ToStringAddrPort(), fRelay, pfrom.GetId(),\n                   remoteAddr, (mapped_as ? strprintf(\", mapped_as=%d\", mapped_as) : \"\"));\n \n-        int64_t nTimeOffset = nTime - GetTime();\n-        pfrom.nTimeOffset = nTimeOffset;\n+        peer->m_time_offset = nTime - GetTime();\n         if (!pfrom.IsInboundConn()) {\n             // Don't use timedata samples from inbound peers to make it\n             // harder for others to tamper with our adjusted time.",
      "path": "src/net_processing.cpp",
      "position": null,
      "original_position": 28,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "5084ad48462b3169c99a81aeb21a339c3a9a4728",
      "in_reply_to_id": 1548002240,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks, I've updated the doc to `to make it harder for others to create false warnings about our clock being out of sync.`",
      "created_at": "2024-04-06T10:26:35Z",
      "updated_at": "2024-04-10T15:11:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1554563217",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554563217"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 3677,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554563937",
      "pull_request_review_id": 1984476214,
      "id": 1554563937,
      "node_id": "PRRC_kwDOABII585cqMNh",
      "diff_hunk": "@@ -0,0 +1,76 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <tinyformat.h>\n+#include <util/time.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <cstdint>\n+#include <deque>\n+#include <limits>\n+#include <optional>\n+\n+using namespace std::chrono_literals;",
      "path": "src/node/timeoffsets.cpp",
      "position": 21,
      "original_position": 21,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": 1548013616,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think it is for [`if (m_offsets.size() < 5) return 0s;`](https://github.com/bitcoin/bitcoin/pull/29623/files#diff-a3d241f8a9033c5a4b88c7323f31c4b147800aae7479f38f127400461ff09a91R40)?",
      "created_at": "2024-04-06T10:32:37Z",
      "updated_at": "2024-04-10T15:11:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1554563937",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554563937"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 21,
      "original_line": 21,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554567992",
      "pull_request_review_id": 1984476214,
      "id": 1554567992,
      "node_id": "PRRC_kwDOABII585cqNM4",
      "diff_hunk": "@@ -392,7 +392,7 @@ struct Peer {\n \n     /** Time offset computed during the version handshake based on the\n      * timestamp the peer send in the version message. */\n-    std::atomic<int64_t> m_time_offset{0};\n+    std::atomic<std::chrono::seconds> m_time_offset{0s};",
      "path": "src/net_processing.cpp",
      "position": 22,
      "original_position": 5,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "16dededcd8d52b6d0fdbe9e0ffab6a177aa8aa17",
      "in_reply_to_id": 1547973617,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "It's wrapped in a `std::atomic` here which requires the chrono literal, doesn't compile otherwise:\r\n\r\n```\r\nnet_processing.cpp:395:52: error: no matching constructor for initialization of 'std::atomic<std::chrono::seconds>' (aka 'atomic<duration<long long>>')\r\n    std::atomic<std::chrono::seconds> m_time_offset{0};\r\n```",
      "created_at": "2024-04-06T11:10:52Z",
      "updated_at": "2024-04-10T15:11:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1554567992",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554567992"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 395,
      "original_line": 395,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554568449",
      "pull_request_review_id": 1984476214,
      "id": 1554568449,
      "node_id": "PRRC_kwDOABII585cqNUB",
      "diff_hunk": "@@ -0,0 +1,76 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <tinyformat.h>\n+#include <util/time.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <cstdint>\n+#include <deque>\n+#include <limits>\n+#include <optional>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+    LogDebug(BCLog::NET, \"Added time offset %+ds, total samples %d\\n\",\n+             Ticks<std::chrono::seconds>(offset), m_offsets.size());\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets",
      "path": "src/node/timeoffsets.cpp",
      "position": 39,
      "original_position": 39,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": 1548024454,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Agreed, updated doc in the header.",
      "created_at": "2024-04-06T11:14:53Z",
      "updated_at": "2024-04-10T15:11:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1554568449",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554568449"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 39,
      "original_line": 39,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554568797",
      "pull_request_review_id": 1984476214,
      "id": 1554568797,
      "node_id": "PRRC_kwDOABII585cqNZd",
      "diff_hunk": "@@ -0,0 +1,76 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <tinyformat.h>\n+#include <util/time.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <cstdint>\n+#include <deque>\n+#include <limits>\n+#include <optional>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+    LogDebug(BCLog::NET, \"Added time offset %+ds, total samples %d\\n\",\n+             Ticks<std::chrono::seconds>(offset), m_offsets.size());\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return 0s;\n+\n+    auto sorted_copy = m_offsets;\n+    std::sort(sorted_copy.begin(), sorted_copy.end());\n+    return sorted_copy[m_offsets.size() / 2];  // approximate median is good enough, keep it simple\n+}\n+\n+bool TimeOffsets::WarnIfOutOfSync() const\n+{\n+    // when median == std::numeric_limits<int64_t>::min(), calling std::chrono::abs is UB\n+    auto median{std::max(Median(), std::chrono::seconds(std::numeric_limits<int64_t>::min() + 1))};\n+    if (std::chrono::abs(median) <= m_warn_threshold) {\n+        SetMedianTimeOffsetWarning(std::nullopt);\n+        return false;\n+    }\n+\n+    bilingual_str msg{strprintf(_(\n+        \"Your computer's date and time appears to be more than %d minutes out of sync with the network, \"",
      "path": "src/node/timeoffsets.cpp",
      "position": null,
      "original_position": 57,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": 1548041767,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks, fixed.",
      "created_at": "2024-04-06T11:18:34Z",
      "updated_at": "2024-04-10T15:11:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1554568797",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554568797"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 57,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554569003",
      "pull_request_review_id": 1984476214,
      "id": 1554569003,
      "node_id": "PRRC_kwDOABII585cqNcr",
      "diff_hunk": "@@ -3666,12 +3681,12 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n                   peer->m_starting_height, addrMe.ToStringAddrPort(), fRelay, pfrom.GetId(),\n                   remoteAddr, (mapped_as ? strprintf(\", mapped_as=%d\", mapped_as) : \"\"));\n \n-        int64_t nTimeOffset = nTime - GetTime();\n-        pfrom.nTimeOffset = nTimeOffset;\n+        peer->m_time_offset = NodeSeconds{std::chrono::seconds{nTime}} - Now<NodeSeconds>();\n         if (!pfrom.IsInboundConn()) {\n             // Don't use timedata samples from inbound peers to make it",
      "path": "src/net_processing.cpp",
      "position": 73,
      "original_position": 73,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "in_reply_to_id": 1548070604,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "updated to `Don't use time offset samples`, thanks.",
      "created_at": "2024-04-06T11:20:28Z",
      "updated_at": "2024-04-10T15:11:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1554569003",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554569003"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 3686,
      "original_line": 3686,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554569247",
      "pull_request_review_id": 1984476214,
      "id": 1554569247,
      "node_id": "PRRC_kwDOABII585cqNgf",
      "diff_hunk": "@@ -0,0 +1,71 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+//\n+\n+#include <node/timeoffsets.h>\n+#include <noui.h>\n+#include <test/util/setup_common.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+#include <chrono>\n+#include <vector>\n+\n+using namespace std::chrono_literals;\n+\n+void AddMulti(TimeOffsets& offsets, std::vector<std::chrono::seconds> to_add)\n+{\n+    for (auto offset : to_add) {\n+        offsets.Add(offset);\n+    }\n+}\n+\n+BOOST_FIXTURE_TEST_SUITE(timeoffsets_tests, BasicTestingSetup)\n+\n+BOOST_AUTO_TEST_CASE(timeoffsets)\n+{\n+    TimeOffsets offsets{};\n+    BOOST_CHECK(offsets.Median() == 0s);\n+\n+    AddMulti(offsets, {{0s, -1s, -2s, -3s}});\n+    // median should be zero for < 5 offsets\n+    BOOST_CHECK(offsets.Median() == 0s);\n+\n+    offsets.Add(-4s);\n+    // we now have 5 offsets: [-4, -3, -2, -1, 0]\n+    BOOST_CHECK(offsets.Median() == -2s);\n+\n+    AddMulti(offsets, {4, 5s});\n+    // we now have 9 offsets: [-4, -3, -2, -1, 0, 5, 5, 5, 5]\n+    BOOST_CHECK(offsets.Median() == 0s);\n+\n+    AddMulti(offsets, {41, 10s});\n+    // the TimeOffsets is now at capacity with 50 offsets, oldest offsets is discarded for any additional offset\n+    BOOST_CHECK(offsets.Median() == 10s);\n+\n+    AddMulti(offsets, {25, 15s});\n+    // we now have 25 offsets of 10s followed by 25 offsets of 15s\n+    BOOST_CHECK(offsets.Median() == 15s);\n+}\n+\n+bool IsWarningRaised(std::vector<std::chrono::seconds> check_offsets)\n+{\n+    TimeOffsets offsets{};\n+    AddMulti(offsets, check_offsets);\n+    return offsets.WarnIfOutOfSync();\n+}\n+\n+\n+BOOST_AUTO_TEST_CASE(timeoffsets_warning)\n+{\n+    noui_test_redirect();  // prevent the TimeOffsets::WarnIfOutOfSync() GUI MessageBoxes from flooding the log\n+    BOOST_CHECK(IsWarningRaised({{-60min, -40min, -30min, 0min, 10min}}));\n+    BOOST_CHECK(IsWarningRaised({5, 21min}));",
      "path": "src/test/timeoffsets_tests.cpp",
      "position": null,
      "original_position": 64,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": 1549492464,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Ah yes good catch, updated.",
      "created_at": "2024-04-06T11:22:52Z",
      "updated_at": "2024-04-10T15:11:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1554569247",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554569247"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 64,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554570251",
      "pull_request_review_id": 1984476214,
      "id": 1554570251,
      "node_id": "PRRC_kwDOABII585cqNwL",
      "diff_hunk": "@@ -0,0 +1,71 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+//\n+\n+#include <node/timeoffsets.h>\n+#include <noui.h>\n+#include <test/util/setup_common.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+#include <chrono>\n+#include <vector>\n+\n+using namespace std::chrono_literals;\n+\n+void AddMulti(TimeOffsets& offsets, std::vector<std::chrono::seconds> to_add)",
      "path": "src/test/timeoffsets_tests.cpp",
      "position": null,
      "original_position": 17,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "in_reply_to_id": 1549730951,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Oops, fixed.",
      "created_at": "2024-04-06T11:31:02Z",
      "updated_at": "2024-04-10T15:11:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1554570251",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554570251"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554629438",
      "pull_request_review_id": 1984476214,
      "id": 1554629438,
      "node_id": "PRRC_kwDOABII585cqcM-",
      "diff_hunk": "@@ -0,0 +1,42 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_TIMEOFFSETS_H\n+#define BITCOIN_NODE_TIMEOFFSETS_H\n+\n+#include <sync.h>\n+\n+#include <chrono>\n+#include <cstddef>\n+#include <deque>\n+#include <optional>\n+\n+class TimeOffsets\n+{\n+private:\n+    static constexpr size_t N{50};\n+    //! Minimum difference between system and network time for a warning to be raised.\n+    static constexpr std::chrono::minutes m_warn_threshold{10};\n+    //! Log the last time a GUI warning was raised to avoid flooding user with them\n+    mutable std::optional<std::chrono::steady_clock::time_point> m_warning_emitted GUARDED_BY(m_mutex){};\n+    //! Minimum time to wait before raising a new GUI warning",
      "path": "src/node/timeoffsets.h",
      "position": null,
      "original_position": 23,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "in_reply_to_id": 1549711736,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "The `m_warn wait` (now `WARN_WAIT`) var was used to check that we're not creating too many messageboxes (through `uiInterface.ThreadSafeMessageBox()`). The messagebox call and the relevant variables have now been removed and the `GetWarnings()` implementation updated so that the GUI now shows warnings this way, so this comment is no longer relevant.",
      "created_at": "2024-04-06T15:33:16Z",
      "updated_at": "2024-04-10T15:11:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1554629438",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554629438"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 23,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554629471",
      "pull_request_review_id": 1984476214,
      "id": 1554629471,
      "node_id": "PRRC_kwDOABII585cqcNf",
      "diff_hunk": "@@ -0,0 +1,76 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <tinyformat.h>\n+#include <util/time.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <cstdint>\n+#include <deque>\n+#include <limits>\n+#include <optional>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+    LogDebug(BCLog::NET, \"Added time offset %+ds, total samples %d\\n\",\n+             Ticks<std::chrono::seconds>(offset), m_offsets.size());\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return 0s;\n+\n+    auto sorted_copy = m_offsets;",
      "path": "src/node/timeoffsets.cpp",
      "position": 42,
      "original_position": 42,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": 1548030687,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think I'd prefer to leave this as is, it's a well scoped mutex, performance impact should be negligible so keeping it concise makes sense I think.",
      "created_at": "2024-04-06T15:33:24Z",
      "updated_at": "2024-04-10T15:11:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1554629471",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1554629471"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": 40,
      "original_start_line": 40,
      "start_side": "RIGHT",
      "line": 42,
      "original_line": 42,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1559370716",
      "pull_request_review_id": 1984476214,
      "id": 1559370716,
      "node_id": "PRRC_kwDOABII585c8hvc",
      "diff_hunk": "@@ -0,0 +1,42 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_TIMEOFFSETS_H\n+#define BITCOIN_NODE_TIMEOFFSETS_H\n+\n+#include <sync.h>\n+\n+#include <chrono>\n+#include <cstddef>\n+#include <deque>\n+#include <optional>\n+\n+class TimeOffsets\n+{\n+private:\n+    static constexpr size_t N{50};\n+    //! Minimum difference between system and network time for a warning to be raised.\n+    static constexpr std::chrono::minutes m_warn_threshold{10};\n+    //! Log the last time a GUI warning was raised to avoid flooding user with them",
      "path": "src/node/timeoffsets.h",
      "position": null,
      "original_position": 21,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": 1548018941,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks, no longer relevant since the variable has been removed in latest push",
      "created_at": "2024-04-10T12:46:13Z",
      "updated_at": "2024-04-10T15:11:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1559370716",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1559370716"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 21,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1559370971",
      "pull_request_review_id": 1984476214,
      "id": 1559370971,
      "node_id": "PRRC_kwDOABII585c8hzb",
      "diff_hunk": "@@ -0,0 +1,42 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_TIMEOFFSETS_H\n+#define BITCOIN_NODE_TIMEOFFSETS_H\n+\n+#include <sync.h>\n+\n+#include <chrono>\n+#include <cstddef>\n+#include <deque>\n+#include <optional>\n+\n+class TimeOffsets\n+{\n+private:\n+    static constexpr size_t N{50};\n+    //! Minimum difference between system and network time for a warning to be raised.\n+    static constexpr std::chrono::minutes m_warn_threshold{10};\n+    //! Log the last time a GUI warning was raised to avoid flooding user with them\n+    mutable std::optional<std::chrono::steady_clock::time_point> m_warning_emitted GUARDED_BY(m_mutex){};\n+    //! Minimum time to wait before raising a new GUI warning",
      "path": "src/node/timeoffsets.h",
      "position": null,
      "original_position": 23,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": 1548019018,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks, no longer relevant since the variable has been removed in latest push",
      "created_at": "2024-04-10T12:46:25Z",
      "updated_at": "2024-04-10T15:11:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1559370971",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1559370971"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 23,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1559400091",
      "pull_request_review_id": 1984476214,
      "id": 1559400091,
      "node_id": "PRRC_kwDOABII585c8o6b",
      "diff_hunk": "@@ -681,8 +680,8 @@ static RPCHelpMan getnetworkinfo()\n     if (node.peerman) {\n         auto peerman_info{node.peerman->GetInfo()};\n         obj.pushKV(\"localrelay\", !peerman_info.ignores_incoming_txs);\n+        obj.pushKV(\"timeoffset\", Ticks<std::chrono::seconds>(peerman_info.median_outbound_time_offset));",
      "path": "src/rpc/net.cpp",
      "position": 24,
      "original_position": 12,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "in_reply_to_id": 1548075026,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I've moved this change to `[net processing] Introduce PeerManagerInfo`",
      "created_at": "2024-04-10T13:05:11Z",
      "updated_at": "2024-04-10T15:11:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1559400091",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1559400091"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 683,
      "original_line": 683,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1559490895",
      "pull_request_review_id": 1984476214,
      "id": 1559490895,
      "node_id": "PRRC_kwDOABII585c8_FP",
      "diff_hunk": "@@ -0,0 +1,76 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <tinyformat.h>\n+#include <util/time.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <cstdint>\n+#include <deque>\n+#include <limits>\n+#include <optional>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+    LogDebug(BCLog::NET, \"Added time offset %+ds, total samples %d\\n\",\n+             Ticks<std::chrono::seconds>(offset), m_offsets.size());\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return 0s;\n+\n+    auto sorted_copy = m_offsets;\n+    std::sort(sorted_copy.begin(), sorted_copy.end());\n+    return sorted_copy[m_offsets.size() / 2];  // approximate median is good enough, keep it simple\n+}\n+\n+bool TimeOffsets::WarnIfOutOfSync() const\n+{\n+    // when median == std::numeric_limits<int64_t>::min(), calling std::chrono::abs is UB\n+    auto median{std::max(Median(), std::chrono::seconds(std::numeric_limits<int64_t>::min() + 1))};\n+    if (std::chrono::abs(median) <= m_warn_threshold) {\n+        SetMedianTimeOffsetWarning(std::nullopt);\n+        return false;\n+    }\n+\n+    bilingual_str msg{strprintf(_(\n+        \"Your computer's date and time appears to be more than %d minutes out of sync with the network, \"\n+        \"this may lead to consensus failure. After you've corrected your settings, this message \"",
      "path": "src/node/timeoffsets.cpp",
      "position": null,
      "original_position": 58,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "in_reply_to_id": 1549717587,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks, I've included your suggestion and added a line about the RPCs.",
      "created_at": "2024-04-10T13:56:39Z",
      "updated_at": "2024-04-10T15:11:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1559490895",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1559490895"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1559494028",
      "pull_request_review_id": 1984476214,
      "id": 1559494028,
      "node_id": "PRRC_kwDOABII585c8_2M",
      "diff_hunk": "@@ -0,0 +1,42 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_TIMEOFFSETS_H\n+#define BITCOIN_NODE_TIMEOFFSETS_H\n+\n+#include <sync.h>\n+\n+#include <chrono>\n+#include <cstddef>\n+#include <deque>\n+#include <optional>\n+\n+class TimeOffsets\n+{\n+private:\n+    static constexpr size_t N{50};\n+    //! Minimum difference between system and network time for a warning to be raised.\n+    static constexpr std::chrono::minutes m_warn_threshold{10};\n+    //! Log the last time a GUI warning was raised to avoid flooding user with them\n+    mutable std::optional<std::chrono::steady_clock::time_point> m_warning_emitted GUARDED_BY(m_mutex){};\n+    //! Minimum time to wait before raising a new GUI warning\n+    static constexpr std::chrono::minutes m_warning_wait{60};",
      "path": "src/node/timeoffsets.h",
      "position": null,
      "original_position": 24,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "in_reply_to_id": 1549674844,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks, incorporated both suggestions.",
      "created_at": "2024-04-10T13:57:55Z",
      "updated_at": "2024-04-10T15:11:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1559494028",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1559494028"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 24,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1559511791",
      "pull_request_review_id": 1984476214,
      "id": 1559511791,
      "node_id": "PRRC_kwDOABII585c9ELv",
      "diff_hunk": "@@ -0,0 +1,30 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <node/timeoffsets.h>\n+#include <noui.h>\n+#include <test/fuzz/FuzzedDataProvider.h>\n+#include <test/fuzz/fuzz.h>\n+#include <test/util/setup_common.h>\n+\n+#include <chrono>\n+#include <cstdint>\n+#include <functional>\n+\n+void initialize_timeoffsets()\n+{\n+    static const auto testing_setup = MakeNoLogFileContext<>(ChainType::MAIN);\n+    noui_test_redirect();  // prevent the TimeOffsets::WarnIfOutOfSync() GUI MessageBoxes from flooding the log\n+}\n+\n+FUZZ_TARGET(timeoffsets, .init = initialize_timeoffsets)\n+{\n+    FuzzedDataProvider fuzzed_data_provider(buffer.data(), buffer.size());\n+    TimeOffsets offsets{};\n+    LIMITED_WHILE(fuzzed_data_provider.remaining_bytes() > 0, 4'000) {\n+        (void)offsets.Median();\n+        offsets.Add(std::chrono::seconds{fuzzed_data_provider.ConsumeIntegral<int64_t>()});",
      "path": "src/test/fuzz/timeoffsets.cpp",
      "position": null,
      "original_position": 27,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "in_reply_to_id": 1549713660,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Updated this line to use `std::chrono::seconds::rep` :\r\n\r\n```cpp\r\n        offsets.Add(std::chrono::seconds{fuzzed_data_provider.ConsumeIntegral<std::chrono::seconds::rep>()});\r\n```",
      "created_at": "2024-04-10T14:06:46Z",
      "updated_at": "2024-04-10T15:11:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1559511791",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1559511791"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 27,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1559513820",
      "pull_request_review_id": 1984476214,
      "id": 1559513820,
      "node_id": "PRRC_kwDOABII585c9Erc",
      "diff_hunk": "@@ -0,0 +1,71 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+//\n+\n+#include <node/timeoffsets.h>\n+#include <noui.h>\n+#include <test/util/setup_common.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+#include <chrono>\n+#include <vector>\n+\n+using namespace std::chrono_literals;\n+\n+void AddMulti(TimeOffsets& offsets, std::vector<std::chrono::seconds> to_add)\n+{\n+    for (auto offset : to_add) {\n+        offsets.Add(offset);\n+    }\n+}\n+\n+BOOST_FIXTURE_TEST_SUITE(timeoffsets_tests, BasicTestingSetup)\n+\n+BOOST_AUTO_TEST_CASE(timeoffsets)\n+{\n+    TimeOffsets offsets{};\n+    BOOST_CHECK(offsets.Median() == 0s);\n+\n+    AddMulti(offsets, {{0s, -1s, -2s, -3s}});\n+    // median should be zero for < 5 offsets\n+    BOOST_CHECK(offsets.Median() == 0s);\n+\n+    offsets.Add(-4s);\n+    // we now have 5 offsets: [-4, -3, -2, -1, 0]\n+    BOOST_CHECK(offsets.Median() == -2s);\n+\n+    AddMulti(offsets, {4, 5s});\n+    // we now have 9 offsets: [-4, -3, -2, -1, 0, 5, 5, 5, 5]\n+    BOOST_CHECK(offsets.Median() == 0s);\n+\n+    AddMulti(offsets, {41, 10s});\n+    // the TimeOffsets is now at capacity with 50 offsets, oldest offsets is discarded for any additional offset\n+    BOOST_CHECK(offsets.Median() == 10s);\n+\n+    AddMulti(offsets, {25, 15s});\n+    // we now have 25 offsets of 10s followed by 25 offsets of 15s\n+    BOOST_CHECK(offsets.Median() == 15s);\n+}\n+\n+bool IsWarningRaised(std::vector<std::chrono::seconds> check_offsets)",
      "path": "src/test/timeoffsets_tests.cpp",
      "position": null,
      "original_position": 52,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "in_reply_to_id": 1549743266,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Thanks, fixed. Also for `AddMulti` in the same file.",
      "created_at": "2024-04-10T14:07:46Z",
      "updated_at": "2024-04-10T15:11:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1559513820",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1559513820"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 52,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1559514202",
      "pull_request_review_id": 1984476214,
      "id": 1559514202,
      "node_id": "PRRC_kwDOABII585c9Exa",
      "diff_hunk": "@@ -0,0 +1,42 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_TIMEOFFSETS_H\n+#define BITCOIN_NODE_TIMEOFFSETS_H\n+\n+#include <sync.h>\n+\n+#include <chrono>\n+#include <cstddef>\n+#include <deque>\n+#include <optional>\n+\n+class TimeOffsets\n+{\n+private:",
      "path": "src/node/timeoffsets.h",
      "position": null,
      "original_position": 17,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": 1550033829,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Ah right, removed.",
      "created_at": "2024-04-10T14:08:00Z",
      "updated_at": "2024-04-10T15:11:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1559514202",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1559514202"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1559514435",
      "pull_request_review_id": 1984476214,
      "id": 1559514435,
      "node_id": "PRRC_kwDOABII585c9E1D",
      "diff_hunk": "@@ -753,6 +753,8 @@ class PeerManagerImpl final : public PeerManager\n     /** Next time to check for stale tip */\n     std::chrono::seconds m_stale_tip_check_time GUARDED_BY(cs_main){0s};\n \n+    TimeOffsets m_outbound_time_offsets;",
      "path": "src/net_processing.cpp",
      "position": 40,
      "original_position": 20,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": 1550035286,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Added!",
      "created_at": "2024-04-10T14:08:08Z",
      "updated_at": "2024-04-10T15:11:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1559514435",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1559514435"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 756,
      "original_line": 756,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1559515207",
      "pull_request_review_id": 1984476214,
      "id": 1559515207,
      "node_id": "PRRC_kwDOABII585c9FBH",
      "diff_hunk": "@@ -0,0 +1,42 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_NODE_TIMEOFFSETS_H\n+#define BITCOIN_NODE_TIMEOFFSETS_H\n+\n+#include <sync.h>\n+\n+#include <chrono>\n+#include <cstddef>\n+#include <deque>\n+#include <optional>\n+\n+class TimeOffsets\n+{\n+private:\n+    static constexpr size_t N{50};",
      "path": "src/node/timeoffsets.h",
      "position": null,
      "original_position": 18,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": 1550056609,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Renamed variable to `MAX_SIZE` and added a docstring.",
      "created_at": "2024-04-10T14:08:33Z",
      "updated_at": "2024-04-10T15:11:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1559515207",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1559515207"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 18,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1559545729",
      "pull_request_review_id": 1984476214,
      "id": 1559545729,
      "node_id": "PRRC_kwDOABII585c9MeB",
      "diff_hunk": "@@ -0,0 +1,76 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <tinyformat.h>\n+#include <util/time.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <cstdint>\n+#include <deque>\n+#include <limits>\n+#include <optional>\n+\n+using namespace std::chrono_literals;\n+\n+void TimeOffsets::Add(std::chrono::seconds offset)\n+{\n+    LOCK(m_mutex);\n+\n+    if (m_offsets.size() >= N) {\n+        m_offsets.pop_front();\n+    }\n+    m_offsets.push_back(offset);\n+    LogDebug(BCLog::NET, \"Added time offset %+ds, total samples %d\\n\",\n+             Ticks<std::chrono::seconds>(offset), m_offsets.size());\n+}\n+\n+std::chrono::seconds TimeOffsets::Median() const\n+{\n+    LOCK(m_mutex);\n+\n+    // Only calculate the median if we have 5 or more offsets\n+    if (m_offsets.size() < 5) return 0s;\n+\n+    auto sorted_copy = m_offsets;\n+    std::sort(sorted_copy.begin(), sorted_copy.end());\n+    return sorted_copy[m_offsets.size() / 2];  // approximate median is good enough, keep it simple\n+}\n+\n+bool TimeOffsets::WarnIfOutOfSync() const\n+{\n+    // when median == std::numeric_limits<int64_t>::min(), calling std::chrono::abs is UB\n+    auto median{std::max(Median(), std::chrono::seconds(std::numeric_limits<int64_t>::min() + 1))};\n+    if (std::chrono::abs(median) <= m_warn_threshold) {\n+        SetMedianTimeOffsetWarning(std::nullopt);\n+        return false;\n+    }\n+\n+    bilingual_str msg{strprintf(_(\n+        \"Your computer's date and time appears to be more than %d minutes out of sync with the network, \"\n+        \"this may lead to consensus failure. After you've corrected your settings, this message \"\n+        \"should no longer appear when you restart your node. Without a restart, it should stop showing \"\n+        \"automatically after you've connected to a sufficient number of new outbound peers, which may \"\n+        \"take some time.\"\n+    ), Ticks<std::chrono::minutes>(m_warn_threshold))};\n+    LogWarning(\"%s\\n\", msg.original);\n+    SetMedianTimeOffsetWarning(msg);\n+\n+    const auto now{SteadyClock::now()};\n+    {\n+        LOCK(m_mutex);\n+        if (!m_warning_emitted || now - m_warning_emitted.value() > m_warning_wait) {\n+            m_warning_emitted = now;\n+            uiInterface.ThreadSafeMessageBox(msg, \"\", CClientUIInterface::MSG_WARNING);",
      "path": "src/node/timeoffsets.cpp",
      "position": null,
      "original_position": 71,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": 1551733252,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Great catch, thanks. I hadn't considered the blocking nature being a problem, and you're right that this PR makes the problem more apparent since the waiting threshold is reduced significantly.\r\n\r\nI've removed the messagebox altogether, and updated the approach to properly use the `GetWarnings()` method to show the warning in the GUI. I think this simplifies the code, prevents blocking, and makes for nicer UI.\r\n\r\n<img width=\"756\" alt=\"image\" src=\"https://github.com/bitcoin/bitcoin/assets/69010457/6e479864-c9c4-4100-99e1-cb77b1792ecb\">\r\n",
      "created_at": "2024-04-10T14:24:37Z",
      "updated_at": "2024-04-10T15:11:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1559545729",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1559545729"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 71,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1561056518",
      "pull_request_review_id": 1994242582,
      "id": 1561056518,
      "node_id": "PRRC_kwDOABII585dC9UG",
      "diff_hunk": "@@ -0,0 +1,76 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <tinyformat.h>\n+#include <util/time.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <cstdint>\n+#include <deque>\n+#include <limits>\n+#include <optional>\n+\n+using namespace std::chrono_literals;",
      "path": "src/node/timeoffsets.cpp",
      "position": 21,
      "original_position": 21,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": 1548013616,
      "user": {
        "login": "sr-gi",
        "id": 6665628,
        "node_id": "MDQ6VXNlcjY2NjU2Mjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6665628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sr-gi",
        "html_url": "https://github.com/sr-gi",
        "followers_url": "https://api.github.com/users/sr-gi/followers",
        "following_url": "https://api.github.com/users/sr-gi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sr-gi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sr-gi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sr-gi/subscriptions",
        "organizations_url": "https://api.github.com/users/sr-gi/orgs",
        "repos_url": "https://api.github.com/users/sr-gi/repos",
        "events_url": "https://api.github.com/users/sr-gi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sr-gi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I removed it and this seems to run fine, at least in my system",
      "created_at": "2024-04-11T13:49:31Z",
      "updated_at": "2024-04-11T13:49:31Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1561056518",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1561056518"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 21,
      "original_line": 21,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1561059463",
      "pull_request_review_id": 1994247323,
      "id": 1561059463,
      "node_id": "PRRC_kwDOABII585dC-CH",
      "diff_hunk": "@@ -392,7 +392,7 @@ struct Peer {\n \n     /** Time offset computed during the version handshake based on the\n      * timestamp the peer send in the version message. */\n-    std::atomic<int64_t> m_time_offset{0};\n+    std::atomic<std::chrono::seconds> m_time_offset{0s};",
      "path": "src/net_processing.cpp",
      "position": 22,
      "original_position": 5,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "16dededcd8d52b6d0fdbe9e0ffab6a177aa8aa17",
      "in_reply_to_id": 1547973617,
      "user": {
        "login": "sr-gi",
        "id": 6665628,
        "node_id": "MDQ6VXNlcjY2NjU2Mjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6665628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sr-gi",
        "html_url": "https://github.com/sr-gi",
        "followers_url": "https://api.github.com/users/sr-gi/followers",
        "following_url": "https://api.github.com/users/sr-gi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sr-gi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sr-gi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sr-gi/subscriptions",
        "organizations_url": "https://api.github.com/users/sr-gi/orgs",
        "repos_url": "https://api.github.com/users/sr-gi/repos",
        "events_url": "https://api.github.com/users/sr-gi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sr-gi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Oh, my point was that it could have also been defined as `0s` there too, but I won't insist ",
      "created_at": "2024-04-11T13:51:27Z",
      "updated_at": "2024-04-11T13:51:27Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1561059463",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1561059463"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 395,
      "original_line": 395,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1566015813",
      "pull_request_review_id": 2001486145,
      "id": 1566015813,
      "node_id": "PRRC_kwDOABII585dV4FF",
      "diff_hunk": "@@ -3666,12 +3681,12 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n                   peer->m_starting_height, addrMe.ToStringAddrPort(), fRelay, pfrom.GetId(),\n                   remoteAddr, (mapped_as ? strprintf(\", mapped_as=%d\", mapped_as) : \"\"));\n \n-        int64_t nTimeOffset = nTime - GetTime();\n-        pfrom.nTimeOffset = nTimeOffset;\n+        peer->m_time_offset = NodeSeconds{std::chrono::seconds{nTime}} - Now<NodeSeconds>();\n         if (!pfrom.IsInboundConn()) {\n             // Don't use timedata samples from inbound peers to make it",
      "path": "src/net_processing.cpp",
      "position": 73,
      "original_position": 73,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "in_reply_to_id": 1548070604,
      "user": {
        "login": "sr-gi",
        "id": 6665628,
        "node_id": "MDQ6VXNlcjY2NjU2Mjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6665628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sr-gi",
        "html_url": "https://github.com/sr-gi",
        "followers_url": "https://api.github.com/users/sr-gi/followers",
        "following_url": "https://api.github.com/users/sr-gi/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sr-gi/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sr-gi/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sr-gi/subscriptions",
        "organizations_url": "https://api.github.com/users/sr-gi/orgs",
        "repos_url": "https://api.github.com/users/sr-gi/repos",
        "events_url": "https://api.github.com/users/sr-gi/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sr-gi/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I don't think this was covered (or it may have been regressed) ",
      "created_at": "2024-04-15T15:52:15Z",
      "updated_at": "2024-04-15T15:52:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1566015813",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1566015813"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 3686,
      "original_line": 3686,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1566042673",
      "pull_request_review_id": 2001530323,
      "id": 1566042673,
      "node_id": "PRRC_kwDOABII585dV-ox",
      "diff_hunk": "@@ -3666,12 +3681,12 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n                   peer->m_starting_height, addrMe.ToStringAddrPort(), fRelay, pfrom.GetId(),\n                   remoteAddr, (mapped_as ? strprintf(\", mapped_as=%d\", mapped_as) : \"\"));\n \n-        int64_t nTimeOffset = nTime - GetTime();\n-        pfrom.nTimeOffset = nTimeOffset;\n+        peer->m_time_offset = NodeSeconds{std::chrono::seconds{nTime}} - Now<NodeSeconds>();\n         if (!pfrom.IsInboundConn()) {\n             // Don't use timedata samples from inbound peers to make it",
      "path": "src/net_processing.cpp",
      "position": 73,
      "original_position": 73,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "2ef71c73582be554e565ada3f8a6ca77c2cd79f1",
      "in_reply_to_id": 1548070604,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Sorry, I think it must have regressed with [this update in the next line](https://github.com/bitcoin/bitcoin/compare/2ef71c73582be554e565ada3f8a6ca77c2cd79f1..5362db10ab6d1d6697807c8f8494a2fc5bf41ff8#diff-6875de769e90cec84d2e8a9c1b962cdbcda44d870d42e4215827e599e11e90e3R3687) - will fix if I have to retouch.",
      "created_at": "2024-04-15T16:11:16Z",
      "updated_at": "2024-04-15T16:11:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1566042673",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1566042673"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 3686,
      "original_line": 3686,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1566121275",
      "pull_request_review_id": 2001644046,
      "id": 1566121275,
      "node_id": "PRRC_kwDOABII585dWR07",
      "diff_hunk": "@@ -0,0 +1,76 @@\n+// Copyright (c) 2024-present The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <logging.h>\n+#include <node/interface_ui.h>\n+#include <node/timeoffsets.h>\n+#include <sync.h>\n+#include <tinyformat.h>\n+#include <util/time.h>\n+#include <util/translation.h>\n+#include <warnings.h>\n+\n+#include <algorithm>\n+#include <chrono>\n+#include <cstdint>\n+#include <deque>\n+#include <limits>\n+#include <optional>\n+\n+using namespace std::chrono_literals;",
      "path": "src/node/timeoffsets.cpp",
      "position": 21,
      "original_position": 21,
      "commit_id": "c6be144c4b774a03a8bcab5a165768cf81e9b06b",
      "original_commit_id": "e6d7bcf7689e38dcda45a1cdbff98fd610864e47",
      "in_reply_to_id": 1548013616,
      "user": {
        "login": "stickies-v",
        "id": 69010457,
        "node_id": "MDQ6VXNlcjY5MDEwNDU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69010457?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stickies-v",
        "html_url": "https://github.com/stickies-v",
        "followers_url": "https://api.github.com/users/stickies-v/followers",
        "following_url": "https://api.github.com/users/stickies-v/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/stickies-v/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/stickies-v/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/stickies-v/subscriptions",
        "organizations_url": "https://api.github.com/users/stickies-v/orgs",
        "repos_url": "https://api.github.com/users/stickies-v/repos",
        "events_url": "https://api.github.com/users/stickies-v/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/stickies-v/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "We `#include <util/time.h>` which has `using namespace std::chrono_literals;` which is why it compiles. I thought we would prefer (IWYU-style) to be explicit about used namespaces, but upon further investigation the purpose of #20602 seems to have been to _avoid_ that, so I'll remove this if I re-touch.",
      "created_at": "2024-04-15T16:40:35Z",
      "updated_at": "2024-04-15T16:40:35Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29623#discussion_r1566121275",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1566121275"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29623"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 21,
      "original_line": 21,
      "side": "RIGHT"
    }
  ]
}