{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612",
    "id": 1764506330,
    "node_id": "PR_kwDOABII585pLDra",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/29612",
    "diff_url": "https://github.com/bitcoin/bitcoin/pull/29612.diff",
    "patch_url": "https://github.com/bitcoin/bitcoin/pull/29612.patch",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29612",
    "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29612/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/542e13b2937356810bda2c41be83c3b1675e2f2f",
    "number": 29612,
    "state": "closed",
    "locked": true,
    "maintainer_can_modify": false,
    "title": "rpc: Optimize serialization and enhance metadata of dumptxoutset output",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "The second attempt at implementing the `dumptxoutset` space optimization as suggested in #25675. Closes #25675.\r\n\r\nThis builds on the work done in #26045, addresses open feedback, adds some further improvements (most importantly usage of compact size), documentation, and an additional test.\r\n\r\nThe [original snapshot at height 830,000](https://github.com/bitcoin/bitcoin/pull/29551) came in at 10.82 GB. With this change, the same snapshot is 8.94 GB, a reduction of 17.4%.\r\n\r\nThis also enhances the metadata of the output file and adds the following data to allow for better error handling and make future upgrades easier:\r\n- A newly introduced utxo set magic\r\n- A version number\r\n- The network magic\r\n- The block height",
    "labels": [
      {
        "id": 98279177,
        "node_id": "MDU6TGFiZWw5ODI3OTE3Nw==",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ",
        "name": "RPC/REST/ZMQ",
        "color": "0052cc",
        "default": false
      }
    ],
    "created_at": "2024-03-10T16:31:48Z",
    "updated_at": "2025-06-10T06:15:24Z",
    "closed_at": "2024-05-23T16:31:35Z",
    "mergeable_state": "unknown",
    "merged": true,
    "merged_at": "2024-05-23T16:31:35Z",
    "merged_by": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "merge_commit_sha": "413844f1c2a3d8f7cfef822f348f26df488b03c7",
    "assignees": [],
    "requested_reviewers": [
      {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    ],
    "requested_teams": [],
    "head": {
      "label": "fjahr:2024-03-pr26045-reopen",
      "ref": "2024-03-pr26045-reopen",
      "sha": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 196253948,
        "node_id": "MDEwOlJlcG9zaXRvcnkxOTYyNTM5NDg=",
        "name": "bitcoin",
        "full_name": "fjahr/bitcoin",
        "owner": {
          "login": "fjahr",
          "id": 1322187,
          "node_id": "MDQ6VXNlcjEzMjIxODc=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/fjahr",
          "html_url": "https://github.com/fjahr",
          "followers_url": "https://api.github.com/users/fjahr/followers",
          "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
          "organizations_url": "https://api.github.com/users/fjahr/orgs",
          "repos_url": "https://api.github.com/users/fjahr/repos",
          "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/fjahr/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/fjahr/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": true,
        "url": "https://api.github.com/repos/fjahr/bitcoin",
        "archive_url": "https://api.github.com/repos/fjahr/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/fjahr/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/fjahr/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/fjahr/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/fjahr/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/fjahr/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/fjahr/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/fjahr/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/fjahr/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/fjahr/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/fjahr/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/fjahr/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/fjahr/bitcoin/events",
        "forks_url": "https://api.github.com/repos/fjahr/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/fjahr/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/fjahr/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/fjahr/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/fjahr/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/fjahr/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/fjahr/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/fjahr/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/fjahr/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/fjahr/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/fjahr/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/fjahr/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/fjahr/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/fjahr/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/fjahr/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/fjahr/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:fjahr/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/fjahr/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/fjahr/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/fjahr/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/fjahr/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/fjahr/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/fjahr/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/fjahr/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/fjahr/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/fjahr/bitcoin/hooks",
        "svn_url": "https://github.com/fjahr/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 1,
        "stargazers_count": 4,
        "watchers_count": 4,
        "size": 268151,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-06-04T21:46:06Z",
        "created_at": "2019-07-10T18:11:06Z",
        "updated_at": "2024-07-23T22:14:45Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin:master",
      "ref": "master",
      "sha": "a786fd2041913d82ca90b561de309421bd24e41b",
      "user": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 1181927,
        "node_id": "MDEwOlJlcG9zaXRvcnkxMTgxOTI3",
        "name": "bitcoin",
        "full_name": "bitcoin/bitcoin",
        "owner": {
          "login": "bitcoin",
          "id": 528860,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
          "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin",
          "html_url": "https://github.com/bitcoin",
          "followers_url": "https://api.github.com/users/bitcoin/followers",
          "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin/orgs",
          "repos_url": "https://api.github.com/users/bitcoin/repos",
          "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin/bitcoin",
        "description": "Bitcoin Core integration/staging tree",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin/bitcoin",
        "archive_url": "https://api.github.com/repos/bitcoin/bitcoin/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin/bitcoin/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin/bitcoin/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin/bitcoin/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin/bitcoin/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin/bitcoin/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin/bitcoin/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin/bitcoin/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin/bitcoin/downloads",
        "events_url": "https://api.github.com/repos/bitcoin/bitcoin/events",
        "forks_url": "https://api.github.com/repos/bitcoin/bitcoin/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin/bitcoin/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin/bitcoin/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin/bitcoin.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin/bitcoin/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin/bitcoin/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin/bitcoin/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin/bitcoin/languages",
        "merges_url": "https://api.github.com/repos/bitcoin/bitcoin/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin/bitcoin/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin/bitcoin/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin/bitcoin/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin/bitcoin.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin/bitcoin/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin/bitcoin/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin/bitcoin/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin/bitcoin/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin/bitcoin/tags",
        "teams_url": "https://api.github.com/repos/bitcoin/bitcoin/teams",
        "trees_url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin/bitcoin.git",
        "hooks_url": "https://api.github.com/repos/bitcoin/bitcoin/hooks",
        "svn_url": "https://github.com/bitcoin/bitcoin",
        "homepage": "https://bitcoincore.org/en/download",
        "language": "C++",
        "forks_count": 37342,
        "stargazers_count": 84057,
        "watchers_count": 84057,
        "size": 283543,
        "default_branch": "master",
        "open_issues_count": 752,
        "is_template": false,
        "topics": [
          "bitcoin",
          "c-plus-plus",
          "cryptocurrency",
          "cryptography",
          "p2p"
        ],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": false,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-06-09T21:38:37Z",
        "created_at": "2010-12-19T15:16:43Z",
        "updated_at": "2025-06-10T06:20:36Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 260,
    "deletions": 75,
    "changed_files": 9,
    "commits": 4,
    "review_comments": 53,
    "comments": 22
  },
  "events": [
    {
      "event": "commented",
      "id": 1987287180,
      "node_id": "IC_kwDOABII5852c5iM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1987287180",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-10T16:31:50Z",
      "updated_at": "2024-05-23T16:21:38Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29612).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/29612#pullrequestreview-2068620308), [theStack](https://github.com/bitcoin/bitcoin/pull/29612#pullrequestreview-2069701481), [achow101](https://github.com/bitcoin/bitcoin/pull/29612#issuecomment-2127566569) |\n| Stale ACK | [mzumsande](https://github.com/bitcoin/bitcoin/pull/29612#pullrequestreview-1964816329), [Sjors](https://github.com/bitcoin/bitcoin/pull/29612#issuecomment-2031653725) |\n\nIf your review is incorrectly listed, please react with 👎 to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#29775](https://github.com/bitcoin/bitcoin/pull/29775) (Testnet4 including PoW difficulty adjustment fix by fjahr)\n* [#29307](https://github.com/bitcoin/bitcoin/pull/29307) (util: check for errors after close and read in AutoFile by vasild)\n* [#28670](https://github.com/bitcoin/bitcoin/pull/28670) (assumeutxo, rpc: Improve EOF error when reading snapshot metadata in loadtxoutset by pablomartin4btc)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#issuecomment-1987287180",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29612"
    },
    {
      "event": "labeled",
      "id": 12065863171,
      "node_id": "LE_lADOABII586BzodWzwAAAALPLnYD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12065863171",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-10T16:31:52Z",
      "label": {
        "name": "RPC/REST/ZMQ",
        "color": "0052cc"
      }
    },
    {
      "event": "labeled",
      "id": 12065965098,
      "node_id": "LE_lADOABII586BzodWzwAAAALPMAQq",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12065965098",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-10T17:25:56Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1987301899,
      "node_id": "IC_kwDOABII5852c9IL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1987301899",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-10T17:25:57Z",
      "updated_at": "2024-03-10T17:25:57Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n\n🚧 At least one of the CI tasks failed. Make sure to run all tests locally, according to the\ndocumentation.\n\nPossibly this is due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/22485931752</sub>",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#issuecomment-1987301899",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29612"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12065986450,
      "node_id": "HRFPE_lADOABII586BzodWzwAAAALPMFeS",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12065986450",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "8d67b35f17d9b016f27d5333384d6f3781a19b3c",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/8d67b35f17d9b016f27d5333384d6f3781a19b3c",
      "created_at": "2024-03-10T17:37:58Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12066268909,
      "node_id": "HRFPE_lADOABII586BzodWzwAAAALPNKbt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12066268909",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "b0cfbce17a84158973ebba16f9801bd57cb70fe6",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/b0cfbce17a84158973ebba16f9801bd57cb70fe6",
      "created_at": "2024-03-10T20:04:40Z"
    },
    {
      "event": "unlabeled",
      "id": 12066470500,
      "node_id": "UNLE_lADOABII586BzodWzwAAAALPN7pk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12066470500",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-10T21:59:19Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 1988209242,
      "node_id": "IC_kwDOABII5852gapa",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1988209242",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-11T11:21:53Z",
      "updated_at": "2024-03-11T11:21:53Z",
      "author_association": "MEMBER",
      "body": "> 我最近正在休假中\r\n\r\nWell, I'm not on holiday :-)\r\n\r\ntACK b0cfbce17a84158973ebba16f9801bd57cb70fe6\r\n\r\nI do suggest adding a comment to `PopulateAndValidateSnapshot` in `validation.h`:\r\n\r\n> To reduce space, this function takes advantage of the guarantee by leveldb that keys are lexicographically sorted.\r\n\r\nI generated a snapshot and loaded it using the patch in #29551 (only waited for it to reach the tip, not a full background sync).\r\n\r\nFor those testing who don't want to wait out the long flush, see #28358.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#issuecomment-1988209242",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29612"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12080057372,
      "node_id": "HRFPE_lADOABII586BzodWzwAAAALQBwwc",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12080057372",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "33aa19df02b3d8dda9668f3d3df7989ff9b08a12",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/33aa19df02b3d8dda9668f3d3df7989ff9b08a12",
      "created_at": "2024-03-11T20:58:25Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12080064309,
      "node_id": "HRFPE_lADOABII586BzodWzwAAAALQByc1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12080064309",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "97eb214ec3062ab07f3a340725b8c418b330b97b",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/97eb214ec3062ab07f3a340725b8c418b330b97b",
      "created_at": "2024-03-11T20:59:13Z"
    },
    {
      "event": "commented",
      "id": 1989436033,
      "node_id": "IC_kwDOABII5852lGKB",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1989436033",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-11T21:00:21Z",
      "updated_at": "2024-03-11T21:04:05Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for the review and testing!\r\n\r\n> I do suggest adding a comment to `PopulateAndValidateSnapshot` in `validation.h`:\r\n> \r\n> > To reduce space, this function takes advantage of the guarantee by leveldb that keys are lexicographically sorted.\r\n\r\nAs it is worded, wouldn't this be more appropriate to add in `CreateUTXOSnapshot`? That's where we are iterating with the pcursor, leveraging the sorting, and writing the coins to file, so I would say that's also where the space savings are realized. \r\n\r\nI have now amended the comment a bit and added a version of it to both `CreateUTXOSnapshot` and `PopulateAndValidateSnapshot`. Please let me know if you think this is alright: https://github.com/bitcoin/bitcoin/commit/923ec9043af668f3a342422d32c1c28d29018ed0",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#issuecomment-1989436033",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29612"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12080098996,
      "node_id": "HRFPE_lADOABII586BzodWzwAAAALQB660",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12080098996",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "923ec9043af668f3a342422d32c1c28d29018ed0",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/923ec9043af668f3a342422d32c1c28d29018ed0",
      "created_at": "2024-03-11T21:02:58Z"
    },
    {
      "event": "commented",
      "id": 1991022291,
      "node_id": "IC_kwDOABII5852rJbT",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1991022291",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-12T08:24:59Z",
      "updated_at": "2024-03-12T08:24:59Z",
      "author_association": "MEMBER",
      "body": "re-ACK 923ec9043af668f3a342422d32c1c28d29018ed0\r\n\r\nThat looks good.\r\n\r\nThe reason I suggested (also) writing something in the header is because it's more likely to be noticed by some future dev looking through existing leveldb uses, seeing if they can replace it.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#issuecomment-1991022291",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29612"
    },
    {
      "event": "reviewed",
      "id": 1933303632,
      "node_id": "PRR_kwDOABII585zO99Q",
      "url": null,
      "actor": null,
      "commit_id": "923ec9043af668f3a342422d32c1c28d29018ed0",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Nice, ACK 923ec9043af668f3a342422d32c1c28d29018ed0\r\n\r\nJust some comment nits that could easily be done in a follow-up too.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#pullrequestreview-1933303632",
      "submitted_at": "2024-03-13T07:49:43Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
    },
    {
      "event": "labeled",
      "id": 12107188646,
      "node_id": "LE_lADOABII586BzodWzwAAAALRpQmm",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12107188646",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-13T17:50:08Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12116139210,
      "node_id": "HRFPE_lADOABII586BzodWzwAAAALSLZzK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12116139210",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "f285e5d1e19b79d837aae779064753e62ff3f82b",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/f285e5d1e19b79d837aae779064753e62ff3f82b",
      "created_at": "2024-03-14T10:39:05Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12116219359,
      "node_id": "HRFPE_lADOABII586BzodWzwAAAALSLtXf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12116219359",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "843b95ed4b28de9207276f1a5f66820fef2b92d6",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/843b95ed4b28de9207276f1a5f66820fef2b92d6",
      "created_at": "2024-03-14T10:45:48Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12116343961,
      "node_id": "HRFPE_lADOABII586BzodWzwAAAALSMLyZ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12116343961",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "71d41d536bc2f47a014c898891d77d58502c9554",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/71d41d536bc2f47a014c898891d77d58502c9554",
      "created_at": "2024-03-14T10:55:47Z"
    },
    {
      "event": "unlabeled",
      "id": 12117622975,
      "node_id": "UNLE_lADOABII586BzodWzwAAAALSREC_",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12117622975",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-14T12:39:22Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 1949165312,
      "node_id": "PRR_kwDOABII5850LecA",
      "url": null,
      "actor": null,
      "commit_id": "71d41d536bc2f47a014c898891d77d58502c9554",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Re-ACK 71d41d536bc2f47a014c898891d77d58502c9554",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#pullrequestreview-1949165312",
      "submitted_at": "2024-03-20T15:03:22Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
    },
    {
      "event": "review_requested",
      "id": 12186353384,
      "node_id": "RRE_lADOABII586BzodWzwAAAALWXP7o",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12186353384",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-20T15:03:25Z",
      "requested_reviewer": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "comment_deleted",
      "id": 12201457844,
      "node_id": "CDE_lADOABII586BzodWzwAAAALXQ3i0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12201457844",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-21T14:09:45Z"
    },
    {
      "event": "reviewed",
      "id": 1958238106,
      "node_id": "PRR_kwDOABII5850uFea",
      "url": null,
      "actor": null,
      "commit_id": "71d41d536bc2f47a014c898891d77d58502c9554",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#pullrequestreview-1958238106",
      "submitted_at": "2024-03-25T16:40:19Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
    },
    {
      "event": "reviewed",
      "id": 1964816329,
      "node_id": "PRR_kwDOABII5851HLfJ",
      "url": null,
      "actor": null,
      "commit_id": "71d41d536bc2f47a014c898891d77d58502c9554",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Light ACK 71d41d536bc2f47a014c898891d77d58502c9554\r\n\r\nI tested this on signet and it worked well, but I'm not very familiar with our serialization code.",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#pullrequestreview-1964816329",
      "submitted_at": "2024-03-27T21:43:08Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
    },
    {
      "event": "review_requested",
      "id": 12273565386,
      "node_id": "RRE_lADOABII586BzodWzwAAAALbj77K",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12273565386",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-27T21:43:11Z",
      "requested_reviewer": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 12273569941,
      "node_id": "RRE_lADOABII586BzodWzwAAAALbj9CV",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12273569941",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-03-27T21:43:44Z",
      "requested_reviewer": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 1970409202,
      "node_id": "PRR_kwDOABII5851cg7y",
      "url": null,
      "actor": null,
      "commit_id": "71d41d536bc2f47a014c898891d77d58502c9554",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Code-review ACK 71d41d536bc2f47a014c898891d77d58502c9554\r\n\r\n(Fwiw, I rebased #27432 on this PR and adapted the utxo-to-sqlite3 tool to the new serialization format.)",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#pullrequestreview-1970409202",
      "submitted_at": "2024-03-31T21:35:26Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
    },
    {
      "event": "commented",
      "id": 2031653725,
      "node_id": "IC_kwDOABII5855GJNd",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2031653725",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-02T10:35:47Z",
      "updated_at": "2024-04-02T10:35:47Z",
      "author_association": "MEMBER",
      "body": "re-utACK 71d41d536bc2f47a014c898891d77d58502c9554\r\n\r\nOnly test (rebase) and documentation changes since my last review.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#issuecomment-2031653725",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29612"
    },
    {
      "event": "commented",
      "id": 2032041436,
      "node_id": "IC_kwDOABII5855Hn3c",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2032041436",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-02T13:26:54Z",
      "updated_at": "2024-04-02T13:28:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks all for the review, unless I have to retouch (I hope not since this has collected 4 ACKs) I will address the open comments in a follow-up.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#issuecomment-2032041436",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29612"
    },
    {
      "event": "reviewed",
      "id": 1974818797,
      "node_id": "PRR_kwDOABII5851tVft",
      "url": null,
      "actor": null,
      "commit_id": "71d41d536bc2f47a014c898891d77d58502c9554",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "`dumptxoutset` is a RPC that has been available for several releases, including those prior to the completion of assumeutxo validation code. Changing the format now is a breaking change - utxo sets dumped prior to the PR are incompatible with any version with this PR merged, and utxo sets dumped after this PR are incompatible with all prior versions.\r\n\r\nConceivably, in the future, someone could run an older node and create a utxo set snapshot to setup a new node with more recent software. This would then fail as the formats are incompatible. Currently the failure does not provide much detail on what actually went wrong. The RPC error is just \"Unable to load UTXO snapshot\" while the log does say \"bad snapshot format or truncated snapshot after deserializing 0 coins\". However that is not an indication of a version incompatibility, and I think it would be better if the new format could include a version number so that this could be properly reported.\r\n\r\nHaving a version number would also make it easy to distinguish which snapshot format to deserialize as so we can avoid these kinds of errors. We could detect which format was used for serialization and proceed to deserialize as necessary.\r\n\r\nThe reverse is also a possibility - a new node creates a snapshot with the new format and tries to load it into older software, but this seems unlikely to actually happen. But, it would also be trivial to add an option that allows for serializing in the old format for those that need it.\r\n\r\nI think this also needs a release note about the format change as utxo set snapshots are useful for more than just snapshot loading.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#pullrequestreview-1974818797",
      "submitted_at": "2024-04-02T20:08:02Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
    },
    {
      "event": "commented",
      "id": 2033794015,
      "node_id": "IC_kwDOABII5855OTvf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2033794015",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-03T07:46:08Z",
      "updated_at": "2024-04-03T07:46:08Z",
      "author_association": "MEMBER",
      "body": "> I think it would be better if the new format could include a version number so that this could be properly reported.\r\n\r\nThis seems useful in general.\r\n\r\n> We could detect which format was used for serialization and proceed to deserialize as necessary.\r\n\r\nYes, but I don't think we need to support the format from before this PR - once we have the mainnet params, the instruction could simply be to use v28.0 or newer to generate the snapshot.",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#issuecomment-2033794015",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29612"
    },
    {
      "event": "commented",
      "id": 2034005144,
      "node_id": "IC_kwDOABII5855PHSY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2034005144",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-03T09:14:07Z",
      "updated_at": "2024-04-03T09:14:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "> utxo set snapshots are useful for more than just snapshot loading.\r\n\r\nDo you know of any examples of the utxo dumps already being used for something else?",
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#issuecomment-2034005144",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29612"
    },
    {
      "event": "commented",
      "id": 2034809713,
      "node_id": "IC_kwDOABII5855SLtx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2034809713",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-03T14:38:20Z",
      "updated_at": "2024-04-03T14:38:20Z",
      "author_association": "MEMBER",
      "body": "@mzumsande I don't know, but it seems such applications should use a more portable format like SQL, see #27432 ",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#issuecomment-2034809713",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29612"
    },
    {
      "event": "mentioned",
      "id": 12343369196,
      "node_id": "MEE_lADOABII586BzodWzwAAAALfuN3s",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12343369196",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-03T14:38:21Z"
    },
    {
      "event": "subscribed",
      "id": 12343369220,
      "node_id": "SE_lADOABII586BzodWzwAAAALfuN4E",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12343369220",
      "actor": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-03T14:38:21Z"
    },
    {
      "event": "commented",
      "id": 2035347234,
      "node_id": "IC_kwDOABII5855UO8i",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2035347234",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-03T18:48:28Z",
      "updated_at": "2024-04-03T18:48:28Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I think it would be better if the new format could include a version number so that this could be properly reported.\r\n\r\nIf we decide to do that, I'd suggest to use the chance and go one step further, by also adding a magic number to the start of the file. This way, it can be quickly identified as being / not being an UTXO dump (for better error reporting, but longer-term also potentially for external identifying tools like [file](https://linux.die.net/man/1/file)). Then we could provide more helpful error message categories like\r\n- \"this is not an UTXO dump\"\r\n- \"this is an UTXO dump, but in a version that is not supported\"\r\n- \"this is a supported UTXO dump file, but something else is wrong\"\r\n\r\nas opposed to the rather confusing \"hash is not in the chain\" message that currently appears for pretty much all files passed to `loadtxoutset` that are larger than a certain amount of bytes. Random example with a text file (both on master and this PR):\r\n```\r\n$ ./src/bitcoin-cli loadtxoutset /home/thestack/.vimrc\r\nerror code: -32603\r\nerror message:\r\nUnable to load UTXO snapshot, assumeutxo block hash in snapshot metadata not recognized (626174207465730a7265626d756e207465730a656c62616e65207861746e7973)\r\n```",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#issuecomment-2035347234",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29612"
    },
    {
      "event": "commented",
      "id": 2035502334,
      "node_id": "IC_kwDOABII5855U0z-",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2035502334",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-03T20:16:42Z",
      "updated_at": "2024-04-03T20:16:42Z",
      "author_association": "MEMBER",
      "body": "> Do you know of any examples of the utxo dumps already being used for something else?\r\n\r\nFor myself, I have a couple of random scripts that read utxo dumps in order to compute some statistics and other info on the utxo set. I'm not aware of any actual projects using utxo snapshots, but I also haven't actively looked.",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#issuecomment-2035502334",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29612"
    },
    {
      "event": "commented",
      "id": 2039223974,
      "node_id": "IC_kwDOABII5855jBam",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2039223974",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-05T08:16:12Z",
      "updated_at": "2024-04-05T08:16:12Z",
      "author_association": "MEMBER",
      "body": "I like magic bytes. For PSBT it's just \"psbt\" in ascii followed by 0xff: https://en.bitcoin.it/wiki/BIP_0174\r\n\r\nSo you could use \"utxo\" in ascii: 0x75 0x74 0x78 0x6F 0xFF\r\n\r\nBut then while you're at it, you could also append:\r\n* ChainTypeToString (\"main\", \"testnet\", \"signet\", \"regtest\")\r\n* height (so we can have an error like \"you tried to load a snapshot at height X, but only heights Y, Z are supported by this version of PACKAGE_NAME. Newer releases may support more recent snapshots.\")\r\n* for signet: the signet challenge bytes",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#issuecomment-2039223974",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29612"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12552178502,
      "node_id": "HRFPE_lADOABII586BzodWzwAAAALsKwtG",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12552178502",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "b411eb84466a8c97bb738f80f51e472ea871adbf",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/b411eb84466a8c97bb738f80f51e472ea871adbf",
      "created_at": "2024-04-21T22:36:46Z"
    },
    {
      "event": "commented",
      "id": 2068231606,
      "node_id": "IC_kwDOABII5857RrW2",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2068231606",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-21T22:40:00Z",
      "updated_at": "2024-04-21T22:40:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "So far I have addressed the minor feedback in the latest push and I am now working on the extended metadata for the snapshot. I am currently planning to add the following:\r\n\r\n1. magic bytes - the ones suggested by @Sjors \r\n2. snapshot version\r\n3. Network magic (pchMessageStart) - This lets us distinguish between the different networks and since it’s generated from the challenge for signets, we can deduce that it’s probably a custom signet if we don’t recognize them and give an appropriate feedback to the user\r\n4. block height\r\n\r\nLet me know if you disagree with this choice or have something else to add, otherwise I will have the code ready soon.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#issuecomment-2068231606",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29612"
    },
    {
      "event": "mentioned",
      "id": 12552184010,
      "node_id": "MEE_lADOABII586BzodWzwAAAALsKyDK",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12552184010",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-21T22:40:01Z"
    },
    {
      "event": "subscribed",
      "id": 12552184015,
      "node_id": "SE_lADOABII586BzodWzwAAAALsKyDP",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12552184015",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-21T22:40:01Z"
    },
    {
      "event": "labeled",
      "id": 12552359139,
      "node_id": "LE_lADOABII586BzodWzwAAAALsLczj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12552359139",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-21T23:43:35Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2068267561,
      "node_id": "IC_kwDOABII5857R0Ip",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2068267561",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-21T23:43:36Z",
      "updated_at": "2024-04-21T23:43:36Z",
      "author_association": "CONTRIBUTOR",
      "body": "<!--85328a0da195eb286784d51f73fa0af9-->\n\n🚧 At least one of the CI tasks failed. Make sure to run all tests locally, according to the\ndocumentation.\n\nPossibly this is due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/24078947679</sub>",
      "user": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#issuecomment-2068267561",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29612"
    },
    {
      "event": "commented",
      "id": 2068890350,
      "node_id": "IC_kwDOABII5857UMLu",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2068890350",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-22T09:13:19Z",
      "updated_at": "2024-04-22T09:13:19Z",
      "author_association": "MEMBER",
      "body": "@fjahr sounds good. Let me know when that's ready and I'll bake a halving block snapshot...",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#issuecomment-2068890350",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29612"
    },
    {
      "event": "mentioned",
      "id": 12556633174,
      "node_id": "MEE_lADOABII586BzodWzwAAAALsbwRW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12556633174",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-22T09:13:21Z"
    },
    {
      "event": "subscribed",
      "id": 12556633191,
      "node_id": "SE_lADOABII586BzodWzwAAAALsbwRn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12556633191",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-22T09:13:21Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12628102166,
      "node_id": "HRFPE_lADOABII586BzodWzwAAAALwsYwW",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12628102166",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "9114a1cf1c3fbb97f7d54ee1ed2468feba82d429",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/9114a1cf1c3fbb97f7d54ee1ed2468feba82d429",
      "created_at": "2024-04-26T20:15:05Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12628132812,
      "node_id": "HRFPE_lADOABII586BzodWzwAAAALwsgPM",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12628132812",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "f05ff8c0bb59f8edee573dcd628bfb98e2b4a7ba",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/f05ff8c0bb59f8edee573dcd628bfb98e2b4a7ba",
      "created_at": "2024-04-26T20:19:11Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12628338285,
      "node_id": "HRFPE_lADOABII586BzodWzwAAAALwtSZt",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12628338285",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "4aae9395d697153f71726ed4775c12f1c844f89b",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/4aae9395d697153f71726ed4775c12f1c844f89b",
      "created_at": "2024-04-26T20:46:36Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12628914857,
      "node_id": "HRFPE_lADOABII586BzodWzwAAAALwvfKp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12628914857",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "cfc780f2bda9c49e8beb04ff89dd27156b1ae4af",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/cfc780f2bda9c49e8beb04ff89dd27156b1ae4af",
      "created_at": "2024-04-26T22:14:47Z"
    },
    {
      "event": "commented",
      "id": 2080224670,
      "node_id": "IC_kwDOABII5857_bWe",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2080224670",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-26T23:16:35Z",
      "updated_at": "2024-04-26T23:16:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "Alright, ready for review again. I hope I have addressed all the ideas that were mentioned as intended. Sorry but the enhancement of the metadata is now one big commit for now, I can try to split it up if it makes review easier.",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#issuecomment-2080224670",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29612"
    },
    {
      "event": "renamed",
      "id": 12629177291,
      "node_id": "RTE_lADOABII586BzodWzwAAAALwwfPL",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12629177291",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-26T23:17:10Z",
      "rename": {
        "from": "rpc: Optimize serialization disk space of dumptxoutset - Reloaded",
        "to": "rpc: Optimize serialization and enhance metadata of dumptxoutset output"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12632380741,
      "node_id": "HRFPE_lADOABII586BzodWzwAAAALw8tVF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12632380741",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "6ed6bffcbedb6a28c3578721cc0a08086a15e417",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/6ed6bffcbedb6a28c3578721cc0a08086a15e417",
      "created_at": "2024-04-27T15:21:40Z"
    },
    {
      "event": "unlabeled",
      "id": 12632596755,
      "node_id": "UNLE_lADOABII586BzodWzwAAAALw9iET",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12632596755",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-27T17:12:11Z",
      "label": {
        "name": "CI failed",
        "color": "cccccc"
      }
    },
    {
      "event": "commented",
      "id": 2082344035,
      "node_id": "IC_kwDOABII5858Hgxj",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2082344035",
      "actor": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-29T10:09:42Z",
      "updated_at": "2024-04-29T10:09:42Z",
      "author_association": "MEMBER",
      "body": "> I can try to split it up if it makes review easier.\r\n\r\nDoesn't matter that much, but it's probably to put the `kernel/chainparams.h` change in its own commit so e.g. @TheCharlatan can do a drive-by review.\r\n\r\nHere's some new snapshot torrents (not sure if I'm seeding them correctly...).\r\n\r\nTorrent for testnet: `magnet:?xt=urn:btih:787f5917029876c83301c49dc97bb69224597285&dn=utxo-testnet-2500000.dat&tr=udp%3A%2F%2Ftracker.bitcoin.sprovoost.nl%3A6969`\r\n\r\nTorrent for signet: `magnet:?xt=urn:btih:715a8797d6154a2474f225f6019364b6230eed17&dn=utxo-signet-160000.dat&tr=udp%3A%2F%2Ftracker.bitcoin.sprovoost.nl%3A6969`\r\n\r\nTorrent for mainnet at the halving block (I'll update #28553 to use this): `magnet:?xt=urn:btih:55cb2ea9b6c48aa11d676de871f9639e3fa3dd7e&dn=utxo-840000.dat&tr=udp%3A%2F%2Ftracker.bitcoin.sprovoost.nl%3A6969`",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#issuecomment-2082344035",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29612"
    },
    {
      "event": "mentioned",
      "id": 12640674404,
      "node_id": "MEE_lADOABII586BzodWzwAAAALxcWJk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12640674404",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-29T10:09:44Z"
    },
    {
      "event": "subscribed",
      "id": 12640674420,
      "node_id": "SE_lADOABII586BzodWzwAAAALxcWJ0",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12640674420",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-04-29T10:09:44Z"
    },
    {
      "event": "reviewed",
      "id": 2027916134,
      "node_id": "PRR_kwDOABII585434tm",
      "url": null,
      "actor": null,
      "commit_id": "6ed6bffcbedb6a28c3578721cc0a08086a15e417",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#pullrequestreview-2027916134",
      "submitted_at": "2024-04-29T10:09:49Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
    },
    {
      "event": "reviewed",
      "id": 2031433669,
      "node_id": "PRR_kwDOABII5855FTfF",
      "url": null,
      "actor": null,
      "commit_id": "6ed6bffcbedb6a28c3578721cc0a08086a15e417",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#pullrequestreview-2031433669",
      "submitted_at": "2024-04-30T13:49:05Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
    },
    {
      "event": "reviewed",
      "id": 2034745114,
      "node_id": "PRR_kwDOABII5855R78a",
      "url": null,
      "actor": null,
      "commit_id": "6ed6bffcbedb6a28c3578721cc0a08086a15e417",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK on the enhanced metadata, I think this includes now everything we need. Will update #27432 in a bit to the new format and test.",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#pullrequestreview-2034745114",
      "submitted_at": "2024-05-02T03:55:08Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
    },
    {
      "event": "labeled",
      "id": 12689309869,
      "node_id": "LE_lADOABII586BzodWzwAAAAL0V4Ct",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12689309869",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-02T21:08:08Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12706232945,
      "node_id": "HRFPE_lADOABII586BzodWzwAAAAL1Wbpx",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12706232945",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "b2cf3f77b14bccf11ad5bc211db7f746ae5073fb",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/b2cf3f77b14bccf11ad5bc211db7f746ae5073fb",
      "created_at": "2024-05-05T04:59:50Z"
    },
    {
      "event": "commented",
      "id": 2094633415,
      "node_id": "IC_kwDOABII58582ZHH",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2094633415",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-05T05:02:07Z",
      "updated_at": "2024-05-05T05:02:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased, resolved conflicts (the functional tests have changed a bit now), and addressed the open feedback. Thanks everyone for reviewing!",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#issuecomment-2094633415",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29612"
    },
    {
      "event": "unlabeled",
      "id": 12706441589,
      "node_id": "UNLE_lADOABII586BzodWzwAAAAL1XOl1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12706441589",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-05T06:27:47Z",
      "label": {
        "name": "Needs rebase",
        "color": "cccccc"
      }
    },
    {
      "event": "reviewed",
      "id": 2051206848,
      "node_id": "PRR_kwDOABII5856Qu7A",
      "url": null,
      "actor": null,
      "commit_id": "b2cf3f77b14bccf11ad5bc211db7f746ae5073fb",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Nice, just some small comments, will review again quickly once they are addressed.",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#pullrequestreview-2051206848",
      "submitted_at": "2024-05-11T14:18:50Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
    },
    {
      "event": "reviewed",
      "id": 2053756329,
      "node_id": "PRR_kwDOABII5856adWp",
      "url": null,
      "actor": null,
      "commit_id": "b2cf3f77b14bccf11ad5bc211db7f746ae5073fb",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#pullrequestreview-2053756329",
      "submitted_at": "2024-05-13T21:03:49Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGRlOTU5NTNkODcwYzQxNDM2ZGU2N2Q1NmM5MzI1OWJjNjZmZTE0MzQ",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/de95953d870c41436de67d56c93259bc66fe1434",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/de95953d870c41436de67d56c93259bc66fe1434",
      "tree": {
        "sha": "95b51a75cedb0de7f5245dabe5321993ceffeb27",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/95b51a75cedb0de7f5245dabe5321993ceffeb27"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 95b51a75cedb0de7f5245dabe5321993ceffeb27\nparent eb0bdbdd753bca97120247b921fd29d606fea6e9\nauthor Fabian Jahr <fjahr@protonmail.com> 1710029944 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1716291487 +0200\n\nrpc: Optimize serialization disk space of dumptxoutset\n\nCo-authored-by: Aurèle Oulès <aurele@oules.com>\nCo-authored-by: TheCharlatan <seb.kung@gmail.com>\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmZMh6EVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNoB8P/3ksYoNOtiwvrNQ5/zGYq/c8to22\nwz/kjFlTKNu7K1awbRqgiFavK2dlTxPGKD5kSPd1vBCUHJYa17Z0JwHqrgrPnN9n\nDKWpZh7q6lhGP03rvBCUaOdT/On5W1M5wH+ogTRMYX3Yn2oGGDpsm/jnj7AvKO4i\nq/nJev9uj7w8cF9YZPiZSQZGN+yoPrLRoY/ifa/eDuUOKbLR08vBxqTlX1CRPSPg\nrvE9DasUovMj6od4tDcO7bQjucJiBp4RQWzZ7i0kVjcx4PToKz2aZpgdLn14MVaC\n9bDJ9kSj/l8Hr0bGg/PtUia/buZZTpXnW1UxbinSgm3zg0fZl0Y9fIEYRtpVAw+j\nMVrhXGDIOX7w7eKdZXsTEGQxmA2fEHLQPF1/GQKhSPqntmqD3Cw7V4Q7Le3uMDgT\nGV8M/Vs2O3RqHJkmXcX/utbzihCzMalOmSTzFfHsQ34+RxekIVUmZCDkPlgfXC4Y\nfoS064vGUPHQsA17ogQDeQMEKsHF4DMTomWXmNFresJ/Cir3xCJAP7t8iwBK9a7w\no3Fr12IhxwxzGuCPjORE+Z66PGCTOWzeWc4lx60xOgnXpKE2BZxRKe2i+zmLIuhB\nGBSYJuJoj0DKfzlDYbsCIw0oVW+JEnX7oOf3VKDbbtO0hcRZs8SLmg0B3cRfKF7h\nkA++zLHcsV8RL+y3\n=IcA7\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/eb0bdbdd753bca97120247b921fd29d606fea6e9",
          "sha": "eb0bdbdd753bca97120247b921fd29d606fea6e9",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/eb0bdbdd753bca97120247b921fd29d606fea6e9"
        }
      ],
      "message": "rpc: Optimize serialization disk space of dumptxoutset\n\nCo-authored-by: Aurèle Oulès <aurele@oules.com>\nCo-authored-by: TheCharlatan <seb.kung@gmail.com>",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-05-21T11:38:07Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-03-10T00:19:04Z"
      },
      "sha": "de95953d870c41436de67d56c93259bc66fe1434"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKGMxNGVkN2YzODQwNzUzMzAzNjFkZjYzNmY0MDEyMWNmMjVhMDY2ZDY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c14ed7f384075330361df636f40121cf25a066d6",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/c14ed7f384075330361df636f40121cf25a066d6",
      "tree": {
        "sha": "11142ac0ddabc5c56a2679971f3bea702b027617",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/11142ac0ddabc5c56a2679971f3bea702b027617"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 11142ac0ddabc5c56a2679971f3bea702b027617\nparent de95953d870c41436de67d56c93259bc66fe1434\nauthor Fabian Jahr <fjahr@protonmail.com> 1710030018 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1716291489 +0200\n\nassumeutxo: Add test for changed coin size value\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmZMh6EVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNniMQAJx7xHNrNEVtSOQ0Suk3qI+rX33R\nTjJOimNQCpol2WqJ4YIMM6cwzV/AKzEr/Vj77Mr3d9jc20ynQQVvULuPFZAHM9au\nhNrZSWRNlgkLOO0il2gwpkj83sKiutiZl0V6I/LttLyE+deM1iX5RFwMRppl316M\njYxHVH15Zuu4SpYPcvifAYh7eeO3Dq/c53qvUlPNPa0tPkR+MTzm2kNVmbbizA3b\nTHcWHwR2QIJH+qCuwfztvi8oAp381nx7Qz2K3zV0FdNfRexAB6kuosR1dbIUeY6L\nmyAZwItZYpeUE+wIa59cj5ReVH2sKxIioM94+8gTpMpxDgMhoEz0u+4ZD8EGCcLQ\neILiRIaqxN3BFTlv+s/tAfrxNUE36D9Qgxj0bM/XOb3/mTgCs9YBUHbwV8bJKLgm\nldWAr+i3gZEh8Bp6EdLgLGoFhRpCjaxm3LLsba5DyzItCWquUeR8hE16hrjk3y0K\nNJ4kLxuwDPV+GZsdSQKzEmPqQvaCwIReNQtppQhq7pBamjMhujiM+4nEUfRbe79P\nmnVvaUiCjfj1EL8SHOMKT3QavRXQW5Wy+ikZinZ49he6uWEWrUhYAK35M53Sx4wZ\nzWbc7FN6hFOrT7yV7trTYzzXFYFvBLagJCpZzmtDyrWHgkAEmQpg5dRrGiip/kX3\nfGSqTA0nH/av3GVe\n=meWy\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/de95953d870c41436de67d56c93259bc66fe1434",
          "sha": "de95953d870c41436de67d56c93259bc66fe1434",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/de95953d870c41436de67d56c93259bc66fe1434"
        }
      ],
      "message": "assumeutxo: Add test for changed coin size value",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-05-21T11:38:09Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-03-10T00:20:18Z"
      },
      "sha": "c14ed7f384075330361df636f40121cf25a066d6"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDRkOGU1ZWRiYWE5NDgwNWJlNDFhZTRjOGFhMmY0YmY3YWFhMjc2ZmU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4d8e5edbaa94805be41ae4c8aa2f4bf7aaa276fe",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/4d8e5edbaa94805be41ae4c8aa2f4bf7aaa276fe",
      "tree": {
        "sha": "797ac4431e942582daa98ea3f87a5ba3240e203a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/797ac4431e942582daa98ea3f87a5ba3240e203a"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 797ac4431e942582daa98ea3f87a5ba3240e203a\nparent c14ed7f384075330361df636f40121cf25a066d6\nauthor Fabian Jahr <fjahr@protonmail.com> 1710083291 +0100\ncommitter Fabian Jahr <fjahr@protonmail.com> 1716291489 +0200\n\nassumeutxo: Add documentation on dumptxoutset serialization format\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmZMh6EVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jN2AkP/2jhMtpM3Vwi/azN0HI10F6/HyZC\n+dnXi7/hkHbmr6gmUuaVmXiHtF4cRUnDdFgJgAhGvD5m0MpfU40mnqfQk9ZR76TJ\n9USxx7faJYGj364qF7b2h0LmxdMKgyzEQsJTrNZgPR9g7E8GOs4Iytojss1WKUZC\nM6915OuqdqG2RVPsTFdpllmYgb/0LJy3eV/lR+ZNOGM8bvSrC3Ho7wVcr/N8XlSQ\ncM06Rgc9jST1XYHeGG7BOAUkJW+lD9s552nYCpjcqa3dtxkoezw1ZfzkbHbhmM+C\ns75/cDbJIhH8Pt19fUipnjD4ZGTUX/VYxR+D/LfG7zFwlqQXdbrZVkxjJWHcq8Gv\n27XoUWRcjadH82r7xvNYa4vQMzB7uEGnai8s0iOgvLcGsltd5yBlhvlOw7K2kM6L\nxeKbrETcpZTJhEG7tiWrQ76URq6EsqZcUztFqkLx6VfNJyEBCJ48AkvAs9vtVu5y\nNhE0+/sT1x50sAsKI5haEGfiWYD57V/AWx1rSj8h0AAoTxylTT0ShlGE18bVjKGT\nm+GA8TXCyJU3WwJXbbnOMqTB3ktPxl2XxkpD8oYRw5HTIkElfHCbY9HWXdV1FyaS\nB+A/XL4iUDbF0LKgY67FXz4qs+gVw4N9O2RDLKizLfoyKb35SNYUSEHVq98aXvrx\nt1jELPUDg8Iqh7Gl\n=flmo\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c14ed7f384075330361df636f40121cf25a066d6",
          "sha": "c14ed7f384075330361df636f40121cf25a066d6",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/c14ed7f384075330361df636f40121cf25a066d6"
        }
      ],
      "message": "assumeutxo: Add documentation on dumptxoutset serialization format",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-05-21T11:38:09Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-03-10T15:08:11Z"
      },
      "sha": "4d8e5edbaa94805be41ae4c8aa2f4bf7aaa276fe"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOABII59oAKDU0MmUxM2IyOTM3MzU2ODEwYmRhMmM0MWJlODNjM2IxNjc1ZTJmMmY",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/542e13b2937356810bda2c41be83c3b1675e2f2f",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin/bitcoin/commit/542e13b2937356810bda2c41be83c3b1675e2f2f",
      "tree": {
        "sha": "8dc54747b0b42c96b172429e1bbe5424aca047c5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8dc54747b0b42c96b172429e1bbe5424aca047c5"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 8dc54747b0b42c96b172429e1bbe5424aca047c5\nparent 4d8e5edbaa94805be41ae4c8aa2f4bf7aaa276fe\nauthor Fabian Jahr <fjahr@protonmail.com> 1713790360 +0200\ncommitter Fabian Jahr <fjahr@protonmail.com> 1716292629 +0200\n\nrpc: Enhance metadata of the dumptxoutset output\n\nThe following data is added:\n- A newly introduced utxo set magic\n- A version number\n- The network magic\n- The block height\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\nComment: GPGTools - https://gpgtools.org\n\niQJJBAABCgAzFiEEtFq20ghhrCHSdrgm8T0enYkHmM0FAmZMjBYVHGZqYWhyQHBy\nb3Rvbm1haWwuY29tAAoJEPE9Hp2JB5jNNacP/1AeUYDnzy9YDiVo1/+VkcPFYGdx\nkByDOgqKiA/v3M/a8mrg9Hwug1dj0wmKnCWPiKgq5GNYc9eH2nRPpnN2ua39Dbkq\n3UcKvrGLgD1yYnlOV+CNH0GVie4GEshhFIJBKsVkny6h5/9RI9Bd/NbU/3mEOQUb\nejDzSSc7/7uGxDh+ikLPvoHLrHlaB5OGKQcSr/5lmt4Do6tvoAgXTX3QtQV0KzI+\nSIyQKNTHkGEaiyfpf16vn7MUzs+WgNID9VMp4FRGR9tcIgwsaLMaOIanVXLB145V\nekHHstke52IWwtwGuMP9pIaKWGrL3fg7ggaiY/Tt+Ckaw0c1Zi3belwBiGI7HcTt\nIKRDtL3N8qxvCXJ2xU13C92jKcQ2NrUY4CGxgKJztnZIMrjro2ngFRpOKCXVdW9F\nWOmKoWWVFDHjRzGZzqHfcNjqeVrVqLK67Zly6uCQJk0HlAcpM+k1QMh5rd7fa+S8\nDyP9idVgT15/wKO3ULaVN7SDc2h/hCB3fwN5sMXU1YrLH+/r11wU1JG6qvmMO3uq\n+JIQ+4TgwmVbqOqjnVBaMcvHJ3Hbiax9tnyQ9dRhhpOjEAvCx/z6bIS2SxNKrG9U\nC+C6VMXevvmDBfd30NoVEsE+l9uGfqeiwvmxmGjon/hTqCNijyi310mRlxeqrjLb\nYGdoHhfHH7zpZn3M\n=snMC\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4d8e5edbaa94805be41ae4c8aa2f4bf7aaa276fe",
          "sha": "4d8e5edbaa94805be41ae4c8aa2f4bf7aaa276fe",
          "html_url": "https://github.com/bitcoin/bitcoin/commit/4d8e5edbaa94805be41ae4c8aa2f4bf7aaa276fe"
        }
      ],
      "message": "rpc: Enhance metadata of the dumptxoutset output\n\nThe following data is added:\n- A newly introduced utxo set magic\n- A version number\n- The network magic\n- The block height",
      "committer": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-05-21T11:57:09Z"
      },
      "author": {
        "name": "Fabian Jahr",
        "email": "fjahr@protonmail.com",
        "date": "2024-04-22T12:52:40Z"
      },
      "sha": "542e13b2937356810bda2c41be83c3b1675e2f2f"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 12879323879,
      "node_id": "HRFPE_lADOABII586BzodWzwAAAAL_quLn",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12879323879",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/542e13b2937356810bda2c41be83c3b1675e2f2f",
      "created_at": "2024-05-21T12:15:57Z"
    },
    {
      "event": "commented",
      "id": 2122506010,
      "node_id": "IC_kwDOABII585-gt8a",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2122506010",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T12:17:36Z",
      "updated_at": "2024-05-21T12:25:23Z",
      "author_association": "CONTRIBUTOR",
      "body": "Addressed feedback from @TheCharlatan and @theStack , thank you!\r\n\r\nAlso changed the error code for the parsing of the metadata which was feedback in another PR: https://github.com/bitcoin/bitcoin/pull/28670#discussion_r1597147718",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#issuecomment-2122506010",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29612"
    },
    {
      "event": "mentioned",
      "id": 12879343541,
      "node_id": "MEE_lADOABII586BzodWzwAAAAL_qy-1",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12879343541",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T12:17:37Z"
    },
    {
      "event": "subscribed",
      "id": 12879343563,
      "node_id": "SE_lADOABII586BzodWzwAAAAL_qy_L",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12879343563",
      "actor": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T12:17:37Z"
    },
    {
      "event": "mentioned",
      "id": 12879343581,
      "node_id": "MEE_lADOABII586BzodWzwAAAAL_qy_d",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12879343581",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T12:17:37Z"
    },
    {
      "event": "subscribed",
      "id": 12879343594,
      "node_id": "SE_lADOABII586BzodWzwAAAAL_qy_q",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12879343594",
      "actor": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T12:17:37Z"
    },
    {
      "event": "reviewed",
      "id": 2068620308,
      "node_id": "PRR_kwDOABII5857TKQU",
      "url": null,
      "actor": null,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Re-ACK 542e13b2937356810bda2c41be83c3b1675e2f2f",
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#pullrequestreview-2068620308",
      "submitted_at": "2024-05-21T13:15:54Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
    },
    {
      "event": "review_requested",
      "id": 12880116357,
      "node_id": "RRE_lADOABII586BzodWzwAAAAL_tvqF",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12880116357",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T13:15:58Z",
      "requested_reviewer": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "review_requested",
      "id": 12880116544,
      "node_id": "RRE_lADOABII586BzodWzwAAAAL_tvtA",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12880116544",
      "actor": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-21T13:15:59Z",
      "requested_reviewer": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "review_requester": {
        "login": "DrahtBot",
        "id": 39886733,
        "node_id": "MDQ6VXNlcjM5ODg2NzMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39886733?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DrahtBot",
        "html_url": "https://github.com/DrahtBot",
        "followers_url": "https://api.github.com/users/DrahtBot/followers",
        "following_url": "https://api.github.com/users/DrahtBot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/DrahtBot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/DrahtBot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
        "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
        "repos_url": "https://api.github.com/users/DrahtBot/repos",
        "events_url": "https://api.github.com/users/DrahtBot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      }
    },
    {
      "event": "reviewed",
      "id": 2069701481,
      "node_id": "PRR_kwDOABII5857XSNp",
      "url": null,
      "actor": null,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 542e13b2937356810bda2c41be83c3b1675e2f2f",
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#pullrequestreview-2069701481",
      "submitted_at": "2024-05-21T21:59:45Z",
      "state": "APPROVED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
    },
    {
      "event": "commented",
      "id": 2127566569,
      "node_id": "IC_kwDOABII585-0Bbp",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2127566569",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-23T16:21:34Z",
      "updated_at": "2024-05-23T16:21:34Z",
      "author_association": "MEMBER",
      "body": "ACK 542e13b2937356810bda2c41be83c3b1675e2f2f",
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#issuecomment-2127566569",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29612"
    },
    {
      "event": "labeled",
      "id": 12912243300,
      "node_id": "LE_lADOABII586BzodWzwAAAAMBoTJk",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12912243300",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-23T16:21:52Z",
      "label": {
        "name": "Needs release note",
        "color": "d2db6d"
      }
    },
    {
      "event": "merged",
      "id": 12912396163,
      "node_id": "ME_lADOABII586BzodWzwAAAAMBo4eD",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12912396163",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "413844f1c2a3d8f7cfef822f348f26df488b03c7",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/413844f1c2a3d8f7cfef822f348f26df488b03c7",
      "created_at": "2024-05-23T16:31:35Z"
    },
    {
      "event": "closed",
      "id": 12912396215,
      "node_id": "CE_lADOABII586BzodWzwAAAAMBo4e3",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12912396215",
      "actor": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-23T16:31:35Z"
    },
    {
      "event": "reviewed",
      "id": 2074536551,
      "node_id": "PRR_kwDOABII5857pupn",
      "url": null,
      "actor": null,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#pullrequestreview-2074536551",
      "submitted_at": "2024-05-23T17:07:16Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
    },
    {
      "event": "referenced",
      "id": 12923122132,
      "node_id": "REFE_lADOABII586BzodWzwAAAAMCRzHU",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12923122132",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "de32700dc91166bfa469f9d0f3085dfdcdcb507c",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/de32700dc91166bfa469f9d0f3085dfdcdcb507c",
      "created_at": "2024-05-24T10:36:59Z"
    },
    {
      "event": "referenced",
      "id": 12923195212,
      "node_id": "REFE_lADOABII586BzodWzwAAAAMCSE9M",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/12923195212",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "359967e310794e0bbdbe2bca38ee440a88bc4f43",
      "commit_url": "https://api.github.com/repos/fjahr/bitcoin/commits/359967e310794e0bbdbe2bca38ee440a88bc4f43",
      "created_at": "2024-05-24T10:42:15Z"
    },
    {
      "event": "commented",
      "id": 2129225055,
      "node_id": "IC_kwDOABII585-6WVf",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2129225055",
      "actor": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-05-24T10:45:59Z",
      "updated_at": "2024-05-24T10:45:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "Added release notes and dddressed post-merge comments in #30167",
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#issuecomment-2129225055",
      "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/29612"
    },
    {
      "event": "referenced",
      "id": 13017908347,
      "node_id": "REFE_lADOABII586BzodWzwAAAAMH7YR7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13017908347",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "80bdd4b6beb878c95478b5623c9f9ff0b948ad57",
      "commit_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/80bdd4b6beb878c95478b5623c9f9ff0b948ad57",
      "created_at": "2024-06-03T09:29:19Z"
    },
    {
      "event": "unlabeled",
      "id": 13101590267,
      "node_id": "UNLE_lADOABII586BzodWzwAAAAMM6mb7",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/13101590267",
      "actor": {
        "login": "fanquake",
        "id": 863730,
        "node_id": "MDQ6VXNlcjg2MzczMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fanquake",
        "html_url": "https://github.com/fanquake",
        "followers_url": "https://api.github.com/users/fanquake/followers",
        "following_url": "https://api.github.com/users/fanquake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fanquake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fanquake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
        "organizations_url": "https://api.github.com/users/fanquake/orgs",
        "repos_url": "https://api.github.com/users/fanquake/repos",
        "events_url": "https://api.github.com/users/fanquake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fanquake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-06-10T13:27:54Z",
      "label": {
        "name": "Needs release note",
        "color": "d2db6d"
      }
    },
    {
      "event": "referenced",
      "id": 17391390248,
      "node_id": "REFE_lADOABII586BzodWzwAAAAQMm44o",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17391390248",
      "actor": {
        "login": "Fabcien",
        "id": 44533924,
        "node_id": "MDQ6VXNlcjQ0NTMzOTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/44533924?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Fabcien",
        "html_url": "https://github.com/Fabcien",
        "followers_url": "https://api.github.com/users/Fabcien/followers",
        "following_url": "https://api.github.com/users/Fabcien/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Fabcien/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Fabcien/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Fabcien/subscriptions",
        "organizations_url": "https://api.github.com/users/Fabcien/orgs",
        "repos_url": "https://api.github.com/users/Fabcien/repos",
        "events_url": "https://api.github.com/users/Fabcien/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Fabcien/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "f230540712806e7028d16aae8fcf9e8390ecd244",
      "commit_url": "https://api.github.com/repos/Bitcoin-ABC/bitcoin-abc/commits/f230540712806e7028d16aae8fcf9e8390ecd244",
      "created_at": "2025-04-24T14:09:27Z"
    },
    {
      "event": "referenced",
      "id": 17415943613,
      "node_id": "REFE_lADOABII586BzodWzwAAAAQOEjW9",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/17415943613",
      "actor": {
        "login": "Fabcien",
        "id": 44533924,
        "node_id": "MDQ6VXNlcjQ0NTMzOTI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/44533924?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Fabcien",
        "html_url": "https://github.com/Fabcien",
        "followers_url": "https://api.github.com/users/Fabcien/followers",
        "following_url": "https://api.github.com/users/Fabcien/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Fabcien/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Fabcien/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Fabcien/subscriptions",
        "organizations_url": "https://api.github.com/users/Fabcien/orgs",
        "repos_url": "https://api.github.com/users/Fabcien/repos",
        "events_url": "https://api.github.com/users/Fabcien/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Fabcien/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": "413ef8bc12e36472ce169d44696a996a6ab9dfb1",
      "commit_url": "https://api.github.com/repos/Bitcoin-ABC/bitcoin-abc/commits/413ef8bc12e36472ce169d44696a996a6ab9dfb1",
      "created_at": "2025-04-26T12:08:38Z"
    },
    {
      "event": "locked",
      "id": 18067701483,
      "node_id": "LOE_lADOABII586BzodWzwAAAAQ06z7r",
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/events/18067701483",
      "actor": {
        "login": "bitcoin",
        "id": 528860,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjUyODg2MA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/528860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin",
        "html_url": "https://github.com/bitcoin",
        "followers_url": "https://api.github.com/users/bitcoin/followers",
        "following_url": "https://api.github.com/users/bitcoin/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin/orgs",
        "repos_url": "https://api.github.com/users/bitcoin/repos",
        "events_url": "https://api.github.com/users/bitcoin/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2025-06-10T06:15:24Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1522639723",
      "pull_request_review_id": 1933303632,
      "id": 1522639723,
      "node_id": "PRRC_kwDOABII585awaNr",
      "diff_hunk": "@@ -2669,21 +2670,49 @@ UniValue CreateUTXOSnapshot(\n \n     afile << metadata;\n \n+    std::map<uint256, std::vector<std::pair<uint32_t, Coin>>> mapCoins;\n     COutPoint key;\n+    uint256 last_hash;\n     Coin coin;\n     unsigned int iter{0};\n+    std::vector<std::pair<uint32_t, Coin>> coins;\n+\n+    // To reduce space the serialization format of the snapshot avoids\n+    // dublication of tx hashes. The code takes advantage of the guarantee by",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "923ec9043af668f3a342422d32c1c28d29018ed0",
      "in_reply_to_id": null,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Nit: s/dublication/duplication/ (same in validation.h)",
      "created_at": "2024-03-13T07:08:06Z",
      "updated_at": "2024-03-13T07:49:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1522639723",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1522639723"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2705,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1522640424",
      "pull_request_review_id": 1933303632,
      "id": 1522640424,
      "node_id": "PRRC_kwDOABII585awaYo",
      "diff_hunk": "@@ -2669,21 +2670,49 @@ UniValue CreateUTXOSnapshot(\n \n     afile << metadata;\n \n+    std::map<uint256, std::vector<std::pair<uint32_t, Coin>>> mapCoins;\n     COutPoint key;\n+    uint256 last_hash;\n     Coin coin;\n     unsigned int iter{0};\n+    std::vector<std::pair<uint32_t, Coin>> coins;\n+\n+    // To reduce space the serialization format of the snapshot avoids\n+    // dublication of tx hashes. The code takes advantage of the guarantee by\n+    // leveldb that keys are lexicographically sorted.\n+    // In the coins vector we collect all coins that belong to a certain tx hash\n+    // (key.hash) and when we have them all (key.hash != last_hash) we write\n+    // them to file using the below lamda function.",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "923ec9043af668f3a342422d32c1c28d29018ed0",
      "in_reply_to_id": null,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Nit: s/lamda/lambda/",
      "created_at": "2024-03-13T07:08:42Z",
      "updated_at": "2024-03-13T07:49:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1522640424",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1522640424"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2709,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1522668381",
      "pull_request_review_id": 1933303632,
      "id": 1522668381,
      "node_id": "PRRC_kwDOABII585awhNd",
      "diff_hunk": "@@ -2669,21 +2670,49 @@ UniValue CreateUTXOSnapshot(\n \n     afile << metadata;\n \n+    std::map<uint256, std::vector<std::pair<uint32_t, Coin>>> mapCoins;\n     COutPoint key;\n+    uint256 last_hash;\n     Coin coin;\n     unsigned int iter{0};\n+    std::vector<std::pair<uint32_t, Coin>> coins;\n+\n+    // To reduce space the serialization format of the snapshot avoids",
      "path": "src/rpc/blockchain.cpp",
      "position": 24,
      "original_position": 19,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "923ec9043af668f3a342422d32c1c28d29018ed0",
      "in_reply_to_id": null,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Nit: Might it be useful to add a small diagram of the format to the `dumptxoutset` help output?",
      "created_at": "2024-03-13T07:31:54Z",
      "updated_at": "2024-03-13T07:49:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1522668381",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1522668381"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2705,
      "original_line": 2705,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1522686216",
      "pull_request_review_id": 1933303632,
      "id": 1522686216,
      "node_id": "PRRC_kwDOABII585awlkI",
      "diff_hunk": "@@ -98,12 +98,16 @@ def expected_error(log_msg=\"\", rpc_details=\"\"):\n                 f.write(valid_snapshot_contents[32 + 8:])\n             expected_error(log_msg=f\"bad snapshot - coins left over after deserializing 298 coins\" if off == -1 else f\"bad snapshot format or truncated snapshot after deserializing 299 coins\")\n \n-        self.log.info(\"  - snapshot file with alternated UTXO data\")\n+\n+        self.log.info(\"  - snapshot file with alternated but parsable UTXO data results in different hash\")\n         cases = [\n             [b\"\\xff\" * 32, 0, \"7d52155c9a9fdc4525b637ef6170568e5dad6fabd0b1fdbb9432010b8453095b\"],  # wrong outpoint hash\n-            [(1).to_bytes(4, \"little\"), 32, \"9f4d897031ab8547665b4153317ae2fdbf0130c7840b66427ebc48b881cb80ad\"],  # wrong outpoint index\n-            [b\"\\x81\", 36, \"3da966ba9826fb6d2604260e01607b55ba44e1a5de298606b08704bc62570ea8\"],  # wrong coin code VARINT((coinbase ? 1 : 0) | (height << 1))\n-            [b\"\\x80\", 36, \"091e893b3ccb4334378709578025356c8bcb0a623f37c7c4e493133c988648e5\"],  # another wrong coin code\n+            # The coin size byte is skipped here and its manipulation is tested\n+            # below because this will always cause parsing to fail, resulting in\n+            # and error that is not a mismatch of the expected hash.",
      "path": "test/functional/feature_assumeutxo.py",
      "position": null,
      "original_position": 14,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "923ec9043af668f3a342422d32c1c28d29018ed0",
      "in_reply_to_id": null,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Nit: I'm a bit confused about this sentence. Is this supposed to be `resulting in an error`?",
      "created_at": "2024-03-13T07:46:53Z",
      "updated_at": "2024-03-13T07:49:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1522686216",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1522686216"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 107,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1523212386",
      "pull_request_review_id": 1934110716,
      "id": 1523212386,
      "node_id": "PRRC_kwDOABII585aymBi",
      "diff_hunk": "@@ -98,12 +98,16 @@ def expected_error(log_msg=\"\", rpc_details=\"\"):\n                 f.write(valid_snapshot_contents[32 + 8:])\n             expected_error(log_msg=f\"bad snapshot - coins left over after deserializing 298 coins\" if off == -1 else f\"bad snapshot format or truncated snapshot after deserializing 299 coins\")\n \n-        self.log.info(\"  - snapshot file with alternated UTXO data\")\n+\n+        self.log.info(\"  - snapshot file with alternated but parsable UTXO data results in different hash\")\n         cases = [\n             [b\"\\xff\" * 32, 0, \"7d52155c9a9fdc4525b637ef6170568e5dad6fabd0b1fdbb9432010b8453095b\"],  # wrong outpoint hash\n-            [(1).to_bytes(4, \"little\"), 32, \"9f4d897031ab8547665b4153317ae2fdbf0130c7840b66427ebc48b881cb80ad\"],  # wrong outpoint index\n-            [b\"\\x81\", 36, \"3da966ba9826fb6d2604260e01607b55ba44e1a5de298606b08704bc62570ea8\"],  # wrong coin code VARINT((coinbase ? 1 : 0) | (height << 1))\n-            [b\"\\x80\", 36, \"091e893b3ccb4334378709578025356c8bcb0a623f37c7c4e493133c988648e5\"],  # another wrong coin code\n+            # The coin size byte is skipped here and its manipulation is tested\n+            # below because this will always cause parsing to fail, resulting in\n+            # and error that is not a mismatch of the expected hash.",
      "path": "test/functional/feature_assumeutxo.py",
      "position": null,
      "original_position": 14,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "923ec9043af668f3a342422d32c1c28d29018ed0",
      "in_reply_to_id": 1522686216,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "yepp, `in an error` would be right",
      "created_at": "2024-03-13T12:57:07Z",
      "updated_at": "2024-03-13T12:57:07Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1523212386",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1523212386"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 107,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1523213780",
      "pull_request_review_id": 1934112786,
      "id": 1523213780,
      "node_id": "PRRC_kwDOABII585aymXU",
      "diff_hunk": "@@ -98,12 +98,16 @@ def expected_error(log_msg=\"\", rpc_details=\"\"):\n                 f.write(valid_snapshot_contents[32 + 8:])\n             expected_error(log_msg=f\"bad snapshot - coins left over after deserializing 298 coins\" if off == -1 else f\"bad snapshot format or truncated snapshot after deserializing 299 coins\")\n \n-        self.log.info(\"  - snapshot file with alternated UTXO data\")\n+\n+        self.log.info(\"  - snapshot file with alternated but parsable UTXO data results in different hash\")\n         cases = [\n             [b\"\\xff\" * 32, 0, \"7d52155c9a9fdc4525b637ef6170568e5dad6fabd0b1fdbb9432010b8453095b\"],  # wrong outpoint hash\n-            [(1).to_bytes(4, \"little\"), 32, \"9f4d897031ab8547665b4153317ae2fdbf0130c7840b66427ebc48b881cb80ad\"],  # wrong outpoint index\n-            [b\"\\x81\", 36, \"3da966ba9826fb6d2604260e01607b55ba44e1a5de298606b08704bc62570ea8\"],  # wrong coin code VARINT((coinbase ? 1 : 0) | (height << 1))\n-            [b\"\\x80\", 36, \"091e893b3ccb4334378709578025356c8bcb0a623f37c7c4e493133c988648e5\"],  # another wrong coin code\n+            # The coin size byte is skipped here and its manipulation is tested\n+            # below because this will always cause parsing to fail, resulting in\n+            # and error that is not a mismatch of the expected hash.",
      "path": "test/functional/feature_assumeutxo.py",
      "position": null,
      "original_position": 14,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "923ec9043af668f3a342422d32c1c28d29018ed0",
      "in_reply_to_id": 1522686216,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Do you think it is clear otherwise?",
      "created_at": "2024-03-13T12:58:06Z",
      "updated_at": "2024-03-13T12:58:06Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1523213780",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1523213780"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 107,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1523214777",
      "pull_request_review_id": 1934114212,
      "id": 1523214777,
      "node_id": "PRRC_kwDOABII585aymm5",
      "diff_hunk": "@@ -2669,21 +2670,49 @@ UniValue CreateUTXOSnapshot(\n \n     afile << metadata;\n \n+    std::map<uint256, std::vector<std::pair<uint32_t, Coin>>> mapCoins;\n     COutPoint key;\n+    uint256 last_hash;\n     Coin coin;\n     unsigned int iter{0};\n+    std::vector<std::pair<uint32_t, Coin>> coins;\n+\n+    // To reduce space the serialization format of the snapshot avoids\n+    // dublication of tx hashes. The code takes advantage of the guarantee by",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "923ec9043af668f3a342422d32c1c28d29018ed0",
      "in_reply_to_id": 1522639723,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "That is my favorite typo, can't get enough of it ;D",
      "created_at": "2024-03-13T12:58:44Z",
      "updated_at": "2024-03-13T12:58:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1523214777",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1523214777"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2705,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1523218768",
      "pull_request_review_id": 1934120132,
      "id": 1523218768,
      "node_id": "PRRC_kwDOABII585aynlQ",
      "diff_hunk": "@@ -2669,21 +2670,49 @@ UniValue CreateUTXOSnapshot(\n \n     afile << metadata;\n \n+    std::map<uint256, std::vector<std::pair<uint32_t, Coin>>> mapCoins;\n     COutPoint key;\n+    uint256 last_hash;\n     Coin coin;\n     unsigned int iter{0};\n+    std::vector<std::pair<uint32_t, Coin>> coins;\n+\n+    // To reduce space the serialization format of the snapshot avoids",
      "path": "src/rpc/blockchain.cpp",
      "position": 24,
      "original_position": 19,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "923ec9043af668f3a342422d32c1c28d29018ed0",
      "in_reply_to_id": 1522668381,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Sounds good, will think about what that could look like if I have to retouch or in the follow-up.",
      "created_at": "2024-03-13T13:01:14Z",
      "updated_at": "2024-03-13T13:01:15Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1523218768",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1523218768"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2705,
      "original_line": 2705,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1523235029",
      "pull_request_review_id": 1934144374,
      "id": 1523235029,
      "node_id": "PRRC_kwDOABII585ayrjV",
      "diff_hunk": "@@ -98,12 +98,16 @@ def expected_error(log_msg=\"\", rpc_details=\"\"):\n                 f.write(valid_snapshot_contents[32 + 8:])\n             expected_error(log_msg=f\"bad snapshot - coins left over after deserializing 298 coins\" if off == -1 else f\"bad snapshot format or truncated snapshot after deserializing 299 coins\")\n \n-        self.log.info(\"  - snapshot file with alternated UTXO data\")\n+\n+        self.log.info(\"  - snapshot file with alternated but parsable UTXO data results in different hash\")\n         cases = [\n             [b\"\\xff\" * 32, 0, \"7d52155c9a9fdc4525b637ef6170568e5dad6fabd0b1fdbb9432010b8453095b\"],  # wrong outpoint hash\n-            [(1).to_bytes(4, \"little\"), 32, \"9f4d897031ab8547665b4153317ae2fdbf0130c7840b66427ebc48b881cb80ad\"],  # wrong outpoint index\n-            [b\"\\x81\", 36, \"3da966ba9826fb6d2604260e01607b55ba44e1a5de298606b08704bc62570ea8\"],  # wrong coin code VARINT((coinbase ? 1 : 0) | (height << 1))\n-            [b\"\\x80\", 36, \"091e893b3ccb4334378709578025356c8bcb0a623f37c7c4e493133c988648e5\"],  # another wrong coin code\n+            # The coin size byte is skipped here and its manipulation is tested\n+            # below because this will always cause parsing to fail, resulting in\n+            # and error that is not a mismatch of the expected hash.",
      "path": "test/functional/feature_assumeutxo.py",
      "position": null,
      "original_position": 14,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "923ec9043af668f3a342422d32c1c28d29018ed0",
      "in_reply_to_id": 1522686216,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Could be a bit clearer I guess, but I don't have a suggestion :P.",
      "created_at": "2024-03-13T13:11:39Z",
      "updated_at": "2024-03-13T13:11:39Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1523235029",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1523235029"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 107,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1524646529",
      "pull_request_review_id": 1936340686,
      "id": 1524646529,
      "node_id": "PRRC_kwDOABII585a4EKB",
      "diff_hunk": "@@ -2669,21 +2670,49 @@ UniValue CreateUTXOSnapshot(\n \n     afile << metadata;\n \n+    std::map<uint256, std::vector<std::pair<uint32_t, Coin>>> mapCoins;\n     COutPoint key;\n+    uint256 last_hash;\n     Coin coin;\n     unsigned int iter{0};\n+    std::vector<std::pair<uint32_t, Coin>> coins;\n+\n+    // To reduce space the serialization format of the snapshot avoids",
      "path": "src/rpc/blockchain.cpp",
      "position": 24,
      "original_position": 19,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "923ec9043af668f3a342422d32c1c28d29018ed0",
      "in_reply_to_id": 1522668381,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I spent some time thinking about a diagram that would work but I wasn't very happy what I could come up with. I instead copied the expression used in the issue. It shows the format in a concise way that I find understandable: `list(Txid, list((vout,Coin))`. Let me know what you think.",
      "created_at": "2024-03-14T10:58:46Z",
      "updated_at": "2024-03-14T10:58:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1524646529",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1524646529"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2705,
      "original_line": 2705,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1524646629",
      "pull_request_review_id": 1936340970,
      "id": 1524646629,
      "node_id": "PRRC_kwDOABII585a4ELl",
      "diff_hunk": "@@ -2669,21 +2670,49 @@ UniValue CreateUTXOSnapshot(\n \n     afile << metadata;\n \n+    std::map<uint256, std::vector<std::pair<uint32_t, Coin>>> mapCoins;\n     COutPoint key;\n+    uint256 last_hash;\n     Coin coin;\n     unsigned int iter{0};\n+    std::vector<std::pair<uint32_t, Coin>> coins;\n+\n+    // To reduce space the serialization format of the snapshot avoids\n+    // dublication of tx hashes. The code takes advantage of the guarantee by\n+    // leveldb that keys are lexicographically sorted.\n+    // In the coins vector we collect all coins that belong to a certain tx hash\n+    // (key.hash) and when we have them all (key.hash != last_hash) we write\n+    // them to file using the below lamda function.",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 24,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "923ec9043af668f3a342422d32c1c28d29018ed0",
      "in_reply_to_id": 1522640424,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "fixed",
      "created_at": "2024-03-14T10:58:51Z",
      "updated_at": "2024-03-14T10:58:51Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1524646629",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1524646629"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2709,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1524646720",
      "pull_request_review_id": 1936341199,
      "id": 1524646720,
      "node_id": "PRRC_kwDOABII585a4ENA",
      "diff_hunk": "@@ -2669,21 +2670,49 @@ UniValue CreateUTXOSnapshot(\n \n     afile << metadata;\n \n+    std::map<uint256, std::vector<std::pair<uint32_t, Coin>>> mapCoins;\n     COutPoint key;\n+    uint256 last_hash;\n     Coin coin;\n     unsigned int iter{0};\n+    std::vector<std::pair<uint32_t, Coin>> coins;\n+\n+    // To reduce space the serialization format of the snapshot avoids\n+    // dublication of tx hashes. The code takes advantage of the guarantee by",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 20,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "923ec9043af668f3a342422d32c1c28d29018ed0",
      "in_reply_to_id": 1522639723,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "fixed",
      "created_at": "2024-03-14T10:58:55Z",
      "updated_at": "2024-03-14T10:58:55Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1524646720",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1524646720"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2705,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1524646866",
      "pull_request_review_id": 1936341500,
      "id": 1524646866,
      "node_id": "PRRC_kwDOABII585a4EPS",
      "diff_hunk": "@@ -98,12 +98,16 @@ def expected_error(log_msg=\"\", rpc_details=\"\"):\n                 f.write(valid_snapshot_contents[32 + 8:])\n             expected_error(log_msg=f\"bad snapshot - coins left over after deserializing 298 coins\" if off == -1 else f\"bad snapshot format or truncated snapshot after deserializing 299 coins\")\n \n-        self.log.info(\"  - snapshot file with alternated UTXO data\")\n+\n+        self.log.info(\"  - snapshot file with alternated but parsable UTXO data results in different hash\")\n         cases = [\n             [b\"\\xff\" * 32, 0, \"7d52155c9a9fdc4525b637ef6170568e5dad6fabd0b1fdbb9432010b8453095b\"],  # wrong outpoint hash\n-            [(1).to_bytes(4, \"little\"), 32, \"9f4d897031ab8547665b4153317ae2fdbf0130c7840b66427ebc48b881cb80ad\"],  # wrong outpoint index\n-            [b\"\\x81\", 36, \"3da966ba9826fb6d2604260e01607b55ba44e1a5de298606b08704bc62570ea8\"],  # wrong coin code VARINT((coinbase ? 1 : 0) | (height << 1))\n-            [b\"\\x80\", 36, \"091e893b3ccb4334378709578025356c8bcb0a623f37c7c4e493133c988648e5\"],  # another wrong coin code\n+            # The coin size byte is skipped here and its manipulation is tested\n+            # below because this will always cause parsing to fail, resulting in\n+            # and error that is not a mismatch of the expected hash.",
      "path": "test/functional/feature_assumeutxo.py",
      "position": null,
      "original_position": 14,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "923ec9043af668f3a342422d32c1c28d29018ed0",
      "in_reply_to_id": 1522686216,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Fixed and tried a different wording to make it more clear",
      "created_at": "2024-03-14T10:59:03Z",
      "updated_at": "2024-03-14T10:59:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1524646866",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1524646866"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 107,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1532248178",
      "pull_request_review_id": 1949164408,
      "id": 1532248178,
      "node_id": "PRRC_kwDOABII585bVEBy",
      "diff_hunk": "@@ -2669,21 +2670,49 @@ UniValue CreateUTXOSnapshot(\n \n     afile << metadata;\n \n+    std::map<uint256, std::vector<std::pair<uint32_t, Coin>>> mapCoins;\n     COutPoint key;\n+    uint256 last_hash;\n     Coin coin;\n     unsigned int iter{0};\n+    std::vector<std::pair<uint32_t, Coin>> coins;\n+\n+    // To reduce space the serialization format of the snapshot avoids",
      "path": "src/rpc/blockchain.cpp",
      "position": 24,
      "original_position": 19,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "923ec9043af668f3a342422d32c1c28d29018ed0",
      "in_reply_to_id": 1522668381,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Maybe also add the size of the coins list `list(Txid, number_of_coins, list((vout,Coin)))`?",
      "created_at": "2024-03-20T15:03:03Z",
      "updated_at": "2024-03-20T15:03:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1532248178",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1532248178"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2705,
      "original_line": 2705,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1532311296",
      "pull_request_review_id": 1949270269,
      "id": 1532311296,
      "node_id": "PRRC_kwDOABII585bVTcA",
      "diff_hunk": "@@ -2669,21 +2670,49 @@ UniValue CreateUTXOSnapshot(\n \n     afile << metadata;\n \n+    std::map<uint256, std::vector<std::pair<uint32_t, Coin>>> mapCoins;\n     COutPoint key;\n+    uint256 last_hash;\n     Coin coin;\n     unsigned int iter{0};\n+    std::vector<std::pair<uint32_t, Coin>> coins;\n+\n+    // To reduce space the serialization format of the snapshot avoids",
      "path": "src/rpc/blockchain.cpp",
      "position": 24,
      "original_position": 19,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "923ec9043af668f3a342422d32c1c28d29018ed0",
      "in_reply_to_id": 1522668381,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I will add this if I have to retouch, but if not I can do this as a follow-up in one of my other assumeutxo PRs.",
      "created_at": "2024-03-20T15:33:15Z",
      "updated_at": "2024-03-20T15:33:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1532311296",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1532311296"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2705,
      "original_line": 2705,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1537892135",
      "pull_request_review_id": 1958238106,
      "id": 1537892135,
      "node_id": "PRRC_kwDOABII585bql8n",
      "diff_hunk": "@@ -2693,21 +2694,42 @@ UniValue CreateUTXOSnapshot(\n \n     afile << metadata;\n \n+    std::map<uint256, std::vector<std::pair<uint32_t, Coin>>> mapCoins;\n     COutPoint key;\n+    uint256 last_hash;",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "e7889805999ed312a5af12a2c08c548c19403bd9",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit, if you retouch: slightly clearer imho, that's the type and naming also used in the snapshot loading routine (`ChainstateManager::PopulateAndValidateSnapshot`)\r\n```suggestion\r\n    Txid last_txid;\r\n```",
      "created_at": "2024-03-25T16:37:41Z",
      "updated_at": "2024-03-25T16:40:19Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1537892135",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1537892135"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2699,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1542076565",
      "pull_request_review_id": 1964816329,
      "id": 1542076565,
      "node_id": "PRRC_kwDOABII585b6jiV",
      "diff_hunk": "@@ -2693,21 +2694,42 @@ UniValue CreateUTXOSnapshot(\n \n     afile << metadata;\n \n+    std::map<uint256, std::vector<std::pair<uint32_t, Coin>>> mapCoins;\n     COutPoint key;\n+    uint256 last_hash;\n     Coin coin;\n     unsigned int iter{0};\n+    std::vector<std::pair<uint32_t, Coin>> coins;\n \n+    auto write_coins_to_file = [&](AutoFile& afile, const uint256& last_hash, const std::vector<std::pair<uint32_t, Coin>>& coins) {\n+        afile << last_hash;\n+        WriteCompactSize(afile, coins.size());\n+        for (auto [n, coin] : coins) {\n+            WriteCompactSize(afile, n);\n+            afile << coin;\n+        }\n+    };\n+\n+    pcursor->GetKey(key);\n+    last_hash = key.hash;\n     while (pcursor->Valid()) {\n         if (iter % 5000 == 0) node.rpc_interruption_point();\n         ++iter;\n         if (pcursor->GetKey(key) && pcursor->GetValue(coin)) {\n-            afile << key;\n-            afile << coin;\n+            if (key.hash != last_hash) {\n+                write_coins_to_file(afile, last_hash, coins);\n+                last_hash = key.hash;\n+                coins.clear();\n+            }\n+            coins.emplace_back(key.n, coin);",
      "path": "src/rpc/blockchain.cpp",
      "position": 54,
      "original_position": 41,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "e7889805999ed312a5af12a2c08c548c19403bd9",
      "in_reply_to_id": null,
      "user": {
        "login": "mzumsande",
        "id": 48763452,
        "node_id": "MDQ6VXNlcjQ4NzYzNDUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/48763452?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mzumsande",
        "html_url": "https://github.com/mzumsande",
        "followers_url": "https://api.github.com/users/mzumsande/followers",
        "following_url": "https://api.github.com/users/mzumsande/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mzumsande/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mzumsande/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mzumsande/subscriptions",
        "organizations_url": "https://api.github.com/users/mzumsande/orgs",
        "repos_url": "https://api.github.com/users/mzumsande/repos",
        "events_url": "https://api.github.com/users/mzumsande/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mzumsande/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "slightly unrelated nit: might be useful to assert that we actually wrote the right number of coins (we just take `maybe_stats->coins_count` and wouldn't abort if the actual number of coins written was different becaus the db changed for some reason). I'm sure https://github.com/bitcoin/bitcoin/pull/15606#discussion_r274479369 is correct, but checking it explicitly seems better.",
      "created_at": "2024-03-27T21:35:26Z",
      "updated_at": "2024-03-27T21:43:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1542076565",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1542076565"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2733,
      "original_line": 2733,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1545804370",
      "pull_request_review_id": 1970409202,
      "id": 1545804370,
      "node_id": "PRRC_kwDOABII585cIxpS",
      "diff_hunk": "@@ -5564,69 +5564,81 @@ bool ChainstateManager::PopulateAndValidateSnapshot(\n         return false;\n     }\n \n-    COutPoint outpoint;\n-    Coin coin;\n     const uint64_t coins_count = metadata.m_coins_count;\n     uint64_t coins_left = metadata.m_coins_count;\n \n-    LogPrintf(\"[snapshot] loading coins from snapshot %s\\n\", base_blockhash.ToString());\n+    LogPrintf(\"[snapshot] loading %d coins from snapshot %s\\n\", coins_left, base_blockhash.ToString());\n     int64_t coins_processed{0};\n \n     while (coins_left > 0) {\n         try {\n-            coins_file >> outpoint;\n-            coins_file >> coin;\n-        } catch (const std::ios_base::failure&) {\n-            LogPrintf(\"[snapshot] bad snapshot format or truncated snapshot after deserializing %d coins\\n\",\n-                      coins_count - coins_left);\n-            return false;\n-        }\n-        if (coin.nHeight > base_height ||\n-            outpoint.n >= std::numeric_limits<decltype(outpoint.n)>::max() // Avoid integer wrap-around in coinstats.cpp:ApplyHash\n-        ) {\n-            LogPrintf(\"[snapshot] bad snapshot data after deserializing %d coins\\n\",\n-                      coins_count - coins_left);\n-            return false;\n-        }\n-        if (!MoneyRange(coin.out.nValue)) {\n-            LogPrintf(\"[snapshot] bad snapshot data after deserializing %d coins - bad tx out value\\n\",\n-                      coins_count - coins_left);\n-            return false;\n-        }\n+            Txid txid;\n+            coins_file >> txid;\n+            size_t size{0};\n+            size = ReadCompactSize(coins_file);\n+\n+            if(size > coins_left) {",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 39,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "e7889805999ed312a5af12a2c08c548c19403bd9",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "spacing nit:\r\n```suggestion\r\n            if (size > coins_left) {\r\n```",
      "created_at": "2024-03-31T21:24:11Z",
      "updated_at": "2024-03-31T21:35:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1545804370",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1545804370"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 5580,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1545804948",
      "pull_request_review_id": 1970409202,
      "id": 1545804948,
      "node_id": "PRRC_kwDOABII585cIxyU",
      "diff_hunk": "@@ -5564,69 +5564,81 @@ bool ChainstateManager::PopulateAndValidateSnapshot(\n         return false;\n     }\n \n-    COutPoint outpoint;\n-    Coin coin;\n     const uint64_t coins_count = metadata.m_coins_count;\n     uint64_t coins_left = metadata.m_coins_count;\n \n-    LogPrintf(\"[snapshot] loading coins from snapshot %s\\n\", base_blockhash.ToString());\n+    LogPrintf(\"[snapshot] loading %d coins from snapshot %s\\n\", coins_left, base_blockhash.ToString());\n     int64_t coins_processed{0};\n \n     while (coins_left > 0) {\n         try {\n-            coins_file >> outpoint;\n-            coins_file >> coin;\n-        } catch (const std::ios_base::failure&) {\n-            LogPrintf(\"[snapshot] bad snapshot format or truncated snapshot after deserializing %d coins\\n\",\n-                      coins_count - coins_left);\n-            return false;\n-        }\n-        if (coin.nHeight > base_height ||\n-            outpoint.n >= std::numeric_limits<decltype(outpoint.n)>::max() // Avoid integer wrap-around in coinstats.cpp:ApplyHash\n-        ) {\n-            LogPrintf(\"[snapshot] bad snapshot data after deserializing %d coins\\n\",\n-                      coins_count - coins_left);\n-            return false;\n-        }\n-        if (!MoneyRange(coin.out.nValue)) {\n-            LogPrintf(\"[snapshot] bad snapshot data after deserializing %d coins - bad tx out value\\n\",\n-                      coins_count - coins_left);\n-            return false;\n-        }\n+            Txid txid;\n+            coins_file >> txid;\n+            size_t size{0};\n+            size = ReadCompactSize(coins_file);",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 37,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "e7889805999ed312a5af12a2c08c548c19403bd9",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit:\r\n```suggestion\r\n            size_t size{ReadCompactSize(coins_file)};\r\n```\r\nalso, `size` is a quite generic name, would prefer something more explicit like `coins_per_txid`",
      "created_at": "2024-03-31T21:28:33Z",
      "updated_at": "2024-03-31T21:35:26Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1545804948",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1545804948"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": 5577,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 5578,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548483059",
      "pull_request_review_id": 1974818797,
      "id": 1548483059,
      "node_id": "PRRC_kwDOABII585cS_nz",
      "diff_hunk": "@@ -2693,21 +2694,42 @@ UniValue CreateUTXOSnapshot(\n \n     afile << metadata;\n \n+    std::map<uint256, std::vector<std::pair<uint32_t, Coin>>> mapCoins;",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "e7889805999ed312a5af12a2c08c548c19403bd9",
      "in_reply_to_id": null,
      "user": {
        "login": "achow101",
        "id": 3782274,
        "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/achow101",
        "html_url": "https://github.com/achow101",
        "followers_url": "https://api.github.com/users/achow101/followers",
        "following_url": "https://api.github.com/users/achow101/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/achow101/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/achow101/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
        "organizations_url": "https://api.github.com/users/achow101/orgs",
        "repos_url": "https://api.github.com/users/achow101/repos",
        "events_url": "https://api.github.com/users/achow101/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/achow101/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In e7889805999ed312a5af12a2c08c548c19403bd9 \"rpc: Optimize serialization disk space of dumptxoutset\"\r\n\r\n`mapCoins` is never used.",
      "created_at": "2024-04-02T19:24:16Z",
      "updated_at": "2024-04-02T20:08:02Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1548483059",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1548483059"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2697,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573943040",
      "pull_request_review_id": 2013543889,
      "id": 1573943040,
      "node_id": "PRRC_kwDOABII585d0HcA",
      "diff_hunk": "@@ -2693,21 +2694,42 @@ UniValue CreateUTXOSnapshot(\n \n     afile << metadata;\n \n+    std::map<uint256, std::vector<std::pair<uint32_t, Coin>>> mapCoins;\n     COutPoint key;\n+    uint256 last_hash;",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 14,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "e7889805999ed312a5af12a2c08c548c19403bd9",
      "in_reply_to_id": 1537892135,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "done",
      "created_at": "2024-04-21T22:36:56Z",
      "updated_at": "2024-04-21T22:36:56Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1573943040",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573943040"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2699,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573943357",
      "pull_request_review_id": 2013543974,
      "id": 1573943357,
      "node_id": "PRRC_kwDOABII585d0Hg9",
      "diff_hunk": "@@ -2693,21 +2694,42 @@ UniValue CreateUTXOSnapshot(\n \n     afile << metadata;\n \n+    std::map<uint256, std::vector<std::pair<uint32_t, Coin>>> mapCoins;\n     COutPoint key;\n+    uint256 last_hash;\n     Coin coin;\n     unsigned int iter{0};\n+    std::vector<std::pair<uint32_t, Coin>> coins;\n \n+    auto write_coins_to_file = [&](AutoFile& afile, const uint256& last_hash, const std::vector<std::pair<uint32_t, Coin>>& coins) {\n+        afile << last_hash;\n+        WriteCompactSize(afile, coins.size());\n+        for (auto [n, coin] : coins) {\n+            WriteCompactSize(afile, n);\n+            afile << coin;\n+        }\n+    };\n+\n+    pcursor->GetKey(key);\n+    last_hash = key.hash;\n     while (pcursor->Valid()) {\n         if (iter % 5000 == 0) node.rpc_interruption_point();\n         ++iter;\n         if (pcursor->GetKey(key) && pcursor->GetValue(coin)) {\n-            afile << key;\n-            afile << coin;\n+            if (key.hash != last_hash) {\n+                write_coins_to_file(afile, last_hash, coins);\n+                last_hash = key.hash;\n+                coins.clear();\n+            }\n+            coins.emplace_back(key.n, coin);",
      "path": "src/rpc/blockchain.cpp",
      "position": 54,
      "original_position": 41,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "e7889805999ed312a5af12a2c08c548c19403bd9",
      "in_reply_to_id": 1542076565,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I added a counter and check it at the end",
      "created_at": "2024-04-21T22:37:28Z",
      "updated_at": "2024-04-21T22:37:28Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1573943357",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573943357"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2733,
      "original_line": 2733,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573943413",
      "pull_request_review_id": 2013543988,
      "id": 1573943413,
      "node_id": "PRRC_kwDOABII585d0Hh1",
      "diff_hunk": "@@ -5564,69 +5564,81 @@ bool ChainstateManager::PopulateAndValidateSnapshot(\n         return false;\n     }\n \n-    COutPoint outpoint;\n-    Coin coin;\n     const uint64_t coins_count = metadata.m_coins_count;\n     uint64_t coins_left = metadata.m_coins_count;\n \n-    LogPrintf(\"[snapshot] loading coins from snapshot %s\\n\", base_blockhash.ToString());\n+    LogPrintf(\"[snapshot] loading %d coins from snapshot %s\\n\", coins_left, base_blockhash.ToString());\n     int64_t coins_processed{0};\n \n     while (coins_left > 0) {\n         try {\n-            coins_file >> outpoint;\n-            coins_file >> coin;\n-        } catch (const std::ios_base::failure&) {\n-            LogPrintf(\"[snapshot] bad snapshot format or truncated snapshot after deserializing %d coins\\n\",\n-                      coins_count - coins_left);\n-            return false;\n-        }\n-        if (coin.nHeight > base_height ||\n-            outpoint.n >= std::numeric_limits<decltype(outpoint.n)>::max() // Avoid integer wrap-around in coinstats.cpp:ApplyHash\n-        ) {\n-            LogPrintf(\"[snapshot] bad snapshot data after deserializing %d coins\\n\",\n-                      coins_count - coins_left);\n-            return false;\n-        }\n-        if (!MoneyRange(coin.out.nValue)) {\n-            LogPrintf(\"[snapshot] bad snapshot data after deserializing %d coins - bad tx out value\\n\",\n-                      coins_count - coins_left);\n-            return false;\n-        }\n+            Txid txid;\n+            coins_file >> txid;\n+            size_t size{0};\n+            size = ReadCompactSize(coins_file);\n+\n+            if(size > coins_left) {",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 39,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "e7889805999ed312a5af12a2c08c548c19403bd9",
      "in_reply_to_id": 1545804370,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "fixed",
      "created_at": "2024-04-21T22:37:34Z",
      "updated_at": "2024-04-21T22:37:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1573943413",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573943413"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 5580,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573943494",
      "pull_request_review_id": 2013544006,
      "id": 1573943494,
      "node_id": "PRRC_kwDOABII585d0HjG",
      "diff_hunk": "@@ -5564,69 +5564,81 @@ bool ChainstateManager::PopulateAndValidateSnapshot(\n         return false;\n     }\n \n-    COutPoint outpoint;\n-    Coin coin;\n     const uint64_t coins_count = metadata.m_coins_count;\n     uint64_t coins_left = metadata.m_coins_count;\n \n-    LogPrintf(\"[snapshot] loading coins from snapshot %s\\n\", base_blockhash.ToString());\n+    LogPrintf(\"[snapshot] loading %d coins from snapshot %s\\n\", coins_left, base_blockhash.ToString());\n     int64_t coins_processed{0};\n \n     while (coins_left > 0) {\n         try {\n-            coins_file >> outpoint;\n-            coins_file >> coin;\n-        } catch (const std::ios_base::failure&) {\n-            LogPrintf(\"[snapshot] bad snapshot format or truncated snapshot after deserializing %d coins\\n\",\n-                      coins_count - coins_left);\n-            return false;\n-        }\n-        if (coin.nHeight > base_height ||\n-            outpoint.n >= std::numeric_limits<decltype(outpoint.n)>::max() // Avoid integer wrap-around in coinstats.cpp:ApplyHash\n-        ) {\n-            LogPrintf(\"[snapshot] bad snapshot data after deserializing %d coins\\n\",\n-                      coins_count - coins_left);\n-            return false;\n-        }\n-        if (!MoneyRange(coin.out.nValue)) {\n-            LogPrintf(\"[snapshot] bad snapshot data after deserializing %d coins - bad tx out value\\n\",\n-                      coins_count - coins_left);\n-            return false;\n-        }\n+            Txid txid;\n+            coins_file >> txid;\n+            size_t size{0};\n+            size = ReadCompactSize(coins_file);",
      "path": "src/validation.cpp",
      "position": null,
      "original_position": 37,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "e7889805999ed312a5af12a2c08c548c19403bd9",
      "in_reply_to_id": 1545804948,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "renamed",
      "created_at": "2024-04-21T22:37:39Z",
      "updated_at": "2024-04-21T22:37:40Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1573943494",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573943494"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": 5577,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 5578,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573943566",
      "pull_request_review_id": 2013544020,
      "id": 1573943566,
      "node_id": "PRRC_kwDOABII585d0HkO",
      "diff_hunk": "@@ -2693,21 +2694,42 @@ UniValue CreateUTXOSnapshot(\n \n     afile << metadata;\n \n+    std::map<uint256, std::vector<std::pair<uint32_t, Coin>>> mapCoins;",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 12,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "e7889805999ed312a5af12a2c08c548c19403bd9",
      "in_reply_to_id": 1548483059,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "leftover from a previous approach,  removed",
      "created_at": "2024-04-21T22:37:47Z",
      "updated_at": "2024-04-21T22:37:47Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1573943566",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1573943566"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 2697,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1582744045",
      "pull_request_review_id": 2027916134,
      "id": 1582744045,
      "node_id": "PRRC_kwDOABII585eVsHt",
      "diff_hunk": "@@ -183,4 +185,6 @@ class CChainParams\n     ChainTxData chainTxData;\n };\n \n+std::optional<std::string> GetNetworkForMagic(MessageStartChars& pchMessageStart);",
      "path": "src/kernel/chainparams.h",
      "position": null,
      "original_position": 20,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "6ed6bffcbedb6a28c3578721cc0a08086a15e417",
      "in_reply_to_id": null,
      "user": {
        "login": "Sjors",
        "id": 10217,
        "node_id": "MDQ6VXNlcjEwMjE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sjors",
        "html_url": "https://github.com/Sjors",
        "followers_url": "https://api.github.com/users/Sjors/followers",
        "following_url": "https://api.github.com/users/Sjors/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sjors/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sjors/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
        "organizations_url": "https://api.github.com/users/Sjors/orgs",
        "repos_url": "https://api.github.com/users/Sjors/repos",
        "events_url": "https://api.github.com/users/Sjors/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sjors/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "6ed6bffcbedb6a28c3578721cc0a08086a15e417: this doesn't seem kernel-worthy. `chaintype.h` is a better home for it, next to `ChainTypeToString`.",
      "created_at": "2024-04-29T09:05:44Z",
      "updated_at": "2024-04-29T10:09:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1582744045",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1582744045"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 188,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1584865007",
      "pull_request_review_id": 2031433669,
      "id": 1584865007,
      "node_id": "PRRC_kwDOABII585edx7v",
      "diff_hunk": "@@ -542,3 +543,33 @@ std::unique_ptr<const CChainParams> CChainParams::TestNet()\n {\n     return std::make_unique<const CTestNetParams>();\n }\n+\n+std::vector<int> CChainParams::GetAvailableSnapshotHeights() const {\n+    std::vector<int> heights;\n+    heights.reserve(m_assumeutxo_data.size());\n+\n+    for (const auto& data : m_assumeutxo_data) {\n+        heights.emplace_back(data.height);\n+    }\n+    return heights;\n+}\n+\n+std::optional<std::string> GetNetworkForMagic(MessageStartChars& message) {\n+    const auto mainnet_msg = CChainParams::Main()->MessageStart();\n+    const auto testnet_msg = CChainParams::TestNet()->MessageStart();\n+    auto regtest_opts = CChainParams::RegTestOptions{};\n+    const auto regtest_msg = CChainParams::RegTest(regtest_opts)->MessageStart();\n+    auto signet_opts = CChainParams::SigNetOptions{};\n+    const auto signet_msg = CChainParams::SigNet(signet_opts)->MessageStart();\n+\n+    if (std::equal(message.begin(), message.end(), mainnet_msg.data())) {\n+        return \"Mainnet\";",
      "path": "src/kernel/chainparams.cpp",
      "position": null,
      "original_position": 32,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "6ed6bffcbedb6a28c3578721cc0a08086a15e417",
      "in_reply_to_id": null,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I'm surprised we never had to match the magic bytes to a chaintype. Instead of defining new strings here though, could you use `ChainTypeToString(ChainType::MAIN)`?",
      "created_at": "2024-04-30T13:49:05Z",
      "updated_at": "2024-04-30T13:49:05Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1584865007",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1584865007"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 566,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1584868473",
      "pull_request_review_id": 2031439347,
      "id": 1584868473,
      "node_id": "PRRC_kwDOABII585edyx5",
      "diff_hunk": "@@ -183,4 +185,6 @@ class CChainParams\n     ChainTxData chainTxData;\n };\n \n+std::optional<std::string> GetNetworkForMagic(MessageStartChars& pchMessageStart);",
      "path": "src/kernel/chainparams.h",
      "position": null,
      "original_position": 20,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "6ed6bffcbedb6a28c3578721cc0a08086a15e417",
      "in_reply_to_id": 1582744045,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I think this is fine where it is, I like keeping these single type utilities small.",
      "created_at": "2024-04-30T13:51:00Z",
      "updated_at": "2024-04-30T13:51:20Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1584868473",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1584868473"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 188,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1587015761",
      "pull_request_review_id": 2034745114,
      "id": 1587015761,
      "node_id": "PRRC_kwDOABII585el_BR",
      "diff_hunk": "@@ -16,17 +18,24 @@\n #include <optional>\n #include <string_view>\n \n+// UTXO set snapshot magic bytes\n+static constexpr uint8_t SNAPSHOT_MAGIC_BYTES[5] = {'u', 't', 'x', 'o', 0xff};",
      "path": "src/node/utxo_snapshot.h",
      "position": null,
      "original_position": 14,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "6ed6bffcbedb6a28c3578721cc0a08086a15e417",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: could use `std::array`, and use its methods (`.begin()`, `.end()`, `.size()`) in `Unserialize` below to avoid magic numbers\r\n```suggestion\r\nstatic constexpr std::array<uint8_t, 5> SNAPSHOT_MAGIC_BYTES = {'u', 't', 'x', 'o', 0xff};\r\n```",
      "created_at": "2024-05-02T03:16:24Z",
      "updated_at": "2024-05-02T03:55:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1587015761",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1587015761"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1587030435",
      "pull_request_review_id": 2034745114,
      "id": 1587030435,
      "node_id": "PRRC_kwDOABII585emCmj",
      "diff_hunk": "@@ -16,17 +18,24 @@\n #include <optional>\n #include <string_view>\n \n+// UTXO set snapshot magic bytes\n+static constexpr uint8_t SNAPSHOT_MAGIC_BYTES[5] = {'u', 't', 'x', 'o', 0xff};\n+\n class Chainstate;\n \n namespace node {\n //! Metadata describing a serialized version of a UTXO set from which an\n //! assumeutxo Chainstate can be constructed.\n class SnapshotMetadata\n {\n+    const uint16_t m_version{1};\n+    const std::set<uint16_t> m_supported_versions{1};\n public:\n     //! The hash of the block that reflects the tip of the chain for the\n     //! UTXO set contained in this snapshot.\n     uint256 m_base_blockhash;\n+    int m_base_blockheight;",
      "path": "src/node/utxo_snapshot.h",
      "position": null,
      "original_position": 29,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "6ed6bffcbedb6a28c3578721cc0a08086a15e417",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: for variables that are (de)serialized, it's imho preferred if the data type size is explicit\r\n```suggestion\r\n    uint32_t m_base_blockheight;\r\n```",
      "created_at": "2024-05-02T03:50:35Z",
      "updated_at": "2024-05-02T03:55:08Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1587030435",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1587030435"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 37,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1590208842",
      "pull_request_review_id": 2039582079,
      "id": 1590208842,
      "node_id": "PRRC_kwDOABII585eyKlK",
      "diff_hunk": "@@ -542,3 +543,33 @@ std::unique_ptr<const CChainParams> CChainParams::TestNet()\n {\n     return std::make_unique<const CTestNetParams>();\n }\n+\n+std::vector<int> CChainParams::GetAvailableSnapshotHeights() const {\n+    std::vector<int> heights;\n+    heights.reserve(m_assumeutxo_data.size());\n+\n+    for (const auto& data : m_assumeutxo_data) {\n+        heights.emplace_back(data.height);\n+    }\n+    return heights;\n+}\n+\n+std::optional<std::string> GetNetworkForMagic(MessageStartChars& message) {\n+    const auto mainnet_msg = CChainParams::Main()->MessageStart();\n+    const auto testnet_msg = CChainParams::TestNet()->MessageStart();\n+    auto regtest_opts = CChainParams::RegTestOptions{};\n+    const auto regtest_msg = CChainParams::RegTest(regtest_opts)->MessageStart();\n+    auto signet_opts = CChainParams::SigNetOptions{};\n+    const auto signet_msg = CChainParams::SigNet(signet_opts)->MessageStart();\n+\n+    if (std::equal(message.begin(), message.end(), mainnet_msg.data())) {\n+        return \"Mainnet\";",
      "path": "src/kernel/chainparams.cpp",
      "position": null,
      "original_position": 32,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "6ed6bffcbedb6a28c3578721cc0a08086a15e417",
      "in_reply_to_id": 1584865007,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Me too :) Yes, that makes sense. I opted for the function to return the `ChainType` and then I use `ChainTypeToString` on the result.",
      "created_at": "2024-05-05T04:59:58Z",
      "updated_at": "2024-05-05T04:59:58Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1590208842",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1590208842"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 566,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1590208850",
      "pull_request_review_id": 2039582085,
      "id": 1590208850,
      "node_id": "PRRC_kwDOABII585eyKlS",
      "diff_hunk": "@@ -16,17 +18,24 @@\n #include <optional>\n #include <string_view>\n \n+// UTXO set snapshot magic bytes\n+static constexpr uint8_t SNAPSHOT_MAGIC_BYTES[5] = {'u', 't', 'x', 'o', 0xff};",
      "path": "src/node/utxo_snapshot.h",
      "position": null,
      "original_position": 14,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "6ed6bffcbedb6a28c3578721cc0a08086a15e417",
      "in_reply_to_id": 1587015761,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "done",
      "created_at": "2024-05-05T05:00:03Z",
      "updated_at": "2024-05-05T05:00:03Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1590208850",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1590208850"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 22,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1590208854",
      "pull_request_review_id": 2039582091,
      "id": 1590208854,
      "node_id": "PRRC_kwDOABII585eyKlW",
      "diff_hunk": "@@ -16,17 +18,24 @@\n #include <optional>\n #include <string_view>\n \n+// UTXO set snapshot magic bytes\n+static constexpr uint8_t SNAPSHOT_MAGIC_BYTES[5] = {'u', 't', 'x', 'o', 0xff};\n+\n class Chainstate;\n \n namespace node {\n //! Metadata describing a serialized version of a UTXO set from which an\n //! assumeutxo Chainstate can be constructed.\n class SnapshotMetadata\n {\n+    const uint16_t m_version{1};\n+    const std::set<uint16_t> m_supported_versions{1};\n public:\n     //! The hash of the block that reflects the tip of the chain for the\n     //! UTXO set contained in this snapshot.\n     uint256 m_base_blockhash;\n+    int m_base_blockheight;",
      "path": "src/node/utxo_snapshot.h",
      "position": null,
      "original_position": 29,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "6ed6bffcbedb6a28c3578721cc0a08086a15e417",
      "in_reply_to_id": 1587030435,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "done",
      "created_at": "2024-05-05T05:00:09Z",
      "updated_at": "2024-05-05T05:00:09Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1590208854",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1590208854"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 37,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597449496",
      "pull_request_review_id": 2051206848,
      "id": 1597449496,
      "node_id": "PRRC_kwDOABII585fNyUY",
      "diff_hunk": "@@ -542,3 +543,33 @@ std::unique_ptr<const CChainParams> CChainParams::TestNet()\n {\n     return std::make_unique<const CTestNetParams>();\n }\n+\n+std::vector<int> CChainParams::GetAvailableSnapshotHeights() const {\n+    std::vector<int> heights;\n+    heights.reserve(m_assumeutxo_data.size());\n+\n+    for (const auto& data : m_assumeutxo_data) {\n+        heights.emplace_back(data.height);\n+    }\n+    return heights;\n+}\n+\n+std::optional<ChainType> GetNetworkForMagic(MessageStartChars& message) {\n+    const auto mainnet_msg = CChainParams::Main()->MessageStart();\n+    const auto testnet_msg = CChainParams::TestNet()->MessageStart();\n+    auto regtest_opts = CChainParams::RegTestOptions{};\n+    const auto regtest_msg = CChainParams::RegTest(regtest_opts)->MessageStart();",
      "path": "src/kernel/chainparams.cpp",
      "position": null,
      "original_position": 27,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "b2cf3f77b14bccf11ad5bc211db7f746ae5073fb",
      "in_reply_to_id": null,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit b2cf3f77b14bccf11ad5bc211db7f746ae5073fb:\r\nNit: Could just do `const auto regtest_msg = CChainParams::RegTest({})->MessageStart();` here and for the `signet_msg`.",
      "created_at": "2024-05-11T13:31:26Z",
      "updated_at": "2024-05-11T14:18:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1597449496",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597449496"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 561,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597450105",
      "pull_request_review_id": 2051206848,
      "id": 1597450105,
      "node_id": "PRRC_kwDOABII585fNyd5",
      "diff_hunk": "@@ -14,6 +14,7 @@\n #include <logging.h>\n #include <primitives/block.h>\n #include <primitives/transaction.h>\n+#include <protocol.h>",
      "path": "src/kernel/chainparams.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "b2cf3f77b14bccf11ad5bc211db7f746ae5073fb",
      "in_reply_to_id": null,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit b2cf3f77b14bccf11ad5bc211db7f746ae5073fb:\r\nIs this include from a prior iteration? It seems unused (also in the header file).",
      "created_at": "2024-05-11T13:36:30Z",
      "updated_at": "2024-05-11T14:18:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1597450105",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597450105"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597453382",
      "pull_request_review_id": 2051206848,
      "id": 1597453382,
      "node_id": "PRRC_kwDOABII585fNzRG",
      "diff_hunk": "@@ -2712,7 +2712,7 @@ UniValue CreateUTXOSnapshot(\n     auto write_coins_to_file = [&](AutoFile& afile, const Txid& last_hash, const std::vector<std::pair<uint32_t, Coin>>& coins, size_t& written_coins_count) {\n         afile << last_hash;\n         WriteCompactSize(afile, coins.size());\n-        for (auto [n, coin] : coins) {\n+        for (const auto& [n, coin] : coins) {",
      "path": "src/rpc/blockchain.cpp",
      "position": 34,
      "original_position": 14,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "b2cf3f77b14bccf11ad5bc211db7f746ae5073fb",
      "in_reply_to_id": null,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit b2cf3f77b14bccf11ad5bc211db7f746ae5073fb:\r\nNit: I think this should be moved to the first commit.",
      "created_at": "2024-05-11T14:00:50Z",
      "updated_at": "2024-05-11T14:18:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1597453382",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597453382"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2715,
      "original_line": 2715,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597455340",
      "pull_request_review_id": 2051206848,
      "id": 1597455340,
      "node_id": "PRRC_kwDOABII585fNzvs",
      "diff_hunk": "@@ -542,3 +543,33 @@ std::unique_ptr<const CChainParams> CChainParams::TestNet()\n {\n     return std::make_unique<const CTestNetParams>();\n }\n+\n+std::vector<int> CChainParams::GetAvailableSnapshotHeights() const {",
      "path": "src/kernel/chainparams.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "b2cf3f77b14bccf11ad5bc211db7f746ae5073fb",
      "in_reply_to_id": null,
      "user": {
        "login": "TheCharlatan",
        "id": 8421793,
        "node_id": "MDQ6VXNlcjg0MjE3OTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8421793?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/TheCharlatan",
        "html_url": "https://github.com/TheCharlatan",
        "followers_url": "https://api.github.com/users/TheCharlatan/followers",
        "following_url": "https://api.github.com/users/TheCharlatan/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/TheCharlatan/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/TheCharlatan/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/TheCharlatan/subscriptions",
        "organizations_url": "https://api.github.com/users/TheCharlatan/orgs",
        "repos_url": "https://api.github.com/users/TheCharlatan/repos",
        "events_url": "https://api.github.com/users/TheCharlatan/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/TheCharlatan/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "In commit b2cf3f77b14bccf11ad5bc211db7f746ae5073fb\r\nNit (clang-format-diff): Open braces on new line (here and the other new functions and methods below).",
      "created_at": "2024-05-11T14:13:58Z",
      "updated_at": "2024-05-11T14:18:50Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1597455340",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1597455340"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 547,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1599046868",
      "pull_request_review_id": 2053756329,
      "id": 1599046868,
      "node_id": "PRRC_kwDOABII585fT4TU",
      "diff_hunk": "@@ -35,11 +45,55 @@ class SnapshotMetadata\n     SnapshotMetadata() { }\n     SnapshotMetadata(\n         const uint256& base_blockhash,\n+        const int base_blockheight,\n         uint64_t coins_count) :\n             m_base_blockhash(base_blockhash),\n+            m_base_blockheight(base_blockheight),\n             m_coins_count(coins_count) { }\n \n-    SERIALIZE_METHODS(SnapshotMetadata, obj) { READWRITE(obj.m_base_blockhash, obj.m_coins_count); }\n+    template <typename Stream>\n+    inline void Serialize(Stream& s) const {\n+        s << SNAPSHOT_MAGIC_BYTES;\n+        s << m_version;\n+        s << Params().MessageStart();\n+        s << m_base_blockheight;\n+        s << m_base_blockhash;\n+        s << m_coins_count;\n+    }\n+\n+    template <typename Stream>\n+    inline void Unserialize(Stream& s) {\n+        // Read the snapshot magic bytes\n+        std::array<uint8_t, SNAPSHOT_MAGIC_BYTES.size()> snapshot_magic;\n+        s >> snapshot_magic;\n+        if (snapshot_magic != SNAPSHOT_MAGIC_BYTES) {\n+            throw std::ios_base::failure(\"Invalid UTXO set snapshot magic bytes. Please check if this is indeed a snapshot file or if you are using an outdated snapshot format.\", std::error_code{});",
      "path": "src/node/utxo_snapshot.h",
      "position": null,
      "original_position": 65,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "b2cf3f77b14bccf11ad5bc211db7f746ae5073fb",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: seems like the second parameter (`std::error_code{}`) isn't needed (here and in all other instances below)\r\n```suggestion\r\n            throw std::ios_base::failure(\"Invalid UTXO set snapshot magic bytes. Please check if this is indeed a snapshot file or if you are using an outdated snapshot format.\");\r\n```",
      "created_at": "2024-05-13T20:30:43Z",
      "updated_at": "2024-05-13T21:03:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1599046868",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1599046868"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 70,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1599077443",
      "pull_request_review_id": 2053756329,
      "id": 1599077443,
      "node_id": "PRRC_kwDOABII585fT_xD",
      "diff_hunk": "@@ -2804,12 +2804,26 @@ static RPCHelpMan loadtxoutset()\n     }\n \n     SnapshotMetadata metadata;\n-    afile >> metadata;\n+    try {\n+        afile >> metadata;\n+    } catch (const std::ios_base::failure& e) {\n+        throw JSONRPCError(RPC_INTERNAL_ERROR, strprintf(\"Unable to parse metadata: %s\", e.what()));\n+    }\n \n     uint256 base_blockhash = metadata.m_base_blockhash;\n+    int base_blockheight = metadata.m_base_blockheight;\n     if (!chainman.GetParams().AssumeutxoForBlockhash(base_blockhash).has_value()) {\n+        auto available_heights = chainman.GetParams().GetAvailableSnapshotHeights();\n+        std::ostringstream oss;\n+        for (auto it = available_heights.begin(); it != available_heights.end(); ++it) {\n+            oss << (it != available_heights.begin() ? \", \" : \"\") << *it;\n+        }\n+        std::string heights_formatted = oss.str();",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 37,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "b2cf3f77b14bccf11ad5bc211db7f746ae5073fb",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: could use our fancy `Join` helper here (available in util/string.h)\r\n```suggestion\r\n        std::string heights_formatted = Join(available_heights, \", \", [&](const auto& i) { return ToString(i); });\r\n```",
      "created_at": "2024-05-13T21:00:32Z",
      "updated_at": "2024-05-13T21:03:49Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1599077443",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1599077443"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": 2817,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 2821,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608225552",
      "pull_request_review_id": 2068470717,
      "id": 1608225552,
      "node_id": "PRRC_kwDOABII585f25MQ",
      "diff_hunk": "@@ -542,3 +543,33 @@ std::unique_ptr<const CChainParams> CChainParams::TestNet()\n {\n     return std::make_unique<const CTestNetParams>();\n }\n+\n+std::vector<int> CChainParams::GetAvailableSnapshotHeights() const {\n+    std::vector<int> heights;\n+    heights.reserve(m_assumeutxo_data.size());\n+\n+    for (const auto& data : m_assumeutxo_data) {\n+        heights.emplace_back(data.height);\n+    }\n+    return heights;\n+}\n+\n+std::optional<ChainType> GetNetworkForMagic(MessageStartChars& message) {\n+    const auto mainnet_msg = CChainParams::Main()->MessageStart();\n+    const auto testnet_msg = CChainParams::TestNet()->MessageStart();\n+    auto regtest_opts = CChainParams::RegTestOptions{};\n+    const auto regtest_msg = CChainParams::RegTest(regtest_opts)->MessageStart();",
      "path": "src/kernel/chainparams.cpp",
      "position": null,
      "original_position": 27,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "b2cf3f77b14bccf11ad5bc211db7f746ae5073fb",
      "in_reply_to_id": 1597449496,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "done",
      "created_at": "2024-05-21T12:16:10Z",
      "updated_at": "2024-05-21T12:16:10Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1608225552",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608225552"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 561,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608225734",
      "pull_request_review_id": 2068470972,
      "id": 1608225734,
      "node_id": "PRRC_kwDOABII585f25PG",
      "diff_hunk": "@@ -14,6 +14,7 @@\n #include <logging.h>\n #include <primitives/block.h>\n #include <primitives/transaction.h>\n+#include <protocol.h>",
      "path": "src/kernel/chainparams.cpp",
      "position": null,
      "original_position": 4,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "b2cf3f77b14bccf11ad5bc211db7f746ae5073fb",
      "in_reply_to_id": 1597450105,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Yeah, seems so, done",
      "created_at": "2024-05-21T12:16:18Z",
      "updated_at": "2024-05-21T12:16:18Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1608225734",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608225734"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 17,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608225976",
      "pull_request_review_id": 2068471373,
      "id": 1608225976,
      "node_id": "PRRC_kwDOABII585f25S4",
      "diff_hunk": "@@ -2712,7 +2712,7 @@ UniValue CreateUTXOSnapshot(\n     auto write_coins_to_file = [&](AutoFile& afile, const Txid& last_hash, const std::vector<std::pair<uint32_t, Coin>>& coins, size_t& written_coins_count) {\n         afile << last_hash;\n         WriteCompactSize(afile, coins.size());\n-        for (auto [n, coin] : coins) {\n+        for (const auto& [n, coin] : coins) {",
      "path": "src/rpc/blockchain.cpp",
      "position": 34,
      "original_position": 14,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "b2cf3f77b14bccf11ad5bc211db7f746ae5073fb",
      "in_reply_to_id": 1597453382,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "done",
      "created_at": "2024-05-21T12:16:30Z",
      "updated_at": "2024-05-21T12:16:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1608225976",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608225976"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2715,
      "original_line": 2715,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608226073",
      "pull_request_review_id": 2068471522,
      "id": 1608226073,
      "node_id": "PRRC_kwDOABII585f25UZ",
      "diff_hunk": "@@ -542,3 +543,33 @@ std::unique_ptr<const CChainParams> CChainParams::TestNet()\n {\n     return std::make_unique<const CTestNetParams>();\n }\n+\n+std::vector<int> CChainParams::GetAvailableSnapshotHeights() const {",
      "path": "src/kernel/chainparams.cpp",
      "position": null,
      "original_position": 13,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "b2cf3f77b14bccf11ad5bc211db7f746ae5073fb",
      "in_reply_to_id": 1597455340,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "done",
      "created_at": "2024-05-21T12:16:34Z",
      "updated_at": "2024-05-21T12:16:34Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1608226073",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608226073"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 547,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608226272",
      "pull_request_review_id": 2068471836,
      "id": 1608226272,
      "node_id": "PRRC_kwDOABII585f25Xg",
      "diff_hunk": "@@ -35,11 +45,55 @@ class SnapshotMetadata\n     SnapshotMetadata() { }\n     SnapshotMetadata(\n         const uint256& base_blockhash,\n+        const int base_blockheight,\n         uint64_t coins_count) :\n             m_base_blockhash(base_blockhash),\n+            m_base_blockheight(base_blockheight),\n             m_coins_count(coins_count) { }\n \n-    SERIALIZE_METHODS(SnapshotMetadata, obj) { READWRITE(obj.m_base_blockhash, obj.m_coins_count); }\n+    template <typename Stream>\n+    inline void Serialize(Stream& s) const {\n+        s << SNAPSHOT_MAGIC_BYTES;\n+        s << m_version;\n+        s << Params().MessageStart();\n+        s << m_base_blockheight;\n+        s << m_base_blockhash;\n+        s << m_coins_count;\n+    }\n+\n+    template <typename Stream>\n+    inline void Unserialize(Stream& s) {\n+        // Read the snapshot magic bytes\n+        std::array<uint8_t, SNAPSHOT_MAGIC_BYTES.size()> snapshot_magic;\n+        s >> snapshot_magic;\n+        if (snapshot_magic != SNAPSHOT_MAGIC_BYTES) {\n+            throw std::ios_base::failure(\"Invalid UTXO set snapshot magic bytes. Please check if this is indeed a snapshot file or if you are using an outdated snapshot format.\", std::error_code{});",
      "path": "src/node/utxo_snapshot.h",
      "position": null,
      "original_position": 65,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "b2cf3f77b14bccf11ad5bc211db7f746ae5073fb",
      "in_reply_to_id": 1599046868,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "done",
      "created_at": "2024-05-21T12:16:43Z",
      "updated_at": "2024-05-21T12:16:43Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1608226272",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608226272"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 70,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608226361",
      "pull_request_review_id": 2068471974,
      "id": 1608226361,
      "node_id": "PRRC_kwDOABII585f25Y5",
      "diff_hunk": "@@ -2804,12 +2804,26 @@ static RPCHelpMan loadtxoutset()\n     }\n \n     SnapshotMetadata metadata;\n-    afile >> metadata;\n+    try {\n+        afile >> metadata;\n+    } catch (const std::ios_base::failure& e) {\n+        throw JSONRPCError(RPC_INTERNAL_ERROR, strprintf(\"Unable to parse metadata: %s\", e.what()));\n+    }\n \n     uint256 base_blockhash = metadata.m_base_blockhash;\n+    int base_blockheight = metadata.m_base_blockheight;\n     if (!chainman.GetParams().AssumeutxoForBlockhash(base_blockhash).has_value()) {\n+        auto available_heights = chainman.GetParams().GetAvailableSnapshotHeights();\n+        std::ostringstream oss;\n+        for (auto it = available_heights.begin(); it != available_heights.end(); ++it) {\n+            oss << (it != available_heights.begin() ? \", \" : \"\") << *it;\n+        }\n+        std::string heights_formatted = oss.str();",
      "path": "src/rpc/blockchain.cpp",
      "position": null,
      "original_position": 37,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "b2cf3f77b14bccf11ad5bc211db7f746ae5073fb",
      "in_reply_to_id": 1599077443,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Cool, done!",
      "created_at": "2024-05-21T12:16:46Z",
      "updated_at": "2024-05-21T12:16:46Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1608226361",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608226361"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": 2817,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 2821,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608997512",
      "pull_request_review_id": 2069701481,
      "id": 1608997512,
      "node_id": "PRRC_kwDOABII585f51qI",
      "diff_hunk": "@@ -2695,24 +2696,48 @@ UniValue CreateUTXOSnapshot(\n     afile << metadata;\n \n     COutPoint key;\n+    Txid last_hash;",
      "path": "src/rpc/blockchain.cpp",
      "position": 18,
      "original_position": 12,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "de95953d870c41436de67d56c93259bc66fe1434",
      "in_reply_to_id": null,
      "user": {
        "login": "theStack",
        "id": 91535,
        "node_id": "MDQ6VXNlcjkxNTM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theStack",
        "html_url": "https://github.com/theStack",
        "followers_url": "https://api.github.com/users/theStack/followers",
        "following_url": "https://api.github.com/users/theStack/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theStack/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theStack/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
        "organizations_url": "https://api.github.com/users/theStack/orgs",
        "repos_url": "https://api.github.com/users/theStack/repos",
        "events_url": "https://api.github.com/users/theStack/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theStack/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: would still prefer `last_txid` over `last_hash` as it's more expressive (OTOH, in `COutPoint`, it's also called `hash`)",
      "created_at": "2024-05-21T21:59:16Z",
      "updated_at": "2024-05-21T21:59:45Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1608997512",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1608997512"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2699,
      "original_line": 2699,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1609402573",
      "pull_request_review_id": 2070304220,
      "id": 1609402573,
      "node_id": "PRRC_kwDOABII585f7YjN",
      "diff_hunk": "@@ -2695,24 +2696,48 @@ UniValue CreateUTXOSnapshot(\n     afile << metadata;\n \n     COutPoint key;\n+    Txid last_hash;",
      "path": "src/rpc/blockchain.cpp",
      "position": 18,
      "original_position": 12,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "de95953d870c41436de67d56c93259bc66fe1434",
      "in_reply_to_id": 1608997512,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Sorry, I must have overlooked that if you already mentioned it before when I changed the type. I will address it if I have to retouch.",
      "created_at": "2024-05-22T07:01:29Z",
      "updated_at": "2024-05-22T07:01:30Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1609402573",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1609402573"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 2699,
      "original_line": 2699,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1612027063",
      "pull_request_review_id": 2074536551,
      "id": 1612027063,
      "node_id": "PRRC_kwDOABII585gFZS3",
      "diff_hunk": "@@ -35,11 +45,55 @@ class SnapshotMetadata\n     SnapshotMetadata() { }\n     SnapshotMetadata(\n         const uint256& base_blockhash,\n+        const int base_blockheight,\n         uint64_t coins_count) :\n             m_base_blockhash(base_blockhash),\n+            m_base_blockheight(base_blockheight),\n             m_coins_count(coins_count) { }\n \n-    SERIALIZE_METHODS(SnapshotMetadata, obj) { READWRITE(obj.m_base_blockhash, obj.m_coins_count); }\n+    template <typename Stream>\n+    inline void Serialize(Stream& s) const {\n+        s << SNAPSHOT_MAGIC_BYTES;\n+        s << m_version;\n+        s << Params().MessageStart();",
      "path": "src/node/utxo_snapshot.h",
      "position": 53,
      "original_position": 53,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: It would be nice, if new code didn't use globals implicitly. What about storing a reference to the prams (or the magic) in a member field of this struct and using it here? An alternative would be to use params-serialization and embed the magic bytes during serialization.",
      "created_at": "2024-05-23T16:49:32Z",
      "updated_at": "2024-05-23T17:07:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1612027063",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1612027063"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 58,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1612045699",
      "pull_request_review_id": 2074536551,
      "id": 1612045699,
      "node_id": "PRRC_kwDOABII585gFd2D",
      "diff_hunk": "@@ -5735,7 +5747,8 @@ bool ChainstateManager::PopulateAndValidateSnapshot(\n \n     bool out_of_coins{false};\n     try {\n-        coins_file >> outpoint;\n+        Txid txid;",
      "path": "src/validation.cpp",
      "position": 135,
      "original_position": 135,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "nit: I think this should check that the stream is completely empty, no? I suspect that a trailing byte will be left undetected, so it may be better to deserialize a `std::byte` here?",
      "created_at": "2024-05-23T17:05:39Z",
      "updated_at": "2024-05-23T17:07:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1612045699",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1612045699"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 5750,
      "original_line": 5750,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1612046682",
      "pull_request_review_id": 2074536551,
      "id": 1612046682,
      "node_id": "PRRC_kwDOABII585gFeFa",
      "diff_hunk": "@@ -5660,69 +5660,81 @@ bool ChainstateManager::PopulateAndValidateSnapshot(\n         return false;\n     }\n \n-    COutPoint outpoint;\n-    Coin coin;\n     const uint64_t coins_count = metadata.m_coins_count;\n     uint64_t coins_left = metadata.m_coins_count;\n \n-    LogPrintf(\"[snapshot] loading coins from snapshot %s\\n\", base_blockhash.ToString());\n+    LogPrintf(\"[snapshot] loading %d coins from snapshot %s\\n\", coins_left, base_blockhash.ToString());\n     int64_t coins_processed{0};\n \n     while (coins_left > 0) {\n         try {\n-            coins_file >> outpoint;\n-            coins_file >> coin;\n-        } catch (const std::ios_base::failure&) {\n-            LogPrintf(\"[snapshot] bad snapshot format or truncated snapshot after deserializing %d coins\\n\",\n-                      coins_count - coins_left);\n-            return false;\n-        }\n-        if (coin.nHeight > base_height ||\n-            outpoint.n >= std::numeric_limits<decltype(outpoint.n)>::max() // Avoid integer wrap-around in coinstats.cpp:ApplyHash\n-        ) {\n-            LogPrintf(\"[snapshot] bad snapshot data after deserializing %d coins\\n\",\n-                      coins_count - coins_left);\n-            return false;\n-        }\n-        if (!MoneyRange(coin.out.nValue)) {\n-            LogPrintf(\"[snapshot] bad snapshot data after deserializing %d coins - bad tx out value\\n\",\n-                      coins_count - coins_left);\n-            return false;\n-        }\n+            Txid txid;\n+            coins_file >> txid;\n+            size_t coins_per_txid{0};\n+            coins_per_txid = ReadCompactSize(coins_file);\n+\n+            if (coins_per_txid > coins_left) {\n+                LogPrintf(\"[snapshot] mismatch in coins count in snapshot metadata and actual snapshot data\\n\");",
      "path": "src/validation.cpp",
      "position": 40,
      "original_position": 40,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "in_reply_to_id": null,
      "user": {
        "login": "maflcko",
        "id": 6399679,
        "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/maflcko",
        "html_url": "https://github.com/maflcko",
        "followers_url": "https://api.github.com/users/maflcko/followers",
        "following_url": "https://api.github.com/users/maflcko/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/maflcko/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/maflcko/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/maflcko/subscriptions",
        "organizations_url": "https://api.github.com/users/maflcko/orgs",
        "repos_url": "https://api.github.com/users/maflcko/repos",
        "events_url": "https://api.github.com/users/maflcko/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/maflcko/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Looks like this is new code, but uncovered. It would be nice to have a test for this.",
      "created_at": "2024-05-23T17:06:36Z",
      "updated_at": "2024-05-23T17:07:16Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1612046682",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1612046682"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 5677,
      "original_line": 5677,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1613276102",
      "pull_request_review_id": 2076555063,
      "id": 1613276102,
      "node_id": "PRRC_kwDOABII585gKKPG",
      "diff_hunk": "@@ -35,11 +45,55 @@ class SnapshotMetadata\n     SnapshotMetadata() { }\n     SnapshotMetadata(\n         const uint256& base_blockhash,\n+        const int base_blockheight,\n         uint64_t coins_count) :\n             m_base_blockhash(base_blockhash),\n+            m_base_blockheight(base_blockheight),\n             m_coins_count(coins_count) { }\n \n-    SERIALIZE_METHODS(SnapshotMetadata, obj) { READWRITE(obj.m_base_blockhash, obj.m_coins_count); }\n+    template <typename Stream>\n+    inline void Serialize(Stream& s) const {\n+        s << SNAPSHOT_MAGIC_BYTES;\n+        s << m_version;\n+        s << Params().MessageStart();",
      "path": "src/node/utxo_snapshot.h",
      "position": 53,
      "original_position": 53,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "in_reply_to_id": 1612027063,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "I addressed this in #30167 using the member field. Using params-serialization wouldn't have made much of a difference given how we use this code right now, I think.",
      "created_at": "2024-05-24T10:45:16Z",
      "updated_at": "2024-05-24T10:45:17Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1613276102",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1613276102"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 58,
      "original_line": 58,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1613276463",
      "pull_request_review_id": 2076555664,
      "id": 1613276463,
      "node_id": "PRRC_kwDOABII585gKKUv",
      "diff_hunk": "@@ -5735,7 +5747,8 @@ bool ChainstateManager::PopulateAndValidateSnapshot(\n \n     bool out_of_coins{false};\n     try {\n-        coins_file >> outpoint;\n+        Txid txid;",
      "path": "src/validation.cpp",
      "position": 135,
      "original_position": 135,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "in_reply_to_id": 1612045699,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "done in #30167",
      "created_at": "2024-05-24T10:45:24Z",
      "updated_at": "2024-05-24T10:45:25Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1613276463",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1613276463"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 5750,
      "original_line": 5750,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1613276609",
      "pull_request_review_id": 2076555945,
      "id": 1613276609,
      "node_id": "PRRC_kwDOABII585gKKXB",
      "diff_hunk": "@@ -5660,69 +5660,81 @@ bool ChainstateManager::PopulateAndValidateSnapshot(\n         return false;\n     }\n \n-    COutPoint outpoint;\n-    Coin coin;\n     const uint64_t coins_count = metadata.m_coins_count;\n     uint64_t coins_left = metadata.m_coins_count;\n \n-    LogPrintf(\"[snapshot] loading coins from snapshot %s\\n\", base_blockhash.ToString());\n+    LogPrintf(\"[snapshot] loading %d coins from snapshot %s\\n\", coins_left, base_blockhash.ToString());\n     int64_t coins_processed{0};\n \n     while (coins_left > 0) {\n         try {\n-            coins_file >> outpoint;\n-            coins_file >> coin;\n-        } catch (const std::ios_base::failure&) {\n-            LogPrintf(\"[snapshot] bad snapshot format or truncated snapshot after deserializing %d coins\\n\",\n-                      coins_count - coins_left);\n-            return false;\n-        }\n-        if (coin.nHeight > base_height ||\n-            outpoint.n >= std::numeric_limits<decltype(outpoint.n)>::max() // Avoid integer wrap-around in coinstats.cpp:ApplyHash\n-        ) {\n-            LogPrintf(\"[snapshot] bad snapshot data after deserializing %d coins\\n\",\n-                      coins_count - coins_left);\n-            return false;\n-        }\n-        if (!MoneyRange(coin.out.nValue)) {\n-            LogPrintf(\"[snapshot] bad snapshot data after deserializing %d coins - bad tx out value\\n\",\n-                      coins_count - coins_left);\n-            return false;\n-        }\n+            Txid txid;\n+            coins_file >> txid;\n+            size_t coins_per_txid{0};\n+            coins_per_txid = ReadCompactSize(coins_file);\n+\n+            if (coins_per_txid > coins_left) {\n+                LogPrintf(\"[snapshot] mismatch in coins count in snapshot metadata and actual snapshot data\\n\");",
      "path": "src/validation.cpp",
      "position": 40,
      "original_position": 40,
      "commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "original_commit_id": "542e13b2937356810bda2c41be83c3b1675e2f2f",
      "in_reply_to_id": 1612046682,
      "user": {
        "login": "fjahr",
        "id": 1322187,
        "node_id": "MDQ6VXNlcjEzMjIxODc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fjahr",
        "html_url": "https://github.com/fjahr",
        "followers_url": "https://api.github.com/users/fjahr/followers",
        "following_url": "https://api.github.com/users/fjahr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/fjahr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/fjahr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
        "organizations_url": "https://api.github.com/users/fjahr/orgs",
        "repos_url": "https://api.github.com/users/fjahr/repos",
        "events_url": "https://api.github.com/users/fjahr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/fjahr/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Added a test for this in #30167",
      "created_at": "2024-05-24T10:45:33Z",
      "updated_at": "2024-05-24T10:45:33Z",
      "html_url": "https://github.com/bitcoin/bitcoin/pull/29612#discussion_r1613276609",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1613276609"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/29612"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 5677,
      "original_line": 5677,
      "side": "RIGHT"
    }
  ]
}